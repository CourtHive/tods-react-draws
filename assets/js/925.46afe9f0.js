/*! For license information please see 925.46afe9f0.js.LICENSE.txt */
(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[925],{9713:function(t){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.default=t.exports,t.exports.__esModule=!0},3349:function(t,e,n){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return i}})},6610:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return i}})},5991:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.d(e,{Z:function(){return r}})},6156:function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return i}})},1253:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(9756);function r(t,e){if(null==t)return{};var n,r,a=(0,i.Z)(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}},4699:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(2961);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(c){r=!0,a=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}}(t,e)||(0,i.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7329:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(676);var r=n(2961);function a(t){return function(t){if(Array.isArray(t))return(0,i.Z)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||(0,r.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},484:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,{Z:function(){return i}})},1658:function(t){function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},t.exports.default=t.exports,t.exports.__esModule=!0,e.apply(this,arguments)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0},5318:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.default=t.exports,t.exports.__esModule=!0},862:function(t,e,n){var i=n(8).default;function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}t.exports=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n},t.exports.default=t.exports,t.exports.__esModule=!0},6479:function(t,e,n){var i=n(7316);t.exports=function(t,e){if(null==t)return{};var n,r,a=i(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a},t.exports.default=t.exports,t.exports.__esModule=!0},7316:function(t){t.exports=function(t,e){if(null==t)return{};var n,i,r={},a=Object.keys(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||(r[n]=t[n]);return r},t.exports.default=t.exports,t.exports.__esModule=!0},8:function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0},3259:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};e.default=n},515:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={black:"#000",white:"#fff"};e.default=n},7559:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};e.default=n},167:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};e.default=n},8768:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};e.default=n},6594:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};e.default=n},124:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};e.default=n},3165:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};e.default=n},2014:function(t,e,n){"use strict";n.d(e,{Z:function(){return w}});var i=n(119),r=n(5680),a=n(9424),o=n(962),s=n(3633),c=n(6427),u=n(3939),d=n(5164),l=n(958),p=n(6801),f=n(8681),m=n(9560),h=n(2122),v=n(9699),g=n(6798),y=function(t){var e=(0,v.Z)(t);return function(t,n){return e(t,(0,h.Z)({defaultTheme:g.Z},n))}},I=(0,i.Z)((0,r.Z)(a.ZP,o.ZP,s.ZP,c.ZP,u.ZP,d.ZP,l.Z,p.ZP,f.Z,m.ZP)),w=y("div")(I,{name:"MuiBox"})},4720:function(t,e,n){"use strict";n.d(e,{Z:function(){return D}});var i=n(2122),r=n(1253),a=n(7294),o=(n(5697),n(3935)),s=n(6010),c=n(3834),u=n(5192),d=n(2543),l=n(4896),p=n(7329),f=n(9756),m=n(3349),h=n(3552),v=n(220);function g(t,e){var n=Object.create(null);return t&&a.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,a.isValidElement)(t)?e(t):t}(t)})),n}function y(t,e,n){return null!=n[e]?n[e]:t.props[e]}function I(t,e,n){var i=g(t.children),r=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var i,r=Object.create(null),a=[];for(var o in t)o in e?a.length&&(r[o]=a,a=[]):a.push(o);var s={};for(var c in e){if(r[c])for(i=0;i<r[c].length;i++){var u=r[c][i];s[r[c][i]]=n(u)}s[c]=n(c)}for(i=0;i<a.length;i++)s[a[i]]=n(a[i]);return s}(e,i);return Object.keys(r).forEach((function(o){var s=r[o];if((0,a.isValidElement)(s)){var c=o in e,u=o in i,d=e[o],l=(0,a.isValidElement)(d)&&!d.props.in;!u||c&&!l?u||!c||l?u&&c&&(0,a.isValidElement)(d)&&(r[o]=(0,a.cloneElement)(s,{onExited:n.bind(null,s),in:d.props.in,exit:y(s,"exit",t),enter:y(s,"enter",t)})):r[o]=(0,a.cloneElement)(s,{in:!1}):r[o]=(0,a.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:y(s,"exit",t),enter:y(s,"enter",t)})}})),r}var w=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},b=function(t){function e(e,n){var i,r=(i=t.call(this,e,n)||this).handleExited.bind((0,m.Z)(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}(0,h.Z)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,i,r=e.children,o=e.handleExited;return{children:e.firstRender?(n=t,i=o,g(n.children,(function(t){return(0,a.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:y(t,"appear",n),enter:y(t,"enter",n),exit:y(t,"exit",n)})}))):I(t,r,o),firstRender:!1}},n.handleExited=function(t,e){var n=g(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=(0,i.Z)({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,i=(0,f.Z)(t,["component","childFactory"]),r=this.state.contextValue,o=w(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===e?a.createElement(v.Z.Provider,{value:r},o):a.createElement(v.Z.Provider,{value:r},a.createElement(e,i,o))},e}(a.Component);b.propTypes={},b.defaultProps={component:"div",childFactory:function(t){return t}};var N=b,S="undefined"==typeof window?a.useEffect:a.useLayoutEffect;var P=function(t){var e=t.classes,n=t.pulsate,i=void 0!==n&&n,r=t.rippleX,o=t.rippleY,c=t.rippleSize,d=t.in,l=t.onExited,p=void 0===l?function(){}:l,f=t.timeout,m=a.useState(!1),h=m[0],v=m[1],g=(0,s.Z)(e.ripple,e.rippleVisible,i&&e.ripplePulsate),y={width:c,height:c,top:-c/2+o,left:-c/2+r},I=(0,s.Z)(e.child,h&&e.childLeaving,i&&e.childPulsate),w=(0,u.Z)(p);return S((function(){if(!d){v(!0);var t=setTimeout(w,f);return function(){clearTimeout(t)}}}),[w,d,f]),a.createElement("span",{className:g,style:y},a.createElement("span",{className:I}))},E=a.forwardRef((function(t,e){var n=t.center,o=void 0!==n&&n,c=t.classes,u=t.className,d=(0,r.Z)(t,["center","classes","className"]),l=a.useState([]),f=l[0],m=l[1],h=a.useRef(0),v=a.useRef(null);a.useEffect((function(){v.current&&(v.current(),v.current=null)}),[f]);var g=a.useRef(!1),y=a.useRef(null),I=a.useRef(null),w=a.useRef(null);a.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var b=a.useCallback((function(t){var e=t.pulsate,n=t.rippleX,i=t.rippleY,r=t.rippleSize,o=t.cb;m((function(t){return[].concat((0,p.Z)(t),[a.createElement(P,{key:h.current,classes:c,timeout:550,pulsate:e,rippleX:n,rippleY:i,rippleSize:r})])})),h.current+=1,v.current=o}),[c]),S=a.useCallback((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=e.pulsate,r=void 0!==i&&i,a=e.center,s=void 0===a?o||e.pulsate:a,c=e.fakeElement,u=void 0!==c&&c;if("mousedown"===t.type&&g.current)g.current=!1;else{"touchstart"===t.type&&(g.current=!0);var d,l,p,f=u?null:w.current,m=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)d=Math.round(m.width/2),l=Math.round(m.height/2);else{var h=t.touches?t.touches[0]:t,v=h.clientX,N=h.clientY;d=Math.round(v-m.left),l=Math.round(N-m.top)}if(s)(p=Math.sqrt((2*Math.pow(m.width,2)+Math.pow(m.height,2))/3))%2==0&&(p+=1);else{var S=2*Math.max(Math.abs((f?f.clientWidth:0)-d),d)+2,P=2*Math.max(Math.abs((f?f.clientHeight:0)-l),l)+2;p=Math.sqrt(Math.pow(S,2)+Math.pow(P,2))}t.touches?null===I.current&&(I.current=function(){b({pulsate:r,rippleX:d,rippleY:l,rippleSize:p,cb:n})},y.current=setTimeout((function(){I.current&&(I.current(),I.current=null)}),80)):b({pulsate:r,rippleX:d,rippleY:l,rippleSize:p,cb:n})}}),[o,b]),E=a.useCallback((function(){S({},{pulsate:!0})}),[S]),U=a.useCallback((function(t,e){if(clearTimeout(y.current),"touchend"===t.type&&I.current)return t.persist(),I.current(),I.current=null,void(y.current=setTimeout((function(){U(t,e)})));I.current=null,m((function(t){return t.length>0?t.slice(1):t})),v.current=e}),[]);return a.useImperativeHandle(e,(function(){return{pulsate:E,start:S,stop:U}}),[E,S,U]),a.createElement("span",(0,i.Z)({className:(0,s.Z)(c.root,u),ref:w},d),a.createElement(N,{component:null,exit:!0},f))})),U=(0,d.Z)((function(t){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(t.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(t.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(t.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(t.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(a.memo(E)),A=a.forwardRef((function(t,e){var n=t.action,d=t.buttonRef,p=t.centerRipple,f=void 0!==p&&p,m=t.children,h=t.classes,v=t.className,g=t.component,y=void 0===g?"button":g,I=t.disabled,w=void 0!==I&&I,b=t.disableRipple,N=void 0!==b&&b,S=t.disableTouchRipple,P=void 0!==S&&S,E=t.focusRipple,A=void 0!==E&&E,D=t.focusVisibleClassName,M=t.onBlur,T=t.onClick,C=t.onFocus,R=t.onFocusVisible,x=t.onKeyDown,O=t.onKeyUp,L=t.onMouseDown,k=t.onMouseLeave,F=t.onMouseUp,Z=t.onTouchEnd,_=t.onTouchMove,B=t.onTouchStart,j=t.onDragLeave,G=t.tabIndex,V=void 0===G?0:G,H=t.TouchRippleProps,W=t.type,z=void 0===W?"button":W,K=(0,r.Z)(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),q=a.useRef(null);var $=a.useRef(null),Y=a.useState(!1),J=Y[0],X=Y[1];w&&J&&X(!1);var Q=(0,l.Z)(),tt=Q.isFocusVisible,et=Q.onBlurVisible,nt=Q.ref;function it(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;return(0,u.Z)((function(i){return e&&e(i),!n&&$.current&&$.current[t](i),!0}))}a.useImperativeHandle(n,(function(){return{focusVisible:function(){X(!0),q.current.focus()}}}),[]),a.useEffect((function(){J&&A&&!N&&$.current.pulsate()}),[N,A,J]);var rt=it("start",L),at=it("stop",j),ot=it("stop",F),st=it("stop",(function(t){J&&t.preventDefault(),k&&k(t)})),ct=it("start",B),ut=it("stop",Z),dt=it("stop",_),lt=it("stop",(function(t){J&&(et(t),X(!1)),M&&M(t)}),!1),pt=(0,u.Z)((function(t){q.current||(q.current=t.currentTarget),tt(t)&&(X(!0),R&&R(t)),C&&C(t)})),ft=function(){var t=o.findDOMNode(q.current);return y&&"button"!==y&&!("A"===t.tagName&&t.href)},mt=a.useRef(!1),ht=(0,u.Z)((function(t){A&&!mt.current&&J&&$.current&&" "===t.key&&(mt.current=!0,t.persist(),$.current.stop(t,(function(){$.current.start(t)}))),t.target===t.currentTarget&&ft()&&" "===t.key&&t.preventDefault(),x&&x(t),t.target===t.currentTarget&&ft()&&"Enter"===t.key&&!w&&(t.preventDefault(),T&&T(t))})),vt=(0,u.Z)((function(t){A&&" "===t.key&&$.current&&J&&!t.defaultPrevented&&(mt.current=!1,t.persist(),$.current.stop(t,(function(){$.current.pulsate(t)}))),O&&O(t),T&&t.target===t.currentTarget&&ft()&&" "===t.key&&!t.defaultPrevented&&T(t)})),gt=y;"button"===gt&&K.href&&(gt="a");var yt={};"button"===gt?(yt.type=z,yt.disabled=w):("a"===gt&&K.href||(yt.role="button"),yt["aria-disabled"]=w);var It=(0,c.Z)(d,e),wt=(0,c.Z)(nt,q),bt=(0,c.Z)(It,wt),Nt=a.useState(!1),St=Nt[0],Pt=Nt[1];a.useEffect((function(){Pt(!0)}),[]);var Et=St&&!N&&!w;return a.createElement(gt,(0,i.Z)({className:(0,s.Z)(h.root,v,J&&[h.focusVisible,D],w&&h.disabled),onBlur:lt,onClick:T,onFocus:pt,onKeyDown:ht,onKeyUp:vt,onMouseDown:rt,onMouseLeave:st,onMouseUp:ot,onDragLeave:at,onTouchEnd:ut,onTouchMove:dt,onTouchStart:ct,ref:bt,tabIndex:w?-1:V},yt,K),m,Et?a.createElement(U,(0,i.Z)({ref:$,center:f},H)):null)})),D=(0,d.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(A)},9446:function(t,e,n){"use strict";var i=n(2122),r=n(1253),a=n(7294),o=(n(5697),n(6010)),s=n(4741),c=n(2543),u=a.forwardRef((function(t,e){var n=t.disableUnderline,c=t.classes,u=t.fullWidth,d=void 0!==u&&u,l=t.inputComponent,p=void 0===l?"input":l,f=t.multiline,m=void 0!==f&&f,h=t.type,v=void 0===h?"text":h,g=(0,r.Z)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(s.Z,(0,i.Z)({classes:(0,i.Z)({},c,{root:(0,o.Z)(c.root,!n&&c.underline),underline:null}),fullWidth:d,inputComponent:p,multiline:m,ref:e,type:v},g))}));u.muiName="Input",e.Z=(0,c.Z)((function(t){var e="light"===t.palette.type,n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:i,borderTopLeftRadius:t.shape.borderRadius,borderTopRightRadius:t.shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:e?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:i}},"&$focused":{backgroundColor:e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:t.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(t.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(t.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.type?null:"#fff",caretColor:"light"===t.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(u)},5736:function(t,e,n){"use strict";n.d(e,{Y:function(){return a}});var i=n(7294),r=i.createContext();function a(){return i.useContext(r)}e.Z=r},9345:function(t,e,n){"use strict";function i(t){var e=t.props,n=t.states,i=t.muiFormControl;return n.reduce((function(t,n){return t[n]=e[n],i&&void 0===e[n]&&(t[n]=i[n]),t}),{})}n.d(e,{Z:function(){return i}})},2601:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(7294),r=n(5736);function a(){return i.useContext(r.Z)}},1749:function(t,e,n){"use strict";var i=n(1253),r=n(2122),a=n(7294),o=(n(5697),n(6010)),s=n(2543),c=[0,1,2,3,4,5,6,7,8,9,10],u=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(t);return"".concat(n/e).concat(String(t).replace(String(n),"")||"px")}var l=a.forwardRef((function(t,e){var n=t.alignContent,s=void 0===n?"stretch":n,c=t.alignItems,u=void 0===c?"stretch":c,d=t.classes,l=t.className,p=t.component,f=void 0===p?"div":p,m=t.container,h=void 0!==m&&m,v=t.direction,g=void 0===v?"row":v,y=t.item,I=void 0!==y&&y,w=t.justify,b=void 0===w?"flex-start":w,N=t.lg,S=void 0!==N&&N,P=t.md,E=void 0!==P&&P,U=t.sm,A=void 0!==U&&U,D=t.spacing,M=void 0===D?0:D,T=t.wrap,C=void 0===T?"wrap":T,R=t.xl,x=void 0!==R&&R,O=t.xs,L=void 0!==O&&O,k=t.zeroMinWidth,F=void 0!==k&&k,Z=(0,i.Z)(t,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),_=(0,o.Z)(d.root,l,h&&[d.container,0!==M&&d["spacing-xs-".concat(String(M))]],I&&d.item,F&&d.zeroMinWidth,"row"!==g&&d["direction-xs-".concat(String(g))],"wrap"!==C&&d["wrap-xs-".concat(String(C))],"stretch"!==u&&d["align-items-xs-".concat(String(u))],"stretch"!==s&&d["align-content-xs-".concat(String(s))],"flex-start"!==b&&d["justify-xs-".concat(String(b))],!1!==L&&d["grid-xs-".concat(String(L))],!1!==A&&d["grid-sm-".concat(String(A))],!1!==E&&d["grid-md-".concat(String(E))],!1!==S&&d["grid-lg-".concat(String(S))],!1!==x&&d["grid-xl-".concat(String(x))]);return a.createElement(f,(0,r.Z)({className:_,ref:e},Z))})),p=(0,s.Z)((function(t){return(0,r.Z)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(t,e){var n={};return c.forEach((function(i){var r=t.spacing(i);0!==r&&(n["spacing-".concat(e,"-").concat(i)]={margin:"-".concat(d(r,2)),width:"calc(100% + ".concat(d(r),")"),"& > $item":{padding:d(r,2)}})})),n}(t,"xs"),t.breakpoints.keys.reduce((function(e,n){return function(t,e,n){var i={};u.forEach((function(t){var e="grid-".concat(n,"-").concat(t);if(!0!==t)if("auto"!==t){var r="".concat(Math.round(t/12*1e8)/1e6,"%");i[e]={flexBasis:r,flexGrow:0,maxWidth:r}}else i[e]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else i[e]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,r.Z)(t,i):t[e.breakpoints.up(n)]=i}(e,t,n),e}),{}))}),{name:"MuiGrid"})(l);e.Z=p},8799:function(t,e,n){"use strict";var i=n(2122),r=n(1253),a=n(7294),o=(n(5697),n(6010)),s=n(4741),c=n(2543),u=a.forwardRef((function(t,e){var n=t.disableUnderline,c=t.classes,u=t.fullWidth,d=void 0!==u&&u,l=t.inputComponent,p=void 0===l?"input":l,f=t.multiline,m=void 0!==f&&f,h=t.type,v=void 0===h?"text":h,g=(0,r.Z)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(s.Z,(0,i.Z)({classes:(0,i.Z)({},c,{root:(0,o.Z)(c.root,!n&&c.underline),underline:null}),fullWidth:d,inputComponent:p,multiline:m,ref:e,type:v},g))}));u.muiName="Input",e.Z=(0,c.Z)((function(t){var e="light"===t.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:t.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(t.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(e),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(t.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(e)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(u)},4741:function(t,e,n){"use strict";n.d(e,{Z:function(){return b}});var i=n(1253),r=n(2122),a=n(288),o=n(7294),s=(n(5697),n(6010)),c=n(9345),u=n(5736),d=n(2543),l=n(3871),p=n(3834),f=n(9437);function m(t,e){return parseInt(t[e],10)||0}var h="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,v={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},g=o.forwardRef((function(t,e){var n=t.onChange,a=t.rows,s=t.rowsMax,c=t.rowsMin,u=void 0===c?1:c,d=t.style,l=t.value,g=(0,i.Z)(t,["onChange","rows","rowsMax","rowsMin","style","value"]),y=a||u,I=o.useRef(null!=l).current,w=o.useRef(null),b=(0,p.Z)(e,w),N=o.useRef(null),S=o.useRef(0),P=o.useState({}),E=P[0],U=P[1],A=o.useCallback((function(){var e=w.current,n=window.getComputedStyle(e),i=N.current;i.style.width=n.width,i.value=e.value||t.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");var r=n["box-sizing"],a=m(n,"padding-bottom")+m(n,"padding-top"),o=m(n,"border-bottom-width")+m(n,"border-top-width"),c=i.scrollHeight-a;i.value="x";var u=i.scrollHeight-a,d=c;y&&(d=Math.max(Number(y)*u,d)),s&&(d=Math.min(Number(s)*u,d));var l=(d=Math.max(d,u))+("border-box"===r?a+o:0),p=Math.abs(d-c)<=1;U((function(t){return S.current<20&&(l>0&&Math.abs((t.outerHeightStyle||0)-l)>1||t.overflow!==p)?(S.current+=1,{overflow:p,outerHeightStyle:l}):t}))}),[s,y,t.placeholder]);o.useEffect((function(){var t=(0,f.Z)((function(){S.current=0,A()}));return window.addEventListener("resize",t),function(){t.clear(),window.removeEventListener("resize",t)}}),[A]),h((function(){A()})),o.useEffect((function(){S.current=0}),[l]);return o.createElement(o.Fragment,null,o.createElement("textarea",(0,r.Z)({value:l,onChange:function(t){S.current=0,I||A(),n&&n(t)},ref:b,rows:y,style:(0,r.Z)({height:E.outerHeightStyle,overflow:E.overflow?"hidden":null},d)},g)),o.createElement("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:N,tabIndex:-1,style:(0,r.Z)({},v,d)}))})),y=n(6519),I="undefined"==typeof window?o.useEffect:o.useLayoutEffect,w=o.forwardRef((function(t,e){var n=t["aria-describedby"],d=t.autoComplete,f=t.autoFocus,m=t.classes,h=t.className,v=(t.color,t.defaultValue),w=t.disabled,b=t.endAdornment,N=(t.error,t.fullWidth),S=void 0!==N&&N,P=t.id,E=t.inputComponent,U=void 0===E?"input":E,A=t.inputProps,D=void 0===A?{}:A,M=t.inputRef,T=(t.margin,t.multiline),C=void 0!==T&&T,R=t.name,x=t.onBlur,O=t.onChange,L=t.onClick,k=t.onFocus,F=t.onKeyDown,Z=t.onKeyUp,_=t.placeholder,B=t.readOnly,j=t.renderSuffix,G=t.rows,V=t.rowsMax,H=t.rowsMin,W=t.startAdornment,z=t.type,K=void 0===z?"text":z,q=t.value,$=(0,i.Z)(t,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),Y=null!=D.value?D.value:q,J=o.useRef(null!=Y).current,X=o.useRef(),Q=o.useCallback((function(t){0}),[]),tt=(0,p.Z)(D.ref,Q),et=(0,p.Z)(M,tt),nt=(0,p.Z)(X,et),it=o.useState(!1),rt=it[0],at=it[1],ot=(0,u.Y)();var st=(0,c.Z)({props:t,muiFormControl:ot,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});st.focused=ot?ot.focused:rt,o.useEffect((function(){!ot&&w&&rt&&(at(!1),x&&x())}),[ot,w,rt,x]);var ct=ot&&ot.onFilled,ut=ot&&ot.onEmpty,dt=o.useCallback((function(t){(0,y.vd)(t)?ct&&ct():ut&&ut()}),[ct,ut]);I((function(){J&&dt({value:Y})}),[Y,dt,J]);o.useEffect((function(){dt(X.current)}),[]);var lt=U,pt=(0,r.Z)({},D,{ref:nt});"string"!=typeof lt?pt=(0,r.Z)({inputRef:nt,type:K},pt,{ref:null}):C?!G||V||H?(pt=(0,r.Z)({rows:G,rowsMax:V},pt),lt=g):lt="textarea":pt=(0,r.Z)({type:K},pt);return o.useEffect((function(){ot&&ot.setAdornedStart(Boolean(W))}),[ot,W]),o.createElement("div",(0,r.Z)({className:(0,s.Z)(m.root,m["color".concat((0,l.Z)(st.color||"primary"))],h,st.disabled&&m.disabled,st.error&&m.error,S&&m.fullWidth,st.focused&&m.focused,ot&&m.formControl,C&&m.multiline,W&&m.adornedStart,b&&m.adornedEnd,"dense"===st.margin&&m.marginDense),onClick:function(t){X.current&&t.currentTarget===t.target&&X.current.focus(),L&&L(t)},ref:e},$),W,o.createElement(u.Z.Provider,{value:null},o.createElement(lt,(0,r.Z)({"aria-invalid":st.error,"aria-describedby":n,autoComplete:d,autoFocus:f,defaultValue:v,disabled:st.disabled,id:P,onAnimationStart:function(t){dt("mui-auto-fill-cancel"===t.animationName?X.current:{value:"x"})},name:R,placeholder:_,readOnly:B,required:st.required,rows:G,value:Y,onKeyDown:F,onKeyUp:Z},pt,{className:(0,s.Z)(m.input,D.className,st.disabled&&m.disabled,C&&m.inputMultiline,st.hiddenLabel&&m.inputHiddenLabel,W&&m.inputAdornedStart,b&&m.inputAdornedEnd,"search"===K&&m.inputTypeSearch,"dense"===st.margin&&m.inputMarginDense),onBlur:function(t){x&&x(t),D.onBlur&&D.onBlur(t),ot&&ot.onBlur?ot.onBlur(t):at(!1)},onChange:function(t){if(!J){var e=t.target||X.current;if(null==e)throw new Error((0,a.Z)(1));dt({value:e.value})}for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];D.onChange&&D.onChange.apply(D,[t].concat(i)),O&&O.apply(void 0,[t].concat(i))},onFocus:function(t){st.disabled?t.stopPropagation():(k&&k(t),D.onFocus&&D.onFocus(t),ot&&ot.onFocus?ot.onFocus(t):at(!0))}}))),b,j?j((0,r.Z)({},st,{startAdornment:W})):null)})),b=(0,d.Z)((function(t){var e="light"===t.palette.type,n={color:"currentColor",opacity:e?.42:.5,transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},i={opacity:"0 !important"},a={opacity:e?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,r.Z)({},t.typography.body1,{color:t.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:t.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(w)},6519:function(t,e,n){"use strict";function i(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function r(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(i(t.value)&&""!==t.value||e&&i(t.defaultValue)&&""!==t.defaultValue)}function a(t){return t.startAdornment}n.d(e,{vd:function(){return r},B7:function(){return a}})},6987:function(t,e,n){"use strict";var i=n(7294).createContext({});e.Z=i},6775:function(t,e,n){"use strict";n.d(e,{Z:function(){return y}});var i=n(1253),r=n(6156),a=n(2122),o=n(7294),s=(n(5697),n(6010)),c=n(2543),u=n(4720),d=n(3711),l=n(3834),p=n(6987),f=n(3935),m="undefined"==typeof window?o.useEffect:o.useLayoutEffect,h=o.forwardRef((function(t,e){var n=t.alignItems,r=void 0===n?"center":n,c=t.autoFocus,h=void 0!==c&&c,v=t.button,g=void 0!==v&&v,y=t.children,I=t.classes,w=t.className,b=t.component,N=t.ContainerComponent,S=void 0===N?"li":N,P=t.ContainerProps,E=(P=void 0===P?{}:P).className,U=(0,i.Z)(P,["className"]),A=t.dense,D=void 0!==A&&A,M=t.disabled,T=void 0!==M&&M,C=t.disableGutters,R=void 0!==C&&C,x=t.divider,O=void 0!==x&&x,L=t.focusVisibleClassName,k=t.selected,F=void 0!==k&&k,Z=(0,i.Z)(t,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),_=o.useContext(p.Z),B={dense:D||_.dense||!1,alignItems:r},j=o.useRef(null);m((function(){h&&j.current&&j.current.focus()}),[h]);var G=o.Children.toArray(y),V=G.length&&(0,d.Z)(G[G.length-1],["ListItemSecondaryAction"]),H=o.useCallback((function(t){j.current=f.findDOMNode(t)}),[]),W=(0,l.Z)(H,e),z=(0,a.Z)({className:(0,s.Z)(I.root,w,B.dense&&I.dense,!R&&I.gutters,O&&I.divider,T&&I.disabled,g&&I.button,"center"!==r&&I.alignItemsFlexStart,V&&I.secondaryAction,F&&I.selected),disabled:T},Z),K=b||"li";return g&&(z.component=b||"div",z.focusVisibleClassName=(0,s.Z)(I.focusVisible,L),K=u.Z),V?(K=z.component||b?K:"div","li"===S&&("li"===K?K="div":"li"===z.component&&(z.component="div")),o.createElement(p.Z.Provider,{value:B},o.createElement(S,(0,a.Z)({className:(0,s.Z)(I.container,E),ref:W},U),o.createElement(K,z,G),G.pop()))):o.createElement(p.Z.Provider,{value:B},o.createElement(K,(0,a.Z)({ref:W},z),G))})),v=(0,c.Z)((function(t){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:t.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:t.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(t.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(h),g=o.forwardRef((function(t,e){var n,r=t.classes,c=t.className,u=t.component,d=void 0===u?"li":u,l=t.disableGutters,p=void 0!==l&&l,f=t.ListItemClasses,m=t.role,h=void 0===m?"menuitem":m,g=t.selected,y=t.tabIndex,I=(0,i.Z)(t,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return t.disabled||(n=void 0!==y?y:-1),o.createElement(v,(0,a.Z)({button:!0,role:h,tabIndex:n,component:d,selected:g,disableGutters:p,classes:(0,a.Z)({dense:r.dense},f),className:(0,s.Z)(r.root,c,g&&r.selected,!p&&r.gutters),ref:e},I))})),y=(0,c.Z)((function(t){return{root:(0,a.Z)({},t.typography.body1,(0,r.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},t.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,a.Z)({},t.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(g)},6718:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var i=n(2122),r=n(1253),a=n(7294),o=(n(5697),n(6010)),s=n(4741),c=n(6156),u=n(2543),d=n(1041),l=n(3871),p=a.forwardRef((function(t,e){t.children;var n=t.classes,s=t.className,u=t.label,p=t.labelWidth,f=t.notched,m=t.style,h=(0,r.Z)(t,["children","classes","className","label","labelWidth","notched","style"]),v="rtl"===(0,d.Z)().direction?"right":"left";if(void 0!==u)return a.createElement("fieldset",(0,i.Z)({"aria-hidden":!0,className:(0,o.Z)(n.root,s),ref:e,style:m},h),a.createElement("legend",{className:(0,o.Z)(n.legendLabelled,f&&n.legendNotched)},u?a.createElement("span",null,u):a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var g=p>0?.75*p+8:.01;return a.createElement("fieldset",(0,i.Z)({"aria-hidden":!0,style:(0,i.Z)((0,c.Z)({},"padding".concat((0,l.Z)(v)),8),m),className:(0,o.Z)(n.root,s),ref:e},h),a.createElement("legend",{className:n.legend,style:{width:f?g:.01}},a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),f=(0,u.Z)((function(t){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(p),m=a.forwardRef((function(t,e){var n=t.classes,c=t.fullWidth,u=void 0!==c&&c,d=t.inputComponent,l=void 0===d?"input":d,p=t.label,m=t.labelWidth,h=void 0===m?0:m,v=t.multiline,g=void 0!==v&&v,y=t.notched,I=t.type,w=void 0===I?"text":I,b=(0,r.Z)(t,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return a.createElement(s.Z,(0,i.Z)({renderSuffix:function(t){return a.createElement(f,{className:n.notchedOutline,label:p,labelWidth:h,notched:void 0!==y?y:Boolean(t.startAdornment||t.filled||t.focused)})},classes:(0,i.Z)({},n,{root:(0,o.Z)(n.root,n.underline),notchedOutline:null}),fullWidth:u,inputComponent:l,multiline:g,ref:e,type:w},b))}));m.muiName="Input";var h=(0,u.Z)((function(t){var e="light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:t.shape.borderRadius,"&:hover $notchedOutline":{borderColor:t.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:e}},"&$focused $notchedOutline":{borderColor:t.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:t.palette.error.main},"&$disabled $notchedOutline":{borderColor:t.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:t.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:e},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.type?null:"#fff",caretColor:"light"===t.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(m)},9895:function(t,e,n){"use strict";var i=n(1253),r=n(2122),a=n(7294),o=(n(5697),n(6010)),s=n(2543),c=a.forwardRef((function(t,e){var n=t.classes,s=t.className,c=t.component,u=void 0===c?"div":c,d=t.square,l=void 0!==d&&d,p=t.elevation,f=void 0===p?1:p,m=t.variant,h=void 0===m?"elevation":m,v=(0,i.Z)(t,["classes","className","component","square","elevation","variant"]);return a.createElement(u,(0,r.Z)({className:(0,o.Z)(n.root,s,"outlined"===h?n.outlined:n["elevation".concat(f)],!l&&n.rounded),ref:e},v))}));e.Z=(0,s.Z)((function(t){var e={};return t.shadows.forEach((function(t,n){e["elevation".concat(n)]={boxShadow:t}})),(0,r.Z)({root:{backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},rounded:{borderRadius:t.shape.borderRadius},outlined:{border:"1px solid ".concat(t.palette.divider)}},e)}),{name:"MuiPaper"})(c)},7042:function(t,e,n){"use strict";n.d(e,{Z:function(){return Vt}});var i=n(2122),r=n(1253),a=n(7294),o=(n(5697),n(5835)),s=n(4699),c=n(484),u=n(288),d=(n(9864),n(6010)),l=n(626),p=n(3871),f=n(2543),m=n(3935),h=n(9437),v=n(713),g=n(2568),y=n(159),I=n(3869),w=n(4236),b=n(3834);var N="undefined"!=typeof window?a.useLayoutEffect:a.useEffect;var S=a.forwardRef((function(t,e){var n=t.children,i=t.container,r=t.disablePortal,o=void 0!==r&&r,s=t.onRendered,c=a.useState(null),u=c[0],d=c[1],l=(0,b.Z)(a.isValidElement(n)?n.ref:null,e);return N((function(){o||d(function(t){return t="function"==typeof t?t():t,m.findDOMNode(t)}(i)||document.body)}),[i,o]),N((function(){if(u&&!o)return(0,w.Z)(e,u),function(){(0,w.Z)(e,null)}}),[e,u,o]),N((function(){s&&(u||o)&&s()}),[s,u,o]),o?a.isValidElement(n)?a.cloneElement(n,{ref:l}):n:u?m.createPortal(n,u):u})),P=n(5192),E=n(2781),U=n(6610),A=n(5991),D=n(7329);function M(){var t=document.createElement("div");t.style.width="99px",t.style.height="99px",t.style.position="absolute",t.style.top="-9999px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function T(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function C(t){return parseInt(window.getComputedStyle(t)["padding-right"],10)||0}function R(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4?arguments[4]:void 0,a=[e,n].concat((0,D.Z)(i)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(t.children,(function(t){1===t.nodeType&&-1===a.indexOf(t)&&-1===o.indexOf(t.tagName)&&T(t,r)}))}function x(t,e){var n=-1;return t.some((function(t,i){return!!e(t)&&(n=i,!0)})),n}function O(t,e){var n,i=[],r=[],a=t.container;if(!e.disableScrollLock){if(function(t){var e=(0,l.Z)(t);return e.body===t?(0,v.Z)(e).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}(a)){var o=M();i.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(C(a)+o,"px"),n=(0,l.Z)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(t){r.push(t.style.paddingRight),t.style.paddingRight="".concat(C(t)+o,"px")}))}var s=a.parentElement,c="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:a;i.push({value:c.style.overflow,key:"overflow",el:c}),c.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(t,e){r[e]?t.style.paddingRight=r[e]:t.style.removeProperty("padding-right")})),i.forEach((function(t){var e=t.value,n=t.el,i=t.key;e?n.style.setProperty(i,e):n.style.removeProperty(i)}))}}var L=function(){function t(){(0,U.Z)(this,t),this.modals=[],this.containers=[]}return(0,A.Z)(t,[{key:"add",value:function(t,e){var n=this.modals.indexOf(t);if(-1!==n)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&T(t.modalRef,!1);var i=function(t){var e=[];return[].forEach.call(t.children,(function(t){t.getAttribute&&"true"===t.getAttribute("aria-hidden")&&e.push(t)})),e}(e);R(e,t.mountNode,t.modalRef,i,!0);var r=x(this.containers,(function(t){return t.container===e}));return-1!==r?(this.containers[r].modals.push(t),n):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblingNodes:i}),n)}},{key:"mount",value:function(t,e){var n=x(this.containers,(function(e){return-1!==e.modals.indexOf(t)})),i=this.containers[n];i.restore||(i.restore=O(i,e))}},{key:"remove",value:function(t){var e=this.modals.indexOf(t);if(-1===e)return e;var n=x(this.containers,(function(e){return-1!==e.modals.indexOf(t)})),i=this.containers[n];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(e,1),0===i.modals.length)i.restore&&i.restore(),t.modalRef&&T(t.modalRef,!0),R(i.container,t.mountNode,t.modalRef,i.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var r=i.modals[i.modals.length-1];r.modalRef&&T(r.modalRef,!1)}return e}},{key:"isTopModal",value:function(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}]),t}();var k=function(t){var e=t.children,n=t.disableAutoFocus,i=void 0!==n&&n,r=t.disableEnforceFocus,o=void 0!==r&&r,s=t.disableRestoreFocus,c=void 0!==s&&s,u=t.getDoc,d=t.isEnabled,p=t.open,f=a.useRef(),h=a.useRef(null),v=a.useRef(null),g=a.useRef(),y=a.useRef(null),I=a.useCallback((function(t){y.current=m.findDOMNode(t)}),[]),w=(0,b.Z)(e.ref,I),N=a.useRef();return a.useEffect((function(){N.current=p}),[p]),!N.current&&p&&"undefined"!=typeof window&&(g.current=u().activeElement),a.useEffect((function(){if(p){var t=(0,l.Z)(y.current);i||!y.current||y.current.contains(t.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex",-1),y.current.focus());var e=function(){null!==y.current&&(t.hasFocus()&&!o&&d()&&!f.current?y.current&&!y.current.contains(t.activeElement)&&y.current.focus():f.current=!1)},n=function(e){!o&&d()&&9===e.keyCode&&t.activeElement===y.current&&(f.current=!0,e.shiftKey?v.current.focus():h.current.focus())};t.addEventListener("focus",e,!0),t.addEventListener("keydown",n,!0);var r=setInterval((function(){e()}),50);return function(){clearInterval(r),t.removeEventListener("focus",e,!0),t.removeEventListener("keydown",n,!0),c||(g.current&&g.current.focus&&g.current.focus(),g.current=null)}}}),[i,o,c,d,p]),a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:0,ref:h,"data-test":"sentinelStart"}),a.cloneElement(e,{ref:w}),a.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))},F={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Z=a.forwardRef((function(t,e){var n=t.invisible,o=void 0!==n&&n,s=t.open,c=(0,r.Z)(t,["invisible","open"]);return s?a.createElement("div",(0,i.Z)({"aria-hidden":!0,ref:e},c,{style:(0,i.Z)({},F.root,o?F.invisible:{},c.style)})):null}));var _=new L,B=a.forwardRef((function(t,e){var n=(0,y.Z)(),o=(0,I.Z)({name:"MuiModal",props:(0,i.Z)({},t),theme:n}),s=o.BackdropComponent,c=void 0===s?Z:s,u=o.BackdropProps,d=o.children,p=o.closeAfterTransition,f=void 0!==p&&p,h=o.container,v=o.disableAutoFocus,w=void 0!==v&&v,N=o.disableBackdropClick,U=void 0!==N&&N,A=o.disableEnforceFocus,D=void 0!==A&&A,M=o.disableEscapeKeyDown,C=void 0!==M&&M,R=o.disablePortal,x=void 0!==R&&R,O=o.disableRestoreFocus,L=void 0!==O&&O,F=o.disableScrollLock,B=void 0!==F&&F,j=o.hideBackdrop,G=void 0!==j&&j,V=o.keepMounted,H=void 0!==V&&V,W=o.manager,z=void 0===W?_:W,K=o.onBackdropClick,q=o.onClose,$=o.onEscapeKeyDown,Y=o.onRendered,J=o.open,X=(0,r.Z)(o,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Q=a.useState(!0),tt=Q[0],et=Q[1],nt=a.useRef({}),it=a.useRef(null),rt=a.useRef(null),at=(0,b.Z)(rt,e),ot=function(t){return!!t.children&&t.children.props.hasOwnProperty("in")}(o),st=function(){return(0,l.Z)(it.current)},ct=function(){return nt.current.modalRef=rt.current,nt.current.mountNode=it.current,nt.current},ut=function(){z.mount(ct(),{disableScrollLock:B}),rt.current.scrollTop=0},dt=(0,P.Z)((function(){var t=function(t){return t="function"==typeof t?t():t,m.findDOMNode(t)}(h)||st().body;z.add(ct(),t),rt.current&&ut()})),lt=a.useCallback((function(){return z.isTopModal(ct())}),[z]),pt=(0,P.Z)((function(t){it.current=t,t&&(Y&&Y(),J&&lt()?ut():T(rt.current,!0))})),ft=a.useCallback((function(){z.remove(ct())}),[z]);if(a.useEffect((function(){return function(){ft()}}),[ft]),a.useEffect((function(){J?dt():ot&&f||ft()}),[J,ft,ot,f,dt]),!H&&!J&&(!ot||tt))return null;var mt=function(t){return{root:{position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:E.Z}),ht={};return void 0===d.props.tabIndex&&(ht.tabIndex=d.props.tabIndex||"-1"),ot&&(ht.onEnter=(0,g.Z)((function(){et(!1)}),d.props.onEnter),ht.onExited=(0,g.Z)((function(){et(!0),f&&ft()}),d.props.onExited)),a.createElement(S,{ref:pt,container:h,disablePortal:x},a.createElement("div",(0,i.Z)({ref:at,onKeyDown:function(t){"Escape"===t.key&&lt()&&($&&$(t),C||(t.stopPropagation(),q&&q(t,"escapeKeyDown")))},role:"presentation"},X,{style:(0,i.Z)({},mt.root,!J&&tt?mt.hidden:{},X.style)}),G?null:a.createElement(c,(0,i.Z)({open:J,onClick:function(t){t.target===t.currentTarget&&(K&&K(t),!U&&q&&q(t,"backdropClick"))}},u)),a.createElement(k,{disableEnforceFocus:D,disableAutoFocus:w,disableRestoreFocus:L,getDoc:st,isEnabled:lt,open:J},a.cloneElement(d,ht))))})),j=n(9756),G=n(3552),V=!1,H=n(220),W="unmounted",z="exited",K="entering",q="entered",$="exiting",Y=function(t){function e(e,n){var i;i=t.call(this,e,n)||this;var r,a=n&&!n.isMounting?e.enter:e.appear;return i.appearStatus=null,e.in?a?(r=z,i.appearStatus=K):r=q:r=e.unmountOnExit||e.mountOnEnter?W:z,i.state={status:r},i.nextCallback=null,i}(0,G.Z)(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===W?{status:z}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==K&&n!==q&&(e=K):n!==K&&n!==q||(e=$)}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,i=this.props.timeout;return t=e=n=i,null!=i&&"number"!=typeof i&&(t=i.exit,e=i.enter,n=void 0!==i.appear?i.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===K?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===z&&this.setState({status:W})},n.performEnter=function(t){var e=this,n=this.props.enter,i=this.context?this.context.isMounting:t,r=this.props.nodeRef?[i]:[m.findDOMNode(this),i],a=r[0],o=r[1],s=this.getTimeouts(),c=i?s.appear:s.enter;!t&&!n||V?this.safeSetState({status:q},(function(){e.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:K},(function(){e.props.onEntering(a,o),e.onTransitionEnd(c,(function(){e.safeSetState({status:q},(function(){e.props.onEntered(a,o)}))}))})))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:m.findDOMNode(this);e&&!V?(this.props.onExit(i),this.safeSetState({status:$},(function(){t.props.onExiting(i),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:z},(function(){t.props.onExited(i)}))}))}))):this.safeSetState({status:z},(function(){t.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,e.nextCallback=null,t(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:m.findDOMNode(this),i=null==t&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=r[0],o=r[1];this.props.addEndListener(a,o)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===W)return null;var e=this.props,n=e.children,i=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,(0,j.Z)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(H.Z.Provider,{value:null},"function"==typeof n?n(t,i):a.cloneElement(a.Children.only(n),i))},e}(a.Component);function J(){}Y.contextType=H.Z,Y.propTypes={},Y.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:J,onEntering:J,onEntered:J,onExit:J,onExiting:J,onExited:J},Y.UNMOUNTED=W,Y.EXITED=z,Y.ENTERING=K,Y.ENTERED=q,Y.EXITING=$;var X=Y,Q=n(1041);function tt(t,e){var n=t.timeout,i=t.style,r=void 0===i?{}:i;return{duration:r.transitionDuration||"number"==typeof n?n:n[e.mode]||0,delay:r.transitionDelay}}function et(t){return"scale(".concat(t,", ").concat(Math.pow(t,2),")")}var nt={entering:{opacity:1,transform:et(1)},entered:{opacity:1,transform:"none"}},it=a.forwardRef((function(t,e){var n=t.children,o=t.disableStrictModeCompat,c=void 0!==o&&o,u=t.in,d=t.onEnter,l=t.onEntered,p=t.onEntering,f=t.onExit,m=t.onExited,h=t.onExiting,v=t.style,g=t.timeout,y=void 0===g?"auto":g,I=t.TransitionComponent,w=void 0===I?X:I,N=(0,r.Z)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),S=a.useRef(),P=a.useRef(),E=(0,Q.Z)(),U=E.unstable_strictMode&&!c,A=a.useRef(null),D=(0,b.Z)(n.ref,e),M=(0,b.Z)(U?A:void 0,D),T=function(t){return function(e,n){if(t){var i=U?[A.current,e]:[e,n],r=(0,s.Z)(i,2),a=r[0],o=r[1];void 0===o?t(a):t(a,o)}}},C=T(p),R=T((function(t,e){!function(t){t.scrollTop}(t);var n,i=tt({style:v,timeout:y},{mode:"enter"}),r=i.duration,a=i.delay;"auto"===y?(n=E.transitions.getAutoHeightDuration(t.clientHeight),P.current=n):n=r,t.style.transition=[E.transitions.create("opacity",{duration:n,delay:a}),E.transitions.create("transform",{duration:.666*n,delay:a})].join(","),d&&d(t,e)})),x=T(l),O=T(h),L=T((function(t){var e,n=tt({style:v,timeout:y},{mode:"exit"}),i=n.duration,r=n.delay;"auto"===y?(e=E.transitions.getAutoHeightDuration(t.clientHeight),P.current=e):e=i,t.style.transition=[E.transitions.create("opacity",{duration:e,delay:r}),E.transitions.create("transform",{duration:.666*e,delay:r||.333*e})].join(","),t.style.opacity="0",t.style.transform=et(.75),f&&f(t)})),k=T(m);return a.useEffect((function(){return function(){clearTimeout(S.current)}}),[]),a.createElement(w,(0,i.Z)({appear:!0,in:u,nodeRef:U?A:void 0,onEnter:R,onEntered:x,onEntering:C,onExit:L,onExited:k,onExiting:O,addEndListener:function(t,e){var n=U?t:e;"auto"===y&&(S.current=setTimeout(n,P.current||0))},timeout:"auto"===y?null:y},N),(function(t,e){return a.cloneElement(n,(0,i.Z)({style:(0,i.Z)({opacity:0,transform:et(.75),visibility:"exited"!==t||u?void 0:"hidden"},nt[t],v,n.props.style),ref:M},e))}))}));it.muiSupportAuto=!0;var rt=it,at=n(9895);function ot(t,e){var n=0;return"number"==typeof e?n=e:"center"===e?n=t.height/2:"bottom"===e&&(n=t.height),n}function st(t,e){var n=0;return"number"==typeof e?n=e:"center"===e?n=t.width/2:"right"===e&&(n=t.width),n}function ct(t){return[t.horizontal,t.vertical].map((function(t){return"number"==typeof t?"".concat(t,"px"):t})).join(" ")}function ut(t){return"function"==typeof t?t():t}var dt=a.forwardRef((function(t,e){var n=t.action,o=t.anchorEl,s=t.anchorOrigin,c=void 0===s?{vertical:"top",horizontal:"left"}:s,u=t.anchorPosition,p=t.anchorReference,f=void 0===p?"anchorEl":p,y=t.children,I=t.classes,w=t.className,b=t.container,N=t.elevation,S=void 0===N?8:N,P=t.getContentAnchorEl,E=t.marginThreshold,U=void 0===E?16:E,A=t.onEnter,D=t.onEntered,M=t.onEntering,T=t.onExit,C=t.onExited,R=t.onExiting,x=t.open,O=t.PaperProps,L=void 0===O?{}:O,k=t.transformOrigin,F=void 0===k?{vertical:"top",horizontal:"left"}:k,Z=t.TransitionComponent,_=void 0===Z?rt:Z,j=t.transitionDuration,G=void 0===j?"auto":j,V=t.TransitionProps,H=void 0===V?{}:V,W=(0,r.Z)(t,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),z=a.useRef(),K=a.useCallback((function(t){if("anchorPosition"===f)return u;var e=ut(o),n=(e&&1===e.nodeType?e:(0,l.Z)(z.current).body).getBoundingClientRect(),i=0===t?c.vertical:"center";return{top:n.top+ot(n,i),left:n.left+st(n,c.horizontal)}}),[o,c.horizontal,c.vertical,u,f]),q=a.useCallback((function(t){var e=0;if(P&&"anchorEl"===f){var n=P(t);if(n&&t.contains(n)){var i=function(t,e){for(var n=e,i=0;n&&n!==t;)i+=(n=n.parentElement).scrollTop;return i}(t,n);e=n.offsetTop+n.clientHeight/2-i||0}0}return e}),[c.vertical,f,P]),$=a.useCallback((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:ot(t,F.vertical)+e,horizontal:st(t,F.horizontal)}}),[F.horizontal,F.vertical]),Y=a.useCallback((function(t){var e=q(t),n={width:t.offsetWidth,height:t.offsetHeight},i=$(n,e);if("none"===f)return{top:null,left:null,transformOrigin:ct(i)};var r=K(e),a=r.top-i.vertical,s=r.left-i.horizontal,c=a+n.height,u=s+n.width,d=(0,v.Z)(ut(o)),l=d.innerHeight-U,p=d.innerWidth-U;if(a<U){var m=a-U;a-=m,i.vertical+=m}else if(c>l){var h=c-l;a-=h,i.vertical+=h}if(s<U){var g=s-U;s-=g,i.horizontal+=g}else if(u>p){var y=u-p;s-=y,i.horizontal+=y}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:ct(i)}}),[o,f,K,q,$,U]),J=a.useCallback((function(){var t=z.current;if(t){var e=Y(t);null!==e.top&&(t.style.top=e.top),null!==e.left&&(t.style.left=e.left),t.style.transformOrigin=e.transformOrigin}}),[Y]),X=a.useCallback((function(t){z.current=m.findDOMNode(t)}),[]);a.useEffect((function(){x&&J()})),a.useImperativeHandle(n,(function(){return x?{updatePosition:function(){J()}}:null}),[x,J]),a.useEffect((function(){if(x){var t=(0,h.Z)((function(){J()}));return window.addEventListener("resize",t),function(){t.clear(),window.removeEventListener("resize",t)}}}),[x,J]);var Q=G;"auto"!==G||_.muiSupportAuto||(Q=void 0);var tt=b||(o?(0,l.Z)(ut(o)).body:void 0);return a.createElement(B,(0,i.Z)({container:tt,open:x,ref:e,BackdropProps:{invisible:!0},className:(0,d.Z)(I.root,w)},W),a.createElement(_,(0,i.Z)({appear:!0,in:x,onEnter:A,onEntered:D,onExit:T,onExited:C,onExiting:R,timeout:Q},H,{onEntering:(0,g.Z)((function(t,e){M&&M(t,e),J()}),H.onEntering)}),a.createElement(at.Z,(0,i.Z)({elevation:S,ref:X},L,{className:(0,d.Z)(I.paper,L.className)}),y)))})),lt=(0,f.Z)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(dt),pt=n(6987),ft=a.forwardRef((function(t,e){var n=t.children,o=t.classes,s=t.className,c=t.component,u=void 0===c?"ul":c,l=t.dense,p=void 0!==l&&l,f=t.disablePadding,m=void 0!==f&&f,h=t.subheader,v=(0,r.Z)(t,["children","classes","className","component","dense","disablePadding","subheader"]),g=a.useMemo((function(){return{dense:p}}),[p]);return a.createElement(pt.Z.Provider,{value:g},a.createElement(u,(0,i.Z)({className:(0,d.Z)(o.root,s,p&&o.dense,!m&&o.padding,h&&o.subheader),ref:e},v),h,n))})),mt=(0,f.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(ft);function ht(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function vt(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function gt(t,e){if(void 0===e)return!0;var n=t.innerText;return void 0===n&&(n=t.textContent),0!==(n=n.trim().toLowerCase()).length&&(e.repeating?n[0]===e.keys[0]:0===n.indexOf(e.keys.join("")))}function yt(t,e,n,i,r,a){for(var o=!1,s=r(t,e,!!e&&n);s;){if(s===t.firstChild){if(o)return;o=!0}var c=!i&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&gt(s,a)&&!c)return void s.focus();s=r(t,s,n)}}var It="undefined"==typeof window?a.useEffect:a.useLayoutEffect,wt=a.forwardRef((function(t,e){var n=t.actions,o=t.autoFocus,s=void 0!==o&&o,c=t.autoFocusItem,u=void 0!==c&&c,d=t.children,p=t.className,f=t.disabledItemsFocusable,h=void 0!==f&&f,v=t.disableListWrap,g=void 0!==v&&v,y=t.onKeyDown,I=t.variant,w=void 0===I?"selectedMenu":I,N=(0,r.Z)(t,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),S=a.useRef(null),P=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});It((function(){s&&S.current.focus()}),[s]),a.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(t,e){var n=!S.current.style.width;if(t.clientHeight<S.current.clientHeight&&n){var i="".concat(M(),"px");S.current.style["rtl"===e.direction?"paddingLeft":"paddingRight"]=i,S.current.style.width="calc(100% + ".concat(i,")")}return S.current}}}),[]);var E=a.useCallback((function(t){S.current=m.findDOMNode(t)}),[]),U=(0,b.Z)(E,e),A=-1;a.Children.forEach(d,(function(t,e){a.isValidElement(t)&&(t.props.disabled||("selectedMenu"===w&&t.props.selected||-1===A)&&(A=e))}));var D=a.Children.map(d,(function(t,e){if(e===A){var n={};return u&&(n.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===w&&(n.tabIndex=0),a.cloneElement(t,n)}return t}));return a.createElement(mt,(0,i.Z)({role:"menu",ref:U,className:p,onKeyDown:function(t){var e=S.current,n=t.key,i=(0,l.Z)(e).activeElement;if("ArrowDown"===n)t.preventDefault(),yt(e,i,g,h,ht);else if("ArrowUp"===n)t.preventDefault(),yt(e,i,g,h,vt);else if("Home"===n)t.preventDefault(),yt(e,null,g,h,ht);else if("End"===n)t.preventDefault(),yt(e,null,g,h,vt);else if(1===n.length){var r=P.current,a=n.toLowerCase(),o=performance.now();r.keys.length>0&&(o-r.lastTime>500?(r.keys=[],r.repeating=!0,r.previousKeyMatched=!0):r.repeating&&a!==r.keys[0]&&(r.repeating=!1)),r.lastTime=o,r.keys.push(a);var s=i&&!r.repeating&&gt(i,r);r.previousKeyMatched&&(s||yt(e,i,!1,h,ht,r))?t.preventDefault():r.previousKeyMatched=!1}y&&y(t)},tabIndex:s?0:-1},N),D)})),bt={vertical:"top",horizontal:"right"},Nt={vertical:"top",horizontal:"left"},St=a.forwardRef((function(t,e){var n=t.autoFocus,o=void 0===n||n,s=t.children,c=t.classes,u=t.disableAutoFocusItem,l=void 0!==u&&u,p=t.MenuListProps,f=void 0===p?{}:p,h=t.onClose,v=t.onEntering,g=t.open,y=t.PaperProps,I=void 0===y?{}:y,b=t.PopoverClasses,N=t.transitionDuration,S=void 0===N?"auto":N,P=t.variant,E=void 0===P?"selectedMenu":P,U=(0,r.Z)(t,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),A=(0,Q.Z)(),D=o&&!l&&g,M=a.useRef(null),T=a.useRef(null),C=-1;a.Children.map(s,(function(t,e){a.isValidElement(t)&&(t.props.disabled||("menu"!==E&&t.props.selected||-1===C)&&(C=e))}));var R=a.Children.map(s,(function(t,e){return e===C?a.cloneElement(t,{ref:function(e){T.current=m.findDOMNode(e),(0,w.Z)(t.ref,e)}}):t}));return a.createElement(lt,(0,i.Z)({getContentAnchorEl:function(){return T.current},classes:b,onClose:h,onEntering:function(t,e){M.current&&M.current.adjustStyleForScrollbar(t,A),v&&v(t,e)},anchorOrigin:"rtl"===A.direction?bt:Nt,transformOrigin:"rtl"===A.direction?bt:Nt,PaperProps:(0,i.Z)({},I,{classes:(0,i.Z)({},I.classes,{root:c.paper})}),open:g,ref:e,transitionDuration:S},U),a.createElement(wt,(0,i.Z)({onKeyDown:function(t){"Tab"===t.key&&(t.preventDefault(),h&&h(t,"tabKeyDown"))},actions:M,autoFocus:o&&(-1===C||l),autoFocusItem:D,variant:E},f,{className:(0,d.Z)(c.list,f.className)}),R))})),Pt=(0,f.Z)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(St),Et=n(6519),Ut=n(2775);function At(t,e){return"object"===(0,c.Z)(e)&&null!==e?t===e:String(t)===String(e)}var Dt=a.forwardRef((function(t,e){var n=t["aria-label"],o=t.autoFocus,c=t.autoWidth,f=t.children,m=t.classes,h=t.className,v=t.defaultValue,g=t.disabled,y=t.displayEmpty,I=t.IconComponent,w=t.inputRef,N=t.labelId,S=t.MenuProps,P=void 0===S?{}:S,E=t.multiple,U=t.name,A=t.onBlur,D=t.onChange,M=t.onClose,T=t.onFocus,C=t.onOpen,R=t.open,x=t.readOnly,O=t.renderValue,L=t.SelectDisplayProps,k=void 0===L?{}:L,F=t.tabIndex,Z=(t.type,t.value),_=t.variant,B=void 0===_?"standard":_,j=(0,r.Z)(t,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),G=(0,Ut.Z)({controlled:Z,default:v,name:"Select"}),V=(0,s.Z)(G,2),H=V[0],W=V[1],z=a.useRef(null),K=a.useState(null),q=K[0],$=K[1],Y=a.useRef(null!=R).current,J=a.useState(),X=J[0],Q=J[1],tt=a.useState(!1),et=tt[0],nt=tt[1],it=(0,b.Z)(e,w);a.useImperativeHandle(it,(function(){return{focus:function(){q.focus()},node:z.current,value:H}}),[q,H]),a.useEffect((function(){o&&q&&q.focus()}),[o,q]),a.useEffect((function(){if(q){var t=(0,l.Z)(q).getElementById(N);if(t){var e=function(){getSelection().isCollapsed&&q.focus()};return t.addEventListener("click",e),function(){t.removeEventListener("click",e)}}}}),[N,q]);var rt,at,ot=function(t,e){t?C&&C(e):M&&M(e),Y||(Q(c?null:q.clientWidth),nt(t))},st=a.Children.toArray(f),ct=function(t){return function(e){var n;if(E||ot(!1,e),E){n=Array.isArray(H)?H.slice():[];var i=H.indexOf(t.props.value);-1===i?n.push(t.props.value):n.splice(i,1)}else n=t.props.value;t.props.onClick&&t.props.onClick(e),H!==n&&(W(n),D&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:n,name:U}}),D(e,t)))}},ut=null!==q&&(Y?R:et);delete j["aria-invalid"];var dt=[],lt=!1;((0,Et.vd)({value:H})||y)&&(O?rt=O(H):lt=!0);var pt=st.map((function(t){if(!a.isValidElement(t))return null;var e;if(E){if(!Array.isArray(H))throw new Error((0,u.Z)(2));(e=H.some((function(e){return At(e,t.props.value)})))&&lt&&dt.push(t.props.children)}else(e=At(H,t.props.value))&&lt&&(at=t.props.children);return e&&!0,a.cloneElement(t,{"aria-selected":e?"true":void 0,onClick:ct(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:e,value:void 0,"data-value":t.props.value})}));lt&&(rt=E?dt.join(", "):at);var ft,mt=X;!c&&Y&&q&&(mt=q.clientWidth),ft=void 0!==F?F:g?null:0;var ht=k.id||(U?"mui-component-select-".concat(U):void 0);return a.createElement(a.Fragment,null,a.createElement("div",(0,i.Z)({className:(0,d.Z)(m.root,m.select,m.selectMenu,m[B],h,g&&m.disabled),ref:$,tabIndex:ft,role:"button","aria-disabled":g?"true":void 0,"aria-expanded":ut?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[N,ht].filter(Boolean).join(" ")||void 0,onKeyDown:function(t){if(!x){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(t.key)&&(t.preventDefault(),ot(!0,t))}},onMouseDown:g||x?null:function(t){0===t.button&&(t.preventDefault(),q.focus(),ot(!0,t))},onBlur:function(t){!ut&&A&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:H,name:U}}),A(t))},onFocus:T},k,{id:ht}),function(t){return null==t||"string"==typeof t&&!t.trim()}(rt)?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):rt),a.createElement("input",(0,i.Z)({value:Array.isArray(H)?H.join(","):H,name:U,ref:z,"aria-hidden":!0,onChange:function(t){var e=st.map((function(t){return t.props.value})).indexOf(t.target.value);if(-1!==e){var n=st[e];W(n.props.value),D&&D(t,n)}},tabIndex:-1,className:m.nativeInput,autoFocus:o},j)),a.createElement(I,{className:(0,d.Z)(m.icon,m["icon".concat((0,p.Z)(B))],ut&&m.iconOpen,g&&m.disabled)}),a.createElement(Pt,(0,i.Z)({id:"menu-".concat(U||""),anchorEl:q,open:ut,onClose:function(t){ot(!1,t)}},P,{MenuListProps:(0,i.Z)({"aria-labelledby":N,role:"listbox",disableListWrap:!0},P.MenuListProps),PaperProps:(0,i.Z)({},P.PaperProps,{style:(0,i.Z)({minWidth:mt},null!=P.PaperProps?P.PaperProps.style:null)})}),pt))})),Mt=n(9345),Tt=n(2601),Ct=(0,n(5209).Z)(a.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Rt=n(8799),xt=a.forwardRef((function(t,e){var n=t.classes,o=t.className,s=t.disabled,c=t.IconComponent,u=t.inputRef,l=t.variant,f=void 0===l?"standard":l,m=(0,r.Z)(t,["classes","className","disabled","IconComponent","inputRef","variant"]);return a.createElement(a.Fragment,null,a.createElement("select",(0,i.Z)({className:(0,d.Z)(n.root,n.select,n[f],o,s&&n.disabled),disabled:s,ref:u||e},m)),t.multiple?null:a.createElement(c,{className:(0,d.Z)(n.icon,n["icon".concat((0,p.Z)(f))],s&&n.disabled)}))})),Ot=function(t){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===t.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:t.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:t.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:t.palette.action.active,"&$disabled":{color:t.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},Lt=a.createElement(Rt.Z,null),kt=a.forwardRef((function(t,e){var n=t.children,o=t.classes,s=t.IconComponent,c=void 0===s?Ct:s,u=t.input,d=void 0===u?Lt:u,l=t.inputProps,p=(t.variant,(0,r.Z)(t,["children","classes","IconComponent","input","inputProps","variant"])),f=(0,Tt.Z)(),m=(0,Mt.Z)({props:t,muiFormControl:f,states:["variant"]});return a.cloneElement(d,(0,i.Z)({inputComponent:xt,inputProps:(0,i.Z)({children:n,classes:o,IconComponent:c,variant:m.variant,type:void 0},l,d?d.props.inputProps:{}),ref:e},p))}));kt.muiName="Select";(0,f.Z)(Ot,{name:"MuiNativeSelect"})(kt);var Ft=n(9446),Zt=n(6718),_t=Ot,Bt=a.createElement(Rt.Z,null),jt=a.createElement(Ft.Z,null),Gt=a.forwardRef((function t(e,n){var s=e.autoWidth,c=void 0!==s&&s,u=e.children,d=e.classes,l=e.displayEmpty,p=void 0!==l&&l,f=e.IconComponent,m=void 0===f?Ct:f,h=e.id,v=e.input,g=e.inputProps,y=e.label,I=e.labelId,w=e.labelWidth,b=void 0===w?0:w,N=e.MenuProps,S=e.multiple,P=void 0!==S&&S,E=e.native,U=void 0!==E&&E,A=e.onClose,D=e.onOpen,M=e.open,T=e.renderValue,C=e.SelectDisplayProps,R=e.variant,x=void 0===R?"standard":R,O=(0,r.Z)(e,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),L=U?xt:Dt,k=(0,Tt.Z)(),F=(0,Mt.Z)({props:e,muiFormControl:k,states:["variant"]}).variant||x,Z=v||{standard:Bt,outlined:a.createElement(Zt.Z,{label:y,labelWidth:b}),filled:jt}[F];return a.cloneElement(Z,(0,i.Z)({inputComponent:L,inputProps:(0,i.Z)({children:u,IconComponent:m,variant:F,type:void 0,multiple:P},U?{id:h}:{autoWidth:c,displayEmpty:p,labelId:I,MenuProps:N,onClose:A,onOpen:D,open:M,renderValue:T,SelectDisplayProps:(0,i.Z)({id:h},C)},g,{classes:g?(0,o.Z)({baseClasses:d,newClasses:g.classes,Component:t}):d},v?v.props.inputProps:{}),ref:n},O))}));Gt.muiName="Select";var Vt=(0,f.Z)(_t,{name:"MuiSelect"})(Gt)},6253:function(t,e,n){"use strict";n.d(e,{Z:function(){return D}});var i=n(2122),r=n(1253),a=n(7294),o=(n(5697),n(6010)),s=n(8799),c=n(9446),u=n(6718),d=n(9345),l=n(2601),p=n(2543),f=n(3871),m=a.forwardRef((function(t,e){var n=t.children,s=t.classes,c=t.className,u=(t.color,t.component),p=void 0===u?"label":u,m=(t.disabled,t.error,t.filled,t.focused,t.required,(0,r.Z)(t,["children","classes","className","color","component","disabled","error","filled","focused","required"])),h=(0,l.Z)(),v=(0,d.Z)({props:t,muiFormControl:h,states:["color","required","focused","disabled","error","filled"]});return a.createElement(p,(0,i.Z)({className:(0,o.Z)(s.root,s["color".concat((0,f.Z)(v.color||"primary"))],c,v.disabled&&s.disabled,v.error&&s.error,v.filled&&s.filled,v.focused&&s.focused,v.required&&s.required),ref:e},m),n,v.required&&a.createElement("span",{"aria-hidden":!0,className:(0,o.Z)(s.asterisk,v.error&&s.error)},"\u2009","*"))})),h=(0,p.Z)((function(t){return{root:(0,i.Z)({color:t.palette.text.secondary},t.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:t.palette.primary.main},"&$disabled":{color:t.palette.text.disabled},"&$error":{color:t.palette.error.main}}),colorSecondary:{"&$focused":{color:t.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:t.palette.error.main}}}}),{name:"MuiFormLabel"})(m),v=a.forwardRef((function(t,e){var n=t.classes,s=t.className,c=t.disableAnimation,u=void 0!==c&&c,p=(t.margin,t.shrink),f=(t.variant,(0,r.Z)(t,["classes","className","disableAnimation","margin","shrink","variant"])),m=(0,l.Z)(),v=p;void 0===v&&m&&(v=m.filled||m.focused||m.adornedStart);var g=(0,d.Z)({props:t,muiFormControl:m,states:["margin","variant"]});return a.createElement(h,(0,i.Z)({"data-shrink":v,className:(0,o.Z)(n.root,s,m&&n.formControl,!u&&n.animated,v&&n.shrink,"dense"===g.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[g.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:e},f))})),g=(0,p.Z)((function(t){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:t.transitions.create(["color","transform"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(v),y=n(6519),I=n(3711),w=n(5736),b=a.forwardRef((function(t,e){var n=t.children,s=t.classes,c=t.className,u=t.color,d=void 0===u?"primary":u,l=t.component,p=void 0===l?"div":l,m=t.disabled,h=void 0!==m&&m,v=t.error,g=void 0!==v&&v,b=t.fullWidth,N=void 0!==b&&b,S=t.focused,P=t.hiddenLabel,E=void 0!==P&&P,U=t.margin,A=void 0===U?"none":U,D=t.required,M=void 0!==D&&D,T=t.size,C=t.variant,R=void 0===C?"standard":C,x=(0,r.Z)(t,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),O=a.useState((function(){var t=!1;return n&&a.Children.forEach(n,(function(e){if((0,I.Z)(e,["Input","Select"])){var n=(0,I.Z)(e,["Select"])?e.props.input:e;n&&(0,y.B7)(n.props)&&(t=!0)}})),t})),L=O[0],k=O[1],F=a.useState((function(){var t=!1;return n&&a.Children.forEach(n,(function(e){(0,I.Z)(e,["Input","Select"])&&(0,y.vd)(e.props,!0)&&(t=!0)})),t})),Z=F[0],_=F[1],B=a.useState(!1),j=B[0],G=B[1],V=void 0!==S?S:j;h&&V&&G(!1);var H=a.useCallback((function(){_(!0)}),[]),W={adornedStart:L,setAdornedStart:k,color:d,disabled:h,error:g,filled:Z,focused:V,fullWidth:N,hiddenLabel:E,margin:("small"===T?"dense":void 0)||A,onBlur:function(){G(!1)},onEmpty:a.useCallback((function(){_(!1)}),[]),onFilled:H,onFocus:function(){G(!0)},registerEffect:undefined,required:M,variant:R};return a.createElement(w.Z.Provider,{value:W},a.createElement(p,(0,i.Z)({className:(0,o.Z)(s.root,c,"none"!==A&&s["margin".concat((0,f.Z)(A))],N&&s.fullWidth),ref:e},x),n))})),N=(0,p.Z)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(b),S=a.forwardRef((function(t,e){var n=t.children,s=t.classes,c=t.className,u=t.component,p=void 0===u?"p":u,f=(t.disabled,t.error,t.filled,t.focused,t.margin,t.required,t.variant,(0,r.Z)(t,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),m=(0,l.Z)(),h=(0,d.Z)({props:t,muiFormControl:m,states:["variant","margin","disabled","error","filled","focused","required"]});return a.createElement(p,(0,i.Z)({className:(0,o.Z)(s.root,("filled"===h.variant||"outlined"===h.variant)&&s.contained,c,h.disabled&&s.disabled,h.error&&s.error,h.filled&&s.filled,h.focused&&s.focused,h.required&&s.required,"dense"===h.margin&&s.marginDense),ref:e},f)," "===n?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)})),P=(0,p.Z)((function(t){return{root:(0,i.Z)({color:t.palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:t.palette.text.disabled},"&$error":{color:t.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(S),E=n(7042),U={standard:s.Z,filled:c.Z,outlined:u.Z},A=a.forwardRef((function(t,e){var n=t.autoComplete,s=t.autoFocus,c=void 0!==s&&s,u=t.children,d=t.classes,l=t.className,p=t.color,f=void 0===p?"primary":p,m=t.defaultValue,h=t.disabled,v=void 0!==h&&h,y=t.error,I=void 0!==y&&y,w=t.FormHelperTextProps,b=t.fullWidth,S=void 0!==b&&b,A=t.helperText,D=t.hiddenLabel,M=t.id,T=t.InputLabelProps,C=t.inputProps,R=t.InputProps,x=t.inputRef,O=t.label,L=t.multiline,k=void 0!==L&&L,F=t.name,Z=t.onBlur,_=t.onChange,B=t.onFocus,j=t.placeholder,G=t.required,V=void 0!==G&&G,H=t.rows,W=t.rowsMax,z=t.select,K=void 0!==z&&z,q=t.SelectProps,$=t.type,Y=t.value,J=t.variant,X=void 0===J?"standard":J,Q=(0,r.Z)(t,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var tt={};if("outlined"===X&&(T&&void 0!==T.shrink&&(tt.notched=T.shrink),O)){var et,nt=null!==(et=null==T?void 0:T.required)&&void 0!==et?et:V;tt.label=a.createElement(a.Fragment,null,O,nt&&"\xa0*")}K&&(q&&q.native||(tt.id=void 0),tt["aria-describedby"]=void 0);var it=A&&M?"".concat(M,"-helper-text"):void 0,rt=O&&M?"".concat(M,"-label"):void 0,at=U[X],ot=a.createElement(at,(0,i.Z)({"aria-describedby":it,autoComplete:n,autoFocus:c,defaultValue:m,fullWidth:S,multiline:k,name:F,rows:H,rowsMax:W,type:$,value:Y,id:M,inputRef:x,onBlur:Z,onChange:_,onFocus:B,placeholder:j,inputProps:C},tt,R));return a.createElement(N,(0,i.Z)({className:(0,o.Z)(d.root,l),disabled:v,error:I,fullWidth:S,hiddenLabel:D,ref:e,required:V,color:f,variant:X},Q),O&&a.createElement(g,(0,i.Z)({htmlFor:M,id:rt},T),O),K?a.createElement(E.Z,(0,i.Z)({"aria-describedby":it,id:M,labelId:rt,value:Y,input:ot},q),u):ot,A&&a.createElement(P,(0,i.Z)({id:it},w),A))})),D=(0,p.Z)({root:{}},{name:"MuiTextField"})(A)},5160:function(t,e,n){"use strict";n.d(e,{mi:function(){return s},U1:function(){return u},_j:function(){return d},$n:function(){return l}});var i=n(288);function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)}function a(t){if(t.type)return t;if("#"===t.charAt(0))return a(function(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),n=t.match(e);return n&&1===n[0].length&&(n=n.map((function(t){return t+t}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(t,e){return e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3})).join(", "),")"):""}(t));var e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,i.Z)(3,t));var r=t.substring(e+1,t.length-1).split(",");return{type:n,values:r=r.map((function(t){return parseFloat(t)}))}}function o(t){var e=t.type,n=t.values;return-1!==e.indexOf("rgb")?n=n.map((function(t,e){return e<3?parseInt(t,10):t})):-1!==e.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e,"(").concat(n.join(", "),")")}function s(t,e){var n=c(t),i=c(e);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function c(t){var e="hsl"===(t=a(t)).type?a(function(t){var e=(t=a(t)).values,n=e[0],i=e[1]/100,r=e[2]/100,s=i*Math.min(r,1-r),c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+n/30)%12;return r-s*Math.max(Math.min(e-3,9-e,1),-1)},u="rgb",d=[Math.round(255*c(0)),Math.round(255*c(8)),Math.round(255*c(4))];return"hsla"===t.type&&(u+="a",d.push(e[3])),o({type:u,values:d})}(t)).values:t.values;return e=e.map((function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function u(t,e){return t=a(t),e=r(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),t.values[3]=e,o(t)}function d(t,e){if(t=a(t),e=r(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]*=1-e;return o(t)}function l(t,e){if(t=a(t),e=r(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;return o(t)}},6798:function(t,e,n){"use strict";n.d(e,{Z:function(){return Z}});var i=n(1253),r=n(5953),a=n(2122),o=["xs","sm","md","lg","xl"];function s(t){var e=t.values,n=void 0===e?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,r=t.unit,s=void 0===r?"px":r,c=t.step,u=void 0===c?5:c,d=(0,i.Z)(t,["values","unit","step"]);function l(t){var e="number"==typeof n[t]?n[t]:t;return"@media (min-width:".concat(e).concat(s,")")}function p(t,e){var i=o.indexOf(e);return i===o.length-1?l(t):"@media (min-width:".concat("number"==typeof n[t]?n[t]:t).concat(s,") and ")+"(max-width:".concat((-1!==i&&"number"==typeof n[o[i+1]]?n[o[i+1]]:e)-u/100).concat(s,")")}return(0,a.Z)({keys:o,values:n,up:l,down:function(t){var e=o.indexOf(t)+1,i=n[o[e]];return e===o.length?l("xs"):"@media (max-width:".concat(("number"==typeof i&&e>0?i:t)-u/100).concat(s,")")},between:p,only:function(t){return p(t,t)},width:function(t){return n[t]}},d)}var c=n(6156);function u(t,e,n){var i;return(0,a.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.Z)({paddingLeft:e(2),paddingRight:e(2)},n,(0,c.Z)({},t.up("sm"),(0,a.Z)({paddingLeft:e(3),paddingRight:e(3)},n[t.up("sm")])))},toolbar:(i={minHeight:56},(0,c.Z)(i,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,c.Z)(i,t.up("sm"),{minHeight:64}),i)},n)}var d=n(288),l={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},f={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},m={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},h={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},I=n(5160),w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l.white,default:p[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},b={text:{primary:l.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:p[800],default:"#303030"},action:{active:l.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function N(t,e,n,i){var r=i.light||i,a=i.dark||1.5*i;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=(0,I.$n)(t.main,r):"dark"===e&&(t.dark=(0,I._j)(t.main,a)))}function S(t){var e=t.primary,n=void 0===e?{light:f[300],main:f[500],dark:f[700]}:e,o=t.secondary,s=void 0===o?{light:m.A200,main:m.A400,dark:m.A700}:o,c=t.error,u=void 0===c?{light:h[300],main:h[500],dark:h[700]}:c,S=t.warning,P=void 0===S?{light:v[300],main:v[500],dark:v[700]}:S,E=t.info,U=void 0===E?{light:g[300],main:g[500],dark:g[700]}:E,A=t.success,D=void 0===A?{light:y[300],main:y[500],dark:y[700]}:A,M=t.type,T=void 0===M?"light":M,C=t.contrastThreshold,R=void 0===C?3:C,x=t.tonalOffset,O=void 0===x?.2:x,L=(0,i.Z)(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function k(t){return(0,I.mi)(t,b.text.primary)>=R?b.text.primary:w.text.primary}var F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(t=(0,a.Z)({},t)).main&&t[e]&&(t.main=t[e]),!t.main)throw new Error((0,d.Z)(4,e));if("string"!=typeof t.main)throw new Error((0,d.Z)(5,JSON.stringify(t.main)));return N(t,"light",n,O),N(t,"dark",i,O),t.contrastText||(t.contrastText=k(t.main)),t},Z={dark:b,light:w};return(0,r.Z)((0,a.Z)({common:l,type:T,primary:F(n),secondary:F(s,"A400","A200","A700"),error:F(u),warning:F(P),info:F(U),success:F(D),grey:p,contrastThreshold:R,getContrastText:k,augmentColor:F,tonalOffset:O},Z[T]),L)}function P(t){return Math.round(1e5*t)/1e5}var E={textTransform:"uppercase"},U='"Roboto", "Helvetica", "Arial", sans-serif';function A(t,e){var n="function"==typeof e?e(t):e,o=n.fontFamily,s=void 0===o?U:o,c=n.fontSize,u=void 0===c?14:c,d=n.fontWeightLight,l=void 0===d?300:d,p=n.fontWeightRegular,f=void 0===p?400:p,m=n.fontWeightMedium,h=void 0===m?500:m,v=n.fontWeightBold,g=void 0===v?700:v,y=n.htmlFontSize,I=void 0===y?16:y,w=n.allVariants,b=n.pxToRem,N=(0,i.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var S=u/14,A=b||function(t){return"".concat(t/I*S,"rem")},D=function(t,e,n,i,r){return(0,a.Z)({fontFamily:s,fontWeight:t,fontSize:A(e),lineHeight:n},s===U?{letterSpacing:"".concat(P(i/e),"em")}:{},r,w)},M={h1:D(l,96,1.167,-1.5),h2:D(l,60,1.2,-.5),h3:D(f,48,1.167,0),h4:D(f,34,1.235,.25),h5:D(f,24,1.334,0),h6:D(h,20,1.6,.15),subtitle1:D(f,16,1.75,.15),subtitle2:D(h,14,1.57,.1),body1:D(f,16,1.5,.15),body2:D(f,14,1.43,.15),button:D(h,14,1.75,.4,E),caption:D(f,12,1.66,.4),overline:D(f,12,2.66,1,E)};return(0,r.Z)((0,a.Z)({htmlFontSize:I,pxToRem:A,round:P,fontFamily:s,fontSize:u,fontWeightLight:l,fontWeightRegular:f,fontWeightMedium:h,fontWeightBold:g},M),N,{clone:!1})}function D(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var M=["none",D(0,2,1,-1,0,1,1,0,0,1,3,0),D(0,3,1,-2,0,2,2,0,0,1,5,0),D(0,3,3,-2,0,3,4,0,0,1,8,0),D(0,2,4,-1,0,4,5,0,0,1,10,0),D(0,3,5,-1,0,5,8,0,0,1,14,0),D(0,3,5,-1,0,6,10,0,0,1,18,0),D(0,4,5,-2,0,7,10,1,0,2,16,1),D(0,5,5,-3,0,8,10,1,0,3,14,2),D(0,5,6,-3,0,9,12,1,0,3,16,2),D(0,6,6,-3,0,10,14,1,0,4,18,3),D(0,6,7,-4,0,11,15,1,0,4,20,3),D(0,7,8,-4,0,12,17,2,0,5,22,4),D(0,7,8,-4,0,13,19,2,0,5,24,4),D(0,7,9,-4,0,14,21,2,0,5,26,4),D(0,8,9,-5,0,15,22,2,0,6,28,5),D(0,8,10,-5,0,16,24,2,0,6,30,5),D(0,8,11,-5,0,17,26,2,0,6,32,5),D(0,9,11,-5,0,18,28,2,0,7,34,6),D(0,9,12,-6,0,19,29,2,0,7,36,6),D(0,10,13,-6,0,20,31,3,0,8,38,7),D(0,10,13,-6,0,21,33,3,0,8,40,7),D(0,10,14,-6,0,22,35,3,0,8,42,7),D(0,11,14,-7,0,23,36,3,0,9,44,8),D(0,11,15,-7,0,24,38,3,0,9,46,8)],T={borderRadius:4},C=n(8681);function R(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;var e=(0,C.h)({spacing:t}),n=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?e(1):1===n.length?e(n[0]):n.map((function(t){if("string"==typeof t)return t;var n=e(t);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}var x={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},O={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function L(t){return"".concat(Math.round(t),"ms")}var k={easing:x,duration:O,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.duration,r=void 0===n?O.standard:n,a=e.easing,o=void 0===a?x.easeInOut:a,s=e.delay,c=void 0===s?0:s;(0,i.Z)(e,["duration","easing","delay"]);return(Array.isArray(t)?t:[t]).map((function(t){return"".concat(t," ").concat("string"==typeof r?r:L(r)," ").concat(o," ").concat("string"==typeof c?c:L(c))})).join(",")},getAutoHeightDuration:function(t){if(!t)return 0;var e=t/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}},F=n(2781);var Z=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.breakpoints,n=void 0===e?{}:e,a=t.mixins,o=void 0===a?{}:a,c=t.palette,d=void 0===c?{}:c,l=t.spacing,p=t.typography,f=void 0===p?{}:p,m=(0,i.Z)(t,["breakpoints","mixins","palette","spacing","typography"]),h=S(d),v=s(n),g=R(l),y=(0,r.Z)({breakpoints:v,direction:"ltr",mixins:u(v,g,o),overrides:{},palette:h,props:{},shadows:M,typography:A(h,f),spacing:g,shape:T,transitions:k,zIndex:F.Z},m),I=arguments.length,w=new Array(I>1?I-1:0),b=1;b<I;b++)w[b-1]=arguments[b];return y=w.reduce((function(t,e){return(0,r.Z)(t,e)}),y)}()},1120:function(t,e,n){"use strict";var i=n(2122),r=n(3914),a=n(6798);e.Z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.Z)(t,(0,i.Z)({defaultTheme:a.Z},e))}},1041:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(159),r=(n(7294),n(6798));function a(){return(0,i.Z)()||r.Z}},2543:function(t,e,n){"use strict";var i=n(2122),r=n(8920),a=n(6798);e.Z=function(t,e){return(0,r.Z)(t,(0,i.Z)({defaultTheme:a.Z},e))}},2781:function(t,e){"use strict";e.Z={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},3871:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(288);function r(t){if("string"!=typeof t)throw new Error((0,i.Z)(7));return t.charAt(0).toUpperCase()+t.slice(1)}},2568:function(t,e,n){"use strict";function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return null==e?t:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];t.apply(this,i),e.apply(this,i)}}),(function(){}))}n.d(e,{Z:function(){return i}})},5209:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var i=n(2122),r=n(7294),a=n(1253),o=(n(5697),n(6010)),s=n(2543),c=n(3871),u=r.forwardRef((function(t,e){var n=t.children,s=t.classes,u=t.className,d=t.color,l=void 0===d?"inherit":d,p=t.component,f=void 0===p?"svg":p,m=t.fontSize,h=void 0===m?"default":m,v=t.htmlColor,g=t.titleAccess,y=t.viewBox,I=void 0===y?"0 0 24 24":y,w=(0,a.Z)(t,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return r.createElement(f,(0,i.Z)({className:(0,o.Z)(s.root,u,"inherit"!==l&&s["color".concat((0,c.Z)(l))],"default"!==h&&s["fontSize".concat((0,c.Z)(h))]),focusable:"false",viewBox:I,color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:e},w),n,g?r.createElement("title",null,g):null)}));u.muiName="SvgIcon";var d=(0,s.Z)((function(t){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:t.typography.pxToRem(24),transition:t.transitions.create("fill",{duration:t.transitions.duration.shorter})},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorAction:{color:t.palette.action.active},colorError:{color:t.palette.error.main},colorDisabled:{color:t.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:t.typography.pxToRem(20)},fontSizeLarge:{fontSize:t.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(u);function l(t,e){var n=function(e,n){return r.createElement(d,(0,i.Z)({ref:n},e),t)};return n.muiName=d.muiName,r.memo(r.forwardRef(n))}},9437:function(t,e,n){"use strict";function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function i(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var o=this,s=function(){t.apply(o,r)};clearTimeout(e),e=setTimeout(s,n)}return i.clear=function(){clearTimeout(e)},i}n.d(e,{Z:function(){return i}})},8731:function(t,e,n){"use strict";n.r(e),n.d(e,{capitalize:function(){return i.Z},createChainedFunction:function(){return r.Z},createSvgIcon:function(){return a.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return c.Z},ownerDocument:function(){return u.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return l},setRef:function(){return p.Z},unstable_useId:function(){return y},unsupportedProp:function(){return f},useControlled:function(){return m.Z},useEventCallback:function(){return h.Z},useForkRef:function(){return v.Z},useIsFocusVisible:function(){return I.Z}});var i=n(3871),r=n(2568),a=n(5209),o=n(9437);function s(t,e){return function(){return null}}var c=n(3711),u=n(626),d=n(713);function l(t){return function(){return null}}var p=n(4236);function f(t,e,n,i,r){return null}var m=n(2775),h=n(5192),v=n(3834),g=n(7294);function y(t){var e=g.useState(t),n=e[0],i=e[1],r=t||n;return g.useEffect((function(){null==n&&i("mui-".concat(Math.round(1e5*Math.random())))}),[n]),r}var I=n(4896)},3711:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(7294);function r(t,e){return i.isValidElement(t)&&-1!==e.indexOf(t.type.muiName)}},626:function(t,e,n){"use strict";function i(t){return t&&t.ownerDocument||document}n.d(e,{Z:function(){return i}})},713:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(626);function r(t){return(0,i.Z)(t).defaultView||window}},4236:function(t,e,n){"use strict";function i(t,e){"function"==typeof t?t(e):t&&(t.current=e)}n.d(e,{Z:function(){return i}})},2775:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(7294);function r(t){var e=t.controlled,n=t.default,r=(t.name,t.state,i.useRef(void 0!==e).current),a=i.useState(n),o=a[0],s=a[1];return[r?e:o,i.useCallback((function(t){r||s(t)}),[])]}},5192:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(7294),r="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;function a(t){var e=i.useRef(t);return r((function(){e.current=t})),i.useCallback((function(){return e.current.apply(void 0,arguments)}),[])}},3834:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(7294),r=n(4236);function a(t,e){return i.useMemo((function(){return null==t&&null==e?null:function(n){(0,r.Z)(t,n),(0,r.Z)(e,n)}}),[t,e])}},4896:function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var i=n(7294),r=n(3935),a=!0,o=!1,s=null,c={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(t){t.metaKey||t.altKey||t.ctrlKey||(a=!0)}function d(){a=!1}function l(){"hidden"===this.visibilityState&&o&&(a=!0)}function p(t){var e,n,i,r=t.target;try{return r.matches(":focus-visible")}catch(o){}return a||(n=(e=r).type,!("INPUT"!==(i=e.tagName)||!c[n]||e.readOnly)||"TEXTAREA"===i&&!e.readOnly||!!e.isContentEditable)}function f(){o=!0,window.clearTimeout(s),s=window.setTimeout((function(){o=!1}),100)}function m(){return{isFocusVisible:p,onBlurVisible:f,ref:i.useCallback((function(t){var e,n=r.findDOMNode(t);null!=n&&((e=n.ownerDocument).addEventListener("keydown",u,!0),e.addEventListener("mousedown",d,!0),e.addEventListener("pointerdown",d,!0),e.addEventListener("touchstart",d,!0),e.addEventListener("visibilitychange",l,!0))}),[])}}},9114:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexToRgb=a,e.rgbToHex=function(t){if(0===t.indexOf("#"))return t;var e=s(t).values;return"#".concat(e.map((function(t){return 1===(e=t.toString(16)).length?"0".concat(e):e;var e})).join(""))},e.hslToRgb=o,e.decomposeColor=s,e.recomposeColor=c,e.getContrastRatio=function(t,e){var n=u(t),i=u(e);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},e.getLuminance=u,e.emphasize=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return u(t)>.5?d(t,e):l(t,e)},e.fade=function(t,e){t=s(t),e=r(e),("rgb"===t.type||"hsl"===t.type)&&(t.type+="a");return t.values[3]=e,c(t)},e.darken=d,e.lighten=l;var i=n(5218);function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)}function a(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),n=t.match(e);return n&&1===n[0].length&&(n=n.map((function(t){return t+t}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(t,e){return e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3})).join(", "),")"):""}function o(t){var e=(t=s(t)).values,n=e[0],i=e[1]/100,r=e[2]/100,a=i*Math.min(r,1-r),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+n/30)%12;return r-a*Math.max(Math.min(e-3,9-e,1),-1)},u="rgb",d=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===t.type&&(u+="a",d.push(e[3])),c({type:u,values:d})}function s(t){if(t.type)return t;if("#"===t.charAt(0))return s(a(t));var e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,i.formatMuiErrorMessage)(3,t));var r=t.substring(e+1,t.length-1).split(",");return{type:n,values:r=r.map((function(t){return parseFloat(t)}))}}function c(t){var e=t.type,n=t.values;return-1!==e.indexOf("rgb")?n=n.map((function(t,e){return e<3?parseInt(t,10):t})):-1!==e.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e,"(").concat(n.join(", "),")")}function u(t){var e="hsl"===(t=s(t)).type?s(o(t)).values:t.values;return e=e.map((function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function d(t,e){if(t=s(t),e=r(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]*=1-e;return c(t)}function l(t,e){if(t=s(t),e=r(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;return c(t)}},4811:function(t,e,n){"use strict";var i=n(5318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.values,n=void 0===e?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,i=t.unit,s=void 0===i?"px":i,c=t.step,u=void 0===c?5:c,d=(0,a.default)(t,["values","unit","step"]);function l(t){var e="number"==typeof n[t]?n[t]:t;return"@media (min-width:".concat(e).concat(s,")")}function p(t,e){var i=o.indexOf(e);return i===o.length-1?l(t):"@media (min-width:".concat("number"==typeof n[t]?n[t]:t).concat(s,") and ")+"(max-width:".concat((-1!==i&&"number"==typeof n[o[i+1]]?n[o[i+1]]:e)-u/100).concat(s,")")}return(0,r.default)({keys:o,values:n,up:l,down:function(t){var e=o.indexOf(t)+1,i=n[o[e]];return e===o.length?l("xs"):"@media (max-width:".concat(("number"==typeof i&&e>0?i:t)-u/100).concat(s,")")},between:p,only:function(t){return p(t,t)},width:function(t){return n[t]}},d)},e.keys=void 0;var r=i(n(1658)),a=i(n(6479)),o=["xs","sm","md","lg","xl"];e.keys=o},226:function(t,e,n){"use strict";var i=n(5318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var i;return(0,a.default)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.default)({paddingLeft:e(2),paddingRight:e(2)},n,(0,r.default)({},t.up("sm"),(0,a.default)({paddingLeft:e(3),paddingRight:e(3)},n[t.up("sm")])))},toolbar:(i={minHeight:56},(0,r.default)(i,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,r.default)(i,t.up("sm"),{minHeight:64}),i)},n)};var r=i(n(9713)),a=i(n(1658))},1615:function(t,e,n){"use strict";var i=n(5318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i(n(9713));var r=i(n(6479)),a=n(5218),o=i(n(4811)),s=i(n(226)),c=i(n(1091)),u=i(n(5184)),d=i(n(743)),l=i(n(9591)),p=i(n(3498)),f=i(n(5406)),m=i(n(8676));var h=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.breakpoints,n=void 0===e?{}:e,i=t.mixins,h=void 0===i?{}:i,v=t.palette,g=void 0===v?{}:v,y=t.spacing,I=t.typography,w=void 0===I?{}:I,b=(0,r.default)(t,["breakpoints","mixins","palette","spacing","typography"]),N=(0,c.default)(g),S=(0,o.default)(n),P=(0,p.default)(y),E=(0,a.deepmerge)({breakpoints:S,direction:"ltr",mixins:(0,s.default)(S,P,h),overrides:{},palette:N,props:{},shadows:d.default,typography:(0,u.default)(N,w),spacing:P,shape:l.default,transitions:f.default,zIndex:m.default},b),U=arguments.length,A=new Array(U>1?U-1:0),D=1;D<U;D++)A[D-1]=arguments[D];return E=A.reduce((function(t,e){return(0,a.deepmerge)(t,e)}),E)};e.default=h},1091:function(t,e,n){"use strict";var i=n(5318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.primary,n=void 0===e?{light:u.default[300],main:u.default[500],dark:u.default[700]}:e,i=t.secondary,I=void 0===i?{light:d.default.A200,main:d.default.A400,dark:d.default.A700}:i,w=t.error,b=void 0===w?{light:l.default[300],main:l.default[500],dark:l.default[700]}:w,N=t.warning,S=void 0===N?{light:p.default[300],main:p.default[500],dark:p.default[700]}:N,P=t.info,E=void 0===P?{light:f.default[300],main:f.default[500],dark:f.default[700]}:P,U=t.success,A=void 0===U?{light:m.default[300],main:m.default[500],dark:m.default[700]}:U,D=t.type,M=void 0===D?"light":D,T=t.contrastThreshold,C=void 0===T?3:T,R=t.tonalOffset,x=void 0===R?.2:R,O=(0,a.default)(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function L(t){return(0,h.getContrastRatio)(t,g.text.primary)>=C?g.text.primary:v.text.primary}var k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(t=(0,r.default)({},t)).main&&t[e]&&(t.main=t[e]),!t.main)throw new Error((0,o.formatMuiErrorMessage)(4,e));if("string"!=typeof t.main)throw new Error(_formatMuiErrorMessage(5,JSON.stringify(t.main)));return y(t,"light",n,x),y(t,"dark",i,x),t.contrastText||(t.contrastText=L(t.main)),t},F={dark:g,light:v};0;return(0,o.deepmerge)((0,r.default)({common:s.default,type:M,primary:k(n),secondary:k(I,"A400","A200","A700"),error:k(b),warning:k(S),info:k(E),success:k(A),grey:c.default,contrastThreshold:C,getContrastText:L,augmentColor:k,tonalOffset:x},F[M]),O)},e.dark=e.light=void 0;var r=i(n(1658)),a=i(n(6479)),o=n(5218),s=i(n(515)),c=i(n(167)),u=i(n(8768)),d=i(n(124)),l=i(n(3165)),p=i(n(6594)),f=i(n(3259)),m=i(n(7559)),h=n(9114),v={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:s.default.white,default:c.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}};e.light=v;var g={text:{primary:s.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:c.default[800],default:"#303030"},action:{active:s.default.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function y(t,e,n,i){var r=i.light||i,a=i.dark||1.5*i;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=(0,h.lighten)(t.main,r):"dark"===e&&(t.dark=(0,h.darken)(t.main,a)))}e.dark=g},3498:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;var e=(0,i.createUnarySpacing)({spacing:t}),n=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?e(1):1===n.length?e(n[0]):n.map((function(t){if("string"==typeof t)return t;var n=e(t);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n};var i=n(1151)},6059:function(t,e,n){"use strict";e.Z=function(t){return(0,i.createStyles)(t)};var i=n(7104)},5184:function(t,e,n){"use strict";var i=n(5318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n="function"==typeof e?e(t):e,i=n.fontFamily,d=void 0===i?u:i,l=n.fontSize,p=void 0===l?14:l,f=n.fontWeightLight,m=void 0===f?300:f,h=n.fontWeightRegular,v=void 0===h?400:h,g=n.fontWeightMedium,y=void 0===g?500:g,I=n.fontWeightBold,w=void 0===I?700:I,b=n.htmlFontSize,N=void 0===b?16:b,S=n.allVariants,P=n.pxToRem,E=(0,a.default)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);0;var U=p/14,A=P||function(t){return"".concat(t/N*U,"rem")},D=function(t,e,n,i,a){return(0,r.default)({fontFamily:d,fontWeight:t,fontSize:A(e),lineHeight:n},d===u?{letterSpacing:"".concat(s(i/e),"em")}:{},a,S)},M={h1:D(m,96,1.167,-1.5),h2:D(m,60,1.2,-.5),h3:D(v,48,1.167,0),h4:D(v,34,1.235,.25),h5:D(v,24,1.334,0),h6:D(y,20,1.6,.15),subtitle1:D(v,16,1.75,.15),subtitle2:D(y,14,1.57,.1),body1:D(v,16,1.5,.15),body2:D(v,14,1.43,.15),button:D(y,14,1.75,.4,c),caption:D(v,12,1.66,.4),overline:D(v,12,2.66,1,c)};return(0,o.deepmerge)((0,r.default)({htmlFontSize:N,pxToRem:A,round:s,fontFamily:d,fontSize:p,fontWeightLight:m,fontWeightRegular:v,fontWeightMedium:y,fontWeightBold:w},M),E,{clone:!1})};var r=i(n(1658)),a=i(n(6479)),o=n(5218);function s(t){return Math.round(1e5*t)/1e5}var c={textTransform:"uppercase"},u='"Roboto", "Helvetica", "Arial", sans-serif'},2719:function(t,e,n){"use strict";var i=n(5318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=(0,i(n(1615)).default)();e.default=r},743:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function n(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var i=["none",n(0,2,1,-1,0,1,1,0,0,1,3,0),n(0,3,1,-2,0,2,2,0,0,1,5,0),n(0,3,3,-2,0,3,4,0,0,1,8,0),n(0,2,4,-1,0,4,5,0,0,1,10,0),n(0,3,5,-1,0,5,8,0,0,1,14,0),n(0,3,5,-1,0,6,10,0,0,1,18,0),n(0,4,5,-2,0,7,10,1,0,2,16,1),n(0,5,5,-3,0,8,10,1,0,3,14,2),n(0,5,6,-3,0,9,12,1,0,3,16,2),n(0,6,6,-3,0,10,14,1,0,4,18,3),n(0,6,7,-4,0,11,15,1,0,4,20,3),n(0,7,8,-4,0,12,17,2,0,5,22,4),n(0,7,8,-4,0,13,19,2,0,5,24,4),n(0,7,9,-4,0,14,21,2,0,5,26,4),n(0,8,9,-5,0,15,22,2,0,6,28,5),n(0,8,10,-5,0,16,24,2,0,6,30,5),n(0,8,11,-5,0,17,26,2,0,6,32,5),n(0,9,11,-5,0,18,28,2,0,7,34,6),n(0,9,12,-6,0,19,29,2,0,7,36,6),n(0,10,13,-6,0,20,31,3,0,8,38,7),n(0,10,13,-6,0,21,33,3,0,8,40,7),n(0,10,14,-6,0,22,35,3,0,8,42,7),n(0,11,14,-7,0,23,36,3,0,9,44,8),n(0,11,15,-7,0,24,38,3,0,9,46,8)];e.default=i},9591:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={borderRadius:4};e.default=n},5406:function(t,e,n){"use strict";var i=n(5318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.duration=e.easing=void 0;var r=i(n(6479)),a={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"};e.easing=a;var o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function s(t){return"".concat(Math.round(t),"ms")}e.duration=o;var c={easing:a,duration:o,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.duration,i=void 0===n?o.standard:n,c=e.easing,u=void 0===c?a.easeInOut:c,d=e.delay,l=void 0===d?0:d;(0,r.default)(e,["duration","easing","delay"]);return(Array.isArray(t)?t:[t]).map((function(t){return"".concat(t," ").concat("string"==typeof i?i:s(i)," ").concat(u," ").concat("string"==typeof l?l:s(l))})).join(",")},getAutoHeightDuration:function(t){if(!t)return 0;var e=t/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}};e.default=c},8252:function(t,e,n){"use strict";var i=n(5318);e.Z=void 0;var r=i(n(1658)),a=n(7104),o=i(n(2719));var s=function(t,e){return(0,a.withStyles)(t,(0,r.default)({defaultTheme:o.default},e))};e.Z=s},8676:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};e.default=n},7342:function(t,e,n){"use strict";var i=n(5318),r=n(862);e.Z=void 0;var a=r(n(7294)),o=(0,i(n(2108)).default)(a.createElement(a.Fragment,null,a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})),"AccessTime");e.Z=o},4566:function(t,e,n){"use strict";var i=n(5318),r=n(862);e.Z=void 0;var a=r(n(7294)),o=(0,i(n(2108)).default)(a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");e.Z=o},2108:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=n(8731)},5391:function(t,e,n){"use strict";var i=n(1253),r=n(2122),a=n(7294),o=(n(5697),n(6010)),s=n(5160),c=n(2543),u=n(4720),d=n(3871),l=a.forwardRef((function(t,e){var n=t.children,s=t.classes,c=t.className,l=t.disabled,p=void 0!==l&&l,f=t.disableFocusRipple,m=void 0!==f&&f,h=t.onChange,v=t.onClick,g=t.selected,y=t.size,I=void 0===y?"medium":y,w=t.value,b=(0,i.Z)(t,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]);return a.createElement(u.Z,(0,r.Z)({className:(0,o.Z)(s.root,c,p&&s.disabled,g&&s.selected,"medium"!==I&&s["size".concat((0,d.Z)(I))]),disabled:p,focusRipple:!m,ref:e,onClick:function(t){v&&(v(t,w),t.isDefaultPrevented())||h&&h(t,w)},onChange:h,value:w,"aria-pressed":g},b),a.createElement("span",{className:s.label},n))}));e.Z=(0,c.Z)((function(t){return{root:(0,r.Z)({},t.typography.button,{boxSizing:"border-box",borderRadius:t.shape.borderRadius,padding:11,border:"1px solid ".concat((0,s.U1)(t.palette.action.active,.12)),color:(0,s.U1)(t.palette.action.active,.38),"&$selected":{color:t.palette.action.active,backgroundColor:(0,s.U1)(t.palette.action.active,.12),"&:hover":{backgroundColor:(0,s.U1)(t.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:(0,s.U1)(t.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:(0,s.U1)(t.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:t.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:t.typography.pxToRem(15)}}}),{name:"MuiToggleButton"})(l)},6663:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var i=n(2122),r=n(1253),a=n(7294),o=(n(9864),n(5697),n(6010));function s(t,e){return void 0!==e&&void 0!==t&&(Array.isArray(e)?e.indexOf(t)>=0:t===e)}var c=n(2543),u=n(3871),d=a.forwardRef((function(t,e){var n=t.children,c=t.classes,d=t.className,l=t.exclusive,p=void 0!==l&&l,f=t.onChange,m=t.orientation,h=void 0===m?"horizontal":m,v=t.size,g=void 0===v?"medium":v,y=t.value,I=(0,r.Z)(t,["children","classes","className","exclusive","onChange","orientation","size","value"]),w=function(t,e){if(f){var n,i=y&&y.indexOf(e);y&&i>=0?(n=y.slice()).splice(i,1):n=y?y.concat(e):[e],f(t,n)}},b=function(t,e){f&&f(t,y===e?null:e)};return a.createElement("div",(0,i.Z)({role:"group",className:(0,o.Z)(c.root,d,"vertical"===h&&c.vertical),ref:e},I),a.Children.map(n,(function(t){return a.isValidElement(t)?a.cloneElement(t,{className:(0,o.Z)(c.grouped,c["grouped".concat((0,u.Z)(h))],t.props.className),onChange:p?b:w,selected:void 0===t.props.selected?s(t.props.value,y):t.props.selected,size:t.props.size||g}):null})))})),l=(0,c.Z)((function(t){return{root:{display:"inline-flex",borderRadius:t.shape.borderRadius},vertical:{flexDirection:"column"},grouped:{},groupedHorizontal:{"&:not(:first-child)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-child)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}}),{name:"MuiToggleButtonGroup"})(d)},6975:function(t,e,n){"use strict";n.d(e,{tP:function(){return p},NU:function(){return m},ZP:function(){return h}});var i,r=n(2122),a=n(1253),o=n(7294),s=(n(5697),n(5034)),c=n(4013),u=n(246),d=(0,c.Ue)((0,u.Z)()),l=(0,s.Z)(),p=new Map,f={disableGeneration:!1,generateClassName:l,jss:d,sheetsCache:null,sheetsManager:p,sheetsRegistry:null},m=o.createContext(f);function h(t){var e=t.children,n=t.injectFirst,s=void 0!==n&&n,d=t.disableGeneration,l=void 0!==d&&d,p=(0,a.Z)(t,["children","injectFirst","disableGeneration"]),f=o.useContext(m),h=(0,r.Z)({},f,{disableGeneration:l},p);if(!h.jss.options.insertionPoint&&s&&"undefined"!=typeof window){if(!i){var v=document.head;i=document.createComment("mui-inject-first"),v.insertBefore(i,v.firstChild)}h.jss=(0,c.Ue)({plugins:(0,u.Z)().plugins,insertionPoint:i})}return o.createElement(m.Provider,{value:h},e)}},7076:function(t,e){"use strict";var n="function"==typeof Symbol&&Symbol.for;e.Z=n?Symbol.for("mui.nested"):"__THEME_NESTED__"},5034:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(7076),r=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.disableGlobal,n=void 0!==e&&e,a=t.productionPrefix,o=void 0===a?"jss":a,s=t.seed,c=void 0===s?"":s,u=""===c?"":"".concat(c,"-"),d=0,l=function(){return d+=1};return function(t,e){var a=e.options.name;if(a&&0===a.indexOf("Mui")&&!e.options.link&&!n){if(-1!==r.indexOf(t.key))return"Mui-".concat(t.key);var s="".concat(u).concat(a,"-").concat(t.key);return e.options.theme[i.Z]&&""===c?"".concat(s,"-").concat(l()):s}return"".concat(u).concat(o).concat(l())}}},3869:function(t,e,n){"use strict";function i(t){var e=t.theme,n=t.name,i=t.props;if(!e||!e.props||!e.props[n])return i;var r,a=e.props[n];for(r in a)void 0===i[r]&&(i[r]=a[r]);return i}n.d(e,{Z:function(){return i}})},7104:function(t,e,n){"use strict";n.r(e),n.d(e,{ServerStyleSheets:function(){return h},StylesContext:function(){return m.NU},StylesProvider:function(){return m.ZP},ThemeProvider:function(){return w},createGenerateClassName:function(){return i.Z},createStyles:function(){return r},getThemeProps:function(){return a.Z},jssPreset:function(){return o.Z},makeStyles:function(){return s.Z},mergeClasses:function(){return c.Z},sheetsManager:function(){return m.tP},styled:function(){return v.Z},useTheme:function(){return y.Z},withStyles:function(){return b.Z},withTheme:function(){return U},withThemeCreator:function(){return E}});var i=n(5034);function r(t){return t}var a=n(3869),o=n(246),s=n(3914),c=n(5835),u=n(2122),d=n(6610),l=n(5991),p=n(7294),f=n(4013),m=n(6975),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,d.Z)(this,t),this.options=e}return(0,l.Z)(t,[{key:"collect",value:function(t){var e=new Map;this.sheetsRegistry=new f.xE;var n=(0,i.Z)();return p.createElement(m.ZP,(0,u.Z)({sheetsManager:e,serverGenerateClassName:n,sheetsRegistry:this.sheetsRegistry},this.options),t)}},{key:"toString",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():""}},{key:"getStyleElement",value:function(t){return p.createElement("style",(0,u.Z)({id:"jss-server-side",key:"jss-server-side",dangerouslySetInnerHTML:{__html:this.toString()}},t))}}]),t}(),v=n(9699),g=(n(5697),n(3800)),y=n(159),I=n(7076);var w=function(t){var e=t.children,n=t.theme,i=(0,y.Z)(),r=p.useMemo((function(){var t=null===i?n:function(t,e){return"function"==typeof e?e(t):(0,u.Z)({},t,e)}(i,n);return null!=t&&(t[I.Z]=null!==i),t}),[n,i]);return p.createElement(g.Z.Provider,{value:r},e)},b=n(8920),N=n(1253),S=n(8679),P=n.n(S);function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.defaultTheme,n=function(t){var n=p.forwardRef((function(n,i){var r=n.innerRef,a=(0,N.Z)(n,["innerRef"]),o=(0,y.Z)()||e;return p.createElement(t,(0,u.Z)({theme:o,ref:r||i},a))}));return P()(n,t),n};return n}var U=E()},246:function(t,e,n){"use strict";n.d(e,{Z:function(){return Ot}});var i=n(4013),r=Date.now(),a="fnValues"+r,o="fnStyle"+ ++r,s=function(){return{onCreateRule:function(t,e,n){if("function"!=typeof e)return null;var r=(0,i.JH)(t,{},n);return r[o]=e,r},onProcessStyle:function(t,e){if(a in e||o in e)return t;var n={};for(var i in t){var r=t[i];"function"==typeof r&&(delete t[i],n[i]=r)}return e[a]=n,t},onUpdate:function(t,e,n,i){var r=e,s=r[o];s&&(r.style=s(t)||{});var c=r[a];if(c)for(var u in c)r.prop(u,c[u](t),i)}}},c=n(2122),u="@global",d="@global ",l=function(){function t(t,e,n){for(var r in this.type="global",this.at=u,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=t,this.options=n,this.rules=new i.RB((0,c.Z)({},n,{parent:this})),e)this.rules.add(r,e[r]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.addRule=function(t,e,n){var i=this.rules.add(t,e,n);return i&&this.options.jss.plugins.onProcessRule(i),i},e.indexOf=function(t){return this.rules.indexOf(t)},e.toString=function(){return this.rules.toString()},t}(),p=function(){function t(t,e,n){this.type="global",this.at=u,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=t,this.options=n;var i=t.substr(d.length);this.rule=n.jss.createRule(i,e,(0,c.Z)({},n,{parent:this}))}return t.prototype.toString=function(t){return this.rule?this.rule.toString(t):""},t}(),f=/\s*,\s*/g;function m(t,e){for(var n=t.split(f),i="",r=0;r<n.length;r++)i+=e+" "+n[r].trim(),n[r+1]&&(i+=", ");return i}var h=function(){return{onCreateRule:function(t,e,n){if(!t)return null;if(t===u)return new l(t,e,n);if("@"===t[0]&&t.substr(0,d.length)===d)return new p(t,e,n);var i=n.parent;return i&&("global"===i.type||i.options.parent&&"global"===i.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=t),null},onProcessRule:function(t,e){"style"===t.type&&e&&(function(t,e){var n=t.options,i=t.style,r=i?i[u]:null;if(r){for(var a in r)e.addRule(a,r[a],(0,c.Z)({},n,{selector:m(a,t.selector)}));delete i[u]}}(t,e),function(t,e){var n=t.options,i=t.style;for(var r in i)if("@"===r[0]&&r.substr(0,u.length)===u){var a=m(r.substr(u.length),t.selector);e.addRule(a,i[r],(0,c.Z)({},n,{selector:a})),delete i[r]}}(t,e))}}},v=/\s*,\s*/g,g=/&/g,y=/\$([\w-]+)/g;var I=function(){function t(t,e){return function(n,i){var r=t.getRule(i)||e&&e.getRule(i);return r?(r=r).selector:i}}function e(t,e){for(var n=e.split(v),i=t.split(v),r="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<i.length;s++){var c=i[s];r&&(r+=", "),r+=-1!==c.indexOf("&")?c.replace(g,o):o+" "+c}return r}function n(t,e,n){if(n)return(0,c.Z)({},n,{index:n.index+1});var i=t.options.nestingLevel;i=void 0===i?1:i+1;var r=(0,c.Z)({},t.options,{nestingLevel:i,index:e.indexOf(t)+1});return delete r.name,r}return{onProcessStyle:function(i,r,a){if("style"!==r.type)return i;var o,s,u=r,d=u.options.parent;for(var l in i){var p=-1!==l.indexOf("&"),f="@"===l[0];if(p||f){if(o=n(u,d,o),p){var m=e(l,u.selector);s||(s=t(d,a)),m=m.replace(y,s),d.addRule(m,i[l],(0,c.Z)({},o,{selector:m}))}else f&&d.addRule(l,{},o).addRule(u.key,i[l],{selector:u.selector});delete i[l]}}return i}}},w=/[A-Z]/g,b=/^ms-/,N={};function S(t){return"-"+t.toLowerCase()}var P=function(t){if(N.hasOwnProperty(t))return N[t];var e=t.replace(w,S);return N[t]=b.test(e)?"-"+e:e};function E(t){var e={};for(var n in t){e[0===n.indexOf("--")?n:P(n)]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(E):e.fallbacks=E(t.fallbacks)),e}var U=function(){return{onProcessStyle:function(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++)t[e]=E(t[e]);return t}return E(t)},onChangeValue:function(t,e,n){if(0===e.indexOf("--"))return t;var i=P(e);return e===i?t:(n.prop(i,t),null)}}},A=i.HZ&&CSS?CSS.px:"px",D=i.HZ&&CSS?CSS.ms:"ms",M=i.HZ&&CSS?CSS.percent:"%";function T(t){var e=/(-[a-z])/g,n=function(t){return t[1].toUpperCase()},i={};for(var r in t)i[r]=t[r],i[r.replace(e,n)]=t[r];return i}var C=T({"animation-delay":D,"animation-duration":D,"background-position":A,"background-position-x":A,"background-position-y":A,"background-size":A,border:A,"border-bottom":A,"border-bottom-left-radius":A,"border-bottom-right-radius":A,"border-bottom-width":A,"border-left":A,"border-left-width":A,"border-radius":A,"border-right":A,"border-right-width":A,"border-top":A,"border-top-left-radius":A,"border-top-right-radius":A,"border-top-width":A,"border-width":A,"border-block":A,"border-block-end":A,"border-block-end-width":A,"border-block-start":A,"border-block-start-width":A,"border-block-width":A,"border-inline":A,"border-inline-end":A,"border-inline-end-width":A,"border-inline-start":A,"border-inline-start-width":A,"border-inline-width":A,"border-start-start-radius":A,"border-start-end-radius":A,"border-end-start-radius":A,"border-end-end-radius":A,margin:A,"margin-bottom":A,"margin-left":A,"margin-right":A,"margin-top":A,"margin-block":A,"margin-block-end":A,"margin-block-start":A,"margin-inline":A,"margin-inline-end":A,"margin-inline-start":A,padding:A,"padding-bottom":A,"padding-left":A,"padding-right":A,"padding-top":A,"padding-block":A,"padding-block-end":A,"padding-block-start":A,"padding-inline":A,"padding-inline-end":A,"padding-inline-start":A,"mask-position-x":A,"mask-position-y":A,"mask-size":A,height:A,width:A,"min-height":A,"max-height":A,"min-width":A,"max-width":A,bottom:A,left:A,top:A,right:A,inset:A,"inset-block":A,"inset-block-end":A,"inset-block-start":A,"inset-inline":A,"inset-inline-end":A,"inset-inline-start":A,"box-shadow":A,"text-shadow":A,"column-gap":A,"column-rule":A,"column-rule-width":A,"column-width":A,"font-size":A,"font-size-delta":A,"letter-spacing":A,"text-decoration-thickness":A,"text-indent":A,"text-stroke":A,"text-stroke-width":A,"word-spacing":A,motion:A,"motion-offset":A,outline:A,"outline-offset":A,"outline-width":A,perspective:A,"perspective-origin-x":M,"perspective-origin-y":M,"transform-origin":M,"transform-origin-x":M,"transform-origin-y":M,"transform-origin-z":M,"transition-delay":D,"transition-duration":D,"vertical-align":A,"flex-basis":A,"shape-margin":A,size:A,gap:A,grid:A,"grid-gap":A,"row-gap":A,"grid-row-gap":A,"grid-column-gap":A,"grid-template-rows":A,"grid-template-columns":A,"grid-auto-rows":A,"grid-auto-columns":A,"box-shadow-x":A,"box-shadow-y":A,"box-shadow-blur":A,"box-shadow-spread":A,"font-line-height":A,"text-shadow-x":A,"text-shadow-y":A,"text-shadow-blur":A});function R(t,e,n){if(null==e)return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]=R(t,e[i],n);else if("object"==typeof e)if("fallbacks"===t)for(var r in e)e[r]=R(r,e[r],n);else for(var a in e)e[a]=R(t+"-"+a,e[a],n);else if("number"==typeof e&&!1===isNaN(e)){var o=n[t]||C[t];return!o||0===e&&o===A?e.toString():"function"==typeof o?o(e).toString():""+e+o}return e}var x=function(t){void 0===t&&(t={});var e=T(t);return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var i in t)t[i]=R(i,t[i],e);return t},onChangeValue:function(t,n){return R(n,t,e)}}},O=n(3827),L=n(7329),k="",F="",Z="",_="",B=O.Z&&"ontouchstart"in document.documentElement;if(O.Z){var j={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},G=document.createElement("p").style;for(var V in j)if(V+"Transform"in G){k=V,F=j[V];break}"Webkit"===k&&"msHyphens"in G&&(k="ms",F=j.ms,_="edge"),"Webkit"===k&&"-apple-trailing-word"in G&&(Z="apple")}var H=k,W=F,z=Z,K=_,q=B;var $={noPrefill:["appearance"],supportedProperty:function(t){return"appearance"===t&&("ms"===H?"-webkit-"+t:W+t)}},Y={noPrefill:["color-adjust"],supportedProperty:function(t){return"color-adjust"===t&&("Webkit"===H?W+"print-"+t:t)}},J=/[-\s]+(.)?/g;function X(t,e){return e?e.toUpperCase():""}function Q(t){return t.replace(J,X)}function tt(t){return Q("-"+t)}var et,nt={noPrefill:["mask"],supportedProperty:function(t,e){if(!/^mask/.test(t))return!1;if("Webkit"===H){var n="mask-image";if(Q(n)in e)return t;if(H+tt(n)in e)return W+t}return t}},it={noPrefill:["text-orientation"],supportedProperty:function(t){return"text-orientation"===t&&("apple"!==z||q?t:W+t)}},rt={noPrefill:["transform"],supportedProperty:function(t,e,n){return"transform"===t&&(n.transform?t:W+t)}},at={noPrefill:["transition"],supportedProperty:function(t,e,n){return"transition"===t&&(n.transition?t:W+t)}},ot={noPrefill:["writing-mode"],supportedProperty:function(t){return"writing-mode"===t&&("Webkit"===H||"ms"===H&&"edge"!==K?W+t:t)}},st={noPrefill:["user-select"],supportedProperty:function(t){return"user-select"===t&&("Moz"===H||"ms"===H||"apple"===z?W+t:t)}},ct={supportedProperty:function(t,e){return!!/^break-/.test(t)&&("Webkit"===H?"WebkitColumn"+tt(t)in e&&W+"column-"+t:"Moz"===H&&("page"+tt(t)in e&&"page-"+t))}},ut={supportedProperty:function(t,e){if(!/^(border|margin|padding)-inline/.test(t))return!1;if("Moz"===H)return t;var n=t.replace("-inline","");return H+tt(n)in e&&W+n}},dt={supportedProperty:function(t,e){return Q(t)in e&&t}},lt={supportedProperty:function(t,e){var n=tt(t);return"-"===t[0]||"-"===t[0]&&"-"===t[1]?t:H+n in e?W+t:"Webkit"!==H&&"Webkit"+n in e&&"-webkit-"+t}},pt={supportedProperty:function(t){return"scroll-snap"===t.substring(0,11)&&("ms"===H?""+W+t:t)}},ft={supportedProperty:function(t){return"overscroll-behavior"===t&&("ms"===H?W+"scroll-chaining":t)}},mt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},ht={supportedProperty:function(t,e){var n=mt[t];return!!n&&(H+tt(n)in e&&W+n)}},vt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},gt=Object.keys(vt),yt=function(t){return W+t},It=[$,Y,nt,it,rt,at,ot,st,ct,ut,dt,lt,pt,ft,ht,{supportedProperty:function(t,e,n){var i=n.multiple;if(gt.indexOf(t)>-1){var r=vt[t];if(!Array.isArray(r))return H+tt(r)in e&&W+r;if(!i)return!1;for(var a=0;a<r.length;a++)if(!(H+tt(r[0])in e))return!1;return r.map(yt)}return!1}}],wt=It.filter((function(t){return t.supportedProperty})).map((function(t){return t.supportedProperty})),bt=It.filter((function(t){return t.noPrefill})).reduce((function(t,e){return t.push.apply(t,(0,L.Z)(e.noPrefill)),t}),[]),Nt={};if(O.Z){et=document.createElement("p");var St=window.getComputedStyle(document.documentElement,"");for(var Pt in St)isNaN(Pt)||(Nt[St[Pt]]=St[Pt]);bt.forEach((function(t){return delete Nt[t]}))}function Et(t,e){if(void 0===e&&(e={}),!et)return t;if(null!=Nt[t])return Nt[t];"transition"!==t&&"transform"!==t||(e[t]=t in et.style);for(var n=0;n<wt.length&&(Nt[t]=wt[n](t,et.style,e),!Nt[t]);n++);try{et.style[t]=""}catch(i){return!1}return Nt[t]}var Ut,At={},Dt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Mt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Tt(t,e,n){if("var"===e)return"var";if("all"===e)return"all";if("all"===n)return", all";var i=e?Et(e):", "+Et(n);return i||(e||n)}function Ct(t,e){var n=e;if(!Ut||"content"===t)return e;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var i=t+n;if(null!=At[i])return At[i];try{Ut.style[t]=n}catch(r){return At[i]=!1,!1}if(Dt[t])n=n.replace(Mt,Tt);else if(""===Ut.style[t]&&("-ms-flex"===(n=W+n)&&(Ut.style[t]="-ms-flexbox"),Ut.style[t]=n,""===Ut.style[t]))return At[i]=!1,!1;return Ut.style[t]="",At[i]=n,At[i]}O.Z&&(Ut=document.createElement("p"));var Rt=function(){function t(e){for(var n in e){var r=e[n];if("fallbacks"===n&&Array.isArray(r))e[n]=r.map(t);else{var a=!1,o=Et(n);o&&o!==n&&(a=!0);var s=!1,c=Ct(o,(0,i.EK)(r));c&&c!==r&&(s=!0),(a||s)&&(a&&delete e[n],e[o||n]=c||r)}}return e}return{onProcessRule:function(t){if("keyframes"===t.type){var e=t;e.at=function(t){return"-"===t[1]||"ms"===H?t:"@"+W+"keyframes"+t.substr(10)}(e.at)}},onProcessStyle:function(e,n){return"style"!==n.type?e:t(e)},onChangeValue:function(t,e){return Ct(e,(0,i.EK)(t))||t}}};var xt=function(){var t=function(t,e){return t.length===e.length?t>e?1:-1:t.length-e.length};return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var i={},r=Object.keys(e).sort(t),a=0;a<r.length;a++)i[r[a]]=e[r[a]];return i}}};function Ot(){return{plugins:[s(),h(),I(),U(),x(),"undefined"==typeof window?null:Rt(),xt()]}}},3914:function(t,e,n){"use strict";n.d(e,{Z:function(){return b}});var i=n(1253),r=n(2122),a=n(7294),o=n(4013),s=n(5835),c={set:function(t,e,n,i){var r=t.get(e);r||(r=new Map,t.set(e,r)),r.set(n,i)},get:function(t,e,n){var i=t.get(e);return i?i.get(n):void 0},delete:function(t,e,n){t.get(e).delete(n)}},u=n(159),d=n(6975),l=-1e9;function p(){return l+=1}var f=n(5953);function m(t){var e="function"==typeof t;return{create:function(n,i){var a;try{a=e?t(n):t}catch(c){throw c}if(!i||!n.overrides||!n.overrides[i])return a;var o=n.overrides[i],s=(0,r.Z)({},a);return Object.keys(o).forEach((function(t){s[t]=(0,f.Z)(s[t],o[t])})),s},options:{}}}var h={};function v(t,e,n){var i=t.state;if(t.stylesOptions.disableGeneration)return e||{};i.cacheClasses||(i.cacheClasses={value:null,lastProp:null,lastJSS:{}});var r=!1;return i.classes!==i.cacheClasses.lastJSS&&(i.cacheClasses.lastJSS=i.classes,r=!0),e!==i.cacheClasses.lastProp&&(i.cacheClasses.lastProp=e,r=!0),r&&(i.cacheClasses.value=(0,s.Z)({baseClasses:i.cacheClasses.lastJSS,newClasses:e,Component:n})),i.cacheClasses.value}function g(t,e){var n=t.state,i=t.theme,a=t.stylesOptions,u=t.stylesCreator,d=t.name;if(!a.disableGeneration){var l=c.get(a.sheetsManager,u,i);l||(l={refs:0,staticSheet:null,dynamicStyles:null},c.set(a.sheetsManager,u,i,l));var p=(0,r.Z)({},u.options,a,{theme:i,flip:"boolean"==typeof a.flip?a.flip:"rtl"===i.direction});p.generateId=p.serverGenerateClassName||p.generateClassName;var f=a.sheetsRegistry;if(0===l.refs){var m;a.sheetsCache&&(m=c.get(a.sheetsCache,u,i));var h=u.create(i,d);m||((m=a.jss.createStyleSheet(h,(0,r.Z)({link:!1},p))).attach(),a.sheetsCache&&c.set(a.sheetsCache,u,i,m)),f&&f.add(m),l.staticSheet=m,l.dynamicStyles=(0,o._$)(h)}if(l.dynamicStyles){var v=a.jss.createStyleSheet(l.dynamicStyles,(0,r.Z)({link:!0},p));v.update(e),v.attach(),n.dynamicSheet=v,n.classes=(0,s.Z)({baseClasses:l.staticSheet.classes,newClasses:v.classes}),f&&f.add(v)}else n.classes=l.staticSheet.classes;l.refs+=1}}function y(t,e){var n=t.state;n.dynamicSheet&&n.dynamicSheet.update(e)}function I(t){var e=t.state,n=t.theme,i=t.stylesOptions,r=t.stylesCreator;if(!i.disableGeneration){var a=c.get(i.sheetsManager,r,n);a.refs-=1;var o=i.sheetsRegistry;0===a.refs&&(c.delete(i.sheetsManager,r,n),i.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),e.dynamicSheet&&(i.jss.removeStyleSheet(e.dynamicSheet),o&&o.remove(e.dynamicSheet))}}function w(t,e){var n,i=a.useRef([]),r=a.useMemo((function(){return{}}),e);i.current!==r&&(i.current=r,n=t()),a.useEffect((function(){return function(){n&&n()}}),[r])}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.name,o=e.classNamePrefix,s=e.Component,c=e.defaultTheme,l=void 0===c?h:c,f=(0,i.Z)(e,["name","classNamePrefix","Component","defaultTheme"]),b=m(t),N=n||o||"makeStyles";b.options={index:p(),name:n,meta:N,classNamePrefix:N};var S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,u.Z)()||l,i=(0,r.Z)({},a.useContext(d.NU),f),o=a.useRef(),c=a.useRef();w((function(){var r={name:n,state:{},stylesCreator:b,stylesOptions:i,theme:e};return g(r,t),c.current=!1,o.current=r,function(){I(r)}}),[e,b]),a.useEffect((function(){c.current&&y(o.current,t),c.current=!0}));var p=v(o.current,t.classes,s);return p};return S}},5835:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(2122);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.baseClasses,n=t.newClasses;t.Component;if(!n)return e;var r=(0,i.Z)({},e);return Object.keys(n).forEach((function(t){n[t]&&(r[t]="".concat(e[t]," ").concat(n[t]))})),r}},9699:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var i=n(2122),r=n(1253),a=n(7294),o=n(6010),s=(n(5697),n(8679)),c=n.n(s),u=n(3914);function d(t,e){var n={};return Object.keys(t).forEach((function(i){-1===e.indexOf(i)&&(n[i]=t[i])})),n}function l(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=n.name,l=(0,r.Z)(n,["name"]);var p,f=s,m="function"==typeof e?function(t){return{root:function(n){return e((0,i.Z)({theme:t},n))}}}:{root:e},h=(0,u.Z)(m,(0,i.Z)({Component:t,name:s||t.displayName,classNamePrefix:f},l));e.filterProps&&(p=e.filterProps,delete e.filterProps),e.propTypes&&(e.propTypes,delete e.propTypes);var v=a.forwardRef((function(e,n){var s=e.children,c=e.className,u=e.clone,l=e.component,f=(0,r.Z)(e,["children","className","clone","component"]),m=h(e),v=(0,o.Z)(m.root,c),g=f;if(p&&(g=d(g,p)),u)return a.cloneElement(s,(0,i.Z)({className:(0,o.Z)(s.props.className,v)},g));if("function"==typeof s)return s((0,i.Z)({className:v},g));var y=l||t;return a.createElement(y,(0,i.Z)({ref:n,className:v},g),s)}));return c()(v,t),v}}},3800:function(t,e,n){"use strict";var i=n(7294).createContext(null);e.Z=i},159:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(7294),r=n(3800);function a(){return i.useContext(r.Z)}},8920:function(t,e,n){"use strict";var i=n(2122),r=n(1253),a=n(7294),o=(n(5697),n(8679)),s=n.n(o),c=n(3914),u=n(3869),d=n(159);e.Z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=e.defaultTheme,l=e.withTheme,p=void 0!==l&&l,f=e.name,m=(0,r.Z)(e,["defaultTheme","withTheme","name"]);var h=f,v=(0,c.Z)(t,(0,i.Z)({defaultTheme:o,Component:n,name:f||n.displayName,classNamePrefix:h},m)),g=a.forwardRef((function(t,e){t.classes;var s,c=t.innerRef,l=(0,r.Z)(t,["classes","innerRef"]),m=v((0,i.Z)({},n.defaultProps,t)),h=l;return("string"==typeof f||p)&&(s=(0,d.Z)()||o,f&&(h=(0,u.Z)({theme:s,name:f,props:l})),p&&!h.theme&&(h.theme=s)),a.createElement(n,(0,i.Z)({ref:c||e,classes:m},h))}));return s()(g,n),g}}},9424:function(t,e,n){"use strict";n.d(e,{Cg:function(){return o},j1:function(){return s},vQ:function(){return c},h$:function(){return u},sc:function(){return d},tv:function(){return l},E0:function(){return p}});var i=n(8245),r=n(5680);function a(t){return"number"!=typeof t?t:"".concat(t,"px solid")}var o=(0,i.Z)({prop:"border",themeKey:"borders",transform:a}),s=(0,i.Z)({prop:"borderTop",themeKey:"borders",transform:a}),c=(0,i.Z)({prop:"borderRight",themeKey:"borders",transform:a}),u=(0,i.Z)({prop:"borderBottom",themeKey:"borders",transform:a}),d=(0,i.Z)({prop:"borderLeft",themeKey:"borders",transform:a}),l=(0,i.Z)({prop:"borderColor",themeKey:"palette"}),p=(0,i.Z)({prop:"borderRadius",themeKey:"shape"}),f=(0,r.Z)(o,s,c,u,d,l,p);e.ZP=f},1410:function(t,e,n){"use strict";n.d(e,{k:function(){return u}});var i=n(7329),r=n(2122),a=n(484),o=(n(5697),n(9668)),s={xs:0,sm:600,md:960,lg:1280,xl:1920},c={keys:["xs","sm","md","lg","xl"],up:function(t){return"@media (min-width:".concat(s[t],"px)")}};function u(t,e,n){if(Array.isArray(e)){var i=t.theme.breakpoints||c;return e.reduce((function(t,r,a){return t[i.up(i.keys[a])]=n(e[a]),t}),{})}if("object"===(0,a.Z)(e)){var r=t.theme.breakpoints||c;return Object.keys(e).reduce((function(t,i){return t[r.up(i)]=n(e[i]),t}),{})}return n(e)}e.Z=function(t){var e=function(e){var n=t(e),i=e.theme.breakpoints||c,a=i.keys.reduce((function(n,a){return e[a]&&((n=n||{})[i.up(a)]=t((0,r.Z)({theme:e.theme},e[a]))),n}),null);return(0,o.Z)(n,a)};return e.propTypes={},e.filterProps=["xs","sm","md","lg","xl"].concat((0,i.Z)(t.filterProps)),e}},5680:function(t,e,n){"use strict";var i=n(9668);e.Z=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=function(t){return e.reduce((function(e,n){var r=n(t);return r?(0,i.Z)(e,r):e}),{})};return r.propTypes={},r.filterProps=e.reduce((function(t,e){return t.concat(e.filterProps)}),[]),r}},119:function(t,e,n){"use strict";var i=n(7329),r=n(2122),a=(n(5697),n(9668));e.Z=function(t){var e=function(e){var n=t(e);return e.css?(0,r.Z)({},(0,a.Z)(n,t((0,r.Z)({theme:e.theme},e.css))),function(t,e){var n={};return Object.keys(t).forEach((function(i){-1===e.indexOf(i)&&(n[i]=t[i])})),n}(e.css,[t.filterProps])):n};return e.propTypes={},e.filterProps=["css"].concat((0,i.Z)(t.filterProps)),e}},962:function(t,e,n){"use strict";var i=n(8245),r=n(5680),a=(0,i.Z)({prop:"displayPrint",cssProperty:!1,transform:function(t){return{"@media print":{display:t}}}}),o=(0,i.Z)({prop:"display"}),s=(0,i.Z)({prop:"overflow"}),c=(0,i.Z)({prop:"textOverflow"}),u=(0,i.Z)({prop:"visibility"}),d=(0,i.Z)({prop:"whiteSpace"});e.ZP=(0,r.Z)(a,o,s,c,u,d)},3633:function(t,e,n){"use strict";n.d(e,{P_:function(){return a},Me:function(){return o},WO:function(){return s},Kl:function(){return c},cq:function(){return u},Kv:function(){return d},vm:function(){return l},fU:function(){return p},H7:function(){return f},i4:function(){return m},uk:function(){return h},eY:function(){return v},zo:function(){return g}});var i=n(8245),r=n(5680),a=(0,i.Z)({prop:"flexBasis"}),o=(0,i.Z)({prop:"flexDirection"}),s=(0,i.Z)({prop:"flexWrap"}),c=(0,i.Z)({prop:"justifyContent"}),u=(0,i.Z)({prop:"alignItems"}),d=(0,i.Z)({prop:"alignContent"}),l=(0,i.Z)({prop:"order"}),p=(0,i.Z)({prop:"flex"}),f=(0,i.Z)({prop:"flexGrow"}),m=(0,i.Z)({prop:"flexShrink"}),h=(0,i.Z)({prop:"alignSelf"}),v=(0,i.Z)({prop:"justifyItems"}),g=(0,i.Z)({prop:"justifySelf"}),y=(0,r.Z)(a,o,s,c,u,d,l,p,f,m,h,v,g);e.ZP=y},6427:function(t,e,n){"use strict";n.d(e,{Cc:function(){return a},W3:function(){return o},Ub:function(){return s},t4:function(){return c},oI:function(){return u},B:function(){return d},aN:function(){return l},FW:function(){return p},K$:function(){return f},RG:function(){return m},zI:function(){return h},fD:function(){return v}});var i=n(8245),r=n(5680),a=(0,i.Z)({prop:"gridGap"}),o=(0,i.Z)({prop:"gridColumnGap"}),s=(0,i.Z)({prop:"gridRowGap"}),c=(0,i.Z)({prop:"gridColumn"}),u=(0,i.Z)({prop:"gridRow"}),d=(0,i.Z)({prop:"gridAutoFlow"}),l=(0,i.Z)({prop:"gridAutoColumns"}),p=(0,i.Z)({prop:"gridAutoRows"}),f=(0,i.Z)({prop:"gridTemplateColumns"}),m=(0,i.Z)({prop:"gridTemplateRows"}),h=(0,i.Z)({prop:"gridTemplateAreas"}),v=(0,i.Z)({prop:"gridArea"}),g=(0,r.Z)(a,o,s,c,u,d,l,p,f,m,h,v);e.ZP=g},1151:function(t,e,n){"use strict";n.r(e),n.d(e,{borders:function(){return i.ZP},border:function(){return i.Cg},borderBottom:function(){return i.h$},borderColor:function(){return i.tv},borderLeft:function(){return i.sc},borderRadius:function(){return i.E0},borderRight:function(){return i.vQ},borderTop:function(){return i.j1},breakpoints:function(){return r.Z},compose:function(){return a.Z},css:function(){return o.Z},display:function(){return s.ZP},flexbox:function(){return c.ZP},alignContent:function(){return c.Kv},alignItems:function(){return c.cq},alignSelf:function(){return c.uk},flex:function(){return c.fU},flexBasis:function(){return c.P_},flexDirection:function(){return c.Me},flexGrow:function(){return c.H7},flexShrink:function(){return c.i4},flexWrap:function(){return c.WO},justifyContent:function(){return c.Kl},justifyItems:function(){return c.eY},justifySelf:function(){return c.zo},order:function(){return c.vm},grid:function(){return u.ZP},gridArea:function(){return u.fD},gridAutoColumns:function(){return u.aN},gridAutoFlow:function(){return u.B},gridAutoRows:function(){return u.FW},gridColumn:function(){return u.t4},gridColumnGap:function(){return u.W3},gridGap:function(){return u.Cc},gridRow:function(){return u.oI},gridRowGap:function(){return u.Ub},gridTemplateAreas:function(){return u.zI},gridTemplateColumns:function(){return u.K$},gridTemplateRows:function(){return u.RG},palette:function(){return d.ZP},bgcolor:function(){return d.n9},color:function(){return d.$_},positions:function(){return l.ZP},bottom:function(){return l.I},left:function(){return l.t$},position:function(){return l.FK},right:function(){return l.F2},top:function(){return l.we},zIndex:function(){return l.W5},shadows:function(){return p.Z},sizing:function(){return f.ZP},boxSizing:function(){return f.ix},height:function(){return f.Cb},maxHeight:function(){return f.kC},maxWidth:function(){return f.kk},minHeight:function(){return f.jw},minWidth:function(){return f.ih},sizeHeight:function(){return f.Vs},sizeWidth:function(){return f.lO},width:function(){return f.bf},spacing:function(){return m.Z},createUnarySpacing:function(){return m.h},style:function(){return h.Z},typography:function(){return v.ZP},fontFamily:function(){return v.I8},fontSize:function(){return v.JB},fontStyle:function(){return v.p_},fontWeight:function(){return v.Ue},letterSpacing:function(){return v.rX},lineHeight:function(){return v.Nv},textAlign:function(){return v.yd}});var i=n(9424),r=n(1410),a=n(5680),o=n(119),s=n(962),c=n(3633),u=n(6427),d=n(5164),l=n(3939),p=n(958),f=n(6801),m=n(8681),h=n(8245),v=n(9560)},9668:function(t,e,n){"use strict";var i=n(5953);e.Z=function(t,e){return e?(0,i.Z)(t,e,{clone:!1}):t}},5164:function(t,e,n){"use strict";n.d(e,{$_:function(){return a},n9:function(){return o}});var i=n(8245),r=n(5680),a=(0,i.Z)({prop:"color",themeKey:"palette"}),o=(0,i.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),s=(0,r.Z)(a,o);e.ZP=s},3939:function(t,e,n){"use strict";n.d(e,{FK:function(){return a},W5:function(){return o},we:function(){return s},F2:function(){return c},I:function(){return u},t$:function(){return d}});var i=n(8245),r=n(5680),a=(0,i.Z)({prop:"position"}),o=(0,i.Z)({prop:"zIndex",themeKey:"zIndex"}),s=(0,i.Z)({prop:"top"}),c=(0,i.Z)({prop:"right"}),u=(0,i.Z)({prop:"bottom"}),d=(0,i.Z)({prop:"left"});e.ZP=(0,r.Z)(a,o,s,c,u,d)},958:function(t,e,n){"use strict";var i=(0,n(8245).Z)({prop:"boxShadow",themeKey:"shadows"});e.Z=i},6801:function(t,e,n){"use strict";n.d(e,{bf:function(){return o},kk:function(){return s},ih:function(){return c},Cb:function(){return u},kC:function(){return d},jw:function(){return l},lO:function(){return p},Vs:function(){return f},ix:function(){return m}});var i=n(8245),r=n(5680);function a(t){return t<=1?"".concat(100*t,"%"):t}var o=(0,i.Z)({prop:"width",transform:a}),s=(0,i.Z)({prop:"maxWidth",transform:a}),c=(0,i.Z)({prop:"minWidth",transform:a}),u=(0,i.Z)({prop:"height",transform:a}),d=(0,i.Z)({prop:"maxHeight",transform:a}),l=(0,i.Z)({prop:"minHeight",transform:a}),p=(0,i.Z)({prop:"size",cssProperty:"width",transform:a}),f=(0,i.Z)({prop:"size",cssProperty:"height",transform:a}),m=(0,i.Z)({prop:"boxSizing"}),h=(0,r.Z)(o,s,c,u,d,l,m);e.ZP=h},8681:function(t,e,n){"use strict";n.d(e,{h:function(){return f},Z:function(){return v}});var i=n(4699),r=n(1410),a=n(9668);var o,s,c={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},d={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=(o=function(t){if(t.length>2){if(!d[t])return[t];t=d[t]}var e=t.split(""),n=(0,i.Z)(e,2),r=n[0],a=n[1],o=c[r],s=u[a]||"";return Array.isArray(s)?s.map((function(t){return o+t})):[o+s]},s={},function(t){return void 0===s[t]&&(s[t]=o(t)),s[t]}),p=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function f(t){var e=t.spacing||8;return"number"==typeof e?function(t){return e*t}:Array.isArray(e)?function(t){return e[t]}:"function"==typeof e?e:function(){}}function m(t,e){return function(n){return t.reduce((function(t,i){return t[i]=function(t,e){if("string"==typeof e||null==e)return e;var n=t(Math.abs(e));return e>=0?n:"number"==typeof n?-n:"-".concat(n)}(e,n),t}),{})}}function h(t){var e=f(t.theme);return Object.keys(t).map((function(n){if(-1===p.indexOf(n))return null;var i=m(l(n),e),a=t[n];return(0,r.k)(t,a,i)})).reduce(a.Z,{})}h.propTypes={},h.filterProps=p;var v=h},8245:function(t,e,n){"use strict";var i=n(6156),r=n(1410);function a(t,e){return e&&"string"==typeof e?e.split(".").reduce((function(t,e){return t&&t[e]?t[e]:null}),t):null}e.Z=function(t){var e=t.prop,n=t.cssProperty,o=void 0===n?t.prop:n,s=t.themeKey,c=t.transform,u=function(t){if(null==t[e])return null;var n=t[e],u=a(t.theme,s)||{};return(0,r.k)(t,n,(function(t){var e;return"function"==typeof u?e=u(t):Array.isArray(u)?e=u[t]||t:(e=a(u,t)||t,c&&(e=c(e))),!1===o?e:(0,i.Z)({},o,e)}))};return u.propTypes={},u.filterProps=[e],u}},9560:function(t,e,n){"use strict";n.d(e,{I8:function(){return a},JB:function(){return o},p_:function(){return s},Ue:function(){return c},rX:function(){return u},Nv:function(){return d},yd:function(){return l}});var i=n(8245),r=n(5680),a=(0,i.Z)({prop:"fontFamily",themeKey:"typography"}),o=(0,i.Z)({prop:"fontSize",themeKey:"typography"}),s=(0,i.Z)({prop:"fontStyle",themeKey:"typography"}),c=(0,i.Z)({prop:"fontWeight",themeKey:"typography"}),u=(0,i.Z)({prop:"letterSpacing"}),d=(0,i.Z)({prop:"lineHeight"}),l=(0,i.Z)({prop:"textAlign"}),p=(0,r.Z)(a,o,s,c,u,d,l);e.ZP=p},5953:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=n(2122),r=n(484);function a(t){return t&&"object"===(0,r.Z)(t)&&t.constructor===Object}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,i.Z)({},t):t;return a(t)&&a(e)&&Object.keys(e).forEach((function(i){"__proto__"!==i&&(a(e[i])&&i in t?r[i]=o(t[i],e[i],n):r[i]=e[i])})),r}},288:function(t,e,n){"use strict";function i(t){for(var e="https://material-ui.com/production-error/?code="+t,n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+t+"; visit "+e+" for the full message."}n.d(e,{Z:function(){return i}})},5218:function(t,e,n){"use strict";function i(t,e){return function(){return null}}n.r(e),n.d(e,{HTMLElementType:function(){return I},chainPropTypes:function(){return i},deepmerge:function(){return r.Z},elementAcceptingRef:function(){return c},elementTypeAcceptingRef:function(){return u},exactProp:function(){return d},formatMuiErrorMessage:function(){return l.Z},getDisplayName:function(){return y},ponyfillGlobal:function(){return w},refType:function(){return b}});var r=n(5953),a=n(5697),o=n.n(a);var s=(o().element,function(){return null});s.isRequired=(o().element.isRequired,function(){return null});var c=s;var u=(a.elementType,function(){return null});n(6156),n(2122);function d(t){return t}var l=n(288),p=n(484),f=n(9864),m=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function h(t){var e="".concat(t).match(m);return e&&e[1]||""}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.displayName||t.name||h(t)||e}function g(t,e,n){var i=v(e);return t.displayName||(""!==i?"".concat(n,"(").concat(i,")"):n)}function y(t){if(null!=t){if("string"==typeof t)return t;if("function"==typeof t)return v(t,"Component");if("object"===(0,p.Z)(t))switch(t.$$typeof){case f.ForwardRef:return g(t,t.render,"ForwardRef");case f.Memo:return g(t,t.type,"memo");default:return}}}function I(t,e,n,i,r){return null}var w="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),b=o().oneOfType([o().func,o().object])},4184:function(t,e){var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var a=typeof n;if("string"===a||"number"===a)t.push(n);else if(Array.isArray(n)){if(n.length){var o=r.apply(null,n);o&&t.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)i.call(n,s)&&n[s]&&t.push(s);else t.push(n.toString())}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):void 0===(n=function(){return r}.apply(e,[]))||(t.exports=n)}()},3827:function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof document?"undefined":i(document))&&9===document.nodeType;e.Z=r},4013:function(t,e,n){"use strict";n.d(e,{RB:function(){return K},xE:function(){return Y},Ue:function(){return gt},JH:function(){return l},_$:function(){return ht},HZ:function(){return vt},EK:function(){return f}});var i=n(2122),r=n(3827),a=n(5991),o=n(3552),s=n(3349),c=n(9756),u={}.constructor;function d(t){if(null==t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(d);if(t.constructor!==u)return t;var e={};for(var n in t)e[n]=d(t[n]);return e}function l(t,e,n){void 0===t&&(t="unnamed");var i=n.jss,r=d(e),a=i.plugins.onCreateRule(t,r,n);return a||(t[0],null)}var p=function(t,e){for(var n="",i=0;i<t.length&&"!important"!==t[i];i++)n&&(n+=e),n+=t[i];return n},f=function(t,e){if(void 0===e&&(e=!1),!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var i=0;i<t.length&&"!important"!==t[i];i++)n&&(n+=", "),n+=p(t[i]," ");else n=p(t,", ");return e||"!important"!==t[t.length-1]||(n+=" !important"),n};function m(t,e){for(var n="",i=0;i<e;i++)n+="  ";return n+t}function h(t,e,n){void 0===n&&(n={});var i="";if(!e)return i;var r=n.indent,a=void 0===r?0:r,o=e.fallbacks;if(t&&a++,o)if(Array.isArray(o))for(var s=0;s<o.length;s++){var c=o[s];for(var u in c){var d=c[u];null!=d&&(i&&(i+="\n"),i+=""+m(u+": "+f(d)+";",a))}}else for(var l in o){var p=o[l];null!=p&&(i&&(i+="\n"),i+=""+m(l+": "+f(p)+";",a))}for(var h in e){var v=e[h];null!=v&&"fallbacks"!==h&&(i&&(i+="\n"),i+=""+m(h+": "+f(v)+";",a))}return(i||n.allowEmpty)&&t?(i&&(i="\n"+i+"\n"),m(t+" {"+i,--a)+m("}",a)):i}var v=/([[\].#*$><+~=|^:(),"'`\s])/g,g="undefined"!=typeof CSS&&CSS.escape,y=function(t){return g?g(t):t.replace(v,"\\$1")},I=function(){function t(t,e,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var i=n.sheet,r=n.Renderer;this.key=t,this.options=n,this.style=e,i?this.renderer=i.renderer:r&&(this.renderer=new r)}return t.prototype.prop=function(t,e,n){if(void 0===e)return this.style[t];var i=!!n&&n.force;if(!i&&this.style[t]===e)return this;var r=e;n&&!1===n.process||(r=this.options.jss.plugins.onChangeValue(e,t,this));var a=null==r||!1===r,o=t in this.style;if(a&&!o&&!i)return this;var s=a&&o;if(s?delete this.style[t]:this.style[t]=r,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,r),this;var c=this.options.sheet;return c&&c.attached,this},t}(),w=function(t){function e(e,n,i){var r;(r=t.call(this,e,n,i)||this).selectorText=void 0,r.id=void 0,r.renderable=void 0;var a=i.selector,o=i.scoped,c=i.sheet,u=i.generateId;return a?r.selectorText=a:!1!==o&&(r.id=u((0,s.Z)((0,s.Z)(r)),c),r.selectorText="."+y(r.id)),r}(0,o.Z)(e,t);var n=e.prototype;return n.applyTo=function(t){var e=this.renderer;if(e){var n=this.toJSON();for(var i in n)e.setProperty(t,i,n[i])}return this},n.toJSON=function(){var t={};for(var e in this.style){var n=this.style[e];"object"!=typeof n?t[e]=n:Array.isArray(n)&&(t[e]=f(n))}return t},n.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?(0,i.Z)({},t,{allowEmpty:!0}):t;return h(this.selectorText,this.style,n)},(0,a.Z)(e,[{key:"selector",set:function(t){if(t!==this.selectorText){this.selectorText=t;var e=this.renderer,n=this.renderable;if(n&&e)e.setSelector(n,t)||e.replaceRule(n,this)}},get:function(){return this.selectorText}}]),e}(I),b={onCreateRule:function(t,e,n){return"@"===t[0]||n.parent&&"keyframes"===n.parent.type?null:new w(t,e,n)}},N={indent:1,children:!0},S=/@([\w-]+)/,P=function(){function t(t,e,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t;var r=t.match(S);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new K((0,i.Z)({},n,{parent:this})),e)this.rules.add(a,e[a]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.indexOf=function(t){return this.rules.indexOf(t)},e.addRule=function(t,e,n){var i=this.rules.add(t,e,n);return i?(this.options.jss.plugins.onProcessRule(i),i):null},e.toString=function(t){if(void 0===t&&(t=N),null==t.indent&&(t.indent=N.indent),null==t.children&&(t.children=N.children),!1===t.children)return this.query+" {}";var e=this.rules.toString(t);return e?this.query+" {\n"+e+"\n}":""},t}(),E=/@media|@supports\s+/,U={onCreateRule:function(t,e,n){return E.test(t)?new P(t,e,n):null}},A={indent:1,children:!0},D=/@keyframes\s+([\w-]+)/,M=function(){function t(t,e,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=t.match(D);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,s=n.generateId;for(var c in this.id=!1===a?this.name:y(s(this,o)),this.rules=new K((0,i.Z)({},n,{parent:this})),e)this.rules.add(c,e[c],(0,i.Z)({},n,{parent:this}));this.rules.process()}return t.prototype.toString=function(t){if(void 0===t&&(t=A),null==t.indent&&(t.indent=A.indent),null==t.children&&(t.children=A.children),!1===t.children)return this.at+" "+this.id+" {}";var e=this.rules.toString(t);return e&&(e="\n"+e+"\n"),this.at+" "+this.id+" {"+e+"}"},t}(),T=/@keyframes\s+/,C=/\$([\w-]+)/g,R=function(t,e){return"string"==typeof t?t.replace(C,(function(t,n){return n in e?e[n]:t})):t},x=function(t,e,n){var i=t[e],r=R(i,n);r!==i&&(t[e]=r)},O={onCreateRule:function(t,e,n){return"string"==typeof t&&T.test(t)?new M(t,e,n):null},onProcessStyle:function(t,e,n){return"style"===e.type&&n?("animation-name"in t&&x(t,"animation-name",n.keyframes),"animation"in t&&x(t,"animation",n.keyframes),t):t},onChangeValue:function(t,e,n){var i=n.options.sheet;if(!i)return t;switch(e){case"animation":case"animation-name":return R(t,i.keyframes);default:return t}}},L=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).renderable=void 0,e}return(0,o.Z)(e,t),e.prototype.toString=function(t){var e=this.options.sheet,n=!!e&&e.options.link?(0,i.Z)({},t,{allowEmpty:!0}):t;return h(this.key,this.style,n)},e}(I),k={onCreateRule:function(t,e,n){return n.parent&&"keyframes"===n.parent.type?new L(t,e,n):null}},F=function(){function t(t,e,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.style)){for(var e="",n=0;n<this.style.length;n++)e+=h(this.at,this.style[n]),this.style[n+1]&&(e+="\n");return e}return h(this.at,this.style,t)},t}(),Z=/@font-face/,_={onCreateRule:function(t,e,n){return Z.test(t)?new F(t,e,n):null}},B=function(){function t(t,e,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=e,this.options=n}return t.prototype.toString=function(t){return h(this.key,this.style,t)},t}(),j={onCreateRule:function(t,e,n){return"@viewport"===t||"@-ms-viewport"===t?new B(t,e,n):null}},G=function(){function t(t,e,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.value=e,this.options=n}return t.prototype.toString=function(t){if(Array.isArray(this.value)){for(var e="",n=0;n<this.value.length;n++)e+=this.key+" "+this.value[n]+";",this.value[n+1]&&(e+="\n");return e}return this.key+" "+this.value+";"},t}(),V={"@charset":!0,"@import":!0,"@namespace":!0},H=[b,U,O,k,_,j,{onCreateRule:function(t,e,n){return t in V?new G(t,e,n):null}}],W={process:!0},z={force:!0,process:!0},K=function(){function t(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=t.prototype;return e.add=function(t,e,n){var r=this.options,a=r.parent,o=r.sheet,s=r.jss,c=r.Renderer,u=r.generateId,d=r.scoped,p=(0,i.Z)({classes:this.classes,parent:a,sheet:o,jss:s,Renderer:c,generateId:u,scoped:d,name:t,keyframes:this.keyframes,selector:void 0},n),f=t;t in this.raw&&(f=t+"-d"+this.counter++),this.raw[f]=e,f in this.classes&&(p.selector="."+y(this.classes[f]));var m=l(f,e,p);if(!m)return null;this.register(m);var h=void 0===p.index?this.index.length:p.index;return this.index.splice(h,0,m),m},e.get=function(t){return this.map[t]},e.remove=function(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf=function(t){return this.index.indexOf(t)},e.process=function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register=function(t){this.map[t.key]=t,t instanceof w?(this.map[t.selector]=t,t.id&&(this.classes[t.key]=t.id)):t instanceof M&&this.keyframes&&(this.keyframes[t.name]=t.id)},e.unregister=function(t){delete this.map[t.key],t instanceof w?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof M&&delete this.keyframes[t.name]},e.update=function(){var t,e,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],t=null),t)this.updateOne(this.map[t],e,n);else for(var i=0;i<this.index.length;i++)this.updateOne(this.index[i],e,n)},e.updateOne=function(e,n,i){void 0===i&&(i=W);var r=this.options,a=r.jss.plugins,o=r.sheet;if(e.rules instanceof t)e.rules.update(n,i);else{var s=e,c=s.style;if(a.onUpdate(n,e,o,i),i.process&&c&&c!==s.style){for(var u in a.onProcessStyle(s.style,s,o),s.style){var d=s.style[u];d!==c[u]&&s.prop(u,d,z)}for(var l in c){var p=s.style[l],f=c[l];null==p&&p!==f&&s.prop(l,null,z)}}}},e.toString=function(t){for(var e="",n=this.options.sheet,i=!!n&&n.options.link,r=0;r<this.index.length;r++){var a=this.index[r].toString(t);(a||i)&&(e&&(e+="\n"),e+=a)}return e},t}(),q=function(){function t(t,e){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,i.Z)({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer&&(this.renderer=new e.Renderer(this)),this.rules=new K(this.options),t)this.rules.add(n,t[n]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(t,e,n){var i=this.queue;this.attached&&!i&&(this.queue=[]);var r=this.rules.add(t,e,n);return r?(this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(i?i.push(r):(this.insertRule(r),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),r):r:(this.deployed=!1,r)):null},e.insertRule=function(t){this.renderer&&this.renderer.insertRule(t)},e.addRules=function(t,e){var n=[];for(var i in t){var r=this.addRule(i,t[i],e);r&&n.push(r)}return n},e.getRule=function(t){return this.rules.get(t)},e.deleteRule=function(t){var e="object"==typeof t?t:this.rules.get(t);return!(!e||this.attached&&!e.renderable)&&(this.rules.remove(e),!(this.attached&&e.renderable&&this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf=function(t){return this.rules.indexOf(t)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var t;return(t=this.rules).update.apply(t,arguments),this},e.updateOne=function(t,e,n){return this.rules.updateOne(t,e,n),this},e.toString=function(t){return this.rules.toString(t)},t}(),$=function(){function t(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=t.prototype;return e.onCreateRule=function(t,e,n){for(var i=0;i<this.registry.onCreateRule.length;i++){var r=this.registry.onCreateRule[i](t,e,n);if(r)return r}return null},e.onProcessRule=function(t){if(!t.isProcessed){for(var e=t.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}},e.onProcessStyle=function(t,e,n){for(var i=0;i<this.registry.onProcessStyle.length;i++)e.style=this.registry.onProcessStyle[i](e.style,e,n)},e.onProcessSheet=function(t){for(var e=0;e<this.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate=function(t,e,n,i){for(var r=0;r<this.registry.onUpdate.length;r++)this.registry.onUpdate[r](t,e,n,i)},e.onChangeValue=function(t,e,n){for(var i=t,r=0;r<this.registry.onChangeValue.length;r++)i=this.registry.onChangeValue[r](i,e,n);return i},e.use=function(t,e){void 0===e&&(e={queue:"external"});var n=this.plugins[e.queue];-1===n.indexOf(t)&&(n.push(t),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(t,e){for(var n in e)n in t&&t[n].push(e[n]);return t}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),Y=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(t){var e=this.registry,n=t.options.index;if(-1===e.indexOf(t))if(0===e.length||n>=this.index)e.push(t);else for(var i=0;i<e.length;i++)if(e[i].options.index>n)return void e.splice(i,0,t)},e.reset=function(){this.registry=[]},e.remove=function(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)},e.toString=function(t){for(var e=void 0===t?{}:t,n=e.attached,i=(0,c.Z)(e,["attached"]),r="",a=0;a<this.registry.length;a++){var o=this.registry[a];null!=n&&o.attached!==n||(r&&(r+="\n"),r+=o.toString(i))}return r},(0,a.Z)(t,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}(),J=new Y,X="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),Q="2f1acc6c3a606b082e5eef5e54414ffb";null==X[Q]&&(X[Q]=0);var tt=X[Q]++,et=function(t){void 0===t&&(t={});var e=0;return function(n,i){e+=1;var r="",a="";return i&&(i.options.classNamePrefix&&(a=i.options.classNamePrefix),null!=i.options.jss.id&&(r=String(i.options.jss.id))),t.minify?""+(a||"c")+tt+r+e:a+n.key+"-"+tt+(r?"-"+r:"")+"-"+e}},nt=function(t){var e;return function(){return e||(e=t()),e}},it=function(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(n){return""}},rt=function(t,e,n){try{var i=n;if(Array.isArray(n)&&(i=f(n,!0),"!important"===n[n.length-1]))return t.style.setProperty(e,i,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,i):t.style.setProperty(e,i)}catch(r){return!1}return!0},at=function(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(n){}},ot=function(t,e){return t.selectorText=e,t.selectorText===e},st=nt((function(){return document.querySelector("head")}));function ct(t){var e=J.registry;if(e.length>0){var n=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.attached&&i.options.index>e.index&&i.options.insertionPoint===e.insertionPoint)return i}return null}(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(t,e){for(var n=t.length-1;n>=0;n--){var i=t[n];if(i.attached&&i.options.insertionPoint===e.insertionPoint)return i}return null}(e,t))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var i=t.insertionPoint;if(i&&"string"==typeof i){var r=function(t){for(var e=st(),n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(8===i.nodeType&&i.nodeValue.trim()===t)return i}return null}(i);if(r)return{parent:r.parentNode,node:r.nextSibling}}return!1}var ut=nt((function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null})),dt=function(t,e,n){try{if("insertRule"in t)t.insertRule(e,n);else if("appendRule"in t){t.appendRule(e)}}catch(i){return!1}return t.cssRules[n]},lt=function(t,e){var n=t.cssRules.length;return void 0===e||e>n?n:e},pt=function(){function t(t){this.getPropertyValue=it,this.setProperty=rt,this.removeProperty=at,this.setSelector=ot,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],t&&J.add(t),this.sheet=t;var e,n=this.sheet?this.sheet.options:{},i=n.media,r=n.meta,a=n.element;this.element=a||((e=document.createElement("style")).textContent="\n",e),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),r&&this.element.setAttribute("data-meta",r);var o=ut();o&&this.element.setAttribute("nonce",o)}var e=t.prototype;return e.attach=function(){if(!this.element.parentNode&&this.sheet){!function(t,e){var n=e.insertionPoint,i=ct(e);if(!1!==i&&i.parent)i.parent.insertBefore(t,i.node);else if(n&&"number"==typeof n.nodeType){var r=n,a=r.parentNode;a&&a.insertBefore(t,r.nextSibling)}else st().appendChild(t)}(this.element,this.sheet.options);var t=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&t&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var t=this.element.parentNode;t&&t.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},e.deploy=function(){var t=this.sheet;t&&(t.options.link?this.insertRules(t.rules):this.element.textContent="\n"+t.toString()+"\n")},e.insertRules=function(t,e){for(var n=0;n<t.index.length;n++)this.insertRule(t.index[n],n,e)},e.insertRule=function(t,e,n){if(void 0===n&&(n=this.element.sheet),t.rules){var i=t,r=n;if("conditional"===t.type||"keyframes"===t.type){var a=lt(n,e);if(!1===(r=dt(n,i.toString({children:!1}),a)))return!1;this.refCssRule(t,a,r)}return this.insertRules(i.rules,r),r}var o=t.toString();if(!o)return!1;var s=lt(n,e),c=dt(n,o,s);return!1!==c&&(this.hasInsertedRules=!0,this.refCssRule(t,s,c),c)},e.refCssRule=function(t,e,n){t.renderable=n,t.options.parent instanceof q&&(this.cssRules[e]=n)},e.deleteRule=function(t){var e=this.element.sheet,n=this.indexOf(t);return-1!==n&&(e.deleteRule(n),this.cssRules.splice(n,1),!0)},e.indexOf=function(t){return this.cssRules.indexOf(t)},e.replaceRule=function(t,e){var n=this.indexOf(t);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(e,n))},e.getRules=function(){return this.element.sheet.cssRules},t}(),ft=0,mt=function(){function t(t){this.id=ft++,this.version="10.6.0",this.plugins=new $,this.options={id:{minify:!1},createGenerateId:et,Renderer:r.Z?pt:null,plugins:[]},this.generateId=et({minify:!1});for(var e=0;e<H.length;e++)this.plugins.use(H[e],{queue:"internal"});this.setup(t)}var e=t.prototype;return e.setup=function(t){return void 0===t&&(t={}),t.createGenerateId&&(this.options.createGenerateId=t.createGenerateId),t.id&&(this.options.id=(0,i.Z)({},this.options.id,t.id)),(t.createGenerateId||t.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=t.insertionPoint&&(this.options.insertionPoint=t.insertionPoint),"Renderer"in t&&(this.options.Renderer=t.Renderer),t.plugins&&this.use.apply(this,t.plugins),this},e.createStyleSheet=function(t,e){void 0===e&&(e={});var n=e.index;"number"!=typeof n&&(n=0===J.index?0:J.index+1);var r=new q(t,(0,i.Z)({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},e.removeStyleSheet=function(t){return t.detach(),J.remove(t),this},e.createRule=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),"object"==typeof t)return this.createRule(void 0,t,e);var r=(0,i.Z)({},n,{name:t,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=l(t,e,r);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach((function(e){t.plugins.use(e)})),this},t}();function ht(t){var e=null;for(var n in t){var i=t[n],r=typeof i;if("function"===r)e||(e={}),e[n]=i;else if("object"===r&&null!==i&&!Array.isArray(i)){var a=ht(i);a&&(e||(e={}),e[n]=a)}}return e}var vt="object"==typeof CSS&&null!=CSS&&"number"in CSS,gt=function(t){return new mt(t)};gt()},9921:function(t,e){"use strict";var n=60103,i=60106,r=60107,a=60108,o=60114,s=60109,c=60110,u=60112,d=60113,l=60120,p=60115,f=60116,m=60121,h=60122,v=60117,g=60129,y=60131;if("function"==typeof Symbol&&Symbol.for){var I=Symbol.for;n=I("react.element"),i=I("react.portal"),r=I("react.fragment"),a=I("react.strict_mode"),o=I("react.profiler"),s=I("react.provider"),c=I("react.context"),u=I("react.forward_ref"),d=I("react.suspense"),l=I("react.suspense_list"),p=I("react.memo"),f=I("react.lazy"),m=I("react.block"),h=I("react.server.block"),v=I("react.fundamental"),g=I("react.debug_trace_mode"),y=I("react.legacy_hidden")}function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case r:case o:case a:case d:case l:return t;default:switch(t=t&&t.$$typeof){case c:case u:case f:case p:case s:return t;default:return e}}case i:return e}}}var b=u,N=r,S=f,P=p,E=i,U=o,A=a,D=d;e.ForwardRef=b,e.Memo=P},9864:function(t,e,n){"use strict";t.exports=n(9921)},220:function(t,e,n){"use strict";var i=n(7294);e.Z=i.createContext(null)},5753:function(t,e,n){"use strict";n.d(e,{Aq:function(){return Lr},QO:function(){return vm},M6:function(){return Jf},hC:function(){return gm}});var i=n(6196);function r({isDecidingSet:t,isTiebreakSet:e,matchUpScoringFormat:n,setObject:i}){if(!i)return;const r=a({setObject:i});return function({setObject:t,isDecidingSet:e,isTiebreakSet:n,matchUpScoringFormat:i,ignoreTiebreak:r=!1}){const o=e&&i.finalSetFormat||(null==i?void 0:i.setFormat)||{},{side1Score:s,side2Score:c}=t,{setTo:u,tiebreakAt:d,tiebreakFormat:l}=o,p=null==l?void 0:l.NoAd,f=a({setObject:t}),m=Math.abs(s-c),h=s>=u||c>=u,v=n||s>=u&&c>=u||d&&d<u&&(s===d||c===d),g=r||v&&(1===f&&t.side1TiebreakScore>t.side2TiebreakScore||2===f&&t.side2TiebreakScore>t.side1TiebreakScore),y=m>=(v&&(d&&!n||n&&p)?1:2);return(h&&(y||v)||n)&&(!v||g)}({isDecidingSet:t,isTiebreakSet:e,matchUpScoringFormat:n,setObject:i})&&r||void 0}function a({setObject:t}){if(t.side1Score||t.side2Score){if(t.side1Score>t.side2Score)return 1;if(t.side2Score>t.side1Score)return 2}else if(t.side1TiebreakScore||t.side2TiebreakScore){if(t.side1TiebreakScore>t.side2TiebreakScore)return 1;if(t.side2TiebreakScore>t.side1TiebreakScore)return 2}}const o="Missing tournamentRecords",s="Missing tournamentRecord",c="Invalid tournamentRecord",u="Missing tournamentId",d="Invalid drawDefinition",l="Missing drawDefinition",p="drawDefinition not found",f="Invalid structure",m="Invalid drawPosition for seedAssignment",h="drawPosition already assigned",v="drawPosition not cleared",g="Unrecognized drawType",y="Missing drawPositions",I="drawPosition is active",w="Invlid drawPosition",b="Missing drawPosition",N="Invalid drawSize",S="Missing drawSize",P="Missing drawId",E="drawId exists",U="seedsCount greater than drawSize",A="Missing seedCountThresholds",D="Missing seedAssignments",M="Invalid seedNumber",T="Invalid seedPosition",C="Missing targetLink",R="Missing structureId",x="structure not found",O="Missing structures",L="Missing structure",k="Invalie eventType",F="Missing event / eventId",Z="Event not found",_="Event exists",B="Missing entries",j="Invalid entries",G="Missing assignments",V="Missing stage",H="Invalid stage",W="stageSequence limit",z="Missing positionAssignments",K="Unrecognized matchUpStatus",q="Unrecognized matchUpFormat",$="Incompatible matchUpStatus",Y="Invalid matchUpStatus",J="Invalid matchUpFormat",X="Missing matchUpFormat",Q="Missing collectionDefinition",tt="Missing tieFormat",et="Missing matchUpId",nt="Missing matchUpIds",it="matchUp not found",rt="Missing matchUps",at="Missing matchUp",ot="Invalid matchUp",st="Missing policyType",ct="Missing policyDefinitions",ut="Missing avoidance policy",dt="Missing policy attributes",lt="Invalid policyDefinitions",pt="existing policyType",ft="Policy not attached",mt="Policy not found",ht="Missing scoring policy / matchUpFormats",vt="Missing setObject",gt="Missing courtId",yt="Missing value",It="Invalid bookings",wt="Invalid dateAvailability",bt="Missing dateAvailability",Nt="Invalid Date",St="Invalid time",Pt="Invalid tournament dates",Et="Invalid game scores",Ut="Invalid winningSide",At="Cannot remove participants",Dt="Cannot change winningSide",Mt="Invalid participantId",Tt="Invalid participantIds",Ct="Invalid participantType",Rt="Missing participantRole",xt="Missing participant",Ot="Missing participants",Lt="Missing participantId",kt="Participant Not Found",Ft="participantId exists",Zt="No participant removed",_t="Missing participantIds",Bt="Missing participantCount",jt="Participant not checked in",Gt="Participant already checked in",Vt="Participant has assigned drawPosition",Ht="Missing person details",Wt="Existing participant drawPosition assignment",zt="Existing participant",Kt="participantCount exceeds drawSize",qt="More Participants than Draw Positions",$t="Invalid entry status",Yt="Participant Entry Not Found",Jt="entryStatus not allowed in stage",Xt="No stage space available for entryStatus",Qt="Missing penaltyType",te="Missing penaltyId",ee="Penalty not found",ne="Missing courtsCount/courtNames",ie="Court not found",re="Court exists",ae="Venue exists",oe="Venue not found",se="Missing venueId",ce="Invalid endTime",ue="Existing endTime",de="Invalid stopTime",le="Invalid startTime",pe="Invalid timeItem",fe="Missing timeItem",me="Missing timeItems",he="Missing context",ve="Missing schedule",ge="Invalid scaleItem",ye="No scaleItem found",Ie="No modifications applied",we="Invalid configuration",be="Invalid object",Ne="Invalid values",Se="No valid actions",Pe="No valid attributes",Ee="Value unchanged",Ue="Not found",Ae="Not implemented",De="Existing flight",Me="Existing Profile",Te="Method not found";function Ce(t){const{setObject:e,matchUpScoringFormat:n}=t;if(!e)return{error:vt};const{setNumber:i}=e||{},{bestOf:a}=n||{},o=!(!i||i!==a),s=o&&(null==n?void 0:n.finalSetFormat)||(null==n?void 0:n.setFormat),c=!(null==s||!s.tiebreakSet),u=!(null==s||!s.timed),d=!c&&!u,l=!!(i&&a&&i<=a),p=[null==e?void 0:e.side1Score,null==e?void 0:e.side2Score],f=[null==e?void 0:e.side1PointScore,null==e?void 0:e.side2PointScore],m=[null==e?void 0:e.side1TiebreakScore,null==e?void 0:e.side2TiebreakScore],h=p.filter((t=>void 0!==t)).length,v=f.filter((t=>void 0!==t)).length,g=m.filter((t=>void 0!==t)).length,y=null==p?void 0:p.filter((t=>!isNaN(t))).length,I=null==m?void 0:m.filter((t=>!isNaN(t))).length,{tiebreakAt:w}=s||{},b=w&&2===p.filter((t=>t>=w)).length,N=b&&(p[0]>p[1]?1:p[1]>p[0]?2:void 0),S=!(!I||y),P=!(!e||null==e||!e.winningSide),{error:E,result:U}=function({setObject:t,setFormat:e,sideGameScores:n,sideTiebreakScores:i}){if(!t)return{result:!1,error:vt};const r=!(null==e||!e.tiebreakSet),a=!(null==e||!e.timed);if(!e||r||a)return{result:!1,error:"not standard set"};if(2!==(null==n?void 0:n.filter((t=>!isNaN(t))).length))return{result:!1,error:Et};const{setTo:o,tiebreakAt:s,tiebreakFormat:c,NoAD:u}=e||{};if(!o||null==n||!n.find((t=>t>=o)))return{result:!1,error:Et};const d=[1,2].includes(null==t?void 0:t.winningSide);if(!t||!d)return{result:!1,error:Ut};const l=(null==t?void 0:t.winningSide)-1,p=1-l,f=n[l],m=n[p],h=f-m;if(!(f>m))return{result:!1,error:"winningSide game scoreString is not high"};const v=s&&c,g=2===(null==i?void 0:i.filter((t=>!isNaN(t))).length),y=i&&i[l],I=i&&i[p],w=s&&2===n.filter((t=>t>=s)).length;if(v){const{NoAD:t,tiebreakTo:e}=c;if(w){if(h>1)return{result:!1,error:"invalid winning game scoreString (5)"};if(!g)return{result:!1,error:"invalid tiebreak scores (1)"};if(isNaN(e))return{result:!1,error:"tiebreakTo error"};if(!!(!e||null==i||!i.find((t=>t>=e))))return{result:!1,error:"invalid tiebreak scores (2)"};if(f>(s<o?o:o+1))return{result:!1,error:"invalid winning game scoreString (1)"};if(!y||!I||y<I)return{result:!1,error:"winningSide tiebreak value is not high"};const n=t?1:2,r=y-I,a=I>=e-1;if(r&&a&&r<n)return{result:!1,error:"invalid tiebreak scores (3)"}}if(f>o&&(!v||!w))return{result:!1,error:"invalid winning game scoreString (2)"}}const b=u?1:2,N=m>=o-1;if(h&&N&&!w&&h<b)return{result:!1,error:"invalid winning game scoreString (3)"};if(h>b&&f>o)return{result:!1,error:"invalid winning game scoreString (4)"};return{result:!0}}({setObject:e,setFormat:s,sideGameScores:p,sideTiebreakScores:m}),{error:A,result:D}=function({setObject:t,setFormat:e,sideTiebreakScores:n}){if(!t)return{result:!1,error:vt};const i=!(null==e||!e.tiebreakSet),r=!(null==e||!e.timed);if(!e||!i||r)return{result:!1,error:"not tiebreak set"};const a=[1,2].includes(null==t?void 0:t.winningSide);if(!t||!a)return{result:!1,error:Ut};const{tiebreakSet:o}=e||{},{NoAD:s,tiebreakTo:c}=o||{};if(2!==(null==n?void 0:n.filter((t=>!isNaN(t))).length))return{result:!1,error:"invalid tiebreak scores (1)"};if(isNaN(c))return{result:!1,error:"tiebreakTo error"};if(null==n||!n.find((t=>t>=c)))return{result:!1,error:"invalid tiebreak scores (2)"};const u=(null==t?void 0:t.winningSide)-1,d=1-u,l=n[u],p=n[d];if(!l||!p||l<p)return{result:!1,error:"winningSide tiebreak value is not high"};const f=s?1:2,m=l-p,h=p>=c-1;if(m&&h&&m<f)return{result:!1,error:"invalid tiebreak scores (3)"};return{result:!0}}({setObject:e,setFormat:s,sideTiebreakScores:m}),M=d&&!S&&U||c&&S&&D,T={expectTiebreakSet:c,expectTimedSet:u,hasTiebreakCondition:b,isCompletedSet:P,isDecidingSet:o,isTiebreakSet:S,isValidSet:l&&!(c&&!S)&&!(d&&S)&&(!P||M),isValidSetNumber:l,isValidSetOutcome:M,leadingSide:N,setFormat:s,sideGameScores:p,sideGameScoresCount:h,sidePointScores:f,sidePointScoresCount:v,sideTiebreakScores:m,sideTiebreakScoresCount:g,winningSide:r({isDecidingSet:o,isTiebreakSet:S,matchUpScoringFormat:n,setObject:e})};return void 0!==(null==e?void 0:e.winningSide)&&(S?(T.isValidTiebreakSetOutcome=D,D||(T.tiebreakSetError=A)):(T.isValidStandardSetOutcome=U,U||(T.standardSetError=E))),T}function Re(t){return t.filter(((t,e,n)=>n.lastIndexOf(t)===e))}function xe(t){return t.map((t=>[Math.random(),t])).sort(((t,e)=>t[0]-e[0])).map((t=>t[1]))}function Oe(t){return t.reduce(((t,e)=>(t[e]||(t[e]=0),t[e]++,t)),{})}function Le(t,e,n){return n.indexOf(t)===e}function ke(t){return Array.isArray(t)&&t.length?t.splice(Math.floor(Math.random()*t.length),1)[0]:void 0}function Fe(t){return t[Math.floor(Math.random()*t.length)]}function Ze(t,e){return Array.from({length:e-t},((e,n)=>n+t))}function _e(t,e){return e.reduce(((e,n,i)=>(n===t&&e.push(i),e)),[])}function Be(t,e){return Array.isArray(t)&&Array.isArray(e)?t.filter((t=>-1!==e.indexOf(t))).filter(((t,e,n)=>n.indexOf(t)===e)):0}function je(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.some((t=>e.includes(t)))}function Ge(t,e){return t.reduce(((t,n,i)=>{const r=Math.floor(i/e);return t[r]=[].concat(t[r]||[],n),t}),[])}function Ve(t,e,n){return t.reduce(((t,i,r)=>{const a=!!n&&!!(Math.floor(r/e)%2),o=r%e,s=a?e-1-o:o;return t[s]||(t[s]=[]),t[s].push(i),t}),[])}function He(t){var e,n,r,a;const{matchUp:o,sideNumber:s,setNumber:c,isTiebreakValue:u,isPointValue:d}=t||{};let{matchUpFormat:l}=t||{};if(!o)return{error:at};l=l||(null==o?void 0:o.matchUpFormat);const p=null===i.matchUpFormatCode||void 0===i.matchUpFormatCode?void 0:i.matchUpFormatCode.parse(l),f=!(null==o||!o.winningSide),m=null==o||null===(e=o.sets)||void 0===e?void 0:e.length,h=c&&c-1,v=!(null==o||null===(n=o.sets)||void 0===n||!n.find(((t,e)=>t.setNumber===c&&e===h))),g=(null==o||null===(r=o.sets)||void 0===r?void 0:r.filter((t=>null==t?void 0:t.winningSide)))||[],y=(null==g?void 0:g.length)||0,I=c&&(null==o||null===(a=o.sets)||void 0===a?void 0:a.slice(c))||[],w=!!(m&&c&&null!=I&&I.reduce(((t,e)=>(!e||!e.side1Score&&!e.side2Score&&!e.side1TiebreakScore&&!e.side2TiebreakScore&&!e.side1PointScore&&!e.side2PointScore)&&t),!0)),b=c<=m&&(null==o?void 0:o.sets.find((t=>t.setNumber===c))),N=b&&Ce({setObject:b,matchUpScoringFormat:p}),{isCompletedSet:S,sideGameScores:P,sideTiebreakScores:E}=N||{},U=!!(b&&!S&&w||c&&c===m+1&&!f),A=[1,2].includes(s),D=A?s-1:0,M=b&&A&&(!u&&!d&&void 0!==P[D]&&P[D]||u&&void 0!==E[D]&&E[D]),T=!!M,C=g&&g.map((t=>Ce({setObject:t,matchUpScoringFormat:p}).isValidSetOutcome)).reduce(((t,e)=>t&&e),!0),R=g.reduce(((t,e)=>{const{winningSide:n}=e;return t[n-1]++,t}),[0,0]),x=null==o?void 0:o.winningSide,O=x&&x-1,L=1-O,k=R[O],F=R[L],Z=Math.max(...R),_=Oe(R)[Z],{bestOf:B}=p||{},j=Z===(B&&Math.ceil(B/2)||1)&&1===_&&R.indexOf(Z)+1||void 0,G=k>F&&x===j;return{isActiveSet:U,isExistingSet:v,existingValue:M,hasExistingValue:T,isValidSideNumber:A,completedSetsCount:y,isCompletedMatchUp:f,isLastSetWithValues:w,validMatchUpOutcome:C&&G,matchUpScoringFormat:p,calculatedWinningSide:j,validMatchUpWinningSide:G,completedSetsHaveValidOutcomes:C,...N}}const We="ABANDONED",ze="AWAITING_RESULT",Ke="BYE",qe="CANCELLED",$e="COMPLETED",Ye="DEAD_RUBBER",Je="DEFAULTED",Xe="DOUBLE_WALKOVER",Qe="IN_PROGRESS",tn="INCOMPLETE",en="NOT_PLAYED",nn="RETIRED",rn="SUSPENDED",an="TO_BE_PLAYED",on="WALKOVER",sn=[ze,$e,Je,Xe,Qe,tn,nn,rn,on],cn=[We,ze,Ke,qe,$e,Ye,Je,Xe,Qe,tn,en,nn,rn,an,on],un=[Ke,$e,Je,Xe,nn,on],dn=[We,ze,qe,Ye,Qe,tn,en,rn,an,void 0],ln=[qe,We,$e,Ye,Je,Xe,nn,on],pn=[We,$e,Je,Xe,Qe,nn,on],fn=[Qe,tn,rn,an],mn={ABANDONED:We,AWAITING_RESULT:ze,BYE:Ke,CANCELLED:qe,COMPLETED:$e,DEAD_RUBBER:Ye,DEFAULTED:Je,DOUBLE_WALKOVER:Xe,IN_PROGRESS:Qe,INCOMPLETE:tn,NOT_PLAYED:en,RETIRED:nn,SUSPENDED:rn,TO_BE_PLAYED:an,WALKOVER:on},hn="SET3-S:6/TB7";function vn({score:t,tallyPolicy:e,matchUpStatus:n,matchUpFormat:r=hn,winningSide:a}){const o=[0,0],{sets:s}=t||{},c=a-1,u=i.matchUpFormatCode.parse(r),d=gn((null==u?void 0:u.bestOf)||3);return n===Je&&null!=e&&e.setsCreditForDefaults||n===on&&null!=e&&e.setsCreditForWalkovers?o[c]=d:s&&s.forEach((t=>{const{winningSide:e}=t;e&&(o[e-1]+=1)})),n===nn&&(+o[1-c]===d&&(o[1-c]-=1),o[c]=d),o}function gn(t){return t&&Math.ceil(t/2)||1}function yn(t){return!isNaN(t)&&(t&&0==(t&t-1))}function In(t){return Math.pow(2,Math.round(Math.log(t)/Math.log(2)))}function wn(t){return!isNaN(parseFloat(t))}function bn(t){if(isNaN(t))return!1;for(;!yn(t);)t++;return t}function Nn(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function Sn(t){return Number.isSafeInteger("string"==typeof t?+t:t)}function Pn({source:t,template:e}){const n={};return function t(e,n,i){if(!e||!n)return;const r=Object.keys(e),a=Object.keys(n);for(let o=0;o<r.length;o++)if(a.indexOf(r[o])>=0){const a=n[r[o]],s=e[r[o]];a&&"object"==typeof a&&"function"!=typeof s?Array.isArray(s)?i[r[o]]=s.map((e=>{const n={};return t(e,a,n),n})):s&&(i[r[o]]={},t(s,a,i[r[o]])):n[r[o]]&&(i[r[o]]=e[r[o]])}}(t,e,n),n}const En={success:!0},Un={tournamentId:void 0,tournamentRecords:{},subscriptions:{},notices:[]};const An={devContext:void 0,timers:{default:{elapsedTime:0}},deepCopy:!0,deepCopyAttributes:{ignore:[],toJSON:[],stringify:[]}};let Dn={setSubscriptions:function({subscriptions:t={}}={}){return"object"!=typeof t?{error:Ne}:(Object.keys(t).forEach((e=>{Un.subscriptions[e]=t[e]})),{...En})},addNotice:function({topic:t,payload:e,key:n}){if("string"!=typeof t||"object"!=typeof e)return;if(!Un.subscriptions[t])return;n&&(Un.notices=Un.notices.filter((e=>!(e.topic===t&&e.key===n))));Un.notices.push({topic:t,payload:e,key:n})},getNotices:function({topic:t}){const e=Un.notices.filter((e=>e.topic===t)).map((t=>t.payload));return e.length&&e},deleteNotices:function(){Un.notices=[]},getTopics:function(){return{topics:Object.keys(Un.subscriptions)}},callListener:function({topic:t,notices:e}){const n=Un.subscriptions[t];n&&"function"==typeof n&&n(e)},getTournamentId:function(){return Un.tournamentId},getTournamentRecord:function(t){return Un.tournamentRecords[t]},getTournamentRecords:function(){return Un.tournamentRecords},setTournamentId:function(t){return Un.tournamentRecords[t]?(Un.tournamentId=t,{success:!0}):{error:s}},setTournamentRecord:function(t){const e=null==t?void 0:t.tournamentId;return e?(Un.tournamentRecords[e]=t,{success:!0}):{error:c}},setTournamentRecords:function(t){Un.tournamentRecords=t;const e=Object.keys(t);1===e.length?Un.tournamentId=e[0]:e.length||(Un.tournamentId=void 0)},removeTournamentRecord:function(t){if("string"!=typeof t)return{error:Ne};if(!Un.tournamentRecords[t])return{error:Ue};delete Un.tournamentRecords[t];const e=Object.keys(Un.tournamentRecords);1===e.length?Un.tournamentId=e[0]:e.length||(Un.tournamentId=void 0);return{success:!0}}};function Mn(t){return t&&"object"==typeof t?"object"==typeof An.devContext&&Object.keys(t).every((e=>An.devContext[e]===t[e])):An.devContext||!1}function Tn(t){An.devContext=t}function Cn(t,e){"boolean"==typeof t&&(An.deepCopy=t),"object"==typeof e&&(Array.isArray(e.ignore)&&(An.deepCopyAttributes.ignore=e.ignore),Array.isArray(e.toJSON)&&(An.deepCopyAttributes.toJSON=e.toJSON),Array.isArray(e.stringify)&&(An.deepCopyAttributes.stringify=e.stringify))}function Rn(t){return Dn.addNotice(t)}function xn(t){return Dn.getNotices(t)}function On(){return Dn.deleteNotices()}function Ln(){return Dn.getTopics()}async function kn(t){return Dn.callListener(t)}function Fn(){return Dn.getTournamentId()}function Zn(t){return Dn.getTournamentRecord(t)}function _n(t){return Dn.setTournamentRecord(t)}function Bn(t){return Dn.setTournamentRecords(t)}function jn(t){return Dn.setTournamentId(t)}function Gn(t){return Dn.removeTournamentRecord(t)}const Vn=/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/,Hn=/^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?)([.,][0-9]{3})?$/,Wn=/^([0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]))([ T](0[0-9]|1[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?)?([.,][0-9]{3})?Z?$/,zn=/^([0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]))?([ T]?(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?)?([.,][0-9]{3})?Z?$/;function Kn(t){if("object"!=typeof t||Array.isArray(t))return!1;return"[object Date]"===Object.prototype.toString.call(t)}function qn(t){return ei(t)||Vn.test(t)}const $n=()=>{const t=new Date,e=1===t.getUTCMonth().toString().length?`0${t.getUTCMonth()+1}`:`${t.getUTCMonth()}`;return`${t.getUTCFullYear()}-${fi(e)}-${fi(t.getUTCDate())}`};function Yn(t,e="-",n="YMD"){if(!t)return"";"string"==typeof t&&t.indexOf("T")<0&&(t+="T00:00");const i=new Date(t);let r=""+(i.getMonth()+1),a=""+i.getDate();const o=i.getFullYear();return r.length<2&&(r="0"+r),a.length<2&&(a="0"+a),"DMY"===n?[a,r,o].join(e):"MDY"===n?[r,a,o].join(e):"YDM"===n?[o,a,r].join(e):"DYM"===n?[a,o,r].join(e):"MYD"===n?[r,o,a].join(e):[o,r,a].join(e)}function Jn(t){const e=t?new Date(t):new Date,n=e.getTimezoneOffset();return new Date(e.getTime()-60*n*1e3)}function Xn(t){if("boolean"==typeof t)return!1;const e=t instanceof Date?t:!isNaN(t)&&new Date(t);return e&&!isNaN(e.valueOf())}function Qn(t,e){const n=new Date(t),i=new Date(e);var r,a;const o=[];let s=0;if(!!(Xn(i)&&Xn(n)&&(r=n,a=i,Jn(r)<=Jn(a)))){const t=Jn(n),e=Jn(i);for(;t<=e&&s<300;)s+=1,o.push(new Date(t)),t.setDate(t.getDate()+1)}return o}const ti=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;function ei(t){return"string"==typeof t&&ti.test(t)}function ni(t){if("string"!=typeof t)return!1;const e=t.split("Z")[0].split(":"),n=e.every((t=>!isNaN(t)));return!(e.length<2||!n)&&(!(parseInt(e[0])>23)&&!(parseInt(e[1])>60))}function ii(t){const e=ai(t);if(!e)return 0;const[n,i]=e.split(":").map((t=>parseInt(t)));return 60*n+i}function ri(t){return ni(t)?t.split(":").slice(0,2).map(fi).join(":"):void 0}function ai(t){return ei(t)&&t.indexOf("T")>0?ri(t.split("T").reverse()[0]):ri(t)}function oi(t){return ei(t)||Wn.test(t)?t.split("T")[0]:void 0}function si(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),oi(n.toISOString())}function ci(t){t=t||"00:00";const e={},n={};return({0:e.time,1:e.ampm}=t&&t.split(" ")||""),({0:n.hours,1:n.minutes}=e.time&&e.time.split(":")||""),n.ampm=e.ampm,n}function ui(t,e){const[n,i]=(t||"00:00").split(":").map(fi),r=Jn(e).setHours(n,i,0,0);return Jn(r)}function di(t,e,n=!0){const i=new Date(t),r=(new Date(e).getTime()-i.getTime())/1e3/60;return n?Math.abs(Math.round(r)):Math.round(r)}function li(t,e){const n=ai(t);if(!n)return"00:00";const i=isNaN(e)?0:e;return ai(pi(ui(n),i).toISOString())}function pi(t,e){const n=new Date(t);return new Date(n.getTime()+6e4*e)}function fi(t){return t.toString()[1]?t:"0"+t}function mi(t,e){const n=new Date(t),i=new Date(e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()&&n.getDate()===i.getDate()}const hi={addMinutesToTimeString:li,convertTime:function(t,e){return e?function(t){const e=ci(t);return e.ampm&&e.hours&&("pm"===e.ampm.toLowerCase()&&parseInt(e.hours)<12&&(e.hours=(e.hours&&parseInt(e.hours)||0)+12),"am"===e.ampm.toLowerCase()&&"12"===e.hours&&(e.hours="00")),`${e.hours||"12"}:${e.minutes||"00"}`.split(":").map(fi).join(":")}(t):function(t){const e=ci(t);return e.ampm?t:(e.hours>12?(e.hours-=12,e.ampm="PM"):"12"===e.hours?e.ampm="PM":"00"===e.hours?(e.hours="12",e.ampm="AM"):e.ampm="AM","0"===e.hours[0]&&(e.hours=e.hours.slice(1)),`${e.hours||"12"}:${e.minutes||"00"} ${e.ampm}`)}(t)},currentUTCDate:$n,DateHHMM:function(t){const e=new Date(t);return function(t,e){const n=parseInt(t,10),i=Math.floor(n/3600),r=Math.floor((n-3600*i)/60),a=n-3600*i-60*r,o=!e||e&&e.displaySeconds;return(o?i+":"+r+":"+a:i+":"+r).split(":").map(fi).join(":")}(e.getSeconds()+60*e.getMinutes()+3600*e.getHours(),{displaySeconds:!1})},extractDate:oi,extractTime:ai,formatDate:Yn,getDateByWeek:function(t,e,n){const i=new Date(e,0,1),r=i.getDay();let a=7*--t;return(0!==r||r>4)&&(a+=7),i.setDate(1-i.getDay()+ ++a),Yn(i,n)},getTimeZoneOffset:function({date:t,timeZone:e}={}){var n;if("string"==typeof t&&t.indexOf("-")<0)return{error:Nt};const i="string"==typeof t&&10===t.length?new Date(`${t}T00:00`):t,r=i?new Date(i):new Date;if(r===Nt)return{error:Nt};let a;try{a=r.toLocaleString("en-CA",{timeZone:e,hour12:!1}).replace(", ","T")}catch(c){return{error:"Invalid Time Zone"}}if((null===(n=a)||void 0===n?void 0:n.toLowerCase().indexOf("invalid"))>=0)return{error:Nt};a+="."+r.getMilliseconds().toString().padStart(3,"0");const o=new Date(a+"Z"),s=-(o-r);return{originalDate:r,offsetDate:o,offsetMinutes:s/60/1e3,offsetISOString:new Date(o).toISOString(),offsetMilliseconds:s}},isISODateString:ei,isTimeString:ni,offsetDate:Jn,offsetTime:function(t){return Jn(t).getTime()},sameDay:mi,timeStringMinutes:ii,timeToDate:ui,timeUTC:function(t){const e=Xn(t)?new Date(t):new Date;return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}};function vi(t,e,n,i){const r={enabled:An.deepCopy,...An.deepCopyAttributes};if((null==r||!r.enabled)&&!n||"object"!=typeof t||"function"==typeof t||null===t)return t;const a=Array.isArray(t)?[]:{},o=Object.keys(t).filter((t=>!n||!(null!=r&&r.ignore.includes(t))));for(const c of o){const o=t[c];if(e&&"extensions"===c&&Array.isArray(o)){const t=null==(s=o)?void 0:s.map((t=>{const{name:e,value:n}=t;return e&&n&&{[`_${e}`]:n}})).filter(Boolean);Object.assign(a,...t)}else i&&"extensions"===c?a[c]=[]:n&&null!=r&&r.stringify.includes(c)?a[c]="function"==typeof(null==o?void 0:o.toString)?o.toString():JSON.stringify(o):n&&null!=r&&r.toJSON.includes(c)&&"function"==typeof(null==o?void 0:o.toJSON)?a[c]=o.toJSON():null===o?a[c]=void 0:Kn(o)?a[c]=new Date(o).toISOString():a[c]=vi(o,e,n)}var s;return a}function gi(t,e){return t-e}function yi(){const t=[];for(let a=0;a<256;a++)t[a]=(a<16?"0":"")+a.toString(16);const e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&n]+t[n>>8&255]+"-"+t[n>>16&15|64]+t[n>>24&255]+"-"+t[63&i|128]+t[i>>8&255]+"-"+t[i>>16&255]+t[i>>24&255]+t[255&r]+t[r>>8&255]+t[r>>16&255]+t[r>>24&255]}function Ii({matchUpFormat:t,participantIds:e,tallyPolicy:n,perPlayer:r,matchUps:a}){const o={};function s(t){o[t]||(o[t]={allDefaults:0,defaults:0,retirements:0,walkovers:0,matchUpsWon:0,matchUpsLost:0,victories:[],defeats:[],matchUpsCancelled:0,setsWon:0,setsLost:0,gamesWon:0,gamesLost:0,pointsWon:0,pointsLost:0})}return a.filter((t=>!(null!=e&&e.length)||2===Be(e,[wi(t,0),wi(t,1)]).length)).forEach((e=>{const{matchUpStatus:r,score:a,winningSide:c}=e,u=c&&function(t){const e=t.winningSide-1;return wi(t,e)}(e),d=c&&function(t){const e=1-(t.winningSide-1);return wi(t,e)}(e);if(!u||!d){const t=wi(e,0),n=wi(e,1);return t&&(s(t),o[t].matchUpsCancelled+=1),void(n&&(s(n),o[n].matchUpsCancelled+=1))}const l=c&&c-1,p=1-l;s(u),s(d),r===on&&(o[d].walkovers+=1),r===Je&&(o[d].defaults+=1),r===nn&&(o[d].retirements+=1),[Je,nn,on].includes(r)&&(o[d].allDefaults+=1),o[u].matchUpsWon+=1,o[d].matchUpsLost+=1,o[d].defeats.push(u),o[u].victories.push(d);const f=vn({score:a,matchUpStatus:r,matchUpFormat:t,tallyPolicy:n,winningSide:c});o[u].setsWon+=f[l],o[u].setsLost+=f[p],o[d].setsWon+=f[p],o[d].setsLost+=f[l];const m=function({score:t,tallyPolicy:e,matchUpStatus:n,matchUpFormat:r=hn,winningSide:a}){var o,s;const{sets:c}=t||{},u=a-1,d=i.matchUpFormatCode.parse(r);let l=0,p=0;const f=gn((null==d?void 0:d.bestOf)||3),m=(null==d||null===(o=d.setFormat)||void 0===o?void 0:o.setTo)||6,h=(null==d||null===(s=d.setFormat)||void 0===s?void 0:s.tiebreakAt)||6;if(!c)return[l,p];const v=f*m,g=[[],[]];if(n===Je&&null!=e&&e.gamesCreditForDefaults||n===on&&null!=e&&e.gamesCreditForWalkovers?g[u].push(v):c&&c.forEach((t=>{({side1Score:l,side2Score:p}=t),g[0].push(parseInt(l||0)),g[1].push(parseInt(p||0))})),n===nn){const t=vn({sets:c,winningSide:a,matchUpStatus:n,matchUpFormat:r}),e=t.reduce(((t,e)=>t+e),0);if(g.map((t=>t[u]<=t[1-u])).reduce(((t,e)=>t+e),0)>t[1-u]){const t=g[u].length,e=function(t){if(d&&""!==t)return+t==h-1||+t===h?parseInt(h||0)+1:+t<h?m:h}(g[1-u][t-1]);e&&(g[u][t-1]=e)}e>g[u].length&&g[u].push(m)}const y=[g[0].reduce(((t,e)=>t+e),0),g[1].reduce(((t,e)=>t+e),0)];return[nn,on,Je].includes(n)&&y[u]<v&&(y[u]=v),y}({score:a,matchUpStatus:r,matchUpFormat:t,tallyPolicy:n,winningSide:c});o[u].gamesWon+=m[l],o[u].gamesLost+=m[p],o[d].gamesWon+=m[p],o[d].gamesLost+=m[l];const h=function({score:t}){var e;const n=[0,0];return null==t||null===(e=t.sets)||void 0===e||e.forEach((t=>{t.side1TiebreakScore&&(n[0]+=parseInt(t.side1TiebreakScore)),t.side2TiebreakScore&&(n[1]+=parseInt(t.side2TiebreakScore))})),n}({score:a,tallyPolicy:n});o[u].pointsWon+=h[l],o[u].pointsLost+=h[p],o[d].pointsWon+=h[p],o[d].pointsLost+=h[l]})),function({participantResults:t,matchUpFormat:e,perPlayer:n}){var r;const a=e&&i.matchUpFormatCode.parse(e)||{},o=a.bestOf,s=o&&Math.ceil(o/2)||1,c=null===(r=a.setFormat)||void 0===r?void 0:r.setTo;Object.keys(t).forEach((e=>{const i=t[e].setsWon,r=t[e].setsLost,a=n*(s||0)||i;let o=Math.round(i/r*1e3)/1e3;(o===1/0||isNaN(o))&&(o=a);const u=t[e].matchUpsWon,d=t[e].matchUpsLost;let l=Math.round(u/d*1e3)/1e3;(l===1/0||isNaN(l))&&(l=u);const p=t[e].gamesWon||0,f=t[e].gamesLost||0,m=(n||0)*(s||0)*(c||0),h=Math.max(m,p+f);let v=Math.round(p/h*1e3)/1e3;(v===1/0||isNaN(v))&&(v=0);let g=Math.round(t[e].pointsWon/t[e].pointsLost*1e3)/1e3;(g===1/0||isNaN(g))&&(g=0),t[e].setsRatio=o,t[e].matchUpsRatio=l,t[e].gamesRatio=v,t[e].pointsRatio=g,t[e].result=`${t[e].matchUpsWon}/${t[e].matchUpsLost}`,t[e].games=`${t[e].gamesWon}/${t[e].gamesLost}`}))}({participantResults:o,perPlayer:r,matchUpFormat:t}),{participantResults:o}}function wi(t,e){if(!t||!t.sides)return console.log("no sides:",{matchUp:t}),"foo";const n=t.sides[e];return n?n.participantId:(console.log("No Side",{matchUp:t,index:e}),"foo")}function bi(t){return ln.includes(null==t?void 0:t.matchUpStatus)||(null==t?void 0:t.winningSide)}const Ni=[{attribute:"matchUpsRatio",idsFilter:!1},{attribute:"allDefaults",reversed:!0,idsFilter:!1},{attribute:"defaults",reversed:!0,idsFilter:!1},{attribute:"walkovers",reversed:!0,idsFilter:!1},{attribute:"retirements",reversed:!0,idsFilter:!1},{attribute:"setsRatio",idsFilter:!1},{attribute:"gamesRatio",idsFilter:!1},{attribute:"pointsRatio",idsFilter:!1},{attribute:"matchUpsRatio",idsFilter:!0},{attribute:"setsRatio",idsFilter:!0},{attribute:"gamesRatio",idsFilter:!0},{attribute:"pointsRatio",idsFilter:!0}];function Si(t){const{participantResults:e,subOrderMap:n}=t;if(!function({participantResults:t,participantsCount:e}){let n=Ui({participantResults:t}).filter((t=>e-1===t.results.matchUpsWon+t.results.matchUpsLost+t.results.matchUpsCancelled));return e===n.length}(t))return;const i=Ei({attribute:"matchUpsWon",participantResults:e}),r=Object.keys(i).map((t=>parseFloat(t))).sort(((t,e)=>e-t)).map((t=>i[t])).map((e=>Pi({participantIds:e,...t}))).flat(1/0);let a,o=1;r.forEach(((t,e)=>{e&&(t.resolved||a&&!t.resolved)&&(o+=1),a=t.resolved,t.resolved?(t.position=e+1,o=t.position):t.position=o}));const s=Oe(r.map((({position:t})=>t)));return r.forEach((t=>{const i=e[t.participantId],r=s[t.position];void 0!==t&&void 0!==t.position&&(r>1&&(i.ties=r,n&&(i.subOrder=n[t.participantId])),t.groupOrder=t.position+(i.subOrder||1)-1,i.rankOrder=t.position),i.GEMscore=function(t){return t.matchUpsRatio*Math.pow(10,16)+t.setsRatio*Math.pow(10,12)+t.gamesRatio*Math.pow(10,8)+t.pointsRatio*Math.pow(10,3)}(i)})),r}function Pi({participantResults:t,disableHeadToHead:e,participantIds:n,matchUpFormat:i,tallyPolicy:r,matchUps:a}){if(1===n.length)return{resolved:!0,participantId:n[0]};if(2===n.length&&(null==r||!r.headToHead||!r.headToHead.disabled&&!e)){const e=function({participantIds:t,participantResults:e}){if(e[t[0]].victories.includes(t[1]))return t.map((t=>({resolved:!0,participantId:t})));if(e[t[1]].victories.includes(t[0]))return t.reverse().map((t=>({resolved:!0,participantId:t})))}({participantIds:n,participantResults:t});if(e)return e}let o;return((null==r?void 0:r.tallyDirectives)||Ni).every((({attribute:t,reversed:e,idsFilter:s,disableHeadToHead:c})=>(o=function({disableHeadToHead:t,participantIds:e,matchUpFormat:n,tallyPolicy:i,attribute:r,idsFilter:a,matchUps:o,reversed:s}){const{participantResults:c,matchUpStatuses:u}=Ii({participantIds:a&&e,matchUpFormat:n,tallyPolicy:i,matchUps:o}),d=Ei({participantResults:c,participantIds:e,attribute:r});if(Object.keys(d).length>1)return Object.keys(d).map((t=>parseFloat(t))).sort(((t,e)=>s?t-e:e-t)).map((t=>d[t])).map((e=>Pi({participantResults:c,disableHeadToHead:t,matchUpStatuses:u,participantIds:e,matchUpFormat:n,tallyPolicy:i,matchUps:o}))).flat(1/0)}({disableHeadToHead:c,participantIds:n,matchUpFormat:i,tallyPolicy:r,attribute:t,idsFilter:s,matchUps:a,reversed:e}),!o))),o||n.map((t=>({participantId:t})))}function Ei({participantResults:t,participantIds:e,attribute:n}){return Ui({participantResults:t,participantIds:e}).reduce(((t,e)=>{const{participantId:i,results:r}=e,a=r[n];return t[a]?t[a].push(i):t[a]=[i],t}),{})}function Ui({participantResults:t,participantIds:e}){return(e=e||Object.keys(t)).reduce(((e,n,i)=>(e.push({participantId:n,i:i,results:t[n]}),e)),[])}const Ai="roundRobinTally",Di="positionActions",Mi="roundNaming",Ti="scheduling",Ci="avoidance",Ri="seeding",xi="scoring";function Oi({policyDefinitions:t,matchUpFormat:e,matchUps:n=[],subOrderMap:i,perPlayer:r}){if(!Array.isArray(n))return{error:rt};const a=n.filter((t=>t&&t.matchUpStatus!==Ke)),o=a.length&&Re(a.map((({drawPositions:t})=>t)).flat()).length,s=a.filter(bi).length===a.length;s||(r=0);const c=t&&t.roundRobinTally,u=n.filter(bi),{participantResults:d,matchUpStatuses:l}=Ii({matchUps:u,matchUpFormat:e,tallyPolicy:c,perPlayer:r}),p=Si({matchUps:u,participantResults:d,participantsCount:o,matchUpStatuses:l,matchUpFormat:e,tallyPolicy:c,subOrderMap:i});return s&&p&&p.forEach((t=>{d[t.participantId].groupOrder=t.groupOrder})),{participantResults:d}}const Li=["up","left","shift+tab"],ki=["enter","down","tab","right"],Fi="space";function Zi(t){const{sets:e,winningSide:n,autoComplete:i,matchUpStatus:r,reversed:a=!1,winnerFirst:o=!0,addOutcomeString:s}=t;if(!e)return{error:yt};const c=a||!(!o||!n||1===n),u=s?function({matchUpStatus:t}){const e={[nn]:"RET",[on]:"WO",[Xe]:"WO/WO",[rn]:"SUS",[We]:"ABN",[Je]:"DEF",[Ye]:"DR"};return t&&e[t]||""}({matchUpStatus:r}):"",d=(null==e?void 0:e.sort(_i).map((function(t){const e=(d=t,!(wn(null==d?void 0:d.side1Score)||wn(null==d?void 0:d.side2Score))&&(t=>wn(null==t?void 0:t.side1TiebreakScore)||wn(null==t?void 0:t.side2TiebreakScore))(t)),{side1Score:n,side2Score:r,side1TiebreakScore:a,side2TiebreakScore:o}=t,s=a||(wn(a)||i?0:""),u=o||(wn(o)||i?0:"");var d;if(e){return`[${(c?[u,s]:[s,u]).join("-")}]`}const l=Math.min(s,u),p=l?`(${l})`:"",f=n||(wn(n)||i?0:""),m=r||(wn(r)||i?0:"");let h=c?`${[m,f].join("-")}${p}`:`${[f,m].join("-")}${p}`;["-"," "].includes(h)&&(h="");return h})).filter(Boolean).join(" "))||"";return u?2===n?`${u} ${d}`:`${d} ${u}`:d}function _i(t,e){return t.setNumber-e.setNumber}const Bi=t=>{var e;const{isSide1:n,lowValue:i,setTo:r,tiebreakAt:a,NoAD:o}=t;if(void 0===i)return{error:yt};let s,c=parseInt(i);(null===(e=c)||void 0===e?void 0:e.toString().length)>2&&(c=parseInt(c.toString().slice(0,2))),a&&a<r&&c>a&&(c=a),s=o&&!a?c<r?r:r-1:c+1<r||a&&a<r&&c===a?r:a?r+1:c+2;return[n?c:s,n?s:c]},ji=t=>{var e;const{isSide1:n,lowValue:i,tiebreakTo:r,tiebreakNoAd:a}=t;if(void 0===i)return{error:yt};let o=parseInt(i);(null===(e=o)||void 0===e?void 0:e.toString().length)>2&&(o=parseInt(o.toString().slice(0,2))),a&&o>r-1&&(o=r-1);const s=function(t){const{lowValue:e,NoAD:n,tiebreakTo:i}=t,r=n?1:2;if(e+1>=i)return e+r;return i}({lowValue:o,NoAD:a,tiebreakTo:r});return[n?o:s,n?s:o]};const Gi=[{ioc:"",iso:"",label:"NONE",phone:""},{ioc:"AND",iso:"AD",label:"Andorra",phone:"376"},{ioc:"UAE",iso:"AE",label:"United Arab Emirates",phone:"971"},{ioc:"AFG",iso:"AF",label:"Afghanistan",phone:"93"},{ioc:"ANT",iso:"AG",label:"Antigua and Barbuda",phone:"1-268"},{ioc:"AIA",iso:"AI",label:"Anguilla",phone:"1-264"},{ioc:"ALB",iso:"AL",label:"Albania",phone:"355"},{ioc:"ARM",iso:"AM",label:"Armenia",phone:"374"},{ioc:"ANG",iso:"AO",label:"Angola",phone:"244"},{ioc:"",iso:"AQ",label:"Antarctica",phone:"672"},{ioc:"ARG",iso:"AR",label:"Argentina",phone:"54"},{ioc:"ASA",iso:"AS",label:"American Samoa",phone:"1-684"},{ioc:"AUT",iso:"AT",label:"Austria",phone:"43"},{ioc:"AUS",iso:"AU",label:"Australia",phone:"61",suggested:!0},{ioc:"ARU",iso:"AW",label:"Aruba",phone:"297"},{ioc:"",iso:"AX",label:"Alland Islands",phone:"358"},{ioc:"AZE",iso:"AZ",label:"Azerbaijan",phone:"994"},{ioc:"BIH",iso:"BA",label:"Bosnia and Herzegovina",phone:"387"},{ioc:"BAR",iso:"BB",label:"Barbados",phone:"1-246"},{ioc:"BAN",iso:"BD",label:"Bangladesh",phone:"880"},{ioc:"BEL",iso:"BE",label:"Belgium",phone:"32"},{ioc:"BUR",iso:"BF",label:"Burkina Faso",phone:"226"},{ioc:"BUL",iso:"BG",label:"Bulgaria",phone:"359"},{ioc:"BRN",iso:"BH",label:"Bahrain",phone:"973"},{ioc:"BDI",iso:"BI",label:"Burundi",phone:"257"},{ioc:"BEN",iso:"BJ",label:"Benin",phone:"229"},{ioc:"",iso:"BL",label:"Saint Barthelemy",phone:"590"},{ioc:"BER",iso:"BM",label:"Bermuda",phone:"1-441"},{ioc:"BRU",iso:"BN",label:"Brunei Darussalam",phone:"673"},{ioc:"BOL",iso:"BO",label:"Bolivia",phone:"591"},{ioc:"BRA",iso:"BR",label:"Brazil",phone:"55"},{ioc:"BAH",iso:"BS",label:"Bahamas",phone:"1-242"},{ioc:"BHU",iso:"BT",label:"Bhutan",phone:"975"},{ioc:"",iso:"BV",label:"Bouvet Island",phone:"47"},{ioc:"BOT",iso:"BW",label:"Botswana",phone:"267"},{ioc:"BLR",iso:"BY",label:"Belarus",phone:"375"},{ioc:"BIZ",iso:"BZ",label:"Belize",phone:"501"},{ioc:"CAN",iso:"CA",label:"Canada",phone:"1",suggested:!0},{ioc:"",iso:"CC",label:"Cocos (Keeling) Islands",phone:"61"},{ioc:"CGO",iso:"CD",label:"Congo, Republic of the",phone:"242"},{ioc:"CAF",iso:"CF",label:"Central African Republic",phone:"236"},{ioc:"COD",iso:"CG",label:"Congo, Democratic Republic of the",phone:"243"},{ioc:"SUI",iso:"CH",label:"Switzerland",phone:"41"},{ioc:"CIV",iso:"CI",label:"Cote d'Ivoire",phone:"225"},{ioc:"COK",iso:"CK",label:"Cook Islands",phone:"682"},{ioc:"CHI",iso:"CL",label:"Chile",phone:"56"},{ioc:"CMR",iso:"CM",label:"Cameroon",phone:"237"},{ioc:"CHN",iso:"CN",label:"China",phone:"86"},{ioc:"COL",iso:"CO",label:"Colombia",phone:"57"},{ioc:"CRC",iso:"CR",label:"Costa Rica",phone:"506"},{ioc:"CUB",iso:"CU",label:"Cuba",phone:"53"},{ioc:"CPV",iso:"CV",label:"Cape Verde",phone:"238"},{ioc:"CUW",iso:"CW",label:"Curacao",phone:"599"},{ioc:"CXR",iso:"CX",label:"Christmas Island",phone:"61"},{ioc:"CYP",iso:"CY",label:"Cyprus",phone:"357"},{ioc:"CZE",iso:"CZ",label:"Czech Republic",phone:"420"},{ioc:"GER",iso:"DE",label:"Germany",phone:"49",suggested:!0},{ioc:"DJI",iso:"DJ",label:"Djibouti",phone:"253"},{ioc:"DEN",iso:"DK",label:"Denmark",phone:"45"},{ioc:"DMA",iso:"DM",label:"Dominica",phone:"1-767"},{ioc:"DOM",iso:"DO",label:"Dominican Republic",phone:"1-809"},{ioc:"ALG",iso:"DZ",label:"Algeria",phone:"213"},{ioc:"ECU",iso:"EC",label:"Ecuador",phone:"593"},{ioc:"EST",iso:"EE",label:"Estonia",phone:"372"},{ioc:"EGY",iso:"EG",label:"Egypt",phone:"20"},{ioc:"",iso:"EH",label:"Western Sahara",phone:"212"},{ioc:"ERI",iso:"ER",label:"Eritrea",phone:"291"},{ioc:"ESP",iso:"ES",label:"Spain",phone:"34"},{ioc:"ETH",iso:"ET",label:"Ethiopia",phone:"251"},{ioc:"FIN",iso:"FI",label:"Finland",phone:"358"},{ioc:"FIJ",iso:"FJ",label:"Fiji",phone:"679"},{ioc:"FLK",iso:"FK",label:"Falkland Islands (Malvinas)",phone:"500"},{ioc:"FSM",iso:"FM",label:"Micronesia, Federated States of",phone:"691"},{ioc:"FAR",iso:"FO",label:"Faroe Islands",phone:"298"},{ioc:"FRA",iso:"FR",label:"France",phone:"33",suggested:!0},{ioc:"GAB",iso:"GA",label:"Gabon",phone:"241"},{ioc:"GBR",iso:"GB",label:"United Kingdom",phone:"44"},{ioc:"GRN",iso:"GD",label:"Grenada",phone:"1-473"},{ioc:"GEO",iso:"GE",label:"Georgia",phone:"995"},{ioc:"FGU",iso:"GF",label:"French Guiana",phone:"594"},{ioc:"",iso:"GG",label:"Guernsey",phone:"44"},{ioc:"",iso:"GH",label:"Ghana",phone:"233"},{ioc:"GIB",iso:"GI",label:"Gibraltar",phone:"350"},{ioc:"GRL",iso:"GL",label:"Greenland",phone:"299"},{ioc:"GAM",iso:"GM",label:"Gambia",phone:"220"},{ioc:"GUI",iso:"GN",label:"Guinea",phone:"224"},{ioc:"GUD",iso:"GP",label:"Guadeloupe",phone:"590"},{ioc:"GEQ",iso:"GQ",label:"Equatorial Guinea",phone:"240"},{ioc:"GRE",iso:"GR",label:"Greece",phone:"30"},{ioc:"",iso:"GS",label:"South Georgia and the South Sandwich Islands",phone:"500"},{ioc:"GUA",iso:"GT",label:"Guatemala",phone:"502"},{ioc:"GUM",iso:"GU",label:"Guam",phone:"1-671"},{ioc:"GBS",iso:"GW",label:"Guinea-Bissau",phone:"245"},{ioc:"GUY",iso:"GY",label:"Guyana",phone:"592"},{ioc:"HKG",iso:"HK",label:"Hong Kong",phone:"852"},{ioc:"",iso:"HM",label:"Heard Island and McDonald Islands",phone:"672"},{ioc:"HON",iso:"HN",label:"Honduras",phone:"504"},{ioc:"CRO",iso:"HR",label:"Croatia",phone:"385"},{ioc:"HAI",iso:"HT",label:"Haiti",phone:"509"},{ioc:"HUN",iso:"HU",label:"Hungary",phone:"36"},{ioc:"INA",iso:"ID",label:"Indonesia",phone:"62"},{ioc:"IRL",iso:"IE",label:"Ireland",phone:"353"},{ioc:"ISR",iso:"IL",label:"Israel",phone:"972"},{ioc:"",iso:"IM",label:"Isle of Man",phone:"44"},{ioc:"IND",iso:"IN",label:"India",phone:"91"},{ioc:"",iso:"IO",label:"British Indian Ocean Territory",phone:"246"},{ioc:"IRQ",iso:"IQ",label:"Iraq",phone:"964"},{ioc:"IRI",iso:"IR",label:"Iran, Islamic Republic of",phone:"98"},{ioc:"ISL",iso:"IS",label:"Iceland",phone:"354"},{ioc:"ITA",iso:"IT",label:"Italy",phone:"39"},{ioc:"",iso:"JE",label:"Jersey",phone:"44"},{ioc:"JAM",iso:"JM",label:"Jamaica",phone:"1-876"},{ioc:"JOR",iso:"JO",label:"Jordan",phone:"962"},{ioc:"JPN",iso:"JP",label:"Japan",phone:"81",suggested:!0},{ioc:"KEN",iso:"KE",label:"Kenya",phone:"254"},{ioc:"KGZ",iso:"KG",label:"Kyrgyzstan",phone:"996"},{ioc:"CAM",iso:"KH",label:"Cambodia",phone:"855"},{ioc:"KIR",iso:"KI",label:"Kiribati",phone:"686"},{ioc:"COM",iso:"KM",label:"Comoros",phone:"269"},{ioc:"SKN",iso:"KN",label:"Saint Kitts and Nevis",phone:"1-869"},{ioc:"KOR",iso:"KP",label:"Korea, Democratic People's Republic of",phone:"850"},{ioc:"PRK",iso:"KR",label:"Korea, Republic of",phone:"82"},{ioc:"KUW",iso:"KW",label:"Kuwait",phone:"965"},{ioc:"CAY",iso:"KY",label:"Cayman Islands",phone:"1-345"},{ioc:"KAZ",iso:"KZ",label:"Kazakhstan",phone:"7"},{ioc:"LAO",iso:"LA",label:"Lao People's Democratic Republic",phone:"856"},{ioc:"LIB",iso:"LB",label:"Lebanon",phone:"961"},{ioc:"LCA",iso:"LC",label:"Saint Lucia",phone:"1-758"},{ioc:"LIE",iso:"LI",label:"Liechtenstein",phone:"423"},{ioc:"SRI",iso:"LK",label:"Sri Lanka",phone:"94"},{ioc:"LBR",iso:"LR",label:"Liberia",phone:"231"},{ioc:"LES",iso:"LS",label:"Lesotho",phone:"266"},{ioc:"LTU",iso:"LT",label:"Lithuania",phone:"370"},{ioc:"LUX",iso:"LU",label:"Luxembourg",phone:"352"},{ioc:"LAT",iso:"LV",label:"Latvia",phone:"371"},{ioc:"LBA",iso:"LY",label:"Libya",phone:"218"},{ioc:"MAR",iso:"MA",label:"Morocco",phone:"212"},{ioc:"MON",iso:"MC",label:"Monaco",phone:"377"},{ioc:"MDA",iso:"MD",label:"Moldova, Republic of",phone:"373"},{ioc:"MNE",iso:"ME",label:"Montenegro",phone:"382"},{ioc:"",iso:"MF",label:"Saint Martin (French part)",phone:"590"},{ioc:"MAD",iso:"MG",label:"Madagascar",phone:"261"},{ioc:"MSH",iso:"MH",label:"Marshall Islands",phone:"692"},{ioc:"MKD",iso:"MK",label:"Macedonia, the Former Yugoslav Republic of",phone:"389"},{ioc:"MLI",iso:"ML",label:"Mali",phone:"223"},{ioc:"MYA",iso:"MM",label:"Myanmar",phone:"95"},{ioc:"MGL",iso:"MN",label:"Mongolia",phone:"976"},{ioc:"MAC",iso:"MO",label:"Macao",phone:"853"},{ioc:"NMA",iso:"MP",label:"Northern Mariana Islands",phone:"1-670"},{ioc:"MRT",iso:"MQ",label:"Martinique",phone:"596"},{ioc:"MTN",iso:"MR",label:"Mauritania",phone:"222"},{ioc:"MNT",iso:"MS",label:"Montserrat",phone:"1-664"},{ioc:"MLT",iso:"MT",label:"Malta",phone:"356"},{ioc:"MRI",iso:"MU",label:"Mauritius",phone:"230"},{ioc:"MDV",iso:"MV",label:"Maldives",phone:"960"},{ioc:"MAW",iso:"MW",label:"Malawi",phone:"265"},{ioc:"MEX",iso:"MX",label:"Mexico",phone:"52"},{ioc:"MAS",iso:"MY",label:"Malaysia",phone:"60"},{ioc:"MOZ",iso:"MZ",label:"Mozambique",phone:"258"},{ioc:"NAM",iso:"NA",label:"Namibia",phone:"264"},{ioc:"NCL",iso:"NC",label:"New Caledonia",phone:"687"},{ioc:"NIG",iso:"NE",label:"Niger",phone:"227"},{ioc:"NFI",iso:"NF",label:"Norfolk Island",phone:"672"},{ioc:"NGR",iso:"NG",label:"Nigeria",phone:"234"},{ioc:"NCA",iso:"NI",label:"Nicaragua",phone:"505"},{ioc:"NED",iso:"NL",label:"Netherlands",phone:"31"},{ioc:"NOR",iso:"NO",label:"Norway",phone:"47"},{ioc:"NEP",iso:"NP",label:"Nepal",phone:"977"},{ioc:"NRU",iso:"NR",label:"Nauru",phone:"674"},{ioc:"NIU",iso:"NU",label:"Niue",phone:"683"},{ioc:"NZL",iso:"NZ",label:"New Zealand",phone:"64"},{ioc:"OMA",iso:"OM",label:"Oman",phone:"968"},{ioc:"PAN",iso:"PA",label:"Panama",phone:"507"},{ioc:"PER",iso:"PE",label:"Peru",phone:"51"},{ioc:"FPO",iso:"PF",label:"French Polynesia",phone:"689"},{ioc:"PNG",iso:"PG",label:"Papua New Guinea",phone:"675"},{ioc:"PHI",iso:"PH",label:"Philippines",phone:"63"},{ioc:"PAK",iso:"PK",label:"Pakistan",phone:"92"},{ioc:"POL",iso:"PL",label:"Poland",phone:"48"},{ioc:"SPM",iso:"PM",label:"Saint Pierre and Miquelon",phone:"508"},{ioc:"",iso:"PN",label:"Pitcairn",phone:"870"},{ioc:"PUR",iso:"PR",label:"Puerto Rico",phone:"1"},{ioc:"PLE",iso:"PS",label:"Palestine, State of",phone:"970"},{ioc:"POR",iso:"PT",label:"Portugal",phone:"351"},{ioc:"PlW",iso:"PW",label:"Palau",phone:"680"},{ioc:"PAR",iso:"PY",label:"Paraguay",phone:"595"},{ioc:"QAT",iso:"QA",label:"Qatar",phone:"974"},{ioc:"REU",iso:"RE",label:"Reunion",phone:"262"},{ioc:"ROU",iso:"RO",label:"Romania",phone:"40"},{ioc:"SRB",iso:"RS",label:"Serbia",phone:"381"},{ioc:"RUS",iso:"RU",label:"Russia",phone:"7"},{ioc:"RWA",iso:"RW",label:"Rwanda",phone:"250"},{ioc:"KSA",iso:"SA",label:"Saudi Arabia",phone:"966"},{ioc:"SOL",iso:"SB",label:"Solomon Islands",phone:"677"},{ioc:"SEY",iso:"SC",label:"Seychelles",phone:"248"},{ioc:"SUD",iso:"SD",label:"Sudan",phone:"249"},{ioc:"SWE",iso:"SE",label:"Sweden",phone:"46"},{ioc:"SIN",iso:"SG",label:"Singapore",phone:"65"},{ioc:"HEL",iso:"SH",label:"Saint Helena",phone:"290"},{ioc:"SLO",iso:"SI",label:"Slovenia",phone:"386"},{ioc:"",iso:"SJ",label:"Svalbard and Jan Mayen",phone:"47"},{ioc:"SVK",iso:"SK",label:"Slovakia",phone:"421"},{ioc:"SLE",iso:"SL",label:"Sierra Leone",phone:"232"},{ioc:"SMR",iso:"SM",label:"San Marino",phone:"378"},{ioc:"SEN",iso:"SN",label:"Senegal",phone:"221"},{ioc:"SOM",iso:"SO",label:"Somalia",phone:"252"},{ioc:"SUR",iso:"SR",label:"Suriname",phone:"597"},{ioc:"",iso:"SS",label:"South Sudan",phone:"211"},{ioc:"STP",iso:"ST",label:"Sao Tome and Principe",phone:"239"},{ioc:"ESA",iso:"SV",label:"El Salvador",phone:"503"},{ioc:"",iso:"SX",label:"Sint Maarten",phone:"1-721"},{ioc:"SYR",iso:"SY",label:"Syria",phone:"963"},{ioc:"",iso:"SZ",label:"Swaziland",phone:"268"},{ioc:"TKS",iso:"TC",label:"Turks and Caicos Islands",phone:"1-649"},{ioc:"CHA",iso:"TD",label:"Chad",phone:"235"},{ioc:"",iso:"TF",label:"French Southern Territories",phone:"262"},{ioc:"TOG",iso:"TG",label:"Togo",phone:"228"},{ioc:"THA",iso:"TH",label:"Thailand",phone:"66"},{ioc:"TJK",iso:"TJ",label:"Tajikistan",phone:"992"},{ioc:"",iso:"TK",label:"Tokelau",phone:"690"},{ioc:"TLS",iso:"TL",label:"Timor-Leste",phone:"670"},{ioc:"TKM",iso:"TM",label:"Turkmenistan",phone:"993"},{ioc:"TUN",iso:"TN",label:"Tunisia",phone:"216"},{ioc:"TGA",iso:"TO",label:"Tonga",phone:"676"},{ioc:"TUR",iso:"TR",label:"Turkey",phone:"90"},{ioc:"TTO",iso:"TT",label:"Trinidad and Tobago",phone:"1-868"},{ioc:"TUV",iso:"TV",label:"Tuvalu",phone:"688"},{ioc:"TPE",iso:"TW",label:"Taiwan",phone:"886"},{ioc:"TAN",iso:"TZ",label:"United Republic of Tanzania",phone:"255"},{ioc:"UKR",iso:"UA",label:"Ukraine",phone:"380"},{ioc:"UGA",iso:"UG",label:"Uganda",phone:"256"},{ioc:"USA",iso:"US",label:"United States",phone:"1",suggested:!0},{ioc:"URU",iso:"UY",label:"Uruguay",phone:"598"},{ioc:"UZB",iso:"UZ",label:"Uzbekistan",phone:"998"},{ioc:"",iso:"VA",label:"Holy See (Vatican City State)",phone:"379"},{ioc:"VIN",iso:"VC",label:"Saint Vincent and the Grenadines",phone:"1-784"},{ioc:"VEN",iso:"VE",label:"Venezuela",phone:"58"},{ioc:"IVB",iso:"VG",label:"British Virgin Islands",phone:"1-284"},{ioc:"ISV",iso:"VI",label:"US Virgin Islands",phone:"1-340"},{ioc:"VIE",iso:"VN",label:"Vietnam",phone:"84"},{ioc:"VAN",iso:"VU",label:"Vanuatu",phone:"678"},{ioc:"WAF",iso:"WF",label:"Wallis and Futuna",phone:"681"},{ioc:"SAM",iso:"WS",label:"Samoa",phone:"685"},{ioc:"KOS",iso:"XK",label:"Kosovo",phone:"383"},{ioc:"YEM",iso:"YE",label:"Yemen",phone:"967"},{ioc:"MAY",iso:"YT",label:"Mayotte",phone:"262"},{ioc:"RSA",iso:"ZA",label:"South Africa",phone:"27"},{ioc:"ZAM",iso:"ZM",label:"Zambia",phone:"260"},{ioc:"ZIM",iso:"ZW",label:"Zimbabwe",phone:"263"}],Vi="MAIN",Hi="QUALIFYING",Wi="CONSOLATION",zi="VOLUNTARY_CONSOLATION",Ki="PLAY_OFF",qi=[Vi,Hi,Wi,Ki,zi],$i={[Hi]:1,[Vi]:2,[Ki]:3,[Wi]:3,[zi]:4},Yi="CLUSTER",Ji="WATERFALL",Xi="ITEM",Qi="CONTAINER",tr="DRAW",er="RANDOM",nr="TOP_DOWN",ir="BOTTOM_UP",rr="POSITION",ar="WINNER",or="LOSER",sr="FIRST_MATCHUP",cr="AD_HOC",ur="FEED IN",dr="COMPASS",lr="OLYMPIC",pr="SINGLE_ELIMINATION",fr="DOUBLE_ELIMINATION",mr="FIRST_MATCH_LOSER_CONSOLATION",hr="FIRST_ROUND_LOSER_CONSOLATION",vr="CURTIS_CONSOLATION",gr="FEED_IN_CHAMPIONSHIP_TO_SF",yr="FEED_IN_CHAMPIONSHIP_TO_SF",Ir="FEED_IN_CHAMPIONSHIP_TO_QF",wr="FEED_IN_CHAMPIONSHIP_TO_QF",br="FEED_IN_CHAMPIONSHIP_TO_R16",Nr="FEED_IN_CHAMPIONSHIP_TO_R16",Sr="MODIFIED_FEED_IN_CHAMPIONSHIP",Pr="MODIFIED_FEED_IN_CHAMPIONSHIP",Er="FEED_IN_CHAMPIONSHIP",Ur="ROUND_ROBIN",Ar="ROUND_ROBIN_WITH_PLAYOFF",Dr="DECIDER",Mr="BACKDRAW",Tr={0:{name:"EAST",abbreviation:"E"},"0-1":{name:"WEST",abbreviation:"W"},"0-2":{name:"NORTH",abbreviation:"N"},"0-3":{name:"NORTHEAST",abbreviation:"NE"},"0-1-1":{name:"SOUTH",abbreviation:"S"},"0-1-2":{name:"SOUTHWEST",abbreviation:"SW"},"0-2-1":{name:"NORTHWEST",abbreviation:"NW"},"0-1-1-1":{name:"SOUTHEAST",abbreviation:"SE"}},Cr={0:{name:"EAST",abbreviation:"E"},"0-1":{name:"WEST",abbreviation:"W"},"0-2":{name:"NORTH",abbreviation:"N"},"0-1-1":{name:"SOUTH",abbreviation:"S"}},Rr="WIN_RATIO",xr="ROUND_OUTCOME",Or=[ur,dr,Ki,lr,vr,gr,Ir,br,mr,hr,Pr,Nr,wr,yr,Er,Ar],Lr={MAIN:Vi,QUALIFYING:Hi,CONSOLATION:Wi,ITEM:Xi,CONTAINER:Qi,FIRST_MATCHUP:sr,WINNER:ar,LOSER:or,AD_HOC:cr,FEED_IN:ur,COMPASS:dr,PLAY_OFF:Ki,OLYMPIC:lr,KNOCKOUT:"SINGLE_ELIMINATION",SINGLE_ELIMINATION:pr,DOUBLE_ELIMINATION:fr,CURTIS:vr,FICSF:gr,FICQF:Ir,FICR16:br,MFIC:Sr,FIRST_MATCH_LOSER_CONSOLATION:mr,FIRST_ROUND_LOSER_CONSOLATION:hr,MODIFIED_FEED_IN_CHAMPIONSHIP:Pr,FEED_IN_CHAMPIONSHIP_TO_R16:Nr,FEED_IN_CHAMPIONSHIP_TO_QF:wr,FEED_IN_CHAMPIONSHIP_TO_SF:yr,FEED_IN_CHAMPIONSHIP:Er,ROUND_ROBIN_WITH_PLAYOFF:Ar,ROUND_ROBIN:Ur,DECIDER:Dr,BACKDRAW:Mr,COMPASS_ATTRIBUTES:Tr,OLYMPIC_ATTRIBUTES:Cr,DRAW:tr,RANDOM:er,TOP_DOWN:nr,BOTTOM_UP:ir,WATERFALL:Ji,WIN_RATIO:Rr,ROUND_OUTCOME:xr,MULTI_STRUCTURE_DRAWS:Or,generatedDrawTypes:[cr,dr,vr,fr,wr,Nr,yr,Er,ur,mr,hr,Pr,lr,Ki,Ur,Ar,pr]},kr="removeDrawPositionAssignment",Fr="assignDrawPosition",Zr="addPenalty",_r="ALTERNATE",Br="WITHDRAW",jr="ASSIGN",Gr="REMOVE",Vr="LUCKY",Hr="SWAP",Wr="NICKNAME",zr="SEED_VALUE",Kr="PENALTY",qr="BYE",$r={[Di]:{policyName:"positionActionsDefault",enabledStructures:[{stages:[Hi,Vi],stageSequences:[1],enabledActions:[],disabledActions:[]},{stages:[],stageSequences:[],enabledActions:[zr,Wr,Kr],disabledActions:[]}],disbledStructures:[]}},Yr={[Mi]:{policyName:"Round Naming Default",roundNamingMap:{1:"F",2:"SF",4:"QF"},affixes:{roundNumber:"R",preFeedRound:"Q"},stageConstants:{[Vi]:"",[Ki]:"P",[Hi]:"Q",[Wi]:"C"}}},Jr="SINGLES",Xr="DOUBLES",Qr="TEAM",ta={[Ri]:{policyName:"USTA",seedingProfile:"SEPARATE",duplicateSeedNumbers:!0,drawSizeProgression:!0,validSeedPositions:{ignore:!0},seedsCountThresholds:[{drawSize:4,minimumParticipantCount:3,seedsCount:2},{drawSize:16,minimumParticipantCount:12,seedsCount:4},{drawSize:32,minimumParticipantCount:24,seedsCount:8},{drawSize:64,minimumParticipantCount:48,seedsCount:16},{drawSize:128,minimumParticipantCount:96,seedsCount:32},{drawSize:256,minimumParticipantCount:192,seedsCount:64}]}};function ea({courtDate:t,includeBookingTypes:e=[]}){const n=[];let i=ui(t.startTime);(t.bookings||[]).filter((t=>!t.bookingType||!e.includes(t.bookingType))).sort(((t,e)=>ri(t.startTime).localeCompare(ri(e.startTime)))).forEach((t=>{const e={startTime:ai(i.toISOString()),endTime:t.startTime};ui(t.startTime)>i&&n.push(e),ui(t.endTime)>i&&(i=ui(t.endTime))}));const r={startTime:ai(i.toISOString()),endTime:t.endTime};return ui(t.endTime)>i&&n.push(r),n}function na({includeBookingTypes:t,averageMatchUpMinutes:e,periodStartTime:n,periodEndTime:i,periodLength:r,date:a}){function o(t){const r=ui(t.startTime),a=ui(t.endTime);if(r>n)return!1;if(a<i)return!1;return di(n,a)>=e}return{sameDate:t=>!t.date||mi(t.date,a),enoughTime:e=>!!ea({courtDate:e,periodLength:r,includeBookingTypes:t}).filter(o).length}}function ia({includeBookingTypes:t,averageMatchUpMinutes:e,periodLength:n,periodStart:i,courts:r,date:a}){const o=ui(i),s=pi(o,e),{sameDate:c,enoughTime:u}=na({includeBookingTypes:t,averageMatchUpMinutes:e,periodStartTime:o,periodEndTime:s,periodLength:n,date:a});return{availableToScheduleCount:r.filter((t=>!!(Array.isArray(t.dateAvailability)&&t.dateAvailability.filter(c).filter(u)).length)).length}}function ra({startTime:t="8:00",endTime:e="20:30",count:n=10,date:i}={}){return Ze(0,n).map((()=>({dateAvailability:[{date:i,startTime:t,endTime:e}]})))}function aa({calculateStartTimeFromCourts:t=!0,remainingScheduleTimes:e,averageMatchUpMinutes:n=90,date:i=$n(),periodLength:r=30,startTime:a="08:00",endTime:o="19:00",courtsCount:s,bookings:c,courts:u}={}){i=oi(i),a=ai(a),o=ai(o);let d=0,l=0,p=0,f=0,m=0;!u&&s&&(u=ra({startTime:a,endTime:o,count:s,date:i}));const{virtualCourts:h,firstTimeSlotStartTime:v}=function({averageMatchUpMinutes:t,remainingScheduleTimes:e=[],startTime:n,endTime:i,bookings:r,courts:a,date:o}){const{sameDate:s}=na({date:o}),c=a.map((({courtId:t,dateAvailability:n},i)=>({courtId:t,dateAvailability:null==n?void 0:n.filter(s).map((({date:t,startTime:n,endTime:r,bookings:a})=>{const o=[],s=e[i]&&{startTime:n,endTime:e[i],bookingType:"remainingScheduleTime"};return s&&o.push(s),Array.isArray(a)&&o.push(...null==a?void 0:a.map((t=>t))),{date:t,startTime:n,endTime:r,bookings:o}}))}))),{unassignedBookings:u}=(r||[]).reduce(((t,e)=>{const{courtId:n}=e;return n?t.courtBookings[n]?t.courtBookings[n].push(e):t.courtBookings[n]=[e]:t.unassignedBookings.push(e),t}),{courtBookings:{},unassignedBookings:[]});let d;if(u.forEach((t=>{const{startTime:e,endTime:n,matchUpId:i,averageMinutes:r,recoveryMinutes:a,periodLength:o}=t,s=ui(e),u=ui(n),d=di(s,u);c.find((t=>t.dateAvailability.find((t=>ea({courtDate:t}).find((c=>{const l=ui(c.startTime),p=ui(c.endTime);if(l>s)return!1;if(p<u)return!1;const f=di(l,p)>=d;if(f){t.bookings||(t.bookings=[]);const s={bookingType:"virtual",averageMinutes:r,recoveryMinutes:a,periodLength:o,matchUpId:i,startTime:e,endTime:n};t.bookings.push(s)}return f}))))))})),n&&i){const e=ui(n),r=ui(i);c.every((n=>!!Array.isArray(n.dateAvailability)&&n.dateAvailability.filter(s).find((n=>ea({courtDate:n}).find((n=>{const i=ui(n.startTime),a=ui(n.endTime);if(i>r||i<e)return!1;if(a<e)return!1;const o=di(i,a)>=t;if(o){const t=ai(i.toISOString());(!d||t<d)&&(d=t)}return o}))))))}return{virtualCourts:c,firstTimeSlotStartTime:d}}({remainingScheduleTimes:e,averageMatchUpMinutes:n,periodLength:r,startTime:a,endTime:o,bookings:c,courts:u,date:i});t&&v&&(a=v||a);const g=ii(a),y=ii(o)-g,I=Ze(0,Math.floor(y/r)+1).map((t=>{const e=function(t){let e=Math.floor(t/60);const n=t-60*e;return e>23&&(e%=24),[fi(e),fi(n)].join(":")}(g+t*r),{availableToScheduleCount:a}=ia({courts:h,averageMatchUpMinutes:n,periodLength:r,periodStart:e,period:t,date:i}),o=a>l?a-l:0;m+=t?a:0;const s=t?m/t:a,c=t?r*s/n*(t-1)+s:s,u=a?l?c-d:o:0;d=c,l=a,p+=u;const v=parseInt(p)-f;return f+=v,{periodStart:e,add:v,availableToScheduleCount:a,newCourts:o,totalMatchUps:f}}));return{scheduleTimes:I.reduce(((t,e)=>t.concat(...Ze(0,e.add).map((()=>({scheduleTime:e.periodStart}))))),[]).flat(),timingProfile:I,totalMatchUps:f}}const oa={getCourtsAvailableAtPeriodStart:ia,generateTimeSlots:ea,getScheduleTimes:aa,courtGenerator:ra};function sa(t,e=".",n=[]){return Object.keys(t||{}).reduce(((i,r)=>"object"!=typeof t[r]?(i[n.concat(r).join(e)]=t[r],i):Object.assign(i,sa(t[r],e,n.concat(r)))),{})}function ca({tournamentParticipants:t=[],policyDefinitions:e={},participantId:n,personId:i}){const r=t.find((t=>n&&t.participantId===n||i&&t.person&&t.person.personId===i)),a=e.participant;if(null!=a&&a.participant){return vi(Pn({source:r,template:a.participant}))}return vi(r)}function ua({tournamentRecord:t,participantId:e}){return{participant:(t.participants||[]).reduce(((t,n)=>n.participantId===e?n:t),void 0)}}function da({element:t,itemType:e,itemSubTypes:n,returnPreviousValues:i}){if(!t)return{error:yt};if(!Array.isArray(t.timeItems))return{error:me};const r=t.timeItems.filter((t=>(null==t?void 0:t.itemType)===e)).filter((t=>{var e;return!(null!=n&&n.length)||(null==t||null===(e=t.itemSubTypes)||void 0===e?void 0:e.includes(n))})).sort(((t,e)=>new Date(t.createdAt||void 0)-new Date(e.createdAt||void 0))),a=r.pop();if(a){const t={timeItem:a,...En};return i&&Object.assign(t,{previousItems:r}),t}return{message:Ue}}function la({event:t,itemType:e,itemSubTypes:n,returnPreviousValues:i}){if(!t)return{error:F};if(!t.timeItems)return{message:Ue};const{timeItem:r,previousItems:a,message:o}=da({element:t,itemType:e,itemSubTypes:n,returnPreviousValues:i});return r&&{timeItem:r,previousItems:a}||{message:o}}function pa({element:t,timeItem:e,duplicateValues:n=!0}){if(!t)return{error:yt};if(!e)return{error:fe};const i=e&&Object.keys(e),r=["itemType","itemValue"];if(!(r.filter((t=>i.includes(t))).length===r.length))return{error:pe};if(t.timeItems){const{itemType:i,itemSubTypes:r,itemValue:a}=e,{timeItem:o}=da({element:t,itemType:i,itemSubTypes:r});if(JSON.stringify(null==o?void 0:o.itemValue)===JSON.stringify(a)&&!n)return En}else t.timeItems=[];e.itemSubTypes&&!e.itemSubTypes.length&&delete e.itemSubTypes;const a=(new Date).toISOString();return Object.assign(e,{createdAt:a}),t.timeItems.push(e),En}function fa({tournamentRecord:t,duplicateValues:e,participantId:n,timeItem:i}){if(!t)return{error:s};if(!n)return{error:Lt};const r=ua({tournamentRecord:t,participantId:n});return r.error?r:pa({element:r.participant,duplicateValues:e,timeItem:i})}function ma({tournamentRecord:t,duplicateValues:e,timeItem:n}){return t?pa({element:t,timeItem:n,duplicateValues:e}):{error:s}}function ha({event:t,timeItem:e,duplicateValues:n}){return t?pa({element:t,timeItem:e,duplicateValues:n}):{error:Z}}const va="addDrawDefinition",ga="addMatchUps",ya="addParticipants",Ia="addVenue",wa="audit",ba="deletedDrawIds",Na="deleteParticipants",Sa="deleteVenue",Pa="deletedMatchUpIds",Ea="modifyDrawDefinition",Ua="modifyMatchUp",Aa="modifyParticipants",Da="modifyVenue",Ma="publishEvent";function Ta(t){if(!t)return;let e=Date.now();e===t.updatedAt&&(e+=1),t.updatedAt=e}function Ca({drawDefinition:t,matchUps:e}){Ta(t),Rn({topic:ga,payload:{matchUps:e}})}function Ra({drawDefinition:t,matchUpIds:e,action:n}){Ta(t),Rn({topic:Pa,payload:{action:n,matchUpIds:e}})}function xa({drawDefinition:t,matchUp:e}){La({drawDefinition:t}),Rn({topic:Ua,payload:{matchUp:e},key:e.matchUpId})}function Oa({drawDefinition:t}){Ta(t),Rn({topic:va,payload:{drawDefinition:t},key:t.drawId})}function La({drawDefinition:t}){Ta(t),Rn({topic:Ea,payload:{drawDefinition:t},key:t.drawId})}function ka({categoryName:t,categoryType:e,timesBlockArray:n}){return n.filter((t=>Array.isArray(t))).map((n=>n.sort(((t,e)=>{var n,i;return((null===(n=e.categoryNames)||void 0===n?void 0:n.length)||0)-((null===(i=t.categoryNames)||void 0===i?void 0:i.length)||0)})).find((({categoryTypes:n,categoryNames:i})=>!(null!=i&&i.length)&&!(null!=n&&n.length)||(null==i?void 0:i.includes(t))||(null==n?void 0:n.includes(e)))))).find(Boolean)}function Fa({matchUpAverageTimes:t,matchUpFormat:e}={}){const n=(null==t?void 0:t.map((({matchUpFormatCodes:t})=>null==t?void 0:t.filter((t=>t===e)))).flat().filter(Boolean).sort(((t,e)=>((null==t?void 0:t.length)||0)-((null==e?void 0:e.length)||0))))||[],i=n.includes(e)?e:n[0],r=null==t?void 0:t.find((({matchUpFormatCodes:t,averageTimes:e})=>(null==t?void 0:t.find((t=>i===t)))&&e));return null==r?void 0:r.averageTimes}function Za({matchUpRecoveryTimes:t,averageMinutes:e,matchUpFormat:n}={}){var i;return null==t||null===(i=t.find((({matchUpFormatCodes:t,averageTimes:i,recoveryTimes:r})=>{if(i&&e){const{greaterThan:t=0,lessThan:n=360}=i;if(e>t&&e<n)return!0}return(null==t?void 0:t.find((t=>t===n)))&&r})))||void 0===i?void 0:i.recoveryTimes}const _a="appliedPolicies",Ba="delegatedOutcome",ja="disableLinks",Ga="entryProfile",Va="flightProfile",Ha="groupingAttribute",Wa="linkedTournamentsIds",za="participantRepresentatives",Ka="personRequests",qa="scheduleLimits",$a="scheduleTiming",Ya="schedulingProfile",Ja="subOrder",Xa={APPLIED_POLICIES:_a,DELEGATED_OUTCOME:Ba,DISABLE_LINKS:ja,DRAW_PROFILE:"drawProfile",ENTRY_PROFILE:Ga,FLIGHT_PROFILE:Va,GROUPING_ATTRIBUTE:Ha,LINKED_TOURNAMENTS:Wa,PARTICIPANT_REPRESENTATIVES:za,PERSON_REQUESTS:Ka,SCHEDULE_LIMITS:qa,SCHEDULE_TIMING:$a,SCHEDULING_PROFILE:Ya,SUB_ORDER:Ja};function Qa({tournamentRecord:t}){return eo({extensions:(null==t?void 0:t.extensions)||[]})}function to({event:t}){if(!t)return{error:F};return eo({extensions:t.extensions||[]})}function eo({extensions:t}){const e=t.find((t=>t.name===_a));return{appliedPolicies:(null==e?void 0:e.value)||{}}}function no({tournamentRecord:t,event:e,policyType:n}){if(!t)return{error:s};if(e){const{appliedPolicies:t}=to({event:e});if(t&&t[n])return{policy:t[n]}}const{appliedPolicies:i}=Qa({tournamentRecord:t});return null!=i&&i[n]?{policy:i[n]}:{error:mt}}function io({element:t,name:e}){if(!t||!e)return{error:yt};if(!Array.isArray(t.extensions))return{message:Ue};const n=t.extensions.find((t=>(null==t?void 0:t.name)===e));return{extension:n,message:!n&&Ue}}function ro({tournamentRecord:t,name:e}){return io({element:t,name:e})}function ao({event:t,name:e}){return t?io({element:t,name:e}):{error:F}}function oo({drawDefinition:t,name:e}){return t?io({element:t,name:e}):{error:l}}function so({tournamentRecord:t,categoryName:e,categoryType:n,event:i}){var r,a,o;e=e||(null==i||null===(r=i.category)||void 0===r?void 0:r.categoryName)||(null==i||null===(a=i.category)||void 0===a?void 0:a.ageCategoryCode),n=n||(null==i||null===(o=i.category)||void 0===o?void 0:o.categoryType);const{policy:s}=no({policyType:Ti,tournamentRecord:t,event:i}),{extension:c}=ro({tournamentRecord:t,name:$a}),u=null==c?void 0:c.value,{extension:d}=ao({event:i,name:$a});return{scheduleTiming:{categoryName:e,categoryType:n,eventScheduling:null==d?void 0:d.value,tournamentScheduling:u,policy:s}}}const co="SINGLES_DOUBLES",uo="DOUBLES_SINGLES";function lo({defaultAverageMinutes:t=90,defaultRecoveryMinutes:e=0,tournamentRecord:n,matchUpFormat:i,categoryName:r,categoryType:a,eventType:o,event:c}){if(!n)return{error:s};o=o||(null==c?void 0:c.eventType);const u={averageTimes:[{minutes:{default:t}}],recoveryTimes:[{minutes:{default:e}}]},{scheduleTiming:d}=so({tournamentRecord:n,categoryName:r,categoryType:a,event:c});return po({eventType:o,timingDetails:{...d,matchUpFormat:i,categoryType:a,defaultTiming:u}})}function po({eventType:t,timingDetails:e}){const n=function({matchUpFormat:t,categoryName:e,categoryType:n,defaultTiming:i,tournamentScheduling:r,eventScheduling:a,policy:o}){var s;return ka({categoryName:e,categoryType:n,timesBlockArray:[(null==a?void 0:a.matchUpAverageTimes)&&Fa({...a,matchUpFormat:t}),(null==r?void 0:r.matchUpAverageTimes)&&Fa({...r,matchUpFormat:t}),(null==o?void 0:o.matchUpAverageTimes)&&Fa({...o,matchUpFormat:t}),null==o||null===(s=o.defaultTimes)||void 0===s?void 0:s.averageTimes,null==i?void 0:i.averageTimes]})}(e),i=Object.keys((null==n?void 0:n.minutes)||{}),r=(null==n?void 0:n.minutes)&&((null==i?void 0:i.includes(t))&&n.minutes[t]||n.minutes.default),a=function({matchUpFormat:t,categoryName:e,categoryType:n,averageMinutes:i,defaultTiming:r,tournamentScheduling:a,eventScheduling:o,policy:s}){var c;return ka({categoryName:e,categoryType:n,timesBlockArray:[(null==o?void 0:o.matchUpRecoveryTimes)&&Za({...o,averageMinutes:i,matchUpFormat:t}),(null==a?void 0:a.matchUpRecoveryTimes)&&Za({...a,averageMinutes:i,matchUpFormat:t}),(null==s?void 0:s.matchUpRecoveryTimes)&&Za({...s,averageMinutes:i,matchUpFormat:t}),null==s||null===(c=s.defaultTimes)||void 0===c?void 0:c.recoveryTimes,null==r?void 0:r.recoveryTimes]})}({...e,averageMinutes:r}),o=Object.keys((null==a?void 0:a.minutes)||{}),s=(null==a?void 0:a.minutes)&&((null==o?void 0:o.includes(t))&&a.minutes[t]||a.minutes.default),c=t===Jr?co:uo;return{averageMinutes:r,recoveryMinutes:s,typeChangeRecoveryMinutes:(null==a?void 0:a.minutes)&&((null==o?void 0:o.includes(c))&&a.minutes[c]||s)}}function fo({tournamentRecord:t,eventId:e,drawId:n}){if(!t)return{error:s};const i=(null==t?void 0:t.events)||[];if(n){let t;const e=i.find((e=>{const i=((null==e?void 0:e.drawDefinitions)||[]).find((t=>t.drawId===n));return i&&(t=i),i}));if(e)return{event:e,drawDefinition:t}}if(e){const t=i.find((t=>t.eventId===e));return t?{event:t}:{error:Z}}return{error:yt}}function mo({tournamentRecord:t,drawId:e}){if(!t)return{error:s};if(!e)return{error:P};const n=(t.events||[]).reduce(((t,n)=>{const i=(n.drawDefinitions||[]).reduce(((t,n)=>n.drawId===e?n:t),void 0);return i&&i.drawId===e?{event:n,drawDefinition:i}:t}),void 0);return n?{...n,SUCCESS:En}:{error:p}}function ho(t){if("object"!=typeof t||null===t)return t;const e=Object.keys(t).filter((e=>!["",void 0,null].includes(t[e])));return Object.assign({},...e.map((e=>Array.isArray(t[e])?{[e]:t[e].map((t=>ho(t)))}:{[e]:ho(t[e])})))}function vo(t,e,n){const i=t=>t.createdAt?new Date(t.createdAt).getTime():0,r=t.filter((t=>t&&t.itemType===e&&(!n||i(t)<n))).sort(((t,e)=>i(t)-i(e))).pop();return r&&r.itemValue}const go="CHECK_IN",yo="CHECK_OUT",Io="SCHEDULE.ASSIGNMENT.COURT",wo="SCHEDULE.ASSIGNMENT.VENUE",bo="SCHEDULE.DATE",No="SCHEDULE.TIME.SCHEDULED",So="SCHEDULE.TIME.START",Po="SCHEDULE.TIME.STOP",Eo="SCHEDULE.TIME.RESUME",Uo="SCHEDULE.TIME.END",Ao="SCALE",Do="RATING",Mo="RANKING",To="SEEDING",Co="PUBLIC",Ro="HIDDEN";function xo({matchUp:t,visibilityThreshold:e}){return{scheduledTime:vo((null==t?void 0:t.timeItems)||[],No,e)}}function Oo({matchUp:t,visibilityThreshold:e}){return{scheduledDate:vo((null==t?void 0:t.timeItems)||[],bo,e)}}function Lo({matchUp:t,visibilityThreshold:e}){return{courtId:vo((null==t?void 0:t.timeItems)||[],Io,e)}}function ko({matchUp:t,visibilityThreshold:e}){return{venueId:vo((null==t?void 0:t.timeItems)||[],wo,e)}}function Fo(t){if(Hn.test(t)){const e=$n();return new Date(`${e}T${t}`)}return new Date(t)}function Zo({matchUp:t}){if(!t)return{error:at};if(!t.timeItems)return{error:me};const e=t.timeItems.filter((t=>[So,Po,Eo,Uo].includes(null==t?void 0:t.itemType))).sort(((t,e)=>Fo(t.itemValue)-Fo(e.itemValue))),n=e.reduce(((t,e)=>{var n,i;let r;const a=null==e||null===(n=e.itemType)||void 0===n?void 0:n.split("."),o=`SCHEDULE.TIME.${(null==e||null===(i=e.itemType)||void 0===i?void 0:i.startsWith("SCHEDULE.TIME"))&&a[2]}`;switch(o){case So:r=0;break;case Uo:if(t.lastValue&&[So,Eo].includes(t.lastType)){const n=Fo(e.itemValue)-Fo(t.lastValue);r=t.milliseconds+n}else r=t.milliseconds;break;case Po:if([So,"SCHECULE.TIME.RESUME"].includes(t.lastType)){const n=Fo(e.itemValue)-Fo(t.lastValue);r=t.milliseconds+n}else r=t.milliseconds;break;default:r=t.milliseconds}return{milliseconds:r,lastType:o,lastValue:e.itemValue}}),{milliseconds:0,lastType:void 0,lastValue:void 0});if([So,Eo].includes(n.lastType)){const t=new Date-Fo(n.lastValue);n.milliseconds+=t}return{milliseconds:n.milliseconds,time:_o(n.milliseconds),relevantTimeItems:e}}function _o(t){const e=(t,e=2)=>("00"+t).slice(-e);return e(t/36e5|0)+":"+e(t%36e5/6e4|0)+":"+e(t%6e4/1e3|0)}const Bo="SINGLES",jo="DOUBLES",Go="TEAM";function Vo({scheduleVisibilityFilters:t,afterRecoveryTimes:e=!0,tournamentRecord:n,scheduleTiming:i,matchUpType:r,matchUp:a,event:o}){if(!a)return{error:at};if(!a.matchUpType&&!r&&(o||n)&&a.drawId){var s,c,u,d,l,p;let t=null===(s=o)||void 0===s?void 0:s.drawDefinitions.find((t=>t.drawId===a.drawId));!t&&n&&({drawDefinition:t,event:o}=fo({tournamentRecord:n,drawId:a.drawId}));const e=a.structureId&&(null===(c=t)||void 0===c||null===(u=c.structures)||void 0===u?void 0:u.find((({structureId:t})=>t===a.structureId)));r=(null==e?void 0:e.matchUpType)||(null===(d=t)||void 0===d?void 0:d.matchUpType)||(null===(l=o)||void 0===l?void 0:l.eventType)!==Go&&(null===(p=o)||void 0===p?void 0:p.eventType)}const{milliseconds:f,time:m}=Zo({matchUp:a}),{startTime:h}=function({matchUp:t}){const e=(null==t?void 0:t.timeItems)||[],n=t=>t.createdAt?new Date(t.createdAt).getTime():0,i=e.reduce(((t,e)=>{const i=e.itemType===So&&e;return i&&(!t||n(i)<n(t))?i:t}),void 0);return{startTime:i&&i.itemValue}}({matchUp:a}),{endTime:v}=function({matchUp:t}){const e=(null==t?void 0:t.timeItems)||[],n=t=>t.createdAt?new Date(t.createdAt).getTime():0,i=e.reduce(((t,e)=>{const i=e.itemType===Uo&&e;return i&&(!t||n(i)>n(t))?i:t}),void 0);return{endTime:i&&i.itemValue}}({matchUp:a});let g;const{visibilityThreshold:y,eventIds:I,drawIds:w}=t||{};if(I&&!I.includes(a.eventId)||w&&!w.includes(a.drawId))g=ho({time:m,startTime:h,endTime:v,milliseconds:f});else{const t={matchUp:a,visibilityThreshold:y};let{scheduledDate:n}=Oo(t);const{scheduledTime:o}=xo(t),{courtId:s}=Lo(t),{venueId:c}=ko(t);let u,d,l,p,I;if(i&&o&&e){const t={matchUpFormat:a.matchUpFormat,...i};({averageMinutes:d=0,recoveryMinutes:l=0,typeChangeRecoveryMinutes:p=0}=po({eventType:a.matchUpType||r,timingDetails:t})),(d||l)&&(u=v?li(ai(v),l):li(o,d+l)),p&&(I=v?li(ai(v),p):li(o,d+p))}!n&&o&&(n=oi(o)),g=ho({venueId:c,courtId:s,typeChangeTimeAfterRecovery:I,timeAfterRecovery:u,scheduledDate:n,scheduledTime:o,typeChangeRecoveryMinutes:p,recoveryMinutes:l,averageMinutes:d,milliseconds:f,startTime:h,endTime:v,time:m})}const b=ln.includes(a.matchUpStatus),{scheduledDate:N}=Oo({matchUp:a}),{scheduledTime:S}=xo({matchUp:a});return{schedule:g,endDate:b&&(oi(v)||oi(N)||oi(S))}}function Ho({matchUps:t,matchUpId:e}){return{matchUp:(t||[]).find((t=>t.matchUpId===e))}}function Wo({drawDefinition:t}){if(!t)return{error:l};const e=(t.extensions||[]).find((t=>t.name===_a));return{appliedPolicies:(null==e?void 0:e.value)||{}}}function zo({matchUps:t=[]}){const e=t.reduce(((t,e)=>!e.roundNumber||t.includes(e.roundNumber)?t:t.concat(parseInt(e.roundNumber))),[]).sort(gi).map((e=>({[e]:t.filter((t=>t.roundNumber===e)).sort(((t,e)=>gi(t.roundPosition,e.roundPosition)))}))),n=t.reduce(((t,e)=>(t[e.roundNumber]||(t[e.roundNumber]=e.finishingRound),t)),{}),i=Object.assign({},...e),r=Object.assign({},...Object.keys(i).map((t=>{var e;return{[t]:{matchUpsCount:null===(e=i[t])||void 0===e?void 0:e.length}}})));let a=0,o=0;return Object.keys(i).map((t=>parseInt(t))).filter((t=>!isNaN(t))).forEach((t=>{const e=i[t].sort(((t,e)=>t.roundPosition-e.roundPosition)),s=e.map((t=>(null==t?void 0:t.drawPositions)||[])).flat();if(1!==t&&r[t-1]){const n=r[t-1].drawPositions,i=n.length/s.length,a=Ge(n,i),o=e.map((e=>{const{roundPosition:i,drawPositions:r}=e;if(!i)return r;const o=(null==r?void 0:r.filter(Boolean))||[];if(null==o||!o.length)return[void 0,void 0];if(t<3&&2===(null==o?void 0:o.length))return null==r?void 0:r.slice().sort(gi);if(null!=o&&o.length&&Be(n,o).length!==(null==o?void 0:o.length))return 1===(null==o?void 0:o.length)?[o[0],void 0]:null==r?void 0:r.slice().sort(gi);const s=2*(i-1);return a.slice(s,s+2).map((t=>null==r?void 0:r.find((e=>t.includes(e)))))}));r[t].drawPositions=null==o?void 0:o.flat(),r[t].pairedDrawPositions=o}else{const e=s.sort(gi),n=Ge(e,2);r[t].drawPositions=e,r[t].pairedDrawPositions=n}r[t].finishingRound=n[t],r[t].finishingPositionRange=i[t][0].finishingPositionRange,r[t+1]&&r[t+1].matchUpsCount===r[t].matchUpsCount&&(r[t+1].feedRound=!0,r[t+1].feedRoundIndex=o,r[t].preFeedRound=!0,o+=1),r[t]&&!r[t].feedRound&&(r[t].roundIndex=a,a+=1)})),{roundMatchUps:i,roundProfile:r}}const Ko="INDIVIDUAL",qo="TEAM",$o="PAIR",Yo="GROUP",Jo={INDIVIDUAL:Ko,TEAM:qo,PAIR:$o,GROUP:Yo};function Xo({drawDefinition:t,structure:e}){const n={},i=[];return((null==t?void 0:t.structures)||[e]).filter((t=>t&&"object"==typeof t)).forEach((t=>{const{structureId:e,matchUps:r,structures:a}=t,o=Array.isArray(a);if(o)o&&a.forEach((t=>{const{structureName:r}=t,a=t.matchUps;n[t.structureId]={matchUps:a,structureName:r},i.push(...a),a.forEach((t=>{i.push(t),t.tieMatchUps&&i.push(...t.tieMatchUps)})),n[e]||(n[e]={}),n[e].itemStructureIds||(n[e].itemStructureIds=[]),n[e].itemStructureIds.push(t.structureId)}));else{const t=r;n[e]={matchUps:t},t.forEach((t=>{i.push(t),t.tieMatchUps&&i.push(...t.tieMatchUps)}))}})),{mappedMatchUps:n,drawMatchUps:i}}function Qo({mappedMatchUps:t,matchUpsMap:e,structureId:n,inContext:i}){let r=(t=(null==e?void 0:e.mappedMatchUps)||t)[n];const a=((null==r?void 0:r.itemStructureIds)||[]).map((e=>{const{matchUps:n,structureName:r}=t[e];return i?n.map((t=>Object.assign(vi(t,!0,!0),{structureId:e,structureName:r}))):n})).flat();return((null==r?void 0:r.matchUps)||[]).concat(...a)}function ts(t,e){var n,i;return($i[null==t?void 0:t.stage]||0)-($i[null==e?void 0:e.stage]||0)||((null==e||null===(n=e.positionAssignments)||void 0===n?void 0:n.length)||9999)-((null==t||null===(i=t.positionAssignments)||void 0===i?void 0:i.length)||9999)||((null==t?void 0:t.stageSequence)||0)-((null==e?void 0:e.stageSequence)||0)}function es({drawDefinition:t,structureId:e}){if(!t)return{error:l};if(!e)return{error:R};const{structures:n}=ns({drawDefinition:t}),i=n.map((t=>t.structures?[].concat(...t.structures,t):t)).flat().find((t=>t.structureId===e));return i?{structure:i}:{error:x}}function ns({stage:t,stageSequence:e,drawDefinition:n}){var i;const r=n?n.structures?void 0:O:l;if(r)return{error:r};return{structures:null===(i=n.structures)||void 0===i?void 0:i.filter((function(e){return!t||e.stage===t})).filter((function(t){return!e||t.stageSequence===e})).sort(ts)}}function is(t){if(!t||"object"!=typeof t)return!1;if("string"!=typeof t.name)return!1;const e=Object.keys(t),n=["name","value"];return n.filter((t=>e.includes(t))).length===n.length}function rs({element:t,extension:e}={}){if(!t)return{error:yt};if("object"!=typeof t)return{error:Ne};if(!is(e))return{error:Ne};t.extensions||(t.extensions=[]);const n=(new Date).toISOString();Object.assign(e,{createdAt:n});const i=t.extensions.find((({name:t})=>t===e.name));return i?i.value=e.value:e.value&&t.extensions.push(e),En}function as({element:t,name:e}={}){return t?"object"!=typeof t?{error:Ne}:e?t.extensions?(t.extensions=t.extensions.filter((t=>(null==t?void 0:t.name)!==e)),En):{...En,message:Ue}:{error:yt,message:"Missing name"}:{error:yt}}function os({tournamentRecord:t,extension:e}={}){return t?rs({element:t,extension:e}):{error:s}}function ss({drawDefinition:t,extension:e}={}){return t?rs({element:t,extension:e}):{error:p}}function cs({event:t,extension:e}={}){return t?rs({element:t,extension:e}):{error:F}}function us({tournamentRecord:t,name:e}={}){return t?as({element:t,name:e}):{error:s}}function ds({event:t,name:e}={}){return t?as({element:t,name:e}):{error:Z}}function ls({drawDefinition:t,attributes:e}){var n;let{extension:i}=oo({drawDefinition:t,name:Ga});const r=(null===(n=i)||void 0===n?void 0:n.value)||t.entryProfile||{};e.forEach((t=>{Object.keys(t).forEach((e=>{r[e]?Object.assign(r[e],t[e]):r[e]=t[e]}))})),i={name:Ga,value:r},ss({drawDefinition:t,extension:i})}var ps;!function(t){t.CONFIRMED="CONFIRMED",t.DIRECT_ACCEPTANCE="DIRECT_ACCEPTANCE",t.ORGANISER_ACCEPTANCE="ORGANISER_ACCEPTANCE",t.ALTERNATE="ALTERNATE",t.WITHDRAWN="WITHDRAWN",t.UNPAIRED="UNPAIRED",t.UNGROUPED="UNGROUPED",t.LUCKY_LOSER="LUCKY_LOSER",t.FEED_IN="FEED_IN",t.QUALIFIER="QUALIFIER",t.WILDCARD="WILDCARD"}(ps||(ps={}));const fs=ps.ALTERNATE,ms=ps.FEED_IN,hs=ps.QUALIFIER,vs=ps.WILDCARD,gs=ps.DIRECT_ACCEPTANCE,ys=ps.CONFIRMED,Is=ps.LUCKY_LOSER,ws=ps.ORGANISER_ACCEPTANCE,bs=ps.WITHDRAWN,Ns=ps.UNPAIRED,Ss=ps.UNGROUPED,Ps=[ms,hs,vs,gs,ys,ws],Es=[fs,bs,ms,Ns,Ss,hs,vs,gs,ys,Is,ws];function Us({drawDefinition:t}){let{extension:e}=oo({drawDefinition:t,name:Ga});return{entryProfile:(null==e?void 0:e.value)||t.entryProfile||{}}}function As({stage:t,drawDefinition:e}){return Boolean(Ds({stage:t,drawDefinition:e})&&Ms({stage:t,drawDefinition:e}))}function Ds({stage:t,drawDefinition:e}){const{entryProfile:n}=Us({drawDefinition:e}),i=Object.keys(n).includes(t);if(!i&&qi.includes(t)){return ls({drawDefinition:e,attributes:[{[t]:{drawSize:void 0,alternates:!0}}]}),!0}return i}function Ms({stage:t,drawDefinition:e}){var n;const{entryProfile:i}=Us({drawDefinition:e});return i&&(null===(n=i[t])||void 0===n?void 0:n.drawSize)||0}function Ts({stage:t,drawDefinition:e}){var n;const{entryProfile:i}=Us({drawDefinition:e});return i&&(null===(n=i[t])||void 0===n?void 0:n.qualifiersCount)||0}function Cs({stage:t,drawDefinition:e,entryStatus:n}){return e.entries.reduce(((e,i)=>i.entryStage===t&&i.entryStatus===n?e+1:e),0)}function Rs({drawDefinition:t,stageSequence:e,entryStatuses:n,structureId:i,stages:r,stage:a}){var o;const s=(null===(o=t.entries)||void 0===o?void 0:o.reduce(((t,i)=>{const o=a&&i.entryStage===a||(null==r?void 0:r.length)&&r.includes(i.entryStage),s=!n||n.includes(i.entryStatus),c=i.stageSequence||1;return o&&(!e||c===e)&&s?t.concat(i):t}),[]))||[];return i&&!s.length?function({drawDefinition:t,structureId:e}){const n=[],i=(t.links||[]).find((t=>t.linkType===rr&&t.target.structureId===e));if(i){const{finishingPositions:e,structureId:r}=i.source,{structure:a}=es({drawDefinition:t,structureId:r});if(a.structureType===Qi){(a.structures||[]).forEach((t=>{const{positionAssignments:i}=t,{structureId:r}=t,a=r,o=Object.assign({},...i.map((t=>{var e;const{participantId:n}=t,i=null===(e=io({element:t,name:"tally"}).extension)||void 0===e?void 0:e.value;return i?{[n]:i}:void 0})).filter(Boolean));Object.keys(o).filter((t=>{const n=o[t];return e.includes(n.groupOrder)})).forEach((t=>{const i=o[t],{groupOrder:r,GEMscore:s}=i,c=e.sort().indexOf(r)+1;n.push({GEMscore:s,groupingValue:a,participantId:t,placementGroup:c,entryStage:Ki,entryStatus:ms})}))}))}}return n}({drawDefinition:t,structureId:i}):s}function xs({stage:t,drawDefinition:e}){return Cs({stage:t,drawDefinition:e,entryStatus:gs})}function Os({stage:t,drawDefinition:e,entryStatus:n=gs}){if(n===fs)return function({stage:t,drawDefinition:e}){var n;const{entryProfile:i}=Us({drawDefinition:e});return(null===(n=i[t])||void 0===n?void 0:n.alternates)||0}({stage:t,drawDefinition:e})?Object.assign({positionsAvailable:1/0},En):{error:Jt};const i=function({stage:t,drawDefinition:e}){const n=Ms({stage:t,drawDefinition:e}),i=Ts({stage:t,drawDefinition:e});return n&&n-i}({stage:t,drawDefinition:e}),r=function({stage:t,drawDefinition:e}){const{entryProfile:n}=Us({drawDefinition:e});return n[t].wildcardsCount||0}({stage:t,drawDefinition:e}),a=Cs({stage:t,drawDefinition:e,entryStatus:vs}),o=a+Cs({stage:t,drawDefinition:e,entryStatus:gs}),s=i-o;return o>=i?{error:Xt}:n===vs?a<r?En:{error:Xt}:Object.assign({positionsAvailable:s},En)}function Ls({drawDefinition:t,structureId:e,structure:n}){var i,r;let a,o=[];if(n||({structure:n,error:a}=es({drawDefinition:t,structureId:e})),!n)return{seedAssignments:[],error:x};e||(e=n.structureId);const{stage:s,stageSequence:c}=n;if(!a){if(s===Ki&&t){o=Rs({drawDefinition:t,stageSequence:c,structureId:e,stage:s}).filter((t=>1===t.placementGroup)).sort(((t,e)=>t.GEMscore<e.GEMscore?1:t.GEMscore>e.GEMscore?-1:0)).map(((t,e)=>({participantId:t.participantId,seedNumber:e+1,seedValue:e+1,seedProxy:!0})))}else n.seedAssignments?o=n.seedAssignments:a=D}return{seedAssignments:o,seedLimit:n.seedLimit||(null===(i=n)||void 0===i||null===(r=i.positionAssignments)||void 0===r?void 0:r.length),stage:s,stageSequence:c,error:a}}function ks({groupedOrder:t,roundPositionsCount:e}){if(!t||(null==t?void 0:t.length)<=e)return t;const n=Ge(t,t.length/e).map((t=>t.reduce(((t,e)=>t+e)))),i=n.slice().sort(gi);return n.map((t=>i.indexOf(t)+1))}function Fs(t){if(!Array.isArray(t))return"";const e=t.filter(wn);if(!e.length)return"";return Re([Math.min(...e),Math.max(...e)]).join("-")}function Zs({structure:t,drawDefinition:e,structureId:n}){let i,r=[];if(!t){if(!e)return{positionAssignments:r,error:l};if(({structure:t,error:i}=es({drawDefinition:e,structureId:n})),i)return{positionAssignments:r,error:i}}return t.structures?r=[].concat(...t.structures.map((t=>Zs({structure:t}).positionAssignments))):t.positionAssignments?r=t.positionAssignments:i=z,{positionAssignments:r,error:i}}function _s({structure:t,drawDefinition:e,structureId:n}){const{positionAssignments:i}=Zs({structure:t,drawDefinition:e,structureId:n}),r=i.filter((t=>t.participantId||t.bye||t.qualifier)),a=i.length===r.length,o=i.filter((t=>!t.participantId&&!t.bye&&!t.qualifier));return{byePositions:i.filter((t=>!t.participantId&&t.bye)),assignedPositions:r,qualifierPositions:i.filter((t=>!t.participantId&&t.qualifier)),unassignedPositions:o,positionAssignments:i,allPositionsAssigned:a}}function Bs({drawPositions:t,roundProfile:e,roundNumber:n}){const i=[void 0,void 0];if(t.reduce(((t,e)=>isNaN(parseInt(e))&&t),!0))return{orderedDrawPositions:i,displayOrder:i};const r=e[n],a=(null==r?void 0:r.pairedDrawPositions.find((e=>je(e||[],t.filter(Boolean)))))||i,o=null==r?void 0:r.feedRound;if(function(t){return t.reduce(((t,e)=>!isNaN(parseInt(e))&&t),!0)}(t)){const e=t.sort(gi);return{orderedDrawPositions:e,displayOrder:o?e:a}}if(o){const e=[t.find((t=>!isNaN(parseInt(t)))),void 0];return{orderedDrawPositions:e,displayOrder:e}}return{orderedDrawPositions:a,displayOrder:a}}function js({matchUp:t}){let e,n=[],i=[],r=[],a=[];if(t||(e=at),t&&!t.sides&&(e=ot),t&&!t.hasContext&&(e=he),!e){n=t.sides.map((t=>t.participantId));const e=t.sides.filter((t=>t.participantType===Ko)).map((t=>t.participantId)).filter(Boolean);a=t.sides.map((t=>t.participant&&t.participant.individualParticipants)).filter(Boolean).map((t=>t.map((t=>null==t?void 0:t.participantId)).filter(Boolean))),i=[].concat(...e,...a.flat()).filter(Boolean),r=Re(i.concat(n)).filter(Boolean)}return{error:e,sideParticipantIds:n,individualParticipantIds:i,allRelevantParticipantIds:r,nestedIndividualParticipantIds:a}}function Gs({matchUp:t}){if(!t)return{error:at};if(!t.hasContext)return{error:he};if(!t.sides||2!==t.sides.filter(Boolean).length)return{error:ot};const{sideParticipantIds:e,nestedIndividualParticipantIds:n,allRelevantParticipantIds:i}=js({matchUp:t}),r=(t.timeItems||[]).filter((t=>[go,yo].includes(null==t?void 0:t.itemType))).sort(((t,e)=>new Date(t.createdAt)-new Date(e.createdAt))),a=r.map((t=>t.itemValue)).filter((t=>r.filter((e=>(null==e?void 0:e.itemValue)===t)).reverse()[0].itemType===go));n.forEach(((t,n)=>{const i=e[n],r=(null==t?void 0:t.length)&&t.reduce(((t,e)=>t&&e&&a.includes(e)),!0);i&&r&&!a.includes(i)&&a.push(i)})),e.forEach(((t,e)=>{a.includes(t)&&(n[e]||[]).forEach((t=>{t&&!a.includes(t)&&a.push(t)}))}));return{allParticipantsCheckedIn:e.reduce(((t,e)=>a.includes(e)&&t),!0),checkedInParticipantIds:a,allRelevantParticipantIds:i}}function Vs(t){const{stages:e,venueIds:n,courtIds:i,matchUps:r,matchUpIds:a,matchUpTypes:o,roundNumbers:s,matchUpFormat:c,collectionIds:u,scheduledDate:d,scheduledDates:l,isMatchUpTie:p,matchUpFormats:f,matchUpStatuses:m,isCollectionMatchUp:h,processContext:v,tournamentIds:g,eventIds:y,drawIds:I,structureIds:w,filterMatchUpTypes:b=!0}=t,N=Array.isArray(m)?m.filter(Boolean):[],S=Array.isArray(e)?e.filter(Boolean):[],P=Array.isArray(u)?u.filter(Boolean):[],E=Array.isArray(s)?s.filter(Boolean):[],U=Array.isArray(a)?a.filter(Boolean):[],A=Array.isArray(o)&&b?o.filter(Boolean):[],D=Array.isArray(i)?i.filter(Boolean):[],M=Array.isArray(n)?n.filter(Boolean):[],T=Array.isArray(f)?f.filter(Boolean):"string"==typeof c?[c]:[],C=Array.isArray(l)?l.filter(Boolean):"string"==typeof d&&d.length?[d]:[],R=Array.isArray(g)?g.filter(Boolean):[],x=Array.isArray(y)?y.filter(Boolean):[],O=Array.isArray(I)?I.filter(Boolean):[],L=Array.isArray(w)?w.filter(Boolean):[];return r.filter((t=>{if(void 0!==p){var e;if(p&&!t.tieFormat)return!1;if(!p&&t.tieFormat&&null!==(e=Object.keys(t.tieFormat))&&void 0!==e&&e.length)return!1}if(void 0!==h){if(h&&!t.collectionId)return!1;if(!h&&t.collectionId)return!1}if(S.length&&!S.includes(t.stage))return!1;if(P.length&&!P.includes(t.collectionId))return!1;if(E.length&&!s.includes(t.roundNumber))return!1;if(N.length&&!N.includes(t.matchUpStatus))return!1;if(U.length&&!U.includes(t.matchUpId))return!1;if(A.length&&!A.includes(t.matchUpType))return!1;if(T.length&&!T.includes(t.matchUpFormat))return!1;if(null!=C&&C.length){const{scheduledTime:e}=xo({matchUp:t}),{scheduledDate:n}=Oo({matchUp:t}),i=oi(e)||n;if(!C.find((t=>mi(t,i))))return!1}if(D.length){const{courtId:e}=Lo({matchUp:t});if(!i.filter(Boolean).includes(e))return!1}if(M.length){const{venueId:e}=ko({matchUp:t});if(!n.filter(Boolean).includes(e))return!1}if(v){if(R.length&&!R.includes(t.tournamentId))return!1;if(x.length&&!x.includes(t.eventId))return!1;if(O.length&&!O.includes(t.drawId))return!1;if(L.length&&!L.includes(t.structureId))return!1}return!0}))}function Hs({drawPositionCollectionAssignment:t,positionAssignments:e,displaySideNumber:n,seedAssignments:i,drawPosition:r,isFeedRound:a,sideNumber:o}){const s=e.find((t=>t.drawPosition===r)),c=t?t[r]:null==s?void 0:s.participantId,u=s?function({displaySideNumber:t,seedAssignments:e,participantId:n,assignment:i,sideNumber:r}){const a={drawPosition:i.drawPosition,displaySideNumber:t,sideNumber:r};if(n){const t=function({seedAssignments:t,participantId:e}){return t.find((t=>!t.seedProxy&&t.participantId===e))}({seedAssignments:e,participantId:n});Object.assign(a,t,{participantId:n})}else i.bye?Object.assign(a,{bye:!0}):i.qualifier&&Object.assign(a,{qualifier:!0});return a}({displaySideNumber:n,seedAssignments:i,participantId:c,assignment:s,sideNumber:o}):{};return a&&(1===o?Object.assign(u,{participantFed:!0}):Object.assign(u,{participantAdvanced:!0})),u}function Ws({scheduleVisibilityFilters:t,tournamentAppliedPolicies:e,tournamentParticipants:n,policyDefinitions:i,seedAssignments:r,drawDefinition:a,contextFilters:o,matchUpFilters:s,scheduleTiming:c,context:u={},roundFilter:d,structure:p,inContext:f,event:m,matchUpsMap:h}){var v,g,y,I,w;let b={},N={};if(!p)return{matchUps:[],collectionPositionMatchUps:b,roundMatchUps:N,error:L};const S=Array.isArray(null==s?void 0:s.eventIds)?s.eventIds.filter(Boolean):[],P=Array.isArray(null==s?void 0:s.structureIds)?s.structureIds.filter(Boolean):[],E=Array.isArray(null==s?void 0:s.drawIds)?s.drawIds.filter(Boolean):[],U=!(null!=u&&u.eventId)||!S.length&&!(null!=o&&null!==(v=o.eventIds)&&void 0!==v&&v.filter(Boolean).length)||S.includes(u.eventId)||(null==o||null===(g=o.eventIds)||void 0===g?void 0:g.includes(u.eventId)),A=!P.length||P.includes(p.structureId),D=!a||!E.length||E.includes(a.drawId);if(!U||!A||!D)return{matchUps:[],collectionPositionMatchUps:b,roundMatchUps:N};const{appliedPolicies:M}=Wo({drawDefinition:a}),T=Object.assign({},e,M,i),C=null==T||null===(y=T.scoring)||void 0===y?void 0:y.structures,x=(null==C?void 0:C.stage)&&(null==C?void 0:C.stage[p.stage]),O=(null==x?void 0:x.stageSequence)&&x.stageSequence[p.stageSequence],k=(null==T||null===(I=T.scoring)||void 0===I?void 0:I.requireAllPositionsAssigned)||(null==x?void 0:x.requireAllPositionsAssigned)||(null==O?void 0:O.requireAllPositionsAssigned);h||(h=Xo({drawDefinition:a,structure:p}));const{positionAssignments:F,allPositionsAssigned:Z}=_s({structure:p}),_=!k||Z,{seedAssignments:B}=Ls({drawDefinition:a,matchUpsMap:h,structure:p});r=r||B;const{structureId:j,structureName:G,stage:V,stageSequence:H,exitProfile:W}=p,{drawId:z,drawName:K}=a||{},q=p.tieFormat||(null==a?void 0:a.tieFormat)||(null==m?void 0:m.tieFormat),$=q&&q.collectionDefinitions,Y=p.structures;let J=Qo({matchUpsMap:h,structureId:j,inContext:f});const X=T&&T.roundNaming,{roundNamingProfile:Q,roundProfile:tt}=function({roundNamingPolicy:t,structure:e,matchUps:n}){const i={},r=e.structures,{roundProfile:a}=zo({matchUps:n}),{structureAbbreviation:o,stage:s}=e,c=Yr.roundNaming,u=(null==t?void 0:t.roundNamingMap)||c.roundNamingMap,d=(null==t?void 0:t.affixes)||c.affixes,l=s&&s!==Vi&&s[0],p=null==t?void 0:t.stageConstants,f=p&&p[s]||l;return r?Object.assign(i,...Object.keys(a).map((t=>({[t]:`R${t}`})))):Object.assign(i,...Object.keys(a).map((t=>{const{matchUpsCount:e,preFeedRound:n}=a[t],i=2*e,r=u[e]||`${d.roundNumber}${i}`;r||console.log({roundNamingMap:u,matchUpsCount:e});const s=n?`-${d.preFeedRound}`:"";return{[t]:[f,o,`${r}${s}`].filter(Boolean).join("-")}}))),{roundNamingProfile:i,roundProfile:a}}({roundNamingPolicy:X,drawDefinition:a,structure:p,matchUps:J});if(s&&(J=Vs({matchUps:J,...s,filterMatchUpTypes:!1})),f){var et;const{sourceDrawPositionRanges:e}=function({drawDefinition:t,structureId:e,matchUpsMap:n}){if(!t)return{error:l};if(!e)return{error:R};const{structure:i}=es({drawDefinition:t,structureId:e});if(i.stage!==Wi)return{message:"Structure is not CONSOLATION stage"};const{links:r}=t,a=(null==r?void 0:r.filter((t=>t.target.structureId===e)))||[],o=(null==a?void 0:a.reduce(((t,e)=>{const{structureId:n}=e.source;return t.includes(n)?t:t.concat(n)}),[]))||[],s=Object.assign({},...o.map((t=>{const e=Qo({matchUpsMap:n,structureId:t}),{roundProfile:i}=zo({matchUps:e});return{[t]:i}}))),c=Qo({matchUpsMap:n,structureId:e}),{roundProfile:u}=zo({matchUps:c}),d={};return null==a||a.forEach((t=>{const{structureId:e,roundNumber:n}=t.source,{feedProfile:i,groupedOrder:r,positionInterleave:a,roundNumber:o}=t.target,c=s[e],l=c[1]&&c[1].drawPositions,p=c[n],f=null==p?void 0:p.matchUpsCount;if(!f)return;const m=f?l.length/f:0,h=l.length/m;let v=l.slice();const g=ks({groupedOrder:r,roundPositionsCount:v.length}),y=(null==g?void 0:g.length)||1;if(y<=h){const t=Ge(v,l.length/y);i===ir&&t.forEach((t=>t.reverse())),v=(null==g?void 0:g.length)&&(null==g?void 0:g.map((e=>t[e-1])).flat())||v}let I=Ge(v,m);if(null!=g&&g.length||i===ir&&I.reverse(),a){const t=Ze(0,a.interleave).map((()=>{})),e=Ze(0,a.offset).map((()=>{}));I=I.map((e=>[e,...t])),I.unshift(e),I=I.flat(1);const n=I.length-a.offset;I=I.slice(0,n)}d[o]||(d[o]={});const w=u[o],b=null!=w&&w.feedRound?2:1;I.forEach(((t,e)=>{const n=1+e*b;d[o][n]||(d[o][n]=Fs(t))}))})),{sourceDrawPositionRanges:d}}({matchUpsMap:h,drawDefinition:a,structureId:j}),{drawPositionsRanges:n}=function({drawDefinition:t,structureId:e,matchUpsMap:n}){var i;if(!t)return{error:l};if(!e)return{error:R};const r=Qo({matchUpsMap:n,structureId:e}),{roundProfile:a}=zo({matchUps:r}),o=(Math.min(...(null===(i=a[1])||void 0===i?void 0:i.drawPositions)||[])||1)-1,s=Object.keys(a);return{drawPositionsRanges:Object.assign({},...(s||[]).map((t=>{var e;const{matchUpsCount:n}=a[t],i=(null===(e=a[1])||void 0===e?void 0:e.drawPositions)||[],r=Ge(i,i.length/n),c=r.map(Fs),u=r.map((t=>t.map((t=>t-o)))).map(Fs),d=s.map((e=>{if(e>t)return;const{drawPositions:i}=a[e];return Ge(i,i.length/n)})).filter(Boolean),l=Ze(0,n).map((t=>d.map((e=>e[t])).flat().filter(Boolean).sort(gi))).map((t=>Re(t))),p=l.map((t=>{return(e=t,e.reduce(((t,e)=>{const n=t[t.length-1];return n&&n[n.length-1]===e-1||t.push([]),t[t.length-1].push(e),t}),[])).map(Fs).join(", ");var e})),f=Object.assign({},...Ze(0,n).map((t=>({[t+1]:{firstRoundDrawPositionsRange:c[t],firstRoundOffsetDrawPositionsRange:u[t],possibleDrawPositions:l[t],drawPositionsRange:p[t]}}))));return{[t]:f}})))}}({matchUpsMap:h,drawDefinition:a,structureId:j});J=J.map((i=>it({scheduleVisibilityFilters:t,sourceDrawPositionRanges:e,drawPositionsRanges:n,roundNamingProfile:Q,appliedPolicies:T,isRoundRobin:Y,roundProfile:tt,matchUp:i,event:m})));(null===(et=J)||void 0===et?void 0:et.filter((t=>Array.isArray(t.tieMatchUps)))).forEach((t=>{const e=t.tieMatchUps;J=J.concat(...e)})),o&&(J=Vs({matchUps:J,...o}))}else{var nt;(null===(nt=J)||void 0===nt?void 0:nt.filter((t=>Array.isArray(t.tieMatchUps)))).forEach((t=>{const e=t.tieMatchUps;J=J.concat(...e)}))}return null!=s&&s.matchUpTypes&&(J=Vs({matchUps:J,matchUpTypes:s.matchUpTypes})),({roundMatchUps:N}=zo({matchUps:J})),({collectionPositionMatchUps:b}=function({matchUps:t}){const e=t.reduce(((t,e)=>!e.collectionPosition||t.includes(e.collectionPosition)?t:t.concat(e.collectionPosition)),[]).map((e=>({[e]:t.filter((t=>t.collectionPosition===e))})));return{collectionPositionMatchUps:Object.assign({},...e)}}({matchUps:J})),d&&(J=null===(w=J)||void 0===w?void 0:w.filter((t=>t.roundNumber===d))),{matchUps:J,roundMatchUps:N,collectionPositionMatchUps:b};function it({scheduleVisibilityFilters:t,sourceDrawPositionRanges:e,drawPositionsRanges:i,roundNamingProfile:o,appliedPolicies:s,isCollectionBye:d,tieDrawPositions:l,matchUpTieId:f,isRoundRobin:m,roundProfile:h,sideLineUps:v,matchUp:g,event:y}){const I=g.collectionId&&(null==$?void 0:$.find((t=>t.collectionId===g.collectionId))),w=g.matchUpType||(null==I?void 0:I.matchUpType)||p.matchUpType||(null==a?void 0:a.matchUpType)||(null==y?void 0:y.eventType)!==Go&&(null==y?void 0:y.eventType),b=d?Ke:g.matchUpStatus,{schedule:N,endDate:S}=Vo({scheduleVisibilityFilters:t,scheduleTiming:c,matchUpType:w,matchUp:g,event:y}),P=g.drawPositions||l,{collectionPosition:E,collectionId:U,roundNumber:A,roundPosition:D}=g,M=function({collectionId:t,collectionPosition:e,drawPositions:n=[],sideLineUps:i}){if(!t||!e)return;const r=null==n?void 0:n.map((n=>{var r;const a=null==i||null===(r=i.find((t=>t.drawPosition===n)))||void 0===r?void 0:r.lineUp,o=null==a?void 0:a.find((n=>{const i=n.collectionAssignments.find((e=>e.collectionId===t));return(null==i?void 0:i.collectionPosition)===e})),s=null==o?void 0:o.participantId;return s&&{[n]:s}})).filter(Boolean);return Object.assign({},...r)}({sideLineUps:v,collectionId:U,collectionPosition:E,drawPositions:P}),T=o&&o[A],C=h&&h[A]&&h[A].feedRound,R=i&&i[A],x=R&&R[D],O=e&&e[A],L=Object.assign(ho({endDate:g.endDate||S,drawPositionsRange:x,structureName:G,stageSequence:H,drawPositions:P,matchUpStatus:b,matchUpTieId:f,matchUpType:w,exitProfile:W,structureId:j,feedRound:C,roundName:T,drawName:K,schedule:N,drawId:z,stage:V}),u,vi(g,!0,!0));if(L.tieMatchUps){var k;const n=L.matchUpStatus===Ke,r=null===(k=g.sides)||void 0===k?void 0:k.map((({sideNumber:t,lineUp:e,drawPosition:n})=>({drawPosition:n,sideNumber:t,lineUp:e})));L.tieMatchUps=L.tieMatchUps.map((a=>{const c=L.matchUpId;return it({tieDrawPositions:P,scheduleVisibilityFilters:t,sourceDrawPositionRanges:e,sideLineUps:r,drawPositionsRanges:i,roundNamingProfile:o,appliedPolicies:s,isCollectionBye:n,matchUpTieId:c,isRoundRobin:m,roundProfile:h,matchUp:a,event:y})}))}if(Array.isArray(P)){const{orderedDrawPositions:t,displayOrder:e}=Bs({drawPositions:P,roundProfile:h,roundPosition:D,roundNumber:A}),n=h[A]&&h[A].feedRound,i=e[0]!==t[0],a=t.map(((t,e)=>{var a;const o=e+1;return{...Hs({drawPositionCollectionAssignment:M,positionAssignments:F,displaySideNumber:i?3-o:o,seedAssignments:r,drawPosition:t,sideNumber:o,isFeedRound:n}),...null===(a=g.sides)||void 0===a?void 0:a.find((t=>t.sideNumber===o)),sourceDrawPositionRange:O&&O[2*(D-1)+e+1]}}));Object.assign(L,vi({sides:a},!0,!0))}if(g.collectionId){const t=I&&I.matchUpFormat;!g.matchUpFormat&&t&&Object.assign(L,{matchUpFormat:t})}else if(!g.matchUpFormat){const t=p.matchUpFormat||(null==a?void 0:a.matchUpFormat);t&&Object.assign(L,{matchUpFormat:t})}if(n&&L.sides&&(L.sides.filter(Boolean).forEach((t=>{if(t.participantId){const e=ca({tournamentParticipants:n,policyDefinitions:s,participantId:t.participantId});e&&Object.assign(t,{participant:e})}if(t.participant&&t.participant.individualParticipantIds){const e=t.participant.individualParticipantIds.map((t=>ca({policyDefinitions:s,tournamentParticipants:n,participantId:t})));Object.assign(t.participant,{individualParticipants:e})}})),!L.matchUpType)){const{matchUpType:t}=function({matchUp:t={}}={}){var e;let n=t.matchUpType;if(!n&&null!==(e=t.sides)&&void 0!==e&&e.length){const e=t.sides.find((({participant:t})=>t)),i=null==e?void 0:e.participant,r=null==i?void 0:i.participantType;n=r===Ko?Jr:r===$o?Xr:r===qo?qo:void 0}return{matchUpType:n}}({matchUp:L});t&&Object.assign(L,{matchUpType:t})}const Z=L.sides&&2===L.sides.filter((t=>t&&t.participantId)).length,B=!L.winningSide,q=_&&Z&&B;if(Object.assign(L,{readyToScore:q,hasContext:!0}),Z){const{allParticipantsCheckedIn:t,checkedInParticipantIds:e}=Gs({matchUp:L});Object.assign(L,{allParticipantsCheckedIn:t,checkedInParticipantIds:e})}return L}}function zs({drawDefinition:t,tournamentParticipants:e,matchUpId:n,inContext:i,context:r,matchUpsMap:a}){if(!t)return{error:l};if(!n)return{error:et};if("string"!=typeof n)return{error:Ne};const{structures:o}=ns({drawDefinition:t});for(const s of o){const{matchUps:o}=Ws({tournamentParticipants:e,drawDefinition:t,matchUpsMap:a,inContext:i,structure:s,context:r}),{matchUp:c}=Ho({matchUps:o,matchUpId:n});if(c)return{matchUp:c,structure:s}}return{error:it}}function Ks({drawDefinition:t,matchUpId:e,timeItem:n,duplicateValues:i,disableNotice:r}){const{matchUp:a}=zs({drawDefinition:t,matchUpId:e});if(!a)return{error:it};const o=pa({element:a,timeItem:n,duplicateValues:i});return r||xa({drawDefinition:t,matchUp:a}),o}function qs({tournamentRecord:t}){if(!t)return{error:s};const e=vi(t.venues||[]),n=e.reduce(((t,e)=>{var n;return null!=e&&null!==(n=e.courts)&&void 0!==n&&n.length?t.concat(e.courts):t}),[]);return{venues:e,courts:n}}function $s({tournamentRecord:t,venueId:e}){if(!t)return{error:s};if(!e)return{error:se};const n=(t.venues||[]).reduce(((t,n)=>n.venueId===e?n:t),void 0);return n&&{venue:n}||{error:oe}}function Ys({tournamentRecord:t,drawDefinition:e,matchUpId:n,venueId:i,disableNotice:r}){if(!t)return{error:s};if(!n)return{error:et};if(i){const{error:e}=$s({tournamentRecord:t,venueId:i});if(e)return{error:e}}return Ks({drawDefinition:e,matchUpId:n,timeItem:{itemType:wo,itemValue:i},disableNotice:r,duplicateValues:!1})}function Js({tournamentRecord:t,courtId:e}){if(!t)return{error:s};if(!e)return{error:gt};let n,i;return(t.venues||[]).forEach((t=>{(t.courts||[]).forEach((r=>{r.courtId===e&&(n=r,i=t)}))})),n&&{court:n,venue:i}||{error:ie}}function Xs({tournamentRecord:t,venueId:e,venueIds:n}){if(!t)return{error:s};return{courts:(t.venues||[]).filter((t=>e?t.venueId===e:n?n.includes(t.venueId):!e&&!n)).map((t=>{const{venueId:e}=t,n=vi(t.courts||[]);return n.forEach((t=>Object.assign(t,{venueId:e}))),n})).flat()}}function Qs({tournamentRecord:t,drawDefinition:e,courtDayDate:n,matchUpId:i,courtId:r,disableNotice:a}){if(!t)return{error:s};if(!i)return{error:et};if(r){const{venue:n,error:o}=Js({tournamentRecord:t,courtId:r});if(o)return{error:o};Ys({tournamentRecord:t,drawDefinition:e,matchUpId:i,venueId:null==n?void 0:n.venueId,disableNotice:a})}return Ks({drawDefinition:e,matchUpId:i,timeItem:{itemType:Io,itemDate:n,itemValue:r},disableNotice:a,duplicateValues:!1})}function tc(t){if(Hn.test(t)){const e=Yn(new Date);return new Date(`${e}T${t}`)}return new Date(t)}function ec(t){return!(void 0!==t&&!zn.test(t))}function nc({tournamentRecord:t,drawDefinition:e,matchUpId:n,disableNotice:i,schedule:r}){if(!e)return{error:l};if(!n)return{error:et};if(!r)return{error:yt};const{endTime:a,courtId:o,resumeTime:s,scheduledDate:c,scheduledTime:u,startTime:d,stopTime:p,venueId:f}=r;if(void 0!==c){const t=ic({drawDefinition:e,matchUpId:n,scheduledDate:c,disableNotice:!0});if(null!=t&&t.error)return{error:t.error,scheduledDate:c}}if(void 0!==u){const t=rc({drawDefinition:e,matchUpId:n,scheduledTime:u,disableNotice:!0});if(null!=t&&t.error)return{error:t.error,scheduledTime:u}}if(void 0!==d){const t=oc({drawDefinition:e,matchUpId:n,startTime:d,disableNotice:!0});if(null!=t&&t.error)return{error:t.error,startTime:d}}if(void 0!==a){const t=sc({drawDefinition:e,matchUpId:n,endTime:a,disableNotice:!0});if(null!=t&&t.error)return{error:t.error,endTime:a}}if(void 0!==p){const t=cc({drawDefinition:e,matchUpId:n,stopTime:p,disableNotice:!0});if(null!=t&&t.error)return{error:t.error,stopTime:p}}if(void 0!==s){const t=uc({drawDefinition:e,matchUpId:n,resumeTime:s,disableNotice:!0});if(null!=t&&t.error)return{error:t.error,resumeTime:s}}if(void 0!==o&&void 0!==c){const i=Qs({tournamentRecord:t,drawDefinition:e,matchUpId:n,courtDayDate:c,courtId:o,disableNotice:!0});if(null!=i&&i.error)return{error:i.error,courtId:o}}else if(void 0!==f){const i=Ys({tournamentRecord:t,drawDefinition:e,matchUpId:n,venueId:f,disableNotice:!0});if(null!=i&&i.error)return{error:i.error,venueId:f}}if(!i){const{matchUp:t}=zs({drawDefinition:e,matchUpId:n});if(!t)return{error:it};xa({drawDefinition:e,matchUp:t})}return{...En}}function ic({drawDefinition:t,matchUpId:e,disableNotice:n,scheduledDate:i}){if(!e)return{error:et};const r=Wn.test(i);if(i&&!r)return{error:Nt};return Ks({drawDefinition:t,matchUpId:e,timeItem:{itemType:bo,itemValue:i},disableNotice:n,duplicateValues:!1})}function rc({drawDefinition:t,matchUpId:e,disableNotice:n,scheduledTime:i}){if(!e)return{error:et};if(!ec(i))return{error:St};return Ks({drawDefinition:t,matchUpId:e,timeItem:{itemType:No,itemValue:i},disableNotice:n,duplicateValues:!1})}function ac({drawDefinition:t,matchUpId:e,disableNotice:n,participantId:i,officialType:r}){if(!e)return{error:et};return Ks({drawDefinition:t,matchUpId:e,timeItem:{itemType:"SCHEDULE.ASSIGNMENT.OFFICIAL",itemSubTypes:[r],itemValue:i},disableNotice:n,duplicateValues:!1})}function oc({drawDefinition:t,matchUpId:e,startTime:n,disableNotice:i}){if(!e)return{error:et};if(!ec(n))return{error:St};const{matchUp:r}=zs({drawDefinition:t,matchUpId:e}),a=(r.timeItems||[]).filter((t=>[Po,Eo,Uo].includes(null==t?void 0:t.itemType))).map((t=>tc(t.itemValue))).reduce(((t,e)=>!t||e<t?e:t),void 0);if(!a||tc(n)<a){r.timeItems&&(r.timeItems=r.timeItems.filter((t=>t.itemType!==So)));return Ks({drawDefinition:t,matchUpId:e,timeItem:{itemType:So,itemValue:n},disableNotice:i,duplicateValues:!1})}return{error:le}}function sc({drawDefinition:t,matchUpId:e,endTime:n,disableNotice:i}){if(!e)return{error:et};if(!ec(n))return{error:St};const{matchUp:r}=zs({drawDefinition:t,matchUpId:e}),a=(r.timeItems||[]).filter((t=>[So,Eo,Po].includes(null==t?void 0:t.itemType))).map((t=>tc(t.itemValue))).reduce(((t,e)=>!t||e>t?e:t),void 0);if(!a||tc(n)>a){r.timeItems&&(r.timeItems=r.timeItems.filter((t=>t.itemType!==Uo)));return Ks({drawDefinition:t,matchUpId:e,timeItem:{itemType:Uo,itemValue:n},disableNotice:i,duplicateValues:!1})}return{error:ce}}function cc({drawDefinition:t,matchUpId:e,stopTime:n,disableNotice:i}){if(!e)return{error:et};if(!ec(n))return{error:St};const{matchUp:r}=zs({drawDefinition:t,matchUpId:e}),a=r.timeItems||[];if(a.reduce(((t,e)=>e.itemType===Uo||t),void 0))return{error:ue};const o=a.filter((t=>[So,Eo,Po].includes(null==t?void 0:t.itemType))).sort(((t,e)=>tc(t.itemValue)-tc(e.itemValue))),s=o[o.length-1],c=s&&s.itemType===Po,u=o.filter((t=>!c||t.createdAt!==s.createdAt)).map((t=>tc(t.itemValue))).reduce(((t,e)=>!t||e>t?e:t),void 0);if(tc(n)>u){if(r.timeItems&&c){const t=s.createdAt;r.timeItems=r.timeItems.filter((e=>e.createdAt!==t))}return Ks({drawDefinition:t,matchUpId:e,timeItem:{itemType:Po,itemValue:n},disableNotice:i,duplicateValues:!0})}return{error:de}}function uc({drawDefinition:t,matchUpId:e,disableNotice:n,resumeTime:i}){if(!e)return{error:et};if(!ec(i))return{error:St};const{matchUp:r}=zs({drawDefinition:t,matchUpId:e}),a=r.timeItems||[];if(a.reduce(((t,e)=>e.itemType===Uo||t),void 0))return{error:ue};const o=a.filter((t=>[So,Eo,Po].includes(null==t?void 0:t.itemType))).sort(((t,e)=>tc(t.itemValue)-tc(e.itemValue))),s=o[o.length-1],c=s&&s.itemType===Eo,u=o.filter((t=>!c||t.createdAt!==s.createdAt)).map((t=>tc(t.itemValue))).reduce(((t,e)=>!t||e>t?e:t),void 0);if(tc(i)>u){if(r.timeItems&&c){const t=s.createdAt;r.timeItems=r.timeItems.filter((e=>e.createdAt!==t))}return Ks({drawDefinition:t,matchUpId:e,timeItem:{itemType:Eo,itemValue:i},disableNotice:n,duplicateValues:!0})}return{error:"Invalid resumeTime"}}function dc({drawDefinition:t,inContextDrawMatchUps:e,targetLink:n,sourceRoundPosition:i,sourceRoundMatchUpCount:r}){if(!n)return{error:C};const{target:{structureId:a,feedProfile:o,groupedOrder:s,roundNumber:c,positionInterleave:u}}=n,{structure:d}=es({drawDefinition:t,structureId:a}),{positionAssignments:l}=Zs({structure:d}),p=(null==e?void 0:e.filter((t=>t.structureId===d.structureId))).filter((t=>t.roundNumber===c)),f=p.length,m=Ze(1,f+1),h=f/r;let v=Math.ceil(h*i),g=1-i%2;if(null!=u&&u.interleave&&.5!==h){const t=i+(u.offset+(i-1)*u.interleave);v=Math.ceil(t/2),g=1-t%2}let y=m,I=m[v-1];const w=ks({groupedOrder:s,roundPositionsCount:m.length}),b=(null==w?void 0:w.length)||1;if(b<=m.length){const t=Ge(m,f/b);o===ir&&t.forEach((t=>t.reverse())),y=(null==w?void 0:w.length)&&(null==w?void 0:w.map((e=>t[e-1])).flat())||y}o===nr?I=y[v-1]:o===ir?((null==w||!w.length||b>m.length)&&(v=p.length+1-v),I=y[v-1]):o===er?Mn()&&console.log("not implemented:",{feedProfile:o}):o===tr&&Mn()&&console.log("not implemented:",{feedProfile:o});const N=I&&p.reduce(((t,e)=>e.roundPosition===I?e:t),void 0);let S;var P;null!=N&&N.feedRound?(g=0,S=Math.min(...(N.drawPositions||[]).filter(Boolean))):S=2===(null==N||null===(P=N.drawPositions)||void 0===P?void 0:P.length)&&(null==N?void 0:N.drawPositions[g]);const E=l.find((({drawPosition:t})=>t===S));if(E){const{extension:t}=io({element:E,name:ja});if(null!=t&&t.value)return{disabledDrawPosition:S}}return{matchUp:N,targetDrawPosition:S,matchUpDrawPositionIndex:g}}function lc({source:t,linkType:e,finishingPositions:n}){return t.reduce(((t,i)=>{var r,a;return(!(null!==(r=i.source)&&void 0!==r&&r.finishingPositions)||!n||je(n,null===(a=i.source)||void 0===a?void 0:a.finishingPositions))&&i.linkType===e?i:t}),void 0)}function pc({drawDefinition:t,structureId:e,roundNumber:n}){if(!t)return{error:l};if(!e)return{error:R};return{links:(t.links||[]).filter(Boolean).reduce(((t,i)=>{var r,a;return(null===(r=i.source)||void 0===r?void 0:r.structureId)!==e||n&&i.source.roundNumber!==n||(t.source=t.source.concat(i)),(null===(a=i.target)||void 0===a?void 0:a.structureId)!==e||n&&i.target.roundNumber!==n||(t.target=t.target.concat(i)),t}),{source:[],target:[]})}}function fc({matchUpId:t,drawDefinition:e,inContextDrawMatchUps:n=[],inContextMatchUp:i,useTargetMatchUpIds:r=!1}){let a=i;n.length&&!a&&(a=n.find((e=>e.matchUpId===t)));const{structure:o}=es({drawDefinition:e,structureId:a.structureId}),{finishingPosition:s}=o;return s===xr?function({matchUp:t,structure:e,drawDefinition:n,inContextDrawMatchUps:i,useTargetMatchUpIds:r}){const{links:{source:a}}=function({drawDefinition:t,roundNumber:e,structureId:n}){if(!t)return{error:l};if(!n)return{error:R};const{links:i}=pc({drawDefinition:t,structureId:n});return{links:{source:i.source.reduce(((t,n)=>n.source.roundNumber&&n.source.roundNumber!==e?t:t.concat(n)),[]),target:i.target.reduce(((t,n)=>n.target.roundNumber&&n.target.roundNumber!==e?t:t.concat(n)),[])}}}({drawDefinition:n,roundNumber:t.roundNumber,structureId:e.structureId}),o=lc({source:a,linkType:ar}),s=lc({source:a,linkType:or}),{winnerMatchUpId:c,loserMatchUpId:u}=t;let d,p,f,m,h,v,g;r&&(m=c&&i.find((({matchUpId:t})=>t===c)),d=u&&i.find((({matchUpId:t})=>t===u)));if(o&&!m||s&&!d){const{roundPosition:r}=t;g=g||i.filter((t=>t.structureId===e.structureId));const a=g.reduce(((e,n)=>n.roundNumber===t.roundNumber?e+1:e),0);s&&({matchUp:d,matchUpDrawPositionIndex:f,targetDrawPosition:p}=dc({drawDefinition:n,inContextDrawMatchUps:i,sourceRoundPosition:r,sourceRoundMatchUpCount:a,targetLink:s})),o&&({matchUp:m,matchUpDrawPositionIndex:v,targetDrawPosition:h}=dc({drawDefinition:n,inContextDrawMatchUps:i,sourceRoundPosition:r,sourceRoundMatchUpCount:a,targetLink:o}))}m||(g=g||i.filter((t=>t.structureId===e.structureId)),({matchUp:m}=function({structureMatchUps:t,matchUp:e}){const{roundNumber:n,roundPosition:i}=e,r=t.filter((t=>t.roundNumber===n)),a=t.filter((t=>t.roundNumber===n+1));if(a.length){let t;return a.length===r.length?t=a.find((t=>t.roundPosition===i)):a.length===r.length/2&&(t=a.find((t=>t.roundPosition===Math.ceil(i/2)))),{matchUp:t}}return{error:"no progression found"}}({structureMatchUps:g,matchUp:t})));return{matchUp:t,targetLinks:{loserTargetLink:s,winnerTargetLink:o},targetMatchUps:{loserMatchUp:d,winnerMatchUp:m,loserTargetDrawPosition:p,winnerTargetDrawPosition:h,loserMatchUpDrawPositionIndex:f,winnerMatchUpDrawPositionIndex:v}}}({drawDefinition:e,inContextDrawMatchUps:n,structure:o,matchUp:a,useTargetMatchUpIds:r}):function({matchUp:t}){return{matchUp:t,targetLinks:{loserTargetLink:void 0,winnerTargetLink:void 0},targetMatchUps:{loserMatchUp:void 0,winnerMatchUp:void 0}}}({drawDefinition:e,matchUp:a,structure:o})}function mc({drawDefinition:t,inContextDrawMatchUps:e}){const n={};return e.forEach((i=>{const{matchUpId:r,structureId:a,drawPositions:o=[]}=i,{structure:s}=es({drawDefinition:t,structureId:a});if((null==s?void 0:s.finishingPosition)===Rr){const{roundNumber:t}=i,e=t&&parseInt(t)+1,n=s.matchUps||[],{roundMatchUps:r}=zo({matchUps:n});if(e&&r[e]){const t=o.sort().map(((t,n)=>{const i=r[e].find((e=>e.drawPositions.includes(t)));return{matchUpId:null==i?void 0:i.matchUpId,roundNumber:e,schedule:null==i?void 0:i.schedule,sideNumber:n+1,structureName:s.structureName}}));Object.assign(i,{sidesTo:t})}}else{var c;const a=fc({matchUpId:r,drawDefinition:t,inContextMatchUp:i,inContextDrawMatchUps:e,useTargetMatchUpIds:!0}),{winnerMatchUp:o,loserMatchUp:s}=a.targetMatchUps;!i.winnerMatchUpId&&o&&(i.winnerMatchUpId=o.matchUpId),!i.loserMatchUpId&&s&&(i.loserMatchUpId=s.matchUpId);const m=gc({upcomingMatchUp:o});let h=gc({upcomingMatchUp:s});if(i.matchUpStatus!==Ke&&(null==s?void 0:s.matchUpStatus)===Ke){const{matchUp:n}=vc({matchUp:s,drawDefinition:t,inContextDrawMatchUps:e})||{};h=n&&gc({upcomingMatchUp:n})||h}const v=null===(c=i.schedule)||void 0===c?void 0:c.timeAfterRecovery;if(v){var u,d,l;if(null!=m&&null!==(u=m.schedule)&&void 0!==u&&u.scheduledTime){ii(m.schedule.scheduledTime)<ii(v)&&(n[m.matchUpId]=i.matchUpId,m.schedule.scheduleConflict=i.matchUpId)}if(null!==(d=h)&&void 0!==d&&null!==(l=d.schedule)&&void 0!==l&&l.scheduledTime){ii(m.schedule.scheduledTime)<ii(v)&&(n[h.matchUpId]=i.matchUpId,h.schedule.scheduleConflict=i.matchUpId)}}if(Object.assign(i,{winnerTo:m,loserTo:h}),i.drawPositions.filter(Boolean).length){const t=(null==(p=i)||null===(f=p.sides)||void 0===f?void 0:f.map((({participant:t,participantId:e})=>t||e&&{participantId:e})).filter(Boolean))||[];if(t.length){const e=hc(o),n=hc(s),i=!t.find((({participantId:t})=>e.includes(t)))&&t,r=!t.find((({participantId:t})=>n.includes(t)))&&t;i&&o&&(o.potentialParticipants||(o.potentialParticipants=[]),o.potentialParticipants.push(i)),r&&s&&(s.potentialParticipants||(s.potentialParticipants=[]),s.potentialParticipants.push(r))}}}var p,f})),Object.keys(n).length&&e.forEach((t=>{Object.keys(n).includes(t.matchUpId)&&(t.schedule.scheduleConflict=n[t.matchUpId])})),{scheduleConflictMatchUpIds:n}}function hc(t){var e;return(null==t||null===(e=t.sides)||void 0===e?void 0:e.map((({participantId:t})=>t)).filter(Boolean))||[]}function vc({matchUp:t,drawDefinition:e,inContextDrawMatchUps:n}){const{matchUpId:i,matchUpStatus:r,structureId:a}=t||{};if(!t||!a||(null==t?void 0:t.matchUpStatus)===an)return{matchUp:t};if(r===Ke){let r;if(t.winnerMatchUpId)r=n.find((({matchUpId:e})=>e===t.winnerMatchUpId));else{const t=fc({matchUpId:i,drawDefinition:e,inContextDrawMatchUps:n});({winnerMatchUp:r}=(null==t?void 0:t.targetMatchUps)||{})}return vc({matchUp:r,drawDefinition:e,inContextDrawMatchUps:n})}return{matchUp:void 0}}function gc({upcomingMatchUp:t}={}){if(t)return(({matchUpId:t,structureId:e,schedule:n,roundNumber:i,roundPosition:r,structureName:a})=>({matchUpId:t,structureId:e,schedule:n,roundNumber:i,roundPosition:r,structureName:a}))(t)}function yc({event:t,context:e,inContext:n,structure:i,roundFilter:r,structureId:a,drawDefinition:o,matchUpFilters:s,contextFilters:c,scheduleTiming:u,policyDefinitions:d,tournamentParticipants:l,tournamentAppliedPolicies:p,requireParticipants:f=!0,scheduleVisibilityFilters:m,matchUpsMap:h}){!i&&a&&({structure:i}=es({drawDefinition:o,structureId:a}));const{matchUps:v,error:g}=Ws({event:t,context:e,structure:i,inContext:n,drawDefinition:o,matchUpFilters:s,contextFilters:c,scheduleTiming:u,policyDefinitions:d,tournamentParticipants:l,tournamentAppliedPolicies:p,scheduleVisibilityFilters:m,matchUpsMap:h});if(g)return{error:g};const{assignedPositions:y}=_s({structure:i}),I=y.filter((t=>t.participantId)).map((t=>t.drawPosition)),w=[],b=[],N=[],S=[],P=[];return v.filter((t=>{var e;const n=1===(null==s||null===(e=s.matchUpTypes)||void 0===e?void 0:e.length)&&s.matchUpTypes[0]===Qr;return t.matchUpType===Qr||!n})).forEach((t=>{var e,n,i;if(t.matchUpStatus===We)return void S.push(t);const a=t.collectionId,o=a&&t.sides.every((t=>t.participantId)),s=t.roundNumber===r,c=!a&&2===(null===(e=t.drawPositions)||void 0===e?void 0:e.filter(Boolean).length),u=!a&&(null===(n=t.drawPositions)||void 0===n?void 0:n.every((t=>I.includes(t)))),d=y.filter((t=>t.bye)).map((t=>t.drawPosition)),l=!a&&(null===(i=t.drawPositions)||void 0===i?void 0:i.find((t=>d.includes(t)))),p=fn.includes(t.matchUpStatus)&&(o||c&&(!r||s)&&(!f||u));return l?w.push(t):bi(t)?P.push(t):p?N.push(t):b.push(t)})),{completedMatchUps:P,upcomingMatchUps:N,pendingMatchUps:b,abandonedMatchUps:S,byeMatchUps:w,structure:i}}function Ic(t){if(!t.drawDefinition)return{error:l};Object.assign(t,{requireParticipants:!1});const{abandonedMatchUps:e,completedMatchUps:n,upcomingMatchUps:i,pendingMatchUps:r,byeMatchUps:a,matchUpsMap:o}=wc(t);return{matchUps:[].concat(...e,...n,...i,...r,...a),matchUpsMap:o}}function wc({scheduleVisibilityFilters:t,tournamentAppliedPolicies:e,tournamentParticipants:n,requireParticipants:i,includeByeMatchUps:r,policyDefinitions:a,tournamentRecord:o,drawDefinition:s,matchUpFilters:c,contextFilters:u,scheduleTiming:d,nextMatchUps:p,roundFilter:f,matchUpsMap:m,inContext:h,context:v,event:g}){var y;if(!s)return{error:l};let I=[],w=[],b=[],N=[],S=[];n=(null===(y=n)||void 0===y?void 0:y.length)&&n||(null==o?void 0:o.participants);const{structures:P}=ns({drawDefinition:s});m||(m=Xo({drawDefinition:s})),P.forEach((o=>{const{byeMatchUps:l=[],pendingMatchUps:y,upcomingMatchUps:P,completedMatchUps:E,abandonedMatchUps:U}=yc({inContext:h||p,tournamentAppliedPolicies:e,scheduleVisibilityFilters:t,tournamentParticipants:n,requireParticipants:i,includeByeMatchUps:r,policyDefinitions:a,drawDefinition:s,matchUpFilters:c,contextFilters:u,scheduleTiming:d,matchUpsMap:m,roundFilter:f,structure:o,context:v,event:g});I=I.concat(...U),w=w.concat(...E),b=b.concat(...P),N=N.concat(...y),S=S.concat(...l)}));const E={matchUpsMap:m,byeMatchUps:S,pendingMatchUps:N,upcomingMatchUps:b,abandonedMatchUps:I,completedMatchUps:w,...En};if(p){const t="object"==typeof p&&p||{abandoned:!0,completed:!0,upcoming:!0,pending:!0,bye:!0},{abandoned:e,completed:n,upcoming:i,pending:r,bye:a}=t,o=[].concat(...e&&E.abandonedMatchUps||[],...n&&E.completedMatchUps||[],...i&&E.upcomingMatchUps||[],...r&&E.pendingMatchUps||[],...a&&E.byeMatchUps||[]);mc({drawDefinition:s,inContextDrawMatchUps:o})}return E}function bc({tournamentRecord:t,inContext:e=!0,nextMatchUps:n,matchUpFilters:i,contextFilters:r,policyDefinitions:a,scheduleVisibilityFilters:o}){var c;if(!t)return{error:s};const u=(null===(c=t.unifiedTournamentId)||void 0===c?void 0:c.tournamentId)||t.tournamentId,d=(null==t?void 0:t.events)||[],l=Uc({tournamentRecord:t}),{appliedPolicies:p}=Qa({tournamentRecord:t}),f={tournamentId:u,endDate:t.endDate};return{matchUps:d.map((s=>Sc({event:s,context:f,inContext:e,nextMatchUps:n,participants:l,matchUpFilters:i,contextFilters:r,policyDefinitions:a,tournamentRecord:t,scheduleVisibilityFilters:o,tournamentAppliedPolicies:p}).matchUps)).flat(1/0)}}function Nc({event:t,context:e,inContext:n,participants:i,nextMatchUps:r,matchUpFilters:a,contextFilters:o,drawDefinition:s,tournamentRecord:c,policyDefinitions:u,scheduleVisibilityFilters:d,tournamentAppliedPolicies:l}){if(!t)return{error:F};const{eventId:p,eventName:f,category:m,gender:h,matchUpFormat:v}=t,g={...e,eventId:p,eventName:f,category:m,gender:h,matchUpFormat:v},y=i||c&&Uc({tournamentRecord:c})||[],{matchUps:I}=Ic({tournamentAppliedPolicies:l,scheduleVisibilityFilters:d,tournamentParticipants:y,context:g,tournamentRecord:c,policyDefinitions:u,drawDefinition:s,matchUpFilters:a,contextFilters:o,nextMatchUps:r,inContext:n,event:t});return{matchUps:I}}function Sc({event:t,context:e,inContext:n,nextMatchUps:i,matchUpFilters:r,contextFilters:a,participants:o=[],tournamentRecord:s,policyDefinitions:c,scheduleVisibilityFilters:u,tournamentAppliedPolicies:d}){if(!t)return{error:F};const{eventId:l,eventName:p,endDate:f,category:m,gender:h,matchUpFormat:v}=t,g={...e,eventId:l,eventName:p,category:m,gender:h,matchUpFormat:v,tournamentId:null==s?void 0:s.tournamentId};f&&(g.endDate=f),o=o||s&&Uc({tournamentRecord:s});const y=t.drawDefinitions||[],I=so({tournamentRecord:s,event:t}).scheduleTiming;return{matchUps:y.map((e=>{const{matchUps:l}=Ic({tournamentParticipants:o,tournamentAppliedPolicies:d,scheduleVisibilityFilters:u,context:g,policyDefinitions:c,tournamentRecord:s,drawDefinition:e,matchUpFilters:r,contextFilters:a,scheduleTiming:I,nextMatchUps:i,inContext:n,event:t});return l})).flat(1/0)}}function Pc({tournamentRecord:t,matchUpFilters:e,contextFilters:n,inContext:i=!0,nextMatchUps:r,policyDefinitions:a,scheduleVisibilityFilters:o}){var c;if(!t)return{error:s};const u=(null===(c=t.unifiedTournamentId)||void 0===c?void 0:c.tournamentId)||t.tournamentId,d=t&&t.events||[],l=Uc({tournamentRecord:t}),{appliedPolicies:p}=Qa({tournamentRecord:t}),f=n&&n.eventIds||[];return d.filter((t=>!f.includes(t.eventId))).map((t=>Ec({event:t,inContext:i,participants:l,tournamentId:u,matchUpFilters:e,contextFilters:n,nextMatchUps:r,policyDefinitions:a,tournamentAppliedPolicies:p,scheduleVisibilityFilters:o}))).reduce(((t,e)=>{const n=e&&Object.keys(e).filter((t=>!["success","matchUpsMap"].includes(t)));return null==n||n.forEach((n=>{t[n]||(t[n]=[]),t[n]=t[n].concat(e[n]),t.matchUpsCount+=e[n].length})),t}),{matchUpsCount:0})}function Ec({tournamentAppliedPolicies:t,scheduleVisibilityFilters:e,policyDefinitions:n,tournamentRecord:i,matchUpFilters:r,contextFilters:a,nextMatchUps:o,participants:s,tournamentId:c,inContext:u,event:d}){if(!d)return{error:F};const{eventId:l,eventName:p,endDate:f}=d,m={eventId:l,eventName:p};f&&(m.endDate=f),f||(m.endDate=null==i?void 0:i.endDate),(c||i.tournamentId)&&(m.tournamentId=c||i.tournamentId);const h=s||i&&Uc({tournamentRecord:i});return(d.drawDefinitions||[]).reduce(((s,c)=>{const l=wc({tournamentAppliedPolicies:t,scheduleVisibilityFilters:e,tournamentParticipants:h,policyDefinitions:n,tournamentRecord:i,drawDefinition:c,matchUpFilters:r,contextFilters:a,nextMatchUps:o,inContext:u,context:m,event:d}),p=Object.keys(l);return null==p||p.forEach((t=>{s[t]||(s[t]=[]),s[t]=s[t].concat(l[t])})),s}),{})}function Uc({tournamentRecord:t}){return t&&t.participants||[]}function Ac({tournamentRecord:t,nextMatchUps:e,matchUpId:n,inContext:i}){if(!t)return{error:s};if("string"!=typeof n)return{error:et};const{matchUps:r}=bc({tournamentRecord:t}),a=r.find((t=>t.matchUpId===n));if(!a)return{error:it};const{eventId:o,drawId:c}=a,u={tournamentId:t.tournamentId,endDate:t.endDate,eventId:o,drawId:c},d=(t.events||[]).map((t=>t.drawDefinitions||[])).flat(1/0).find((t=>t.drawId===c)),l=t.participants||[],{matchUp:p,structure:f}=zs({context:i&&u,tournamentParticipants:l,drawDefinition:d,nextMatchUps:e,matchUpId:n,inContext:i});return{matchUp:p,structure:f,drawDefinition:d}}function Dc({tournamentRecord:t,matchUpIds:e,schedule:n}){if(!t)return{error:s};if(!e||!Array.isArray(e))return{error:nt};if(!n||"object"!=typeof n)return{error:ve};const{matchUps:i}=bc({tournamentRecord:t}),r=i.reduce(((t,e)=>{const{matchUpId:n,drawId:i}=e;return t[i]?t[i].push(n):t[i]=[n],t}),{});for(const a of Object.keys(r)){const{drawDefinition:i}=mo({tournamentRecord:t,drawId:a}),o=r[a].filter((t=>e.includes(t)));for(const e of o){const r=nc({tournamentRecord:t,drawDefinition:i,matchUpId:e,schedule:n});if(r.error)return r}}return{...En}}function Mc({tournamentRecords:t}){if(!t)return{error:o};return Object.keys(t).reduce(((e,n)=>{e.tournamentIdMap[n]=[];const i=t[n].events||[],r=i.map((({eventId:t})=>t)),a=i.map((t=>(t.drawDefinitions||[]).map((({drawId:t})=>t)))).flat();return e.tournamentIdMap[n].push(...r,...a),e.eventIds.push(...r),e.drawIds.push(...a),e}),{eventIds:[],drawIds:[],tournamentIdMap:{}})}function Tc({matchUp:t,tieFormat:e,separator:n="-",sideAdjustments:i=[0,0]}){var r;if(!Array.isArray(i)||2!==i.length||isNaN(i.reduce(((t,e)=>t+e))))return{error:Ne};if(!t)return{error:at};const a=[0,0],o=(null==t?void 0:t.tieMatchUps)||[];((null==t||null===(r=t.tieFormat)||void 0===r?void 0:r.collectionDefinitions)||[]).forEach((t=>{const e=o.filter((e=>e.collectionId===t.collectionId));if(t.matchUpValue){const n=t.matchUpValue;e.forEach((t=>{t.winningSide&&(a[t.winningSide-1]+=n)}))}else if(t.collectionValue){const n=[0,0],i=Math.floor(t.matchUpCount/2).floor+1;e.forEach((t=>{t.winningSide&&(n[t.winningSide-1]+=1)}));const r=n.reduce(((t,e)=>e>=i?e+1:t),void 0);r&&(a[r]+=t.collectionValue)}else t.collectionValueProfile&&e.forEach((e=>{if(e.winningSide){const n=e.collectionPosition,i=function({collectionDefinition:t,collectionPosition:e}){const n=t.collectionValueProfile||[];return n.reduce(((t,n)=>n.collectionPosition===e?n.matchUpValue:t),0)}({collectionDefinition:t,collectionPosition:n});a[e.winningSide-1]+=i}}))}));const s=a.map(((t,e)=>t+i[e])),c={side1Score:s[0],side2Score:s[1]},u=s.join(n),d=s.slice().reverse().join(n);let l;const p=t.tieFormat||e;if(p){var f;const t=null===(f=p.winCriteria)||void 0===f?void 0:f.valueGoal;if(t){const e=s.map(((t,e)=>({sideNumber:e+1,points:t}))).find((({points:e})=>e>=t));l=null==e?void 0:e.sideNumber}}return{set:c,winningSide:l,scoreStringSide1:u,scoreStringSide2:d}}function Cc({drawPosition:t,matchUps:e=[]}){return{initialRoundNumber:e.filter((({drawPositions:e})=>t&&(null==e?void 0:e.includes(t)))).map((({roundNumber:t})=>parseInt(t))).sort(gi)[0]}}function Rc({matchUp:t,drawDefinition:e,targetDrawPosition:n,positionAssignments:i}){t.drawPositions=(t.drawPositions||[]).map((t=>t===n?void 0:t));const r=i.filter((({drawPosition:e})=>t.drawPositions.includes(e))).filter((t=>t.bye)).length;return t.matchUpStatus=r?Ke:t.matchUpStatus===on?on:an,t.matchUpStatus===on&&(t.winningSide=void 0),xa({drawDefinition:e,matchUp:t}),{...En}}function xc({matchUpStatus:t}){return un.includes(t)}function Oc({matchUpStatus:t}){return dn.includes(t)}function Lc({score:t,winningSide:e,matchUpStatus:n}){return(null==t?void 0:t.scoreStringSide1)||e||function({matchUpStatus:t}){return pn.includes(t)}({matchUpStatus:n})}function kc({drawDefinition:t,structureId:e}){const{structure:n,error:i}=es({drawDefinition:t,structureId:e});if(i)return{error:i};const{matchUps:r}=Ws({drawDefinition:t,structure:n,matchUpFilters:{isCollectionMatchUp:!1}}),a=r.filter(Lc),{positionAssignments:o}=Zs({structure:n,drawDefinition:t}),s=Re([].concat(...r.map((t=>t.drawPositions||[]))).filter(Boolean)).sort(gi),c=o.filter((t=>t.bye)).map((t=>t.drawPosition)),u=Re([].concat(...a.map((t=>t.drawPositions||[]))).filter(Boolean).sort(gi));if(n.structureType===Qi){const t=s.filter((t=>!u.includes(t)));return{activeDrawPositions:u,inactiveDrawPositions:t,byeDrawPositions:c,structure:n}}{const t=[],{roundMatchUps:e}=zo({matchUps:r});a.forEach((n=>{const{roundNumber:i,drawPositions:r}=n;t.push(...r);Ze(1,i).reverse().forEach((n=>{e[n].forEach((e=>{je(t,e.drawPositions)&&t.push(...e.drawPositions)}))}))}));const i=Re(t).sort(gi),u=s.filter((t=>!i.includes(t)));return{allDrawPositions:s,positionAssignments:o,activeDrawPositions:i,inactiveDrawPositions:u,byeDrawPositions:c,structure:n}}}function Fc({positionAssignments:t,drawDefinition:e,structure:n,matchUpsMap:i}){const{matchUps:r}=Ws({drawDefinition:e,structure:n,matchUpsMap:i});r.forEach((n=>{const i=t.filter((({drawPosition:t})=>n.drawPositions.includes(t))).filter((t=>t.bye)).length;if(!n.winningSide){const t=i?Ke:an;Object.assign(n,{matchUpStatus:t}),xa({drawDefinition:e,matchUp:n})}}))}function Zc({drawDefinition:t,structureId:e,drawPosition:n,matchUpsMap:i,inContextDrawMatchUps:r}){const{structure:a}=es({drawDefinition:t,structureId:e}),{positionAssignments:o}=_s({drawDefinition:t,structure:a}),s=o.some((t=>{if(t.drawPosition===n)return delete t.participantId,delete t.qualifier,delete t.bye,!0}));if(a.structureType===Qi)return Fc({positionAssignments:o,drawDefinition:t,structure:a,matchUpsMap:i}),{drawPositionCleared:s};const{matchUps:c}=Ws({drawDefinition:t,matchUpFilters:{isCollectionMatchUp:!1},structure:a,matchUpsMap:i}),{roundProfile:u,roundMatchUps:d}=zo({matchUps:c}),l=Object.keys(u).map((t=>parseInt(t)));let p=n;const f=l.map((t=>{const e=u[t].pairedDrawPositions.find((t=>t.includes(p))),n=null==e?void 0:e.find((t=>t!==p)),i=o.find((t=>t.drawPosition===n)),r=u[t+1],a=null==i?void 0:i.bye,s=r&&r.pairedDrawPositions.find((t=>t.includes(n))),c=a&&s&&r&&r.drawPositions.includes(n),d=e&&{roundNumber:t,relevantPair:e,pairedDrawPosition:n,pairedDrawPositionByeAdvancedPair:!c&&s,targetDrawPosition:p};return c&&(p=n),d})).filter((t=>null==t?void 0:t.targetDrawPosition)).reduce(((t,e)=>{const{roundNumber:n,relevantPair:i,targetDrawPosition:r,pairedDrawPosition:a,pairedDrawPositionByeAdvancedPair:o}=e,s=[{roundNumber:n,targetDrawPosition:r,relevantPair:i},o&&{roundNumber:n+1,targetDrawPosition:a,relevantPair:o,subsequentRoundRemoval:!0}].filter(Boolean);return t.concat(...s)}),[]);return f.forEach((({roundNumber:s,targetDrawPosition:c,relevantPair:u})=>{const l=d[s].find((t=>je(t.drawPositions.filter(Boolean),u.filter(Boolean))));l&&(!function({drawDefinition:t,structureId:e,roundNumber:n,targetDrawPosition:i,matchUpsMap:r,inContextDrawMatchUps:a}){var o;const{structure:s}=es({drawDefinition:t,structureId:e});if(s.structureType===Qi)return;r=r||Xo({drawDefinition:t});const c=((null===(o=r)||void 0===o?void 0:o.mappedMatchUps)||{})[e].matchUps,{initialRoundNumber:u}=Cc({drawPosition:i,matchUps:c}),d=null==c?void 0:c.filter((t=>t.roundNumber>=n&&t.roundNumber!==u&&t.drawPositions.includes(i))),{positionAssignments:l}=Zs({drawDefinition:t,structureId:e});null==d||d.forEach((e=>_c({targetMatchUp:e,drawPosition:i,positionAssignments:l,drawDefinition:t,structure:s,matchUpsMap:r,inContextDrawMatchUps:a})))}({drawDefinition:t,structureId:e,roundNumber:s,targetDrawPosition:c,matchUpsMap:i,inContextDrawMatchUps:r}),_c({drawDefinition:t,structure:a,positionAssignments:o,targetMatchUp:l,drawPosition:n,matchUpsMap:i,inContextDrawMatchUps:r}))})),{tasks:f,drawPositionCleared:s}}function _c({positionAssignments:t,targetMatchUp:e,drawPosition:n,drawDefinition:i,structure:r,inContextDrawMatchUps:a,matchUpsMap:o}){const s=(o=o||Xo({drawDefinition:i})).mappedMatchUps[r.structureId].matchUps,{initialRoundNumber:c}=Cc({drawPosition:n,matchUps:s});e.roundNumber>c&&(e.drawPositions=(e.drawPositions||[]).map((t=>t===n?void 0:t)));const u=fc({matchUpId:e.matchUpId,structure:r,drawDefinition:i,inContextDrawMatchUps:a}),{targetLinks:{winnerTargetLink:d},targetMatchUps:{loserMatchUp:l,winnerMatchUp:p,loserMatchUpDrawPositionIndex:f,winnerMatchUpDrawPositionIndex:m}}=u,h=t.filter((({drawPosition:t})=>e.drawPositions.includes(t))).filter((t=>t.bye)).length;if(e.matchUpStatus=h?Ke:e.matchUpStatus===on?on:an,e.matchUpStatus===on&&(e.winningSide=void 0),xa({drawDefinition:i,matchUp:e}),l&&l.structureId!==u.matchUp.structureId&&!h){const{drawPositions:t,roundNumber:e}=l;if(1===e){const e=t[f];Zc({drawDefinition:i,structureId:l.structureId,drawPosition:e,matchUpsMap:o,inContextDrawMatchUps:a})}else{var v;const n=Math.min(...t.filter(Boolean)),r=((null===(v=o)||void 0===v?void 0:v.mappedMatchUps)||{})[l.structureId].matchUps,{initialRoundNumber:s}=Cc({drawPosition:n,matchUps:r});s===e&&Zc({drawDefinition:i,structureId:l.structureId,drawPosition:n,matchUpsMap:o,inContextDrawMatchUps:a})}}p&&p.structureId!==u.matchUp.structureId&&console.log("linked structure winnerMatchUp removal",{winnerTargetLink:d,winnerMatchUpDrawPositionIndex:m})}function Bc({drawDefinition:t,drawPosition:e,participantId:n,structureId:i,matchUpsMap:r,inContextDrawMatchUps:a}){const{structure:o}=es({drawDefinition:t,structureId:i}),{positionAssignments:s}=_s({drawDefinition:t,structure:o}),c=s.find((t=>n&&t.participantId===n||e&&t.drawPosition===e));if(n&&!e&&(e=null==c?void 0:c.drawPosition),!e)return{error:b};n||(n=null==c?void 0:c.participantId);const{activeDrawPositions:u}=kc({drawDefinition:t,structureId:i});if(u.includes(e))return{error:I};a||({matchUps:a}=Ic({drawDefinition:t,inContext:!0,includeByeMatchUps:!0,matchUpsMap:r}));const{drawPositionCleared:d,error:l}=Zc({drawDefinition:t,structureId:i,drawPosition:e,matchUpsMap:r,inContextDrawMatchUps:a});return l?{error:l}:d?(La({drawDefinition:t}),{...En,participantId:n}):{error:v}}function jc({element:t,notes:e}={}){return"object"!=typeof t?{error:Ne}:e?"string"==typeof e||null!=e&&e.testing?(Object.assign(t,{notes:e}),En):{error:Ne}:{error:yt}}function Gc({tournamentRecord:t,drawDefinition:e,policyTypes:n=[],event:i}){if(!Array.isArray(n))return{error:st};const r={},a=t=>{for(const e of n){const n=t[e];n&&!r[e]&&(r[e]=n)}};if(e){const{appliedPolicies:t}=Wo({drawDefinition:e})||{};a(t)}if(i){const{appliedPolicies:t}=to({event:i})||{};a(t)}if(t){const{appliedPolicies:e}=Qa({tournamentRecord:t})||{};a(e)}return Object.keys(r).length?{policyDefinitions:r}:{error:mt}}function Vc({tournamentRecord:t,drawDefinition:e,event:n,positionAssignments:i,matchUpFormat:r,matchUps:a}){if(!Array.isArray(a))return{error:Ne};if(!i)return{error:Ne};const{policyDefinitions:o}=Gc({tournamentRecord:t,drawDefinition:e,event:n,policyTypes:[Ai]}),{subOrderMap:s}=function({positionAssignments:t}){const e=(t||[]).filter((({participantId:t})=>t)).map((t=>{const{extension:e}=io({element:t,name:"subOrder"}),n=parseInt(null==e?void 0:e.value),i=!isNaN(n)&&n;return i&&{participantId:t.participantId,subOrder:i}})).filter(Boolean),n=Oe(e.map((({subOrder:t})=>t)));return{subOrderMap:Object.assign({},...e.filter((({subOrder:t})=>1===n[t])).map((({participantId:t,subOrder:e})=>({[t]:e}))))}}({positionAssignments:i}),{participantResults:c}=Oi({policyDefinitions:o,matchUpFormat:r,subOrderMap:s,matchUps:a}),u=Object.keys(c);return i.forEach((t=>{const{participantId:e}=t;if(u.includes(e)){rs({element:t,extension:{name:"tally",value:c[e]}}),c[e].ties||as({element:t,name:"subOrder"})}else as({element:t,name:"tally"}),as({element:t,name:"subOrder"})})),La({drawDefinition:e}),{...En}}const Hc={matchUpStatus:an,matchUpStatusCodes:[],score:{scoreStringSide1:"",scoreStringSide2:"",sets:void 0},matchUpFormat:void 0,winningSide:void 0};function Wc({tournamentRecord:t,drawDefinition:e,event:n,matchUpStatus:i,matchUpStatusCodes:r,matchUpFormat:a,winningSide:o,matchUpId:s,matchUp:c,score:u,notes:d,removeScore:l,removeWinningSide:p}){var f;let m;if(c.matchUpType===Qr?s&&c.matchUpId!==s&&({matchUp:c,structure:m}=zs({drawDefinition:e,matchUpId:s})):c.matchUpId!==s&&console.log("!!!!!"),l?Object.assign(c,Hc):u&&(c.score=u),i&&(c.matchUpStatus=i),a&&(c.matchUpFormat=a),r&&(c.matchUpStatusCodes=r),o&&(c.winningSide=o),p&&(c.winningSide=void 0),m||({structure:m}=zs({drawDefinition:e,matchUpId:s})),(null===(f=m)||void 0===f?void 0:f.structureType)===Qi){var h;a=a||c.matchUpFormat||(null===(h=m)||void 0===h?void 0:h.matchUpFormat)||e.matchUpFormat;const i=m.structures.find((t=>null==t?void 0:t.matchUps.find((t=>t.matchUpId===s)))),{matchUps:r}=Ws({structure:i,inContext:!0,event:n});Vc({tournamentRecord:t,drawDefinition:e,event:n,positionAssignments:i.positionAssignments,matchUpFormat:a,matchUps:r})}if(d){const t=jc({element:c,notes:d});if(t.error)return t}return xa({drawDefinition:e,matchUp:c}),En}function zc(t){const{drawDefinition:e,structure:n,matchUp:i,matchUpStatus:r,targetData:a,matchUpsMap:o,inContextDrawMatchUps:s}=t;if(!i.drawPositions)return{error:y};const{targetLinks:{loserTargetLink:c,winnerTargetLink:u},targetMatchUps:{loserMatchUp:d,winnerMatchUp:l}}=a,{positionAssignments:p}=_s({structure:n}),f=i.winningSide-1,m=1-f,h=i.drawPositions[f],v=i.drawPositions[m],{winnerParticipantId:g,loserParticipantId:I}=p.reduce(((t,e)=>(e.drawPosition===v&&(t.loserParticipantId=e.participantId),e.drawPosition===h&&(t.winnerParticipantId=e.participantId),t)),{winnerParticipantId:void 0,loserParticipantId:void 0}),w=Wc({...t,matchUpStatus:r||an,removeWinningSide:!0});if(w.error)return w;const{matchUps:b}=Ws({inContext:!0,drawDefinition:e,structure:n,matchUpsMap:o}),N=b.filter((t=>t.drawPositions.includes(v)));if(l){const t=Kc({winnerMatchUp:l,drawDefinition:e,winnerTargetLink:u,winnerParticipantId:g,winningDrawPosition:h,matchUpsMap:o,inContextDrawMatchUps:s});if(t.error)return t}if(d){const{winnerHadMatchUpStatus:t}=function({sourceMatchUps:t,loserDrawPosition:e,drawPositionMatchUps:n,matchUpStatuses:i=[Ke,on,Je]}){var r;const a=null==n?void 0:n.reduce(((t,e)=>!t||e.roundNumber>t.roundNumber?e:t),void 0),o=null==a||null===(r=a.drawPositions)||void 0===r?void 0:r.find((t=>t!==e)),s=t.filter((t=>{var e;return null==t||null===(e=t.drawPositions)||void 0===e?void 0:e.includes(o)})).map((t=>t.matchUpStatus)),c=t.filter((t=>{var n;return null==t||null===(n=t.drawPositions)||void 0===n?void 0:n.includes(e)})).map((t=>t.matchUpStatus));return{sourceMatchUp:a,winnerHadMatchUpStatus:je(s||[],i),winnerMatchUpStatuses:s,loserHadMatchUpStatus:je(c||[],i),loserMatchUpStatuses:c}}({sourceMatchUps:b,loserDrawPosition:v,drawPositionMatchUps:N}),n=c.linkCondition===sr;if(t&&n){const t=qc({drawDefinition:e,drawPosition:Math.min(...d.drawPositions),targetLink:c,matchUpsMap:o,inContextDrawMatchUps:s});if(t.error)return t}const i=function({drawDefinition:t,loserTargetLink:e,loserParticipantId:n}){const i=e.target.structureId,{structure:r}=es({drawDefinition:t,structureId:i}),{positionAssignments:a}=_s({structure:r});return a.forEach((t=>{t.participantId===n&&delete t.participantId})),{...En}}({loserMatchUp:d,drawDefinition:e,loserTargetLink:c,loserParticipantId:I,matchUpsMap:o,inContextDrawMatchUps:s});if(i)return i}return{...En}}function Kc({winnerMatchUp:t,drawDefinition:e,winnerTargetLink:n,winnerParticipantId:i,winningDrawPosition:r,matchUpsMap:a,inContextDrawMatchUps:o}){const{structureId:s,roundNumber:c}=t;if(n){const t=n.target.structureId,{structure:r}=es({drawDefinition:e,structureId:t}),{positionAssignments:a}=_s({structure:r}),o=a.find((t=>t.participantId===i)),s=null==o?void 0:o.drawPosition,{matchUps:c}=Ws({drawDefinition:e,structure:r});1===Oe(c.map((t=>t.drawPositions)).flat(1/0).filter(Boolean))[s]?a.forEach((t=>{t.participantId===i&&delete t.participantId})):console.log("not removing from position assignments since instances > 1")}return function({drawDefinition:t,structureId:e,roundNumber:n,targetDrawPosition:i,matchUpsMap:r,inContextDrawMatchUps:a}){var o;const{structure:s}=es({drawDefinition:t,structureId:e});if(s.structureType===Qi)return;const c=((null===(o=r=r||Xo({drawDefinition:t}))||void 0===o?void 0:o.mappedMatchUps)||{})[e].matchUps,{initialRoundNumber:u}=Cc({drawPosition:i,matchUps:c}),d=null==c?void 0:c.filter((t=>t.roundNumber>=n&&t.roundNumber!==u&&t.drawPositions.includes(i))),{positionAssignments:l}=Zs({drawDefinition:t,structureId:e});for(const p of d){const e=Rc({matchUp:p,drawDefinition:t,targetDrawPosition:i,positionAssignments:l,matchUpsMap:r,inContextDrawMatchUps:a});if(e.error)return e}return{...En}}({drawDefinition:e,structureId:s,roundNumber:c,targetDrawPosition:r,inContextDrawMatchUps:o,matchUpsMap:a})}function qc({targetLink:t,drawPosition:e,drawDefinition:n,matchUpsMap:i,inContextDrawMatchUps:r}){return Bc({drawDefinition:n,structureId:t.target.structureId,drawPosition:e,matchUpsMap:i,inContextDrawMatchUps:r}),{...En}}function $c(t){var e;let{sourceMatchUp:n}=t;const{winnerMatchUp:i,structure:r,matchUpsMap:a,drawPosition:o}=t,s=i.roundNumber>1&&i.roundNumber-1,c=Qo({structureId:r.structureId,matchUpsMap:a});!n&&o&&(n=c.find((({drawPositions:t,roundNumber:e})=>e===s&&t.includes(o))));const u=null===(e=n)||void 0===e?void 0:e.roundPosition,d=u+(u%2?1:-1),l=s&&c.find((({roundNumber:t,roundPosition:e})=>t===s&&e===d)),p=null==l?void 0:l.matchUpStatus;return{pairedPreviousMatchUp:l,pairedPreviousMatchUpisWOWO:[Xe].includes(p)}}function Yc({drawDefinition:t,structureId:e,drawPosition:n,matchUpsMap:i}){if(!t)return{error:l};const{structure:r}=es({drawDefinition:t,structureId:e});if(!r)return{error:x};i||(i=Xo({drawDefinition:t}));const{positionAssignments:a}=Zs({structure:r}),{activeDrawPositions:o}=kc({drawDefinition:t,structureId:e});if(a.find((t=>t.drawPosition===n)).bye)return{...En};if(o.includes(n))return{error:I};const s=a.find((t=>t.drawPosition===n));if(!s)return{error:w};const{filled:c,containsBye:u}=function(t){const e=t.bye,n=t.qualifier,i=t.participantId;return{containsBye:e,containsQualifier:n,containsParticipant:i,filled:e||n||i}}(s);if(u)return{...En};if(c&&!u)return{error:h};const{matchUps:d}=Ic({drawDefinition:t,inContext:!0,includeByeMatchUps:!0,matchUpsMap:i}),{matchUps:p}=Ws({drawDefinition:t,matchUpFilters:{isCollectionMatchUp:!1},structure:r,matchUpsMap:i});if(a.forEach((t=>{t.drawPosition===n&&(t.bye=!0)})),r.structureType===Qi)return function({drawDefinition:t,matchUps:e,drawPosition:n}){e.forEach((e=>{e.drawPositions.includes(n)&&Jc({drawDefinition:t,matchUp:e})}))}({drawDefinition:t,matchUps:p,drawPosition:n}),{...En};const{roundProfile:f,roundMatchUps:m}=zo({matchUps:p}),v=Object.keys(f).map((t=>parseInt(t))).reverse(),g=m[v.find((t=>f[t].drawPositions.includes(n)))].find((({drawPositions:t})=>t.includes(n)));Jc({drawDefinition:t,matchUp:g});const y=g.drawPositions.find((t=>t!==n));if(y){const e=Xc({sourceDrawPositions:g.drawPositions,matchUpId:g.matchUpId,inContextDrawMatchUps:d,drawPositionToAdvance:y,drawDefinition:t,matchUpsMap:i});if(e.error)return e}return La({drawDefinition:t}),{...En}}function Jc({drawDefinition:t,matchUp:e}){Object.assign(e,{matchUpStatus:Ke,score:void 0,winningSide:void 0}),xa({drawDefinition:t,matchUp:e})}function Xc({sourceDrawPositions:t,drawPositionToAdvance:e,inContextDrawMatchUps:n,drawDefinition:i,matchUpId:r,matchUpsMap:a}){const o=a.drawMatchUps.find((t=>t.matchUpId===r)),s=n.find((t=>t.matchUpId===r)),c=null==s?void 0:s.structureId,{structure:u}=es({drawDefinition:i,structureId:c}),{positionAssignments:d}=Zs({structure:u}),l=d.filter((t=>t.bye)).map((t=>t.drawPosition)),p=o.drawPositions.find((t=>t!==e)),f=l.includes(p),{targetLinks:{loserTargetLink:m},targetMatchUps:{loserMatchUp:v,winnerMatchUp:g,loserTargetDrawPosition:y}}=fc({matchUpId:r,structure:u,drawDefinition:i,inContextDrawMatchUps:n});if(g&&g.structureId===u.structureId&&function({drawDefinition:t,winnerMatchUp:e,drawPositionToAdvance:n,sourceDrawPositions:i,inContextDrawMatchUps:r,matchUpsMap:a}){var o,s;const c=a.drawMatchUps.find((t=>t.matchUpId===e.matchUpId)),u=r.find((t=>t.matchUpId===e.matchUpId)),d=null==u?void 0:u.structureId,{structure:l}=es({drawDefinition:t,structureId:d}),{positionAssignments:p}=Zs({structure:l}),f=p.find((({drawPosition:t})=>t===n)).bye,m=c.drawPositions.filter((t=>t)),v=p.filter((t=>m.includes(t.drawPosition))),g=p.find((({drawPosition:t})=>t===n)),y=null==i?void 0:i.find((t=>t!==n)),I=y&&v.find((({drawPosition:t})=>t===y)),w=null==I?void 0:I.bye,b=f&&w;if(m.length>1&&f&&!w)return{error:h};const N=m.find((t=>t!==n));let S=b;const P=[].concat(...(c.drawPositions||[]).filter(Boolean),void 0,void 0).slice(0,2).map((t=>t||S?t===n?(S=!0,n):t:(S=!0,n)));if(!S)return console.log("@@@@@@@",{advancingAssignmentIsBye:g,drawPositionToAdvance:n,existingAssignments:v}),{error:h};const E=null===(o=p.find((({drawPosition:t})=>t===N)))||void 0===o?void 0:o.bye,U=null===(s=p.find((({drawPosition:t})=>t===n)))||void 0===s?void 0:s.bye,A=U||E?Ke:an;if(Object.assign(c,{matchUpStatus:A,score:void 0,winningSide:void 0,drawPositions:P}),xa({drawDefinition:t,matchUp:c}),E||U){const i=E?n:N;if(i)Xc({drawPositionToAdvance:i,matchUpId:e.matchUpId,inContextDrawMatchUps:r,drawDefinition:t,iterative:"brightmagenta",matchUpsMap:a});else if(U){const{targetLinks:{loserTargetLink:n},targetMatchUps:{loserMatchUp:i,loserTargetDrawPosition:o}}=fc({matchUpId:e.matchUpId,structure:l,drawDefinition:t,inContextDrawMatchUps:r});if(n&&i)if(i.feedRound)Qc({drawDefinition:t,loserMatchUp:i,loserTargetLink:n,loserTargetDrawPosition:o,matchUpsMap:a});else{const r=1-e.roundPosition%2,a=i.drawPositions[r],s=Yc({drawDefinition:t,structureId:n.target.structureId,drawPosition:a,loserTargetDrawPosition:o,iterative:"brightgreen"});if(s.error);}}}}({drawDefinition:i,winnerMatchUp:g,drawPositionToAdvance:e,sourceDrawPositions:t,inContextDrawMatchUps:n,matchUpsMap:a}),v&&f&&v.structureId!==u.structureId){const{roundNumber:t}=v;if(1===t){const t=Yc({drawDefinition:i,structureId:m.target.structureId,drawPosition:y,iterative:"brightyellow"});if(t.error)return t}else Qc({drawDefinition:i,loserMatchUp:v,loserTargetLink:m,loserTargetDrawPosition:y,matchUpsMap:a})}return{...En}}function Qc({drawDefinition:t,loserMatchUp:e,loserTargetLink:n,loserTargetDrawPosition:i,matchUpsMap:r}){const{roundNumber:a}=e,o=((null==r?void 0:r.mappedMatchUps)||{})[e.structureId].matchUps,{initialRoundNumber:s}=Cc({drawPosition:i,matchUps:o});if(s===a){const e=Yc({drawDefinition:t,structureId:n.target.structureId,drawPosition:i,iterative:"red"});if(e.error)return e}}function tu({inContextDrawMatchUps:t,matchUpId:e,drawPosition:n}){const i=t.filter((({winnerMatchUpId:t,loserMatchUpId:n})=>n===e||t===e)).sort(((t,e)=>t.roundPosition-e.roundPosition));return i.find((({feedRound:t})=>t))?1:i.reduce(((t,e,i)=>e.drawPositions.includes(n)?i+1:t),void 0)}function eu({drawDefinition:t,matchUpId:e,matchUpStatus:n,drawPosition:i,matchUpsMap:r,inContextDrawMatchUps:a}){var o,s,c;r||(r=Xo({drawDefinition:t})),a||({matchUps:a}=Ic({drawDefinition:t,inContext:!0,includeByeMatchUps:!0,matchUpsMap:r}));const u=a.find((t=>t.matchUpId===e)),d=null==u?void 0:u.structureId,l=null==t||null===(o=t.structures)||void 0===o?void 0:o.find((t=>t.structureId===d)),p=null===(s=r)||void 0===s||null===(c=s.drawMatchUps)||void 0===c?void 0:c.find((t=>t.matchUpId===e)),f=p.drawPositions||[],{positionAdded:m,positionAssigned:v,updatedDrawPositions:g}=function({drawPosition:t,drawPositions:e}){let n,i=e.includes(t);return{updatedDrawPositions:i?e:[].concat(...e,void 0,void 0).slice(0,2).map((e=>e||i?e:(i=!0,n=!0,t))).sort(gi),positionAdded:n,positionAssigned:i}}({drawPosition:i,drawPositions:f}),{positionAssignments:y}=Zs({drawDefinition:t,structure:l}),I=y.filter((t=>g.includes(t.drawPosition))).find((({bye:t})=>t)),w=p.matchUpStatus===on&&g.filter(Boolean).length<2;if(n=I?Ke:n||(w?on:p.matchUpStatus===Xe?Xe:an),m){({matchUps:a}=Ic({drawDefinition:t,inContext:!0,includeByeMatchUps:!0,matchUpsMap:r}));const o=w&&tu({matchUpId:e,drawPosition:i,inContextDrawMatchUps:a})||void 0;Object.assign(p,{drawPositions:g,winningSide:o,matchUpStatus:n}),xa({drawDefinition:t,matchUp:p})}const b=fc({matchUpId:e,drawDefinition:t,inContextDrawMatchUps:a,inContextMatchUp:u}),{targetMatchUps:{winnerMatchUp:N,loserMatchUp:S,loserTargetDrawPosition:P},targetLinks:{loserTargetLink:E}}=b,U=Qo({structureId:l.structureId,matchUpsMap:r});if(v&&I){if(N)if([Ke,Xe].includes(n)){const e=eu({drawDefinition:t,drawPosition:i,matchUpId:N.matchUpId,iterative:"brightmagenta",matchUpsMap:r,inContextDrawMatchUps:a});if(e.error)return e}else{const{structureId:t}=N;t!==l.structureId&&console.log("winnerMatchUp in different structure... participant is in different targetDrawPosition")}}else{const{pairedPreviousMatchUpisWOWO:e}=$c({winnerMatchUp:p,drawPosition:i,structure:l,matchUpsMap:r});if(e&&N){const e=eu({drawDefinition:t,drawPosition:i,matchUpId:N.matchUpId,iterative:"brightred",matchUpsMap:r,inContextDrawMatchUps:a});if(e.error)return e}}if((null==E?void 0:E.linkCondition)===sr&&2===g.filter(Boolean).length&&!I){if(U.filter((({drawPositions:t,roundNumber:e})=>1===e&&je(t,g))).every((({matchUpStatus:t})=>[$e,nn].includes(t)))&&S){const{structureId:e}=S,n=Yc({drawDefinition:t,structureId:e,drawPosition:P,matchUpsMap:r});if(n.error)return n}}return v?En:{error:h,drawPosition:i}}function nu(t){const{drawDefinition:e,structure:n,targetData:i,matchUpsMap:r}=t;if(n.structureType===Qi)return En;const{matchUp:a,targetMatchUps:o,targetLinks:s}=i,{loserMatchUp:c,winnerMatchUp:u,loserTargetDrawPosition:d}=o;if(c){const{loserTargetLink:t}=s,n=iu({drawDefinition:e,loserMatchUp:c,loserTargetLink:t,loserTargetDrawPosition:d,matchUpsMap:r});if(n.error)return n}if(u){const e=function(t){const{drawDefinition:e,structure:n,matchUpId:i,sourceMatchUp:r,winnerMatchUp:a,inContextDrawMatchUps:o,matchUpsMap:s}=t,c=s.drawMatchUps.find((t=>t.matchUpId===a.matchUpId));if(!c)return{error:at};const u=(null==r?void 0:r.drawPositions)||[];let d=c.drawPositions.filter(Boolean);je(u,d)&&(d=d.filter((t=>!u.includes(t))));if(d.length>1)return{error:h};const{pairedPreviousMatchUpisWOWO:l}=$c(t),p=fc({matchUpId:a.matchUpId,structure:n,drawDefinition:e,inContextDrawMatchUps:o}),{targetMatchUps:f,targetLinks:m}=p,{winnerMatchUp:v,loserMatchUp:g,loserTargetDrawPosition:y}=f;if(g){const{loserTargetLink:t}=m,n=iu({drawDefinition:e,loserMatchUp:g,loserTargetLink:t,loserTargetDrawPosition:y,matchUpsMap:s});if(n.error)return n}const I=c.drawPositions.filter(Boolean),w=1===I.length&&tu({matchUpId:i,drawPosition:I[0],inContextDrawMatchUps:o})||void 0,b=c.matchUpStatus===on&&!I.length,N=1===c.finishingRound,S=b&&!N?Xe:on,P=Wc({...t,matchUp:c,winningSide:w,matchUpStatus:S});if(P.error)return P;if(b)return nu({...t,targetData:p});if(!v)return{...En};const E=d[0];if(E)return eu({drawDefinition:e,inContextDrawMatchUps:o,matchUpId:v.matchUpId,drawPosition:E});if(l){const n=s.drawMatchUps.find((t=>t.matchUpId===v.matchUpId));if(!n)return{error:at};const r=n.drawPositions.filter(Boolean);if(1===r.length){const t=tu({matchUpId:i,drawPosition:r[0],inContextDrawMatchUps:o});console.log("existing drawPosition is winningSide",{walkoverWinningSide:t})}const a=n.matchUpStatus===on?on:Xe,c=Wc({matchUpId:n.matchUpId,matchUp:n,drawDefinition:e,matchUpStatus:a,removeScore:!0});if(c.error)return c;if(a===Xe){const e=nu({...t,targetData:p,matchUpId:i});if(e.error)return e}}return En}({...t,matchUpId:u.matchUpId,sourceMatchUp:a,winnerMatchUp:u});if(e.error)return e}return En}function iu(t){var e;const{drawDefinition:n,loserTargetLink:i,loserTargetDrawPosition:r,matchUpsMap:a}=t,o=null==i||null===(e=i.target)||void 0===e?void 0:e.structureId,{structure:s}=es({drawDefinition:n,structureId:o});return s?Yc({drawDefinition:n,structureId:o,drawPosition:r,matchUpsMap:a}):{error:L}}function ru(t){const{drawDefinition:e,matchUp:n,structure:i,matchUpStatus:r}=t,a=r===Ke,o=n.winningSide,s=r===Xe,c=xc({matchUpStatus:r}),u=Oc({matchUpStatus:r}),d=o&&s;return!c&&!u&&{error:K}||o&&c&&!s&&Wc(t)||d&&function(t){let e=zc(t);return e.error?e:nu(t)}(t)||o&&zc(t)||u&&Wc({...t,removeScore:[qe,on].includes(r),matchUpStatus:r||an})||a&&function({drawDefinition:t,matchUp:e,structure:n}){var i;if(!n)return{error:L};if(!e)return{error:at};if(null!=e&&e.winningSide)return{error:Y,matchUpStatus:Ke};const{positionAssignments:r}=_s({structure:n}),a=r.filter((t=>t.bye)).map((t=>t.drawPosition));return(null===(i=e.drawPositions)||void 0===i?void 0:i.some((t=>a.includes(t))))?(e.matchUpStatus=Ke,e.matchUpStatusCodes=[],xa({drawDefinition:t,matchUp:e}),En):{error:"Cannot Assign BYE status if no assignment: { bye: true }"}}({drawDefinition:e,matchUp:n,structure:i})||!c&&{error:K}||s&&function(t){const e=Wc({...t,removeScore:!0});return e.error?e:nu(t)}(t)||{error:Y}}function au({drawDefinition:t,structureId:e}){if(!t)return{error:l};const{structure:n}=es({drawDefinition:t,structureId:e}),i=((null==t?void 0:t.links)||[]).filter((t=>{var n;return(null===(n=t.source)||void 0===n?void 0:n.structureId)===e})).map((t=>{var e;return null===(e=t.target)||void 0===e?void 0:e.structureId}));return{playoffStructures:((null==t?void 0:t.structures)||[]).filter((t=>i.includes(t.structureId)&&t.stage===Ki)),structure:n}}function ou(t){if(null==t||!t.drawDefinition)return{error:l};const e=yc(t),{completedMatchUps:n,pendingMatchUps:i,upcomingMatchUps:r}=e||{};return!!((null==n?void 0:n.length)&&!(null!=i&&i.length)&&!r.length)}function su({drawDefinition:t,structure:e,matchUp:n}){if(e.finishingPosition===Rr){if(ou({drawDefinition:t,structure:e})){const{structureIds:i}=function({drawDefinition:t,structure:e,matchUp:n}){const{drawPositions:i}=n,{positionAssignments:r}=Zs({drawDefinition:t,structure:e}),a=r.filter((({drawPosition:t})=>i.includes(t))).map((t=>{var e;const{extension:n}=io({element:t,name:"tally"});return null==n||null===(e=n.value)||void 0===e?void 0:e.groupOrder})),{links:{source:o}}=pc({drawDefinition:t,structureId:e.structureId});return{structureIds:null==o?void 0:o.filter((t=>{var e;return je(a,(null===(e=t.source)||void 0===e?void 0:e.finishingPositions)||[])})).map((t=>t.source.structureId))}}({drawDefinition:t,structure:e,matchUp:n});return null!=i&&i.length&&Mn()&&console.log("affects:",{structureIds:i}),i}}}function cu({drawDefinition:t,drawPosition:e,structure:n}){var i,r,a;const o=null==n||null===(i=n.matchUps)||void 0===i?void 0:i.find((t=>{var n;return null===(n=t.drawPositions)||void 0===n?void 0:n.includes(e)})),s=null==o?void 0:o.roundNumber,c=null==n||null===(r=n.matchUps)||void 0===r?void 0:r.filter((t=>t.roundNumber===s)).map((({drawPositions:t})=>t)).flat(),u=null==n||null===(a=n.positionAssignments)||void 0===a?void 0:a.filter((({drawPosition:t,participantId:e})=>c.includes(t)&&e)).map((({participantId:t})=>t));return t.entries.filter((({entryStatus:t})=>[gs,ws,vs].includes(t))).map((({participantId:t})=>t)).filter((t=>!u.includes(t)))}function uu({drawPositions:t,structure:e}){if([Hi,Vi].includes(e.stage)&&1===e.stageSequence)return;const{positionAssignments:n}=Zs({structure:e});n.filter((({drawPosition:e})=>t.includes(e))).forEach((t=>{rs({element:t,extension:{name:ja,value:!0}})}))}function du({drawDefinition:t,positionAction:e}){const{extension:n}=io({element:t,name:"positionActions"});rs({element:t,extension:{name:"positionActions",value:Array.isArray(null==n?void 0:n.value)?n.value.concat(e):[e]}})}function lu({participantsCount:t,cluster:e}){const n=bn(t),i=Ze(1,n+1);let r=[],a=n/2;for(;a>1;){const t=Ge(i,a),n=t.length;t.forEach(((t,i)=>{let a;const o=i<n/2,s=i%2==0,c=t[0],u=t[t.length-1];a=e&&n>4?8===n?o?u:c:s?c:u:o?c:u,je(t,r)||r.push(a)})),a/=2}const o=i.filter((t=>!r.includes(t)));for(;o.length;)o.length%2==0?r.push(o.pop()):r.push(o.shift());const s=Ze(0,20).map((t=>Math.pow(2,t)));s.unshift(1);const c=s.indexOf(n);let u=0;const d=[];return Ze(0,c).forEach((t=>{d.push(r.slice(u,u+s[t])),u+=s[t]})),{seedBlocks:d}}function pu({structure:t,drawDefinition:e,appliedPolicies:n,allPositions:i}){var r;let a,o,s,c,u=0,d=[];if(!t)return{error:L};const{roundMatchUps:l}=Ws({structure:t,roundFilter:1}),{seedAssignments:p}=Ls({drawDefinition:e,structure:t}),{positionAssignments:f}=_s({structure:t}),m=f.length,h=(null==p?void 0:p.length)||0;let v=[];const g=Object.keys(l).sort(((t,e)=>t-e)).map((t=>{const e=l[t].map((t=>t.drawPositions)).flat(1/0).filter(Boolean),n=e.filter((t=>!v.includes(t)));return v=v.concat(...e),n})).filter((t=>t.length)).reverse(),y=g.pop(),I=y&&Math.min(...y)-1||0,w=null==n||null===(r=n.seeding)||void 0===r?void 0:r.seedingProfile,b=(null==y?void 0:y.length)||0,N=g.filter((t=>t.filter((t=>t<=h)).length)),S=i?m:h;if(t.structureType===Qi){if(c=!0,({validSeedBlocks:d,error:o}=function({seedingProfile:t,structure:e,seedBlocks:n}){const i=e.structures||[],r=[];for(const l of i){const{positionAssignments:e}=_s({structure:l}),i=Math.min(...e.map((t=>t.drawPosition)))-1,a=e.length;let o,s;if(yn(a)?({blocks:o,error:s}=fu({seedBlocks:n,baseDrawSize:a,seedingProfile:t,drawPositionOffset:i,seedCountGoal:a})):({blocks:o,error:s}=mu({baseDrawSize:a,drawPositionOffset:i,seedCountGoal:a})),s)return{error:s};r.push(o)}const a=r.map((t=>t.map((t=>t.seedNumbers.map(((e,n)=>({seedNumber:e,drawPosition:t.drawPositions[n]}))))))).flat(1/0).sort(((t,e)=>t.seedNumber-e.seedNumber)).reduce(((t,e)=>{const n=e.seedNumber;return t[n]||(t[n]=[]),t[n].push(e.drawPosition),t}),{});let o=1,s=[];a[1]&&a[1].forEach(((t,e)=>{s.push({seedNumbers:[e+1],drawPositions:[t]}),o++}));[[2],[3,4],[5,6,7,8],Ze(9,17)].forEach((t=>{const e=[].concat(...t.map((t=>a[t]||[]))),n=e.map(((t,e)=>o+e)),i={seedNumbers:n,drawPositions:e};s.push(i),o+=n.length}));const c=(t,e)=>t-e,u=(t,e)=>e-t,d=Object.keys(a).map(((t,e)=>a[t].sort(e%2?u:c))).flat().map(((t,e)=>({seedNumbers:[e+1],drawPositions:[t]})));e.seedingProfile===Ji&&(s=d);return{validSeedBlocks:s}}({seedingProfile:w,structure:t})),o)return{error:o}}else if(g.length){s=!0,d=N.map((t=>({seedNumbers:t,drawPositions:t})));const t=N.flat(1/0);a=t.length<S?S-t.length:0,u=t.length}else a=S;if(!c){const{blocks:t,error:e}=fu({baseDrawSize:b,seedingProfile:w,seedCountGoal:a,seedNumberOffset:u,drawPositionOffset:I});if(e)return{error:e,validSeedBlocks:[],isContainer:c,isFeedIn:s};t.forEach((t=>d.push(t)))}const P=[].concat(...d.map((t=>t.drawPositions))).reduce(((t,e)=>(null==y?void 0:y.includes(e))&&t),!0);return s||c||P?{validSeedBlocks:d,isFeedIn:s,isContainer:c}:{error:T,validSeedBlocks:[],isContainer:c,isFeedIn:s}}function fu({baseDrawSize:t,seedCountGoal:e,seedingProfile:n,drawPositionOffset:i=0,seedNumberOffset:r=0}){let a=1;const o=[],{seedBlocks:s}=lu({participantsCount:t,cluster:n===Yi});a=0;for(const u of s){if(a+1>e)break;const t=u.map((t=>t+i)),n=c(a+1,u.length).map((t=>+t+r));a+=u.length,o.push({drawPositions:t,seedNumbers:n})}return{blocks:o};function c(t,e){return Array.from(new Array(e),((e,n)=>n+t))}}function mu({baseDrawSize:t,seedCountGoal:e,drawPositionOffset:n=0}){let i=1;const r=[],a=Ze(n+1,n+t+1);return[[1],[2],[3,4],[5,6,7,8],Ze(9,17),Ze(17,33),Ze(33,65)].forEach((t=>{const n=t.map((()=>a.reverse().pop())).filter(Boolean),o={seedNumbers:t=t.slice(0,n.length),drawPositions:n};i<=e&&r.push(o),i+=n.length})),{blocks:r}}function hu({seedNumber:t,drawDefinition:e,structureId:n,drawPosition:i}){var r,a,o,s;const{structure:c}=es({drawDefinition:e,structureId:n}),{appliedPolicies:u}=Wo({drawDefinition:e}),{validSeedBlocks:d}=pu({structure:c,drawDefinition:e,appliedPolicies:u});if(null!=u&&null!==(r=u.seeding)&&void 0!==r&&null!==(a=r.validSeedPositions)&&void 0!==a&&a.ignore)return!0;if(null!=u&&null!==(o=u.seeding)&&void 0!==o&&null!==(s=o.validSeedPositions)&&void 0!==s&&s.strict){const e=d.find((e=>e.seedNumbers.includes(t)));return((null==e?void 0:e.drawPositions)||[]).includes(i)}return[].concat(...d.map((t=>t.drawPositions))).includes(i)}function vu({drawDefinition:t,structureId:e,randomize:n}){var i;const{structure:r}=es({drawDefinition:t,structureId:e}),{seedAssignments:a}=Ls({drawDefinition:t,structure:r}),{positionAssignments:o}=_s({structure:r}),s=o.filter((t=>t.participantId||t.bye||t.qualifier)).map((t=>t.drawPosition)).filter(Boolean),{appliedPolicies:c}=Wo({drawDefinition:t}),{validSeedBlocks:u}=pu({structure:r,drawDefinition:t,appliedPolicies:c}),d=(u||[]).filter((t=>t.drawPositions.filter((t=>!s.includes(t))).length))[0],l=a.map((t=>t.participantId)).filter(Boolean),p=o.map((t=>t.participantId)).filter(Boolean),f=l.filter((t=>p.includes(t))),m=l.filter((t=>!p.includes(t))),h=a.filter((t=>m.includes(t.participantId))),v=a.filter((t=>!t.participantId)),g=(h.length||v.length)&&(null==d?void 0:d.drawPositions.filter((t=>!s.includes(t))))||[],y=n?xe(g):g,I=[],w=y.map((()=>{const t=function(t,e){const n=t.filter((t=>!e.includes(t.participantId))),i=Math.min(...n.map((t=>t.seedValue))),r=n.filter((t=>t.seedValue===i));return xe(r).pop()}(h,I),e=t&&t.participantId;return e&&I.push(e),e})).filter(Boolean),b=a.filter((t=>f.includes(t.participantId))).map((t=>t.seedNumber)),N=(d&&d.seedNumbers||[]).filter((t=>!b.includes(t))),S=a.filter((t=>N.includes(t.seedNumber))).map((t=>t.participantId)),P=null==c||null===(i=c.seeding)||void 0===i?void 0:i.duplicateSeedNumbers;return{nextSeedBlock:d,unplacedSeedParticipantIds:void 0===P||P?w:S,unplacedSeedNumbers:N,unfilledPositions:y,unplacedSeedAssignments:h}}function gu({drawDefinition:t,structureId:e,drawPosition:n,participantId:i,automaticPlacement:r,matchUpsMap:a,inContextDrawMatchUps:o}){a=a||Xo({drawDefinition:t}),o||({matchUps:o}=Ic({drawDefinition:t,inContext:!0,includeByeMatchUps:!0,matchUpsMap:a}));const{structure:s,error:c}=es({drawDefinition:t,structureId:e});if(c)return{error:c};const{positionAssignments:u}=_s({structure:s}),{seedAssignments:d}=Ls({drawDefinition:t,structure:s}),l=d.find((t=>t.participantId===i)),p=null==l?void 0:l.seedNumber;if(p){if(!hu({structureId:e,drawPosition:n,drawDefinition:t,seedNumber:p}))return{error:m}}const f=u.find((t=>t.drawPosition===n));if(!f)return{error:w};if(!i)return{error:Lt};if(!(null!=s&&s.structures||null!=s&&s.matchUps.find((({roundPosition:t})=>!!t)))?!cu({drawDefinition:t,drawPosition:n,structure:s}).includes(i):u.map((({participantId:t})=>t)).includes(i))return{error:Wt};const{containsParticipant:h,containsBye:v}=function(t){const e=t.bye,n=t.qualifier,i=t.participantId;return{containsBye:e,containsQualifier:n,containsParticipant:i,filled:e||n||i}}(f);if(h&&f.participantId!==i){const{activeDrawPositions:i}=kc({drawDefinition:t,structureId:e});if(i.includes(n))return{error:I}}if(v){let i=Bc({drawDefinition:t,drawPosition:n,structureId:e,matchUpsMap:a,inContextDrawMatchUps:o});if(i.error)return i}if(f.participantId=i,s.structureType!==Qi?function({drawDefinition:t,structure:e,drawPosition:n,automaticPlacement:i,matchUpsMap:r,inContextDrawMatchUps:a}){const o={isCollectionMatchUp:!1},{matchUps:s}=Ws({drawDefinition:t,matchUpFilters:o,structure:e,matchUpsMap:r,inContextDrawMatchUps:a}),{roundMatchUps:c}=zo({matchUps:s}),{initialRoundNumber:u}=Cc({drawPosition:n,matchUps:s}),d=c[u].find((t=>t.drawPositions.includes(n)));if(d){const e=eu({drawDefinition:t,drawPosition:n,automaticPlacement:i,matchUpId:d.matchUpId,matchUpsMap:r,inContextDrawMatchUps:a});if(e.error);}}({drawDefinition:t,structure:s,drawPosition:n,positionAssignments:u,automaticPlacement:r,matchUpsMap:a,inContextDrawMatchUps:o}):Fc({positionAssignments:u,drawDefinition:t,structure:s,matchUpsMap:a,inContextDrawMatchUps:o}),!r){uu({structure:s,drawPositions:[n]});du({drawDefinition:t,positionAction:{name:"positionAssignment",drawPosition:n,structureId:e,participantId:i}})}return La({drawDefinition:t}),Object.assign({positionAssignments:u},En)}function yu(t){const{loserMatchUp:e,drawDefinition:n,loserTargetLink:i,loserDrawPosition:r,loserMatchUpDrawPositionIndex:a,matchUpsMap:o,inContextDrawMatchUps:s}=t,c=i.linkCondition,u=e.drawPositions||[],d=c===sr&&2===e.roundNumber&&Math.min(...u.filter(Boolean)),l=d||u[a],p=d||u[1-a],f=i.source.structureId,{structure:m}=es({drawDefinition:n,structureId:f}),{matchUps:h}=Ws({inContext:!0,drawDefinition:n,structure:m}),v=h.filter((t=>t.drawPositions.includes(r))).filter((t=>{var e;const n=t.sides.find((t=>t.drawPosition===r)),i=t.matchUpStatus===on||t.matchUpStatus===Je&&!(null===(e=t.score)||void 0===e||!e.scoreStringSide1);return(null==n?void 0:n.sideNumber)===t.winningSide&&!i})),g=c===sr&&0===v.length,{positionAssignments:y}=_s({drawDefinition:n,structureId:f}),I=y.find((t=>t.drawPosition===r)),b=null==I?void 0:I.participantId,N=i.target.structureId,{positionAssignments:S}=_s({drawDefinition:n,structureId:N}),P=S.filter((({drawPosition:t})=>u.includes(t)));if(P.some((t=>t.participantId===b)))return En;const E=P.filter((t=>{const e=u.includes(t.drawPosition),n=!t.participantId&&!t.bye&&!t.qualifier;return e&&n})).map((t=>t.drawPosition)),U=E.includes(l),A=i.target.roundNumber>1&&E.length,D=1===i.target.roundNumber&&U;if(d)return g?M():Yc({drawDefinition:n,structureId:N,drawPosition:p});if(D)return M();if(A){const t=E.sort(gi)[0];return gu({drawDefinition:n,structureId:N,participantId:b,drawPosition:t,automaticPlacement:!0,matchUpsMap:o,inContextDrawMatchUps:s})}return{error:w};function M(){return gu({drawDefinition:n,participantId:b,structureId:N,drawPosition:l,automaticPlacement:!0,matchUpsMap:o,inContextDrawMatchUps:s})}}function Iu(t){const{tournamentRecord:e,event:n,drawDefinition:i,matchUpStatus:r,matchUpStatusCodes:a,structure:o,matchUp:s,matchUpId:c,matchUpFormat:u,winningSide:d,targetData:p,score:f,matchUpsMap:m,inContextDrawMatchUps:h}=t,v=Boolean(s.collectionId);if(!(v||function({structure:t,matchUp:e}){const{drawPositions:n}=e,{positionAssignments:i}=_s({structure:t});return 2===i.filter((t=>n.includes(t.drawPosition)&&t.participantId)).length}({structure:o,matchUp:s})))return{error:G};const g=xc({matchUpStatus:r}),I=[on].includes(r),w=Wc({drawDefinition:i,matchUpFormat:u,matchUpStatus:g&&r||$e,matchUpStatusCodes:g&&a||[],tournamentRecord:e,winningSide:d,removeScore:I,matchUpId:c,matchUp:s,score:f,event:n});if(w.error)return w;if(v){const{matchUpTieId:e}=t;return function({drawDefinition:t,matchUpId:e}){if(!t)return{error:l};if(!e)return{error:at};const{matchUp:n,error:i}=zs({drawDefinition:t,matchUpId:e});if(i)return{error:i};if(!n)return{error:it};const{winningSide:r,set:a,scoreStringSide1:o,scoreStringSide2:s}=Tc({matchUp:n});Wc({drawDefinition:t,matchUp:n,score:{sets:[a],winningSide:r,scoreStringSide1:o,scoreStringSide2:s}})}({drawDefinition:i,matchUpId:e}),En}if(!s.drawPositions)return{error:y};{const t=d-1,e=1-t,n=s.drawPositions[t],a=s.drawPositions[e],{targetLinks:{loserTargetLink:o,winnerTargetLink:c},targetMatchUps:{loserMatchUp:u,winnerMatchUp:l,loserMatchUpDrawPositionIndex:f,winnerMatchUpDrawPositionIndex:v}}=p;if(l){const t=function({drawDefinition:t,winnerTargetLink:e,winningDrawPosition:n,winnerMatchUp:i,winnerMatchUpDrawPositionIndex:r,matchUpsMap:a,inContextDrawMatchUps:o}){let s;if(e){const c=i.drawPositions||[],u=c[r],d=e.source.structureId,{positionAssignments:l}=_s({drawDefinition:t,structureId:d}),p=l.find((t=>t.drawPosition===n)),f=null==p?void 0:p.participantId,m=e.target.structureId,{positionAssignments:h}=_s({drawDefinition:t,structureId:m}),v=h.find((t=>t.participantId===f)),g=null==v?void 0:v.drawPosition,y=h.filter((t=>{const e=c.includes(t.drawPosition),n=!t.participantId&&!t.bye&&!t.qualifier;return e&&n})).map((t=>t.drawPosition)),I=y.includes(u);if(1===e.target.roundNumber&&I)gu({drawDefinition:t,structureId:m,participantId:f,drawPosition:u,matchUpsMap:a,inContextDrawMatchUps:o});else if(y.length){const e=y.pop();gu({drawDefinition:t,structureId:m,participantId:f,drawPosition:e,matchUpsMap:a,inContextDrawMatchUps:o})}else g?({error:s}=eu({drawDefinition:t,matchUpId:i.matchUpId,drawPosition:g,matchUpsMap:a,inContextDrawMatchUps:o})):(s="winner target position unavaiallble",console.log(s))}else({error:s}=eu({drawDefinition:t,matchUpId:i.matchUpId,drawPosition:n,matchUpsMap:a,inContextDrawMatchUps:o}));return{error:s}}({drawDefinition:i,winnerTargetLink:c,winningDrawPosition:n,winnerMatchUp:l,winnerMatchUpDrawPositionIndex:v,matchUpsMap:m,inContextDrawMatchUps:h});if(t.error)return t}if(u){const t=yu({drawDefinition:i,loserTargetLink:o,loserDrawPosition:a,loserMatchUp:u,loserMatchUpDrawPositionIndex:f,matchUpStatus:r,matchUpsMap:m,inContextDrawMatchUps:h});if(t.error)return t}}return En}function wu(t){const{drawDefinition:e,targetData:n,structure:i,matchUp:r,matchUpsMap:a,inContextDrawMatchUps:o}=t,{targetLinks:{loserTargetLink:s},targetMatchUps:{loserMatchUp:c,winnerMatchUp:u,loserTargetDrawPosition:d}}=n;if(c){const t=qc({targetLink:s,drawPosition:d,drawDefinition:e,inContextDrawMatchUps:o,matchUpsMap:a});if(t.error)return t}if(u){const n=null==a?void 0:a.drawMatchUps.find((t=>t.matchUpId===u.matchUpId)),{pairedPreviousMatchUp:s}=function({matchUp:t,structureId:e,matchUpsMap:n}){const i=null==t?void 0:t.roundPosition,r=i+(i%2?1:-1);return{pairedPreviousMatchUp:Qo({matchUpsMap:n,structureId:e}).find((({roundNumber:e,roundPosition:n})=>e===t.roundNumber&&n===r))}}({matchUp:r,structureId:i.structureId,matchUpsMap:a}),c=(null==s?void 0:s.matchUpStatus)===Xe,d=(null==s?void 0:s.drawPositions.filter(Boolean))||[],l=[...ln,Ke].includes(null==s?void 0:s.matchUpStatus)||(null==s?void 0:s.winningSide),p=fc({matchUpId:u.matchUpId,drawDefinition:e,inContextDrawMatchUps:o}),{targetMatchUps:{winnerMatchUp:f}}=p;if(l){const t=r.drawPositions||[];let n=u.drawPositions.filter(Boolean);je(t,n)&&(n=n.filter((e=>!t.includes(e))));const i=t.concat(d).find((t=>n.includes(t)));if(f&&i){const t=Kc({winnerMatchUp:f,drawDefinition:e,winningDrawPosition:i,matchUpsMap:a,inContextDrawMatchUps:o});if(t.error)return t}}wu({drawDefinition:e,targetData:p,structure:i,matchUp:u,matchUpsMap:a,inContextDrawMatchUps:o});let m=[on,Xe].includes(null==n?void 0:n.matchUpStatus)&&c?on:an;const h=!c;let v=Wc({...t,matchUpStatus:m,removeScore:h,score:{scoreStringSide1:"",scoreStringSide2:"",sets:void 0},removeWinningSide:!0,matchUp:n,matchUpId:u.matchUpId});if(v.error)return v}return{...En}}function bu({score:t}){if(!t)return!1;const{sets:e,scoreStringSide1:n,scoreStringSide2:i}=t||{};if(n||i)return!0;if(null!=e&&e.length){Object.values(e[0]);const{side1TiebreakScore:t,side2TiebreakScore:n,side1Score:i,side2Score:r}=e[0];if(t||n||i||r)return!0}return!1}function Nu(t){const{matchUp:e,matchUpStatus:n,score:i,winningSide:r}=t;if((null==e?void 0:e.matchUpStatus)===Xe&&n!==Xe){const e=wu(t);if(e.error)return e}const a=n===Xe,o=!r&&bu({score:i})&&!a,s=![tn,We].includes(n||tn),c=e.winningSide&&!r&&!bu({score:i}),u=n&&n!==an,d=({removeScore:n}={})=>{const{structure:i,drawDefinition:r}=t;return su({drawDefinition:r,structure:i,matchUp:e}),Object.assign(t,{removeScore:n}),zc(t)};return r&&function(t){const{drawDefinition:e,winningSide:n,structure:i,matchUp:r}=t;if(r.winningSide&&r.winningSide!==n){su({drawDefinition:e,structure:i,matchUp:r});const n=zc(t);if(n.error)return n}const a=Iu(t);return a.error?a:{...En}}(t)||o&&d({removeScore:s})||u&&ru(t)||c&&d()||e&&Wc({...t,removeScore:!0})||console.log("unknown condition")&&{...En}}function Su(t){const{inContextDrawMatchUps:e,targetData:n,drawDefinition:i}=t,{targetMatchUps:{loserMatchUp:r,winnerMatchUp:a}}=n,o=(null==a?void 0:a.drawPositions.filter(Boolean).length)||0;if(null!=r&&r.winningSide||2===o&&null!=a&&a.winningSide)return!0;let s=r&&fc({matchUpId:r.matchUpId,drawDefinition:i,inContextDrawMatchUps:e}),c=a&&fc({matchUpId:a.matchUpId,drawDefinition:i,inContextDrawMatchUps:e});const u=s&&Su({inContextDrawMatchUps:e,drawDefinition:i,targetData:s});return!(!(c&&Su({inContextDrawMatchUps:e,drawDefinition:i,targetData:c}))&&!u)}function Pu(t){var e;const{drawDefinition:n,matchUpId:i,matchUpStatus:r,tournamentRecord:a,winningSide:o,allowChangePropagation:s}=t;if(!n)return{error:l};if([qe,tn,We,an].includes(r)&&o)return{error:Ne,winningSide:o,matchUpStatus:r};if(![void 0,...cn].includes(r))return{error:Y};const c=Xo({drawDefinition:n}),{matchUps:u}=Ic({drawDefinition:n,inContext:!0,includeByeMatchUps:!0,matchUpsMap:c}),d=c.drawMatchUps.find((t=>t.matchUpId===i)),p=u.find((t=>t.matchUpId===i));if(!d||!u)return{error:it};if((d.winningSide||o)&&r===Ke)return{error:$};const f=null===(e=p.drawPositions)||void 0===e?void 0:e.filter(Boolean);if(r&&sn.includes(r)&&(!f||(null==f?void 0:f.length)<2))return{error:Y};if(d.matchUpType===Qr)return{error:"DIRECT SCORING of TEAM matchUp not implemented"};const m=p.matchUpTieId,h=fc({matchUpId:m||i,drawDefinition:n,inContextDrawMatchUps:u});let v;if(m){const{matchUp:t}=zs({drawDefinition:n,matchUpId:m,matchUpsMap:c}),e=t.tieFormat||n.tieFormat,{projectedWinningSide:i}=function({matchUp:t,winningSide:e,dualMatchUp:n,tieFormat:i}){const r=t.winningSide;let a=[0,0];1===e&&2===r?a=[-1,1]:2===e&&1===r?a=[1,-1]:e&&!r&&(a=1===e?[1,0]:[0,1]);const{winningSide:o}=Tc({matchUp:n,tieFormat:i,sideAdjustments:a});return{projectedWinningSide:o}}({matchUp:d,winningSide:o,dualMatchUp:t,tieFormat:e});v=i!==t.winningSide,v&&Mn({tieMatchUps:!0})&&console.log("dualMatchUp",{projectedWinningSide:i})}const{schedule:g}=t;if(g){const t=nc({tournamentRecord:a,disableNotice:!0,drawDefinition:n,matchUpId:i,schedule:g});if(t.error)return t}const y=p.structureId,{structure:I}=es({drawDefinition:n,structureId:y});Object.assign(t,{matchUp:d,inContextMatchUp:p,matchUpTieId:m,structure:I,targetData:h,matchUpsMap:c,inContextDrawMatchUps:u});const w=Su(t);if(w&&!o&&Oc({matchUpStatus:r}))return{error:$};const b=xc({matchUpStatus:r});if(o&&o===d.winningSide&&r&&!b)return{error:$};const N=d.matchUpType!==Qr&&!v&&o&&d.winningSide&&d.winningSide!==o;if(s&&N&&d.roundPosition)return function(t){var e;const{inContextMatchUp:n,structure:i,drawDefinition:r}=t,a=n.roundNumber,o=n.sides.find((t=>t.sideNumber===n.winningSide)),s=n.sides.find((t=>t.sideNumber!==n.winningSide)),{drawPosition:c,participantId:u}=o,{drawPosition:d,participantId:l}=s,{matchUps:p}=Ws(t),f=p.filter((({drawPositions:t,roundNumber:e})=>t.includes(c)&&e>a));Mn({changeWinner:!0})&&console.log({existingWinnerSubsequentMatchUps:f}),f.forEach((t=>{t.drawPositions=t.drawPositions.map((t=>t===c?d:t)),xa({drawDefinition:r,matchUp:t})}));const{stage:m,stageSequence:h}=i,v=r.structures.filter((({stage:t,stageSequence:e})=>t===m&&e>h)).map((({structureId:t})=>t)),{targetLinks:{loserTargetLink:g,winnerTargetLink:y}}=t.targetData,I=[null==g?void 0:g.target.structureId,null==y||null===(e=y.target)||void 0===e?void 0:e.structureId].filter(Boolean);return r.structures.filter((({stage:t,structureId:e})=>t!==m&&I.includes(e))).forEach((({stage:t,stageSequence:e,structureId:n})=>{v.includes(n)||v.push(n),r.structures.filter((({stage:n,stageSequence:i})=>n===t&&i>e)).forEach((({structureId:t})=>{v.includes(t)||v.push(t)}))})),r.structures.filter((({structureId:t})=>v.includes(t))).forEach((t=>{const{positionAssignments:e}=Zs({structure:t}),n=e.find((({participantId:t})=>t===u)),i=e.find((({participantId:t})=>t===l));n&&(n.participantId=l),i&&(i.participantId=u)})),Wc(t)}(t);return!w&&Nu(t)||o&&function(t){const{matchUp:e,winningSide:n}=t;return n===e.winningSide?Eu(t):{error:Dt}}(t)||b&&Eu(t)||{error:Se}}function Eu(t){return Wc({...t,matchUpStatus:t.matchUpStatus||$e})}function Uu(t){const{drawDefinition:e,structureId:n,matchUpId:r,matchUpType:a,matchUpFormat:o,tieFormat:s}=t;if(!e)return{error:l};if(!o&&!s)return{error:X};if(o&&!i.matchUpFormatCode.isValidMatchUpFormat(o))return{error:q};if(r){const{matchUp:t,error:n}=zs({drawDefinition:e,matchUpId:r});if(n)return{error:n};a&&(t.matchUpType=a),!o||t.matchUpType===qo||a&&a===qo?s&&(t.tieFormat=s):t.matchUpFormat=o,xa({drawDefinition:e,matchUp:t})}else if(n){const{structure:t,error:i}=es({drawDefinition:e,structureId:n});if(i)return{error:i};if(!t)return{error:x};a&&(t.matchUpType=a),!o||t.matchUpType===qo||a&&a===qo?s&&(t.tieFormat=s):t.matchUpFormat=o}else e&&(a&&(e.matchUpType=a),!o||a&&a===qo?s&&(e.tieFormat=s):e.matchUpFormat=o);return La({drawDefinition:e}),{...En}}function Au({score:t,winningSide:e,matchUpStatus:n}={}){if(!t)return{sets:[]};const i=t.sets||[];let r=Zi({winnerFirst:!1,matchUpStatus:n,sets:i}),a=Zi({winnerFirst:!1,matchUpStatus:n,reversed:!0,sets:i}),o=Zi({winningSide:e,matchUpStatus:n,sets:i}),s=r===o?a:r;return e&&(r=1===e?o:s,a=2===e?o:s),{score:{sets:i,scoreStringSide1:r,scoreStringSide2:a}}}function Du(t){var e;const{drawDefinition:n,matchUpId:i,matchUpFormat:r,schedule:a,tournamentRecord:o,event:s,notes:c}=t;if(!n)return{error:P};if(!i)return{error:et};const{policy:u}=no({policyType:xi,tournamentRecord:o,event:s}),d=void 0!==t.allowChangePropagation?t.allowChangePropagation:void 0!==(null==u?void 0:u.allowChangePropagation)?u.allowChangePropagation:void 0;let{outcome:l}=t;if(r){const t=Uu({drawDefinition:n,matchUpFormat:r,matchUpId:i});if(t.error)return t}if(null!=l&&null!==(e=l.score)&&void 0!==e&&e.sets&&!l.score.scoreStringSide1){const{score:t}=Au(l);l.score=t,l.score.sets=l.score.sets.filter((t=>t.side1Score||t.side2Score||t.side1TiebreakScore||t.side2TiebreakScore))}const{error:p,matchUp:f}=Pu({tournamentRecord:o,drawDefinition:n,event:s,matchUpId:i,matchUpStatusCodes:null==l?void 0:l.matchUpStatusCodes,matchUpStatus:null==l?void 0:l.matchUpStatus,matchUpFormat:r,allowChangePropagation:d,winningSide:null==l?void 0:l.winningSide,score:null==l?void 0:l.score,schedule:a,notes:c});return p?{error:p}:f&&Mn()?{...En,matchUp:vi(f)}:En}function Mu(t){if(!t.tournamentRecord)return{error:s};const{tournamentRecord:e,outcomes:n}=t,i={};n.forEach((t=>{const{eventId:e}=t;i[e]||(i[e]=[]),i[e].push(t)}));for(const r of Object.keys(i)){const{event:t}=fo({tournamentRecord:e,eventId:r});for(const n of i[r]){const{drawId:i}=n,r=t.drawDefinitions.find((t=>t.drawId===i));if(r){const{matchUpFormat:a,matchUpId:o}=n,s=Du({tournamentRecord:e,drawDefinition:r,event:t,drawId:i,matchUpFormat:a,matchUpId:o,schedule:null==n?void 0:n.schedule,outcome:n});if(s.error)return s}}}return En}function Tu({matchUps:t=[],schedulingProfile:e}){const n={},i=({eventId:t,drawId:e,structureId:n,roundNumber:i})=>`${t}|${e}|${n}${i}`;if(null!=e&&e.length){e.map((({venues:t})=>t.map((({rounds:t})=>t)))).flat().forEach((t=>{t.sort(((t,e)=>(t.sortOrder||0)-(e.sortOrder||0))).forEach((({eventId:t,drawId:e,structureId:r,roundNumber:a},o)=>{const s=i({eventId:t,drawId:e,structureId:r,roundNumber:a});n[s]=o}))}))}const r=[],a={noScheduledDate:[]};for(const s of t){const t=s.schedule||{},e=t.scheduledDate&&oi(t.scheduledDate)||t.scheduledTime&&oi(t.scheduledTime)||"noScheduledDate";a[e]||(a[e]=[]),a[e].push(s)}const o=Object.keys(a).sort();for(const s of o){const t=a[s],e={noScheduledTime:[]};for(const n of t){const t=n.schedule||{},i=t.scheduledTime&&ai(t.scheduledTime)||"noScheduledTime";e[i]||(e[i]=[]),e[i].push(n)}const o=Object.keys(e).sort();for(const a of o){const t=e[a];t.sort(((t,e)=>(n[i(t)]||0)-(n[i(e)]||0))),r.push(...t)}}return r}function Cu({tournamentRecords:t,schedulingProfile:e}){if(!e)return{valid:!0};if(!Array.isArray(e))return{valid:!1,error:Ne};const{venueIds:n,tournamentsMap:i}=function({tournamentRecords:t={}}={}){const e=t&&Object.values(t)||[],n={},{venueIds:i,eventIds:r,drawIds:a,structureIds:o,tournamentIds:s}=e.reduce(((t,e)=>{const{venueIds:i,eventIds:r,drawIds:a,structureIds:o,tournamentIds:s,tournamentMap:c}=Ru({tournamentRecord:e});return i.forEach((e=>{t.venueIds.includes(e)||t.venueIds.push(e)})),t.tournamentIds.push(...s),t.structureIds.push(...o),t.eventIds.push(...r),t.drawIds.push(...a),Object.assign(n,c),t}),{venueIds:[],eventIds:[],drawIds:[],structureIds:[],tournamentIds:[]});return{venueIds:i,eventIds:r,drawIds:a,structureIds:o,tournamentIds:s,tournamentsMap:n}}({tournamentRecords:t});let r;const a=e.every((t=>{const{scheduleDate:e,venues:a}=t;if(!qn(e))return!1;return a.every((t=>{const{venueId:e,rounds:a}=t;if("string"!=typeof e)return!1;if(!Array.isArray(a))return!1;if(!n.includes(e))return r=oe,!1;return!!a.every((t=>{if(!t)return!1;const{tournamentId:e,eventId:n,drawId:r,structureId:a,roundNumber:o,roundSegment:s}=t,c=i[e]&&i[e][n]&&i[e][n][r]&&i[e][n][r][a],u=null==c?void 0:c.includes(o),{segmentNumber:d,segmentsCount:l}=s||{},p=!s||Sn(d)&&yn(l)&&d<=l;return u&&p}))}))}));return a||r||(r=Ne),{valid:!!a,error:r}}function Ru({tournamentRecord:t={},tournamentMap:e={},requireCourts:n}={}){const i=[],r=[],a=[],o=[],s=((null==t?void 0:t.venues)||[]).map((({venueId:t,courts:e})=>(!n||(null==e?void 0:e.length))&&t)),c=null==t?void 0:t.tournamentId;if(c){o.push(c),e[c]={};((null==t?void 0:t.events)||[]).forEach((t=>{const n=t.eventId;r.push(n),e[c][n]={},(t.drawDefinitions||[]).forEach((t=>{const r=t.drawId;i.push(r),e[c][n][r]={};const{structures:o}=ns({drawDefinition:t});(o||[]).forEach((t=>{const i=t.structureId;a.push(i);const{matchUps:o}=Ws({structure:t}),{roundMatchUps:s}=zo({matchUps:o}),u=s&&Object.keys(s).map((t=>parseInt(t)));e[c][n][r][i]=u}))}))}))}return{tournamentIds:o,venueIds:s,eventIds:r,drawIds:i,structureIds:a,tournamentMap:e}}function xu({tournamentRecord:t}){if(!t)return{error:s};const e=(({tournamentId:t,tournamentRank:e,formalName:n,tournamentName:i,promotionalName:r,onlineResources:a,localTimeZone:o,startDate:s,endDate:c,hostCountryCode:u,tournamentContacts:d,tournamentAddresses:l})=>({tournamentId:t,tournamentRank:e,formalName:n,tournamentName:i,promotionalName:r,onlineResources:a,localTimeZone:o,startDate:s,endDate:c,hostCountryCode:u,tournamentContacts:d,tournamentAddresses:l}))(t);return{...En,tournamentInfo:vi(e)}}function Ou({schedulingProfile:t,venueIds:e,eventIds:n,drawIds:i}){const r=[];return{updatedSchedulingProfile:null==t?void 0:t.map((t=>{const a=oi(null==t?void 0:t.scheduleDate);if(!a)return void r.push(`Invalid date: ${null==t?void 0:t.scheduledDate}`);const o=((null==t?void 0:t.venues)||[]).map((t=>{const{rounds:a,venueId:o}=t;if(!e.includes(o))return void r.push(`Missing venueId: ${o}`);const s=a.filter((t=>{const e=n.includes(t.eventId)&&i.includes(t.drawId);return e||r.push(`Invalid eventId: ${t.eventId} or drawId: ${t.drawId}`),e}));return s.length?{venueId:o,rounds:s}:void 0})).filter(Boolean);return o.length&&a&&{...t,venues:o}})).filter(Boolean),modifications:r.length,issues:r}}function Lu({tournamentRecord:t}){if(!t)return{error:s};const e=t.tournamentId,{extension:n}=ro({tournamentRecord:t,name:Ya});let i=(null==n?void 0:n.value)||[];if(i.length){const n=t.venues.map((({venueId:t,courts:e})=>(null==e?void 0:e.length)&&t)),{eventIds:r,drawIds:a}=Mc({tournamentRecords:{[e]:t}}),{updatedSchedulingProfile:o,modifications:s,issues:c}=Ou({schedulingProfile:i,venueIds:n,eventIds:r,drawIds:a});if(s){i=o;const e=function({tournamentRecord:t,schedulingProfile:e}){return os({tournamentRecord:t,extension:{name:Ya,value:e}})}({tournamentRecord:t,schedulingProfile:i});return e.error?e:{schedulingProfile:i,modifications:s,issues:c}}}return{schedulingProfile:i,modifications:0}}function ku({tournamentRecord:t,schedulingProfile:e,requireCourts:n=!0}){if(!e){const{modifications:e,issues:n}=Lu({tournamentRecord:t});return{success:!e,modifications:e,issues:n}}const{venueIds:i,eventIds:r,drawIds:a}=Ru({tournamentRecord:t,requireCourts:n}),{modifications:o,issues:s}=Ou({schedulingProfile:e,venueIds:i,eventIds:r,drawIds:a});return{success:!o,modifications:o,issues:s}}function Fu({tournamentRecord:t,courtId:e,scheduleVisibilityFilters:n,matchUpFilters:i}){if(!t)return{error:s};if(!e)return{error:gt};const{schedulingProfile:r}=Lu({tournamentRecord:t}),{matchUps:a}=bc({tournamentRecord:t,scheduleVisibilityFilters:n,matchUpFilters:i});return{matchUps:function({matchUps:t,courtId:e}){return Tu({matchUps:t.filter((t=>{var n;return(null===(n=t.schedule)||void 0===n?void 0:n.courtId)===e})),schedulingProfile:r})}({matchUps:a,courtId:e})}}function Zu({matchUpsCount:t=0}){const e=`Schedule would be deleted from ${t} ${1===t?"matchUp":"matchUps"}; use { force: true }`;return{message:e,error:e}}function _u({startTime:t,endTime:e}={}){if(!zn.test(t)||!zn.test(e))return!1;const[n,i]=t.split(":"),[r,a]=e.split(":");return!(r<n)&&!(n===r&&a<i)}function Bu({dateAvailability:t}){if(!t)return{error:bt};if(!Array.isArray(t))return{error:wt};const e="Times must be 24 hour => 00:00";for(const n of t){if("object"!=typeof n)return{error:wt};const{date:t,startTime:i,endTime:r,bookings:a=[]}=n;if(!t||!i||!r)return{error:wt};if(!Wn.test(t))return{error:Nt,dateAvailability:{date:t},message:"Dates must be formated => YYYY-MM-DD"};if(!zn.test(i))return{error:St,dateAvailability:{startTime:i},message:e};if(!zn.test(r))return{error:St,dateAvailability:{endTime:r},message:e};if(i===r)return{error:St,dateAvailability:{startTime:i,endTime:r},message:"startTime and endTime are equivalent"};if(!_u({startTime:i,endTime:r}))return{error:St,dateAvailability:{startTime:i,endTime:r},message:"endTime must be after startTime"};if(a){if(!Array.isArray(a))return{error:It};for(const t of a){if("object"!=typeof t)return{error:It};const{startTime:n,endTime:i}=t;if(!zn.test(n))return{error:St,booking:{startTime:n},message:e};if(!zn.test(i))return{error:St,booking:{endTime:i},message:e};if(n===i)return{error:St,dateAvailability:{startTime:n,endTime:i},message:"startTime and endTime are equivalent"};if(!_u({startTime:n,endTime:i}))return{error:St,dateAvailability:{startTime:n,endTime:i},message:"endTime must be after startTime"}}}}return{valid:!0}}function ju({tournamentRecord:t,dateAvailability:e,disableNotice:n,courtId:i,force:r}){if(!t)return{error:s};if(!i)return{error:gt};const a=Bu({dateAvailability:e});if(a.error)return a;const{court:o,venue:c,error:u}=Js({tournamentRecord:t,courtId:i});return u?{error:u}:(o.dateAvailability=e,n||Rn({topic:Da,payload:{venue:c},key:c.venueId}),En)}function Gu({tournamentRecord:t,modifications:e,disableNotice:n,courtId:i,force:r}){if(!t)return{error:s};if(!i)return{error:gt};if(!e||"object"!=typeof e)return{error:be};const{court:a,venue:o,error:c}=Js({tournamentRecord:t,courtId:i});if(c)return{error:c};const u=Object.keys({altitude:void 0,courtId:void 0,courtName:"",courtDimensions:void 0,latitude:void 0,longitude:void 0,surfaceCategory:void 0,surfaceType:void 0,surfaceDate:void 0,dateAvailability:[],onlineResources:[],pace:void 0,notes:void 0}).filter((t=>"courtId"!==t));if(!Object.keys(e).filter((t=>u.includes(t))).length)return{error:Pe};const d=u.filter((t=>!["dateAvailability"].includes(t)));if(Object.keys(e).filter((t=>d.includes(t))).forEach((t=>Object.assign(a,{[t]:e[t]}))),e.dateAvailability){const a=ju({tournamentRecord:t,dateAvailability:e.dateAvailability,disableNotice:n,courtId:i,force:r});if(a.error)return a}return n||Rn({topic:Da,payload:{venue:o},key:o.venueId}),{...En,court:vi(a)}}function Vu({tournamentRecord:t,venueId:e,court:n,disableNotice:i,returnDetails:r}){const{venue:a}=$s({tournamentRecord:t,venueId:e});if(!a)return{error:oe};a.courts||(a.courts=[]);const o={altitude:void 0,courtId:void 0,courtName:"",courtDimensions:void 0,latitude:void 0,longitude:void 0,surfaceCategory:void 0,surfaceType:void 0,surfaceDate:void 0,dateAvailability:[],onlineResources:[],pace:void 0,notes:void 0,venueId:e};o.courtId||(o.courtId=yi());if(a.courts.reduce(((t,e)=>t||e.courtId===o.courtId),void 0))return{error:re};{const t=((null==n?void 0:n.dateAvailability)||[]).map((t=>{var e;return{...t,date:oi(t.date),startTime:ai(t.startTime),endTime:ai(t.endTime),bookings:null===(e=t.bookings)||void 0===e?void 0:e.map((({startTime:t,endTime:e,bookingType:n})=>({startTime:ai(t),endTime:ai(e),bookingType:n})))}}));for(const e of Object.keys(o))if(n[e])if("dateAvailability"===e){const e=Bu({dateAvailability:t}),{valid:n,error:i}=e;if(n)o.dateAvailability=t;else if(i)return{error:i}}else o[e]=n[e];return a.courts.push(o),i||Rn({topic:Da,payload:{venue:a},key:a.venueId}),Mn()||r?{...En,court:vi(o),venueId:e}:{...En}}}function Hu({tournamentRecord:t,venueId:e,courtsCount:n,courtNames:i=[],dateAvailability:r=[]}){if(!e)return{error:se};if(!n||!i)return{error:ne};const a=Ze(0,n=n||i.length).map((t=>({courtName:i[t]||`Court ${t+1}`,dateAvailability:r}))).map((n=>Vu({tournamentRecord:t,venueId:e,court:n,disableNotice:!0,returnDetails:!0}))),o=a.map((t=>t.court)).filter(Boolean);if(o.length===n){const{venue:n}=$s({tournamentRecord:t,venueId:e});return Rn({topic:Da,payload:{venue:n},key:n.venueId}),{...En,courts:vi(o)}}return Object.assign({},{courts:vi(o)},{error:a})}function Wu({tournamentRecord:t,modifications:e,venueId:n,force:i}){var r,a;if(!t)return{error:s};if(!e||"object"!=typeof e)return{error:be};if(!n)return{error:se};const{venue:o,error:c}=$s({tournamentRecord:t,venueId:n});if(c)return{error:c};const u=Object.keys({venueId:void 0,venueName:"",venueAbbreviation:"",onlineResources:[],venueType:void 0,addresses:[],contacts:[],courts:[],roles:[]}).filter((t=>"venueId"!==t));if(!Object.keys(e).filter((t=>u.includes(t))).length)return{error:Pe};const d=u.filter((t=>!["courts"].includes(t)));Object.keys(e).filter((t=>d.includes(t))).forEach((t=>Object.assign(o,{[t]:e[t]})));const l=(null==o||null===(r=o.courts)||void 0===r?void 0:r.map((t=>t.courtId)))||[],p=(null===(a=e.courts)||void 0===a?void 0:a.map((t=>t.courtId)))||[],f=l.filter((t=>!p.includes(t)));if(f.length){const e=o.courts.filter((t=>f.includes(t.courtId))).map((e=>{const{matchUps:n}=Fu({tournamentRecord:t,courtId:e.courtId});return n.length})).reduce(((t,e)=>t+e));if(e&&!i){return{error:Zu({matchUpsCount:e})}}o.courts=o.courts.filter((t=>p.includes(t.courtId)))}if(e.courts)for(const s of e.courts){const{courtId:e}=s||{};let r=Gu({tournamentRecord:t,modifications:s,disableNotice:!0,courtId:e,force:i});if(r.error===ie&&(r=Vu({tournamentRecord:t,venueId:n,court:s,disableNotice:!0})),r.error)return r}return ku({tournamentRecord:t}),Rn({topic:Da,payload:{venue:o},key:o.venueId}),{...En,venue:vi(o)}}function zu({tournamentRecord:t,drawDefinition:e,drawId:n,matchUpId:i}){if(!i)return{error:et};if(!e&&!n)return{error:P};let r;if(!e){if(!t)return{error:s};({drawDefinition:e}=fo({tournamentRecord:t,drawId:n}))}if(e)({matchUp:r}=zs({drawDefinition:e,matchUpId:i}));else{if(!t)return{error:s};const{matchUps:e}=Pc({tournamentRecord:t});({matchUp:r}=Ho({matchUps:e,matchUpId:i}))}if(!r)return{error:it};if(r.timeItems){if(r.timeItems.reduce(((t,e)=>e.itemType===Io||t),void 0)){const t={itemType:Io,itemValue:"",itemDate:""};r.timeItems.push(t),xa({drawDefinition:e,matchUp:r})}}return En}function Ku({tournamentRecord:t,venueId:e,force:n}){if(!t)return{error:s};if("string"!=typeof e)return{error:se};const{courts:i}=Xs({tournamentRecord:t,venueId:e}),r={courtIds:i.map((t=>t.courtId))},{matchUps:a}=bc({tournamentRecord:t,contextFilters:r});if(a.length&&!n)return Zu({matchUpsCount:a.length});for(const s of a){const e=zu({tournamentRecord:t,drawId:s.drawId,matchUpId:s.matchUpId});if(e.error)return e}let o;return t.venues=(t.venues||[]).filter((t=>{if(t.venueId!==e)return!0;o=!0})),o&&Rn({topic:Sa,payload:{venueId:e}}),En}function qu({event:t,eventId:e}){if(!t)return{error:F};const{extension:n}=ao({event:t,name:Va}),i=e?vi(null==n?void 0:n.value,!1,!0):null==n?void 0:n.value;var r;e&&(null===(r=t.drawDefinitions)||void 0===r||r.forEach((t=>{var e;null==i||null===(e=i.flights)||void 0===e||e.forEach((e=>{e.drawId===t.drawId&&Object.assign(e,{drawDefinition:t})}))})));return{flightProfile:i}}function $u({flight:t,existingDrawCount:e,drawDefinition:n,event:i}){var r,a,o,s,c;if(!n)return{error:P};if(!i)return{error:F};i.drawDefinitions||(i.drawDefinitions=[]);const{drawId:u,drawName:l,entries:p}=n,{entries:f}=i;if(void 0!==e&&e!==i.drawDefinitions.length)return{error:Ne,message:"drawDefintions count mismatch"};if(!!i.drawDefinitions.find((t=>t.drawId===u)))return{error:E};const{flightProfile:m}=qu({event:i}),h=t&&(null==m||null===(r=m.flights)||void 0===r?void 0:r.find((e=>e.flightNumber===t.flightNumber)));if(h&&h.drawId!==n.drawId)return{error:d};const v=null==h?void 0:h.drawEntries.every((({participantId:t,entryStatus:e})=>p.find((e=>e.participantId===t)).entryStatus===e));if(h&&!v)return{error:d};const g=f&&(null==p?void 0:p.every((({participantId:t,entryStatus:e})=>{const n=f.find((e=>e.participantId===t));return(null==n?void 0:n.entryStatus)===e})));if(f&&!g)return{error:d};const y=(null==m||null===(a=m.flights)||void 0===a||null===(o=a.map((({flightNumber:t})=>!isNaN(t)&&parseInt(t))))||void 0===o?void 0:o.filter(Boolean))||[],I=(null===(s=i.drawDefinitions.map((({drawOrder:t})=>!isNaN(t)&&parseInt(t))))||void 0===s?void 0:s.filter(Boolean))||[];let w=Math.max(0,...I,...y)+1;const b=null==m||null===(c=m.flights)||void 0===c?void 0:c.find((t=>t.drawId===u));let N;if(b){b.drawName=n.drawName,N={name:Va,value:{...m,flights:m.flights}};const t=b.flightNumber;t&&!I.includes(t)?w=t:b.flightNumber=w}else{const t=(null==m?void 0:m.flights)||[];t.push({manuallyAdded:!0,flightNumber:w,drawEntries:p,drawName:l,drawId:u}),N={name:Va,value:{...m||{},flights:t}}}cs({event:i,extension:N}),Object.assign(n,{drawOrder:w}),i.drawDefinitions.push(n);const{topics:S}=Ln();if(S.includes(ga)){const{matchUps:t}=Nc({drawDefinition:n,event:i});Ca({drawDefinition:n,matchUps:t})}return Oa({drawDefinition:n}),{...En}}function Yu({tournamentRecord:t,returnDetails:e,disableNotice:n,venue:i}){if(!t)return{error:s};if(!i)return{error:yt};t.venues||(t.venues=[]),i.venueId||(i.venueId=yi());return t.venues.reduce(((t,e)=>t||e.venueId===i.venueId),void 0)?{error:ae}:(t.venues.push(i),n||Rn({topic:Ia,payload:{venue:i}}),Mn({addVenue:!0})?{...En,venue:vi(i)}:e?i:{...En})}function Ju({tournamentRecord:t,participant:e,disableNotice:n,allowDuplicateParticipantIdPairs:i}){if(!t)return{error:s};if(!e)return{error:xt};e.participantId||(e.participantId=yi()),t.participants||(t.participants=[]);const{participantId:r}=e;if(t.participants.reduce(((t,e)=>e.participantId===r||t),!1))return{error:Ft};const{participantType:a,participantRole:o}=e;if(!Object.keys(Jo).includes(a))return{error:Ct,participantType:a};if(!o)return{error:Rt};const c=t.participants||[],u=c.filter((t=>t.participantType===Ko)).map((t=>t.participantId));if(a===$o){if(e.person)return{error:Ne,person:e.person};if(!e.individualParticipantIds)return{error:_t};if(2!==e.individualParticipantIds.length)return{error:Tt,message:"PAIR must be 2 individualParticipantIds"};{const t=c.filter((t=>t.participantType===Ko)).map((t=>t.participantId));if(!e.individualParticipantIds.reduce(((e,n)=>t.includes(n)&&e),!0))return{error:Tt}}const t=c.filter((t=>t.participantType===$o)).map((t=>({participant:t,individualParticipantIds:t.individualParticipantIds}))),n=e.participantType===$o&&t.find((t=>2===Be(t.individualParticipantIds,e.individualParticipantIds).length));if(n&&!i)return{...En,participant:vi(n.participant)};if(!e.participantName){const t=c.filter((t=>e.individualParticipantIds.includes(t.participantId))).map((t=>{var e;return null===(e=t.person)||void 0===e?void 0:e.standardFamilyName})).filter(Boolean).join("/");e.participantName=t}}else if(a===Ko){if(!e.person||!e.person.standardFamilyName||!e.person.standardGivenName)return{error:Ht};if(!e.participantName){const t=`${e.person.standardFamilyName.toUpperCase()}, ${e.person.standardGivenName}`;e.participantName=t,e.name=t}}else{if(e.person)return{error:Ne,person:e.person};const{individualParticipantIds:t}=e;if(null!=t&&t.length)for(const e of t){if("string"!=typeof e)return{error:Ne,participantId:e};if(!u.includes(e))return{error:kt,participantId:e}}}t.participants.push(e),n||Rn({topic:ya,payload:{participants:[e]}});return{...En,participant:vi(e)}}function Xu({tournamentRecord:t,participants:e=[],allowDuplicateParticipantIdPairs:n}){if(!t)return{error:s};t.participants||(t.participants=[]);const i=t.participants.map((t=>t.participantId))||[];e.forEach((t=>{t.participantId||(t.participantId=yi())}));const r=e.filter((t=>!i.includes(t.participantId))),a=e.filter((t=>i.includes(t.participantId))),o=r.filter((t=>t.participantType===Ko)),c=r.filter((t=>t.participantType!==Ko)),u=o.concat(...c);if(u.length){const e=[];for(const r of u){const i=Ju({tournamentRecord:t,participant:r,disableNotice:!0,allowDuplicateParticipantIdPairs:n}),{success:a,error:o,participant:s}=i;if(a&&e.push(s),o)return{error:o}}Rn({topic:ya,payload:{participants:e}});const i={...En,participants:vi(e)};return a.length&&Object.assign(i,{notAdded:a,message:zt}),i}return{...En,message:"No new participants to add"}}const Qu=({scheduleAttributes:t=["scheduledDate","scheduledTime"],schedule:e})=>!!Object.keys(e).filter((e=>t.includes(e))).filter((t=>e[t])).length;function td({matchUps:t=[],scheduleAttributes:e=["scheduledDate","scheduledTime"]}){if(!Array.isArray(t))return{error:rt};if(!Array.isArray(e))return{error:Ne};const n=t.filter((({schedule:t})=>Qu({schedule:t,scheduleAttributes:e}))).reduce(((t,e)=>{const{schedule:n}=e,i=oi(null==n?void 0:n.scheduledDate),r=ai(null==n?void 0:n.scheduledTime);return i&&r&&(t[i]?t[i].push(e):t[i]=[e]),t}),{});return Object.keys(n).forEach((t=>{n[t].sort(((t,e)=>{var n,i;return function(t,e){const n=ci(t),i=ci(e);if(parseInt(n.hours)<parseInt(i.hours))return-1;if(parseInt(n.hours)>parseInt(i.hours))return 1;if(n.hours===i.hours){if(parseInt(n.minutes)<parseInt(i.minutes))return-1;if(parseInt(n.minutes)>parseInt(i.minutes))return 1}return 0}(ai(null===(n=t.schedule)||void 0===n?void 0:n.scheduledTime),ai(null===(i=e.schedule)||void 0===i?void 0:i.scheduledTime))}))})),{scheduledMatchUps:n}}const ed="SIGN_IN_STATUS";var nd;!function(t){t.INDIVIDUAL="INDIVIDUAL",t.PAIR="PAIR",t.TEAM="TEAM"}(nd||(nd={}));const id=nd.INDIVIDUAL;nd.PAIR,nd.TEAM;var rd;!function(t){t.SIGNED_IN="SIGNED_IN",t.SIGNED_OUT="SIGNED_OUT"}(rd||(rd={}));const ad=rd.SIGNED_IN,od=rd.SIGNED_OUT;function sd(t){var e,n;const i=[],r={},{tournamentRecord:a,participantFilters:o}=t,c=(null==a?void 0:a.participants)||[],{relevantParticipantIdsMap:u}=function({tournamentRecord:t,tournamentRecords:e,processParticipantId:n}){if("object"!=typeof t&&"object"!=typeof e)return{error:s};const i=e?Object.values(e).map((({participants:t=[]})=>t)).flat():t.participants||[];return{relevantParticipantIdsMap:Object.assign({},...i.map((({participantId:t,participantType:e,individualParticipantIds:i})=>("function"==typeof n&&n(t),{[t]:(i||[]).map((t=>({relevantParticipantId:t,participantType:id}))).concat({relevantParticipantId:t,participantType:e})}))))}}({tournamentRecord:a,processParticipantId:t=>{r[t]={groupParticipantIds:[],teamParticipantIds:[],pairParticipantIds:[],potentialMatchUps:{},scheduleItems:[],opponents:{},matchUps:{},events:{},draws:{},losses:0,wins:0}}}),d=null==o?void 0:o.participantIds,l=t=>{const e=t&&u[t]||[];return e.some((t=>!d||d.includes(t.relevantParticipantId)))?e:[]};return c.forEach((t=>{if(t.participantType===Yo){const e=t.participantId;t.individualParticipantIds.forEach((t=>r[t].groupParticipantIds.push(e)))}if(t.participantType===Qr){const e=t.participantId;t.individualParticipantIds.forEach((t=>r[t].teamParticipantIds.push(e)))}if(t.participantType===$o){const e=t.participantId;t.individualParticipantIds.forEach((t=>r[t].pairParticipantIds.push(e)))}})),null===(e=t.tournamentEvents)||void 0===e||e.forEach((t=>{var e,n,i;const o=vi(t,!0,!0),{eventId:s,eventName:c,eventType:d,category:p}=o,f={eventId:s,eventName:c,eventType:d,category:p},m=o&&Object.keys(o).filter((t=>"_"===t[0]));null==m||m.forEach((t=>f[t]=o[t]));const h=o.entries||[],v=[].concat(...Object.values(Xa)).map((t=>`_${t}`)),g=f&&Object.keys(f).filter((t=>!v.includes(t))).reduce(((t,e)=>(t[e]=f[e],t)),{});null==h||h.filter((t=>null==t?void 0:t.participantId)).forEach((t=>{const{participantId:e,entryStage:n,entryStatus:i,entryPosition:a}=t,o=l(e);null==o||o.forEach((({relevantParticipantId:t})=>{r[t].events[s]={...g,entryStage:n,entryStatus:i,entryPosition:a,drawIds:[],partnerParticipantIds:[]}}))}));const y=(null===(e=o.drawDefinitions)||void 0===e?void 0:e.map((({drawId:t})=>t)))||[];null===(n=f._flightProfile)||void 0===n||null===(i=n.flights)||void 0===i||i.forEach((t=>{const{drawId:e,drawEntries:n}=t;y.includes(e)||null==n||n.forEach((t=>(({drawId:t,drawEntry:e,drawName:n,drawType:i})=>{const{participantId:a,entryStage:o,entryStatus:c,entryPosition:u}=e,d=l(a);null==d||d.forEach((({relevantParticipantId:e})=>{r[e].events[s]||(r[e].events[s]={...g,entryStage:o,entryStatus:c,entryPosition:u,drawIds:[],partnerParticipantIds:[]}),r[e].draws[t]={drawName:n,drawType:i,entryStage:o,entryStatus:c,entryPosition:u,eventId:s,drawId:t,partnerParticipantIds:[]};const a=r[e].events[s].drawIds;!a||null!=a&&a.includes(t)||r[e].events[s].drawIds.push(t)}))})({drawId:e,drawEntry:t})))}));const{matchUps:I}=Sc({tournamentRecord:a,nextMatchUps:!0,inContext:!0,event:o}),w=Object.assign({},...(o.drawDefinitions||[]).map((t=>{const e=Object.assign({},...h.filter((t=>t.participantId)).map((t=>({[t.participantId]:t}))),...t.entries.filter((t=>t.participantId)).map((t=>({[t.participantId]:t})))),n=Object.values(e);return{[t.drawId]:{drawType:t.drawType,drawEntries:n}}})));null==I||I.forEach((t=>function({matchUp:t,drawDetails:e,eventType:n}){const{drawId:i,drawName:a,eventId:o,finishingPositionRange:s,loserTo:c,matchUpId:d,matchUpType:p,matchUpFormat:f,matchUpStatus:m,roundName:h,roundNumber:v,roundPosition:g,score:y,sides:I,schedule:w,structureName:b,structureId:N,tournamentId:S,winnerTo:P,winningSide:E}=t,{winner:U,loser:A}=s||{};if(null==I||I.forEach((({participantId:s,sideNumber:D}={})=>{if(!s)return;const{drawType:M,drawEntries:T}=e[i],C=1===D?null==y?void 0:y.scoreStringSide1:null==y?void 0:y.scoreStringSide2,R=E&&D===E,x=t.sides.find((({sideNumber:t}={})=>t===3-D)),O=null==x?void 0:x.participantId,L=O&&u[O]||[],k=E&&(R?U:A),F=T.find((t=>t.participantId===s)),Z=l(s);null==Z||Z.forEach((({relevantParticipantId:t,participantType:e})=>{const{entryStage:s,entryStatus:u,entryPosition:l}=F||{};r[t].draws[i]={drawName:a,drawType:M,entryStage:s,entryStatus:u,entryPosition:l,eventId:o,drawId:i,partnerParticipantIds:[]},r[t].events[o]||(r[t].events[o]={drawIds:[],partnerParticipantIds:[]});const U=r[t].events[o].drawIds;let A;if(!U||null!=U&&U.includes(i)||r[t].events[o].drawIds.push(i),e===Ko){const e=Z.find((e=>e.relevantParticipantId!==t&&e.participantType!==$o));A=null==e?void 0:e.relevantParticipantId}null==L||L.filter((t=>e===Ko||t.participantType===e)).forEach((({relevantParticipantId:e,participantType:n})=>{r[t].opponents[e]?r[t].opponents[e].push({eventId:o,drawId:i,matchUpId:d,participantType:n,participantId:e}):r[t].opponents[e]=[{eventId:o,drawId:i,matchUpId:d,participantType:n,participantId:e}]}));const D=L.map((({relevantParticipantId:t,participantType:e})=>({participantId:t,participantType:e})));r[t].matchUps[d]=ho({drawId:i,eventId:o,eventType:n,finishingPositionRange:k,loserTo:c,matchUpId:d,matchUpType:p,matchUpFormat:f,matchUpStatus:m,opponentParticipantInfo:D,participantWon:R,partnerParticipantId:A,perspectiveScoreString:C,roundName:h,roundNumber:v,roundPosition:g,schedule:w,score:y,sides:I,structureName:b,structureId:N,tournamentId:S,winnerTo:P,winningSide:E}),A&&n===Xr&&(r[t].events[o].partnerParticipantIds.push(A),r[t].draws[i].partnerParticipantIds.push(A),r[t].events[o].partnerParticipantId=A,r[t].draws[i].partnerParticipantId=A),E&&(R?r[t].wins++:r[t].losses++)}))})),Array.isArray(t.potentialParticipants)){const e=t.potentialParticipants.flat().map((({participantId:t})=>t));null==e||e.forEach((t=>{const e=l(t);null==e||e.forEach((({relevantParticipantId:t})=>{r[t].potentialMatchUps[d]=ho({drawId:i,eventId:o,eventType:n,matchUpId:d,matchUpType:p,matchUpFormat:f,roundName:h,roundNumber:v,roundPosition:g,schedule:w,structureName:b,potential:!0})}))}))}}({matchUp:t,drawDetails:w,eventType:d})))})),null===(n=t.tournamentParticipants)||void 0===n||n.forEach((e=>{const{scheduleConflicts:n,scheduleItems:a}=function({withDraws:t=!0,withEvents:e=!0,withOpponents:n,withMatchUps:i,withStatistics:r,scheduleAnalysis:a,participant:o,participantIdMap:s}){const c=[],u=[],d=null==o?void 0:o.participantId;if(!d||!s[d])return{};const{wins:l,losses:p,matchUps:f,potentialMatchUps:m,events:h,draws:v,opponents:g}=s[d],y=l,I=l+p,w={statCode:"winRatio",numerator:y,denominator:I,statValue:I&&y/I},b=Object.values(v),N=Object.values(h);t&&b&&(o.draws=b),e&&N&&(o.events=N);const S=Object.values(g).flat();n&&null!=S&&S.length&&(o.opponents=S,null==b||b.forEach((t=>{t.opponents=S.filter((e=>e.drawId===t.drawId))})));const P=Object.values(m),E=Object.values(f);i&&(o.potentialMatchUps=P,o.matchUps=E);const U=E.concat(P),{scheduledMatchUps:A}=td({matchUps:U}),{scheduledMinutesDifference:D}=a||{};Object.keys(A).forEach((t=>{A[t].forEach(((e,n)=>{const{schedule:{scheduledTime:i,timeAfterRecovery:r,typeChangeTimeAfterRecovery:a},matchUpStatus:o,matchUpId:s,roundNumber:d,roundPosition:l,structureName:p,drawId:f}=e;if(c.push({drawId:f,matchUpId:s,structureName:p,roundNumber:d,roundPosition:l,...e.schedule,scheduledTime:ai(e.schedule.scheduledTime)}),i&&o!==Ke){const c=ii(i),d=A[t].slice(n+1);for(const t of d){var m;if(o!==Ke&&null!==(m=t.schedule)&&void 0!==m&&m.scheduledTime){const n=e.matchUpType!==t.matchUpType&&a||r,i=e.drawId===t.drawId,o=e.potential&&t.potential,d=ii(t.schedule.scheduledTime)-c;!(D&&!isNaN(D)?d<=D:ii(n)>ii(t.schedule.scheduledTime))||o&&i||u.push({priorScheduledMatchUpId:t.matchUpId,matchUpIdWithConflict:s})}}}}))})),null==b||b.forEach((t=>{const e=f&&E.filter((e=>e.drawId===t.drawId))||[],n=t=>Math.abs(t[0]-t[1]),i=e.reduce(((t,e)=>t?t&&e.finishingPositionRange&&n(t)>n(e.finishingPositionRange)?e.finishingPositionRange:t:e.finishingPositionRange),void 0);t.finishingPositionRange=i})),r&&(o.statistics=[w]);return{scheduleConflicts:u,scheduleItems:c}}({...t,participant:e,participantIdMap:r});t.withScheduleItems&&(e.scheduleItems=a),null!=n&&n.length&&(e.scheduleConflicts=n,i.includes(e.participantId)||i.push(e.participantId)),e.groupParticipantIds=r[e.participantId].groupParticipantIds,e.pairParticipantIds=r[e.participantId].pairParticipantIds,e.teamParticipantIds=r[e.participantId].teamParticipantIds})),{participantIdsWithConflicts:i}}function cd({element:t,accessor:e}){if("string"!=typeof e)return{values:[]};const n=vi(t),i=e.split(".");let r,a=[];!function t({targetElement:e,attributes:n=[],significantCharacters:i}){for(const[r,a]of n.entries())if(e&&e[a])if(Array.isArray(e[a])){const i=e[a],o=n.slice(r);i.forEach((e=>t({targetElement:e,attributes:o})))}else o({targetElement:e=e[a],index:r});function o({targetElement:t,index:e}){if(t&&e===n.length-1&&["string","number"].includes(typeof t)){const e=i?t.slice(0,i):t;r?a.includes(e)||a.push(e):(r=e,a.push(e))}}}({targetElement:n,attributes:i});const o={value:r};return a.length&&(o.values=a),o}function ud({tournamentRecord:t,participantFilters:e,participants:n}){var i,r;let{eventIds:a}=e;const{accessorValues:o,drawEntryStatuses:s,positionedParticipants:c,eventEntryStatuses:u,participantRoles:d,participantRoleResponsibilities:p,participantTypes:f,participantIds:m,signInStatus:h,enableOrFiltering:v}=e,g=dd(a)&&(null===(i=t.events)||void 0===i?void 0:i.filter((t=>a.includes(t.eventId))))||t.events||[],y=s&&function({drawEntryStatuses:t,tournamentEvents:e}){const n=({entryStatus:e})=>!Array.isArray(t)||t.includes(e);return Re(e.reduce(((t,e)=>{var i,r;const{flightProfile:a}=qu({event:e}),o=(null==a||null===(i=a.flights)||void 0===i?void 0:i.map((({drawEntries:t})=>Array.isArray(t)?t.filter(n).map((({participantId:t})=>t)):[])).flat())||[],s=(null===(r=e.drawDefinitions)||void 0===r?void 0:r.map((({entries:t})=>t?t.filter(n).map((({participantId:t})=>t)):[])))||[];return t.concat(...o,...s)}),[]))}({drawEntryStatuses:s,tournamentEvents:g}),I=u&&function({eventEntryStatuses:t,tournamentEvents:e}){return Re(e.reduce(((e,n)=>{const i=n.entries.filter((({entryStatus:e})=>!Array.isArray(t)||t.includes(e))).map((({participantId:t})=>t));return e.concat(...i)}),[]))}({eventEntryStatuses:u,tournamentEvents:g}),w=[!0,!1].includes(c)&&g.reduce(((t,e)=>t.concat(...(e.drawDefinitions||[]).map((t=>function({drawDefinition:t}){return t?(t.structures||[]).map((t=>{const{positionAssignments:e}=Zs({structure:t});return e.map((({participantId:t})=>t)).filter(Boolean)})).flat():{error:l}}({drawDefinition:t}))).filter(Boolean))),[]),b=t=>o.reduce(((e,n)=>{const{accessor:i,value:r}=n,{values:a}=cd({element:t,accessor:i});return e&&(null==a?void 0:a.includes(r))}),!0);if(n=null===(r=n)||void 0===r?void 0:r.filter((t=>{const e=da({element:t,itemType:ed}),{participantId:n,participantType:i,participantRole:r,participantRoleResponsibilities:a}=t;return v?c&&w.includes(n)||!1===c&&!w.includes(n)||y&&y.includes(n)||I&&I.includes(n)||m&&m.includes(n)||h&&e===h||f&&dd(f)&&f.includes(i)||d&&dd(d)&&d.includes(r)||p&&dd(a)&&dd(p)&&p.find((t=>a.includes(t)))||(null==o?void 0:o.length)&&dd(o)&&b(t):(void 0===c||c&&w.includes(n)||!1===c&&!w.includes(n))&&(!y||y.includes(n))&&(!I||I.includes(n))&&(!m||m.includes(n))&&(!h||e===h)&&(!f||dd(f)&&f.includes(i))&&(!d||dd(d)&&d.includes(r))&&(!p||dd(a)&&dd(p)&&p.find((t=>a.includes(t))))&&(!(null!=o&&o.length)||dd(o)&&b(t))})),g.length&&a){var N;const e=g.filter((t=>a.includes(t.eventId))).map((e=>{const n=e.entries.map((t=>t.participantId));if(e.eventType===Bo)return n;const i=(t.participants||[]).filter((t=>n.includes(t.participantId))).map((t=>t.individualParticipantIds)).flat(1);return n.concat(...i)})).flat(1);n=null===(N=n)||void 0===N?void 0:N.filter((t=>e.includes(t.participantId)))}return n}function dd(t){return t&&Array.isArray(t)&&t.length}function ld({tournamentRecord:t,participantFilters:e={},policyDefinitions:n,withScheduleItems:i,withStatistics:r,withOpponents:a,withMatchUps:o,withEvents:c,withDraws:u,convertExtensions:d,scheduleAnalysis:l,inContext:p}){if(!t)return{error:s};if(!t.participants)return{error:Ot};let f=t.participants.map((t=>vi(t,d)));if("object"!=typeof e)return{error:be,participantFilters:e};var m;p&&(null===(m=f)||void 0===m||m.forEach((e=>{[$o,qo,Yo].includes(e.participantType)&&(e.individualParticipants=e.individualParticipantIds.map((e=>vi(t.participants.find((t=>t.participantId===e)),d,!0))))})));let h;if(e&&(f=ud({tournamentRecord:t,participantFilters:e,participants:f})),c||u||o||r||a||l||i){const n=sd({tournamentRecord:t,tournamentEvents:t.events,tournamentParticipants:f,participantFilters:e,withScheduleItems:i,scheduleAnalysis:l,withStatistics:r,withOpponents:a,withMatchUps:o,withEvents:c,withDraws:u});h=null==n?void 0:n.participantIdsWithConflicts}const v=null==n?void 0:n.participant;return null!=v&&v.participant&&(f=f.map((t=>Pn({source:t,template:v.participant})))),{tournamentParticipants:f,participantIdsWithConflicts:h}}function pd(t,e,n){if(!t&&e)return e;if(t&&!e)return t;if("object"!=typeof t||"object"!=typeof e)return t;return Re(Object.keys(t).concat(Object.keys(e))).reduce(((i,r)=>{if(e[r])if(t[r])if(typeof t[r]!=typeof e[r])i[r]=e[r];else if(Array.isArray(t[r]))if(!0===n||Array.isArray(n)&&n.includes(r)){const n=Re(t[r].map((t=>JSON.stringify(t))).concat(e[r].map((t=>JSON.stringify(t))))).map((t=>JSON.parse(t)));i[r]=n}else i[r]=e[r];else"object"==typeof t[r]?i[r]=pd(t[r],e[r],n):i[r]=e[r];else i[r]=e[r];else i[r]=t[r];return i}),{})}const fd=({penaltyId:t=yi()}={})=>({refereeParticipantId:void 0,penaltyCode:void 0,penaltyType:void 0,extensions:void 0,matchUpId:void 0,createdAt:void 0,issuedAt:void 0,notes:void 0,penaltyId:t});function md({tournamentRecord:t,participantIds:e,penaltyCode:n,penaltyType:i,penaltyId:r,matchUpId:a,notes:o,extensions:c,issuedAt:u,refereeParticipantId:d}){if(!t)return{error:s};if(!e)return{error:Lt};if(!i)return{error:Qt};const l=((null==t?void 0:t.participants)||[]).filter((t=>e.includes(t.participantId)));if(!l.length)return{error:kt};const p=(new Date).toISOString(),f=Object.assign(fd({penaltyId:r}),{refereeParticipantId:d,penaltyCode:n,penaltyType:i,matchUpId:a,notes:o,issuedAt:u,createdAt:p});return Array.isArray(c)&&c.forEach((t=>rs({element:f,extension:t}))),l.forEach((t=>{t.penalties||(t.penalties=[]),t.penalties.push(f)})),Rn({topic:Aa,payload:{participants:l}}),{...En,penaltyId:f.penaltyId}}function hd({tournamentRecord:t,penaltyId:e}){if(!t)return{error:s};if(!e)return{error:te};const n=(null==t?void 0:t.participants)||[],i=[];let r,a=!1;return n.forEach((t=>{let n=!1;t.penalties=(t.penalties||[]).filter((o=>(o.penaltyId===e&&(n=!0,a||(r=o,a=!0)),n&&i.push(t),o.penaltyId!==e)))})),r&&Rn({topic:Aa,payload:{participants:i}}),r?{...En,penalty:r}:{error:ee}}function vd({tournamentRecord:t}){if(!t)return{error:s};const e=((null==t?void 0:t.participants)||[]).reduce(((t,e)=>{const{participantId:n}=e;return(e.penalties||[]).forEach((e=>{const{penaltyId:i}=e||{};t[i]?t[i].participants.push(n):t[i]={...e,participantIds:[n]}})),t}),{});return{penalties:Object.values(e)}}function gd({tournamentRecord:t,penaltyId:e,modifications:n}){if(!t)return{error:s};if(!n)return{error:Ne,modifications:n};if(!e)return{error:te};const i=(null==t?void 0:t.participants)||[],r=Object.keys(fd()).filter((t=>"penaltyId"!==t)),a=Object.keys(n).filter((t=>r.includes(t)));if(!a.length)return{error:Pe};let o;const c=[];return i.forEach((t=>{let i=!1;t.penalties=(t.penalties||[]).map((t=>(t.penaltyId===e&&(i=!0,a.forEach((e=>Object.assign(t,{[e]:n[e]}))),o||(o=t)),t))),i&&c.push(t)})),o&&Rn({topic:Aa,payload:{participants:c}}),o?{...En,penalty:o}:{error:ee}}function yd(){const{topics:t}=Ln();for(const e of t){const t=xn({topic:e});t&&kn({topic:e,notices:t})}}function Id({tournamentRecord:t,matchUpFormat:e,event:n}){if(!t)return{error:s};if(!i.matchUpFormatCode.isValidMatchUpFormat(e))return{error:q};const{extension:r}=ao({event:n,name:$a}),a=null==r?void 0:r.value,{extension:o}=ro({tournamentRecord:t,name:$a}),c=null==o?void 0:o.value;return{matchUpFormat:e,averageTimes:[(null==a?void 0:a.matchUpAverageTimes)&&Fa({...a,matchUpFormat:e}),(null==c?void 0:c.matchUpAverageTimes)&&Fa({...c,matchUpFormat:e})].find((t=>t)),recoveryTimes:[(null==a?void 0:a.matchUpRecoveryTimes)&&Za({...a,matchUpFormat:e}),(null==c?void 0:c.matchUpRecoveryTimes)&&Za({...c,matchUpFormat:e})].find((t=>t))}}function wd({tournamentRecord:t,matchUpFormat:e,averageTimes:n,recoveryTimes:i,event:r}){if(!t)return{error:s};if(n&&!Array.isArray(n))return{error:Ne};if(i&&!Array.isArray(i))return{error:Ne};const a=$a;if(r){const{extension:t}=ao({event:r,name:a});cs({event:r,extension:{name:a,value:bd({...(null==t?void 0:t.value)||{},matchUpFormat:e,averageTimes:n,recoveryTimes:i})}})}else{const{extension:r}=ro({tournamentRecord:t,name:a});os({tournamentRecord:t,extension:{name:a,value:bd({...(null==r?void 0:r.value)||{},matchUpFormat:e,averageTimes:n,recoveryTimes:i})}})}return En}function bd({matchUpAverageTimes:t=[],matchUpRecoveryTimes:e=[],averageTimes:n,recoveryTimes:i,matchUpFormat:r}){var a,o;const s=(null===(a=n=(n||[]).filter((t=>{var e,n;return(null==t||null===(e=t.categoryNames)||void 0===e?void 0:e.length)||(null==t||null===(n=t.categoryTypes)||void 0===n?void 0:n.length)})))||void 0===a?void 0:a.length)&&t.map((t=>{var e;return null!=t&&t.matchUpFormatCodes.includes(r)?{...t,matchUpFormatCodes:null===(e=t.matchUpFormatCodes)||void 0===e?void 0:e.filter((t=>t!==r))}:t})).filter((({matchUpFormatCodes:t})=>null==t?void 0:t.length)).concat({matchUpFormatCodes:[r],averageTimes:n}),c=(null===(o=i=(i||[]).filter((t=>{var e,n;return(null==t||null===(e=t.categoryNames)||void 0===e?void 0:e.length)||(null==t||null===(n=t.categoryTypes)||void 0===n?void 0:n.length)})))||void 0===o?void 0:o.length)&&e.map((t=>{var e;return null!=t&&t.matchUpFormatCodes.includes(r)?{...t,matchUpFormatCodes:null===(e=t.matchUpFormatCodes)||void 0===e?void 0:e.filter((t=>t!==r))}:t})).filter((({matchUpFormatCodes:t,averageTimes:e})=>(null==t?void 0:t.length)||e)).concat({matchUpFormatCodes:[r],recoveryTimes:i});return{matchUpAverageTimes:(null==s?void 0:s.length)&&s||t,matchUpRecoveryTimes:(null==c?void 0:c.length)&&c||e}}function Nd({tournamentRecord:t,event:e,categoryType:n,matchUpFormat:r,averageMinutes:a,recoveryMinutes:o}){if(!t)return{error:s};if(!i.matchUpFormatCode.isValidMatchUpFormat(r))return{error:Ne};if(!e)return{error:F};const{averageTimes:c=[],recoveryTimes:u=[]}=Id({tournamentRecord:t,matchUpFormat:r,event:e}),d=e.category,l=(null==d?void 0:d.categoryName)||(null==d?void 0:d.ageCategoryCode),p="DOUBLES"===e.eventType;let f={categoryNames:[l],minutes:{}},m={categoryNames:[l],minutes:{}};const h=t=>{var e,i;if(null!==(e=t.categoryTypes)&&void 0!==e&&e.includes(n)&&console.log("encountered:",{categoryType:n}),null===(i=t.categoryNames)||void 0===i||!i.includes(l)||(t.categoryNames=t.categoryNames.filter((t=>t!==l)),f={minutes:t.minutes,categoryNames:[l]},t.categoryNames.length))return t},v=!isNaN(parseInt(a)),g=!isNaN(parseInt(o)),y=c.map(h).filter((t=>{var e;return null==t||null===(e=t.categoryNames)||void 0===e?void 0:e.length})),I=u.map(h).filter((t=>{var e;return null==t||null===(e=t.categoryNames)||void 0===e?void 0:e.length}));return v&&(Object.assign(f.minutes,{[p?jo:Jr]:a}),y.push(f)),g&&(Object.assign(m.minutes,{[p?jo:Jr]:o}),I.push(m)),v||g?wd({tournamentRecord:t,event:e,matchUpFormat:r,averageTimes:v&&y,recoveryTimes:g&&I}):{error:Ne}}function Sd({tournamentRecord:t,matchUpFormats:e,categoryType:n,event:r}){if(!t)return{error:s};if(!r)return{error:F};let a=[];if(null!=e&&e.length){const t=[];a=e.map((e=>{let n="string"==typeof e?{matchUpFormat:e}:e;if(!t.includes(null==n?void 0:n.matchUpFormat)&&i.matchUpFormatCode.isValidMatchUpFormat(null==n?void 0:n.matchUpFormat))return t.push(n.matchUpFormat),n})).filter(Boolean)}else{const{policy:e}=no({policyType:xi,tournamentRecord:t,event:r});if(null!=e&&e.matchUpFormats)a=null==e?void 0:e.matchUpFormats;else{const{extension:t}=ao({event:r,name:$a});if(null==t||!t.value)return{error:ht};a=Re([...(t.value.matchUpAverageTimes||[]).map((t=>t.matchUpFormatCodes)),...(t.value.matchUpRecoveryTimes||[]).map((t=>t.matchUpFormatCodes))].flat()).map((t=>({matchUpFormat:t})))}}const{eventType:o,eventId:c,category:u}=r,d=null==u?void 0:u.categoryName;if(!c)return{error:F};return{eventMatchUpFormatTiming:a.map((({matchUpFormat:e,description:i})=>{const a=lo({tournamentRecord:t,matchUpFormat:e,categoryName:d,categoryType:n,eventType:o,event:r});return Object.assign({},{...a,description:i,matchUpFormat:e})}))}}function Pd({tournamentRecord:t,drawId:e,drawDefinition:n,event:i,structureId:r,matchUpId:a}){var o,c,u;if(!t)return{error:s};if(!(e||i||r||a))return{error:yt};const d=Ac({tournamentRecord:t,drawDefinition:n,drawId:e,matchUpId:a});if(a&&null!=d&&d.error)return d;!n&&null!=d&&d.drawDefinition&&(n=null==d?void 0:d.drawDefinition);let l=null==d?void 0:d.structure;if(!l&&r&&!a){if(!n)return{error:P};const t=es({drawDefinition:n,structureId:r});if(t.error)return t;l=t.structure}const p=null===(o=l)||void 0===o?void 0:o.matchUpFormat,f=null===(c=n)||void 0===c?void 0:c.matchUpFormat,m=null==i?void 0:i.matchUpFormat;return{matchUpFormat:(null==d||null===(u=d.matchUp)||void 0===u?void 0:u.matchUpFormat)||p||f||m,structureDefaultMatchUpFormat:p,drawDefaultMatchUpFormat:f,eventDefaultMatchUpFormat:m}}function Ed({drawDefinition:t,matchUpsMap:e,inContextDrawMatchUps:n}){return n||({matchUps:n,matchUpsMap:e}=Ic({drawDefinition:t,inContext:!0,includeByeMatchUps:!0,matchUpsMap:e})),(n||[]).forEach((i=>{const{matchUpId:r,structureId:a}=i,o=fc({matchUpId:r,drawDefinition:t,inContextDrawMatchUps:n}),{winnerMatchUp:s,loserMatchUp:c}=o.targetMatchUps,u=null==s?void 0:s.matchUpId,d=null==c?void 0:c.matchUpId,l=Qo({matchUpsMap:e,structureId:a}).find((t=>t.matchUpId===r));u&&Object.assign(l,{winnerMatchUpId:u}),d&&Object.assign(l,{loserMatchUpId:d})})),{inContextDrawMatchUps:n}}function Ud(t,e){return function(t,e){return($i[null==t?void 0:t.stage]||0)-($i[null==e?void 0:e.stage]||0)}(t,e)||((null==t?void 0:t.stageSequence)||0)-((null==e?void 0:e.stageSequence)||0)||(null==t?void 0:t.roundNumber)-(null==e?void 0:e.roundNumber)||((null==t?void 0:t.roundPosition)||0)-((null==e?void 0:e.roundPosition)||0)}function Ad({tournamentRecord:t}){var e;if(!t)return{error:s};const{policy:n}=no({policyType:Ti,tournamentRecord:t}),{extension:i}=ro({tournamentRecord:t,name:qa}),r=null==i||null===(e=i.value)||void 0===e?void 0:e.dailyLimits,a=null==n?void 0:n.defaultDailyLimits;return{matchUpDailyLimits:r||a}}function Dd({event:t}){return t?ds({event:t,name:$a}):{error:F}}function Md({drawDefinition:t,tournamentParticipants:e,matchUpId:n,participantId:i}){if(!i)return{error:Lt};if(!n)return{error:at};if(e&&e.length){const{matchUp:r}=zs({drawDefinition:t,tournamentParticipants:e,matchUpId:n,inContext:!0});if(!r)return{error:it};const{error:a,checkedInParticipantIds:o,allRelevantParticipantIds:s}=Gs({matchUp:r});if(!s.includes(i))return{error:Mt};if(a)return{error:a};if(o.includes(i))return{error:Gt}}return Ks({drawDefinition:t,matchUpId:n,timeItem:{itemType:go,itemValue:i}})}function Td({drawDefinition:t,tournamentParticipants:e,matchUpId:n,participantId:i}){if(!i)return{error:Lt};if(!n)return{error:et};if(e&&e.length){const{matchUp:r}=zs({drawDefinition:t,tournamentParticipants:e,matchUpId:n,inContext:!0}),{checkedInParticipantIds:a,allRelevantParticipantIds:o}=Gs({matchUp:r});if(!o.includes(i))return{error:Mt};if(!a.includes(i))return{error:jt};const{sideParticipantIds:s,nestedIndividualParticipantIds:c}=js({matchUp:r}),u=s.indexOf(i);[0,1].includes(u)&&(c[u]||[]).forEach((e=>{Ks({drawDefinition:t,matchUpId:n,timeItem:{itemType:yo,itemValue:e}})}))}return Ks({drawDefinition:t,matchUpId:n,timeItem:{itemType:yo,itemValue:i}})}function Cd(t){if(null==t||!t.tournamentRecord)return{error:s};const{tournamentRecord:e,participantId:n,matchUpId:i,drawDefinition:r}=t,a=e.participants||[],{matchUp:o}=Ac({tournamentRecord:e,drawDefinition:r,matchUpId:i,inContext:!0});if(!o)return{error:it};const{checkedInParticipantIds:c=[]}=Gs({matchUp:o});return c.includes(n)?Td({drawDefinition:r,tournamentParticipants:a,matchUpId:i,participantId:n}):Md({drawDefinition:r,tournamentParticipants:a,matchUpId:i,participantId:n})}function Rd(t){const{tournamentRecords:e}=t;if(!e)return{error:o};const{tournamentId:n,drawId:i,matchUpId:r,courtDayDate:a}=t,c=e[n];if(!c)return{error:s};const{drawDefinition:u}=mo({tournamentRecord:c,drawId:i});return Qs({tournamentRecord:c,drawDefinition:u,matchUpId:r,courtId:"",courtDayDate:a})}function xd({tournamentRecord:t,ignoreMatchUpStatuses:e=ln,scheduleAttributes:n=["scheduledDate","scheduledTime"]}){if("object"!=typeof t)return{error:s};if(!Array.isArray(e))return{error:Ne};const{matchUps:i}=bc({tournamentRecord:t});return Dc({tournamentRecord:t,matchUpIds:i.filter((t=>!e.includes(t.matchUpStatus)&&Qu({schedule:t.schedule,scheduleAttributes:n}))).map((({matchUpId:t})=>t)),schedule:{venueId:"",scheduledDate:"",scheduledTime:""}})}const Od="OTHER",Ld="OFFICIAL",kd="COMPETITOR",Fd={OTHER:Od,COACH:"COACH",MEDIA:"MEDIA",CAPTAIN:"CAPTAIN",MEDICAL:"MEDICAL",OFFICIAL:Ld,SECURITY:"SECURITY",COMPETITOR:kd,ADMINISTRATION:"ADMINISTRATION"};function Zd(t){return nc(t)}function _d({drawDefinition:t,matchUpId:e,disableNotice:n,scheduledDate:i}){return ic({drawDefinition:t,matchUpId:e,disableNotice:n,scheduledDate:i})}function Bd({drawDefinition:t,scheduledTime:e,matchUpId:n,disableNotice:i}){return rc({drawDefinition:t,matchUpId:n,scheduledTime:e,disableNotice:i})}function jd({drawDefinition:t,matchUpId:e,startTime:n,disableNotice:i}){return oc({drawDefinition:t,matchUpId:e,startTime:n,disableNotice:i})}function Gd({drawDefinition:t,matchUpId:e,endTime:n,disableNotice:i}){return sc({drawDefinition:t,matchUpId:e,endTime:n,disableNotice:i})}function Vd({drawDefinition:t,matchUpId:e,stopTime:n,disableNotice:i}){return cc({drawDefinition:t,matchUpId:e,stopTime:n,disableNotice:i})}function Hd({drawDefinition:t,matchUpId:e,resumeTime:n,disableNotice:i}){return uc({drawDefinition:t,matchUpId:e,resumeTime:n,disableNotice:i})}function Wd({tournamentRecord:t,drawDefinition:e,participantId:n,officialType:i,matchUpId:r,disableNotice:a}){if(!n)return{error:Lt};const{tournamentParticipants:o}=ld({tournamentRecord:t,participantFilters:{participantTypes:[Ko],participantRoles:[Ld]}});if(!ca({tournamentParticipants:o,participantId:n}))return{error:kt};return ac({drawDefinition:e,participantId:n,officialType:i,matchUpId:r,disableNotice:a})}function zd({tournamentRecord:t,scheduleChange:e,matchUpIds:n,dryRun:i}){if(!t)return{error:s};if(!n||!Array.isArray(n))return{error:nt};if("object"!=typeof e)return{error:Ne};const r=[],a=[],{minutesChange:o,daysChange:c}=e;if(!o&&!c)return{...En};if(o&&isNaN(o))return{error:Ne};if(c&&isNaN(c))return{error:Ne};const{matchUps:u}=bc({tournamentRecord:t,matchUpFilters:{matchUpIds:n}}),d=null==u?void 0:u.filter(Qu).filter((({matchUpStatus:t})=>!ln.includes(t)));if(!d.length)return{...En};const{tournamentInfo:l}=xu({tournamentRecord:t}),{startDate:p,endDate:f}=l,m=d.reduce(((t,e)=>{const{matchUpId:n,drawId:i}=e;return t[i]?t[i].push(n):t[i]=[n],t}),{});for(const s of Object.keys(m)){const{drawDefinition:e,error:u}=mo({tournamentRecord:t,drawId:s});if(u)return{error:u};const l=m[s].filter((t=>n.includes(t)));for(const t of l)if(t&&e){const n=d.find((e=>e.matchUpId===t)),s=n.schedule,{scheduledTime:u,scheduledDate:l,averageMinutes:m}=s;let h,v,g;if(o&&u){const t=oi(u),e=ii(ai(u))+o+m;if(h=e<0||e>1440,!h){let e=li(u,o);v=t?`${t}T${e}`:e}}if(!h&&c&&l){g=si(oi(l),c),h=new Date(g)<new Date(p)||new Date(g)>new Date(f)}if(h)a.push(n);else{if(!i){if(v){const n=Bd({drawDefinition:e,matchUpId:t,scheduledTime:v});if(n.error)return n}if(g){const n=_d({drawDefinition:e,matchUpId:t,scheduledDate:g});if(n.error)return n}}(v||g)&&r.push(n)}}}const h=r.length&&!a.length;return{...En,rescheduled:r,notRescheduled:a,allRescheduled:h}}function Kd({tournamentRecord:t,dailyLimits:e}){if(!t)return{error:s};if("object"!=typeof e)return{error:be};return os({tournamentRecord:t,extension:{name:qa,value:{dailyLimits:e}}})}function qd({tournamentRecord:t,policyDefinitions:e,allowReplacement:n}){if(!t)return{error:s};if(!e||"object"!=typeof e)return{error:ct};t.extensions||(t.extensions=[]);const{appliedPolicies:i}=Qa({tournamentRecord:t}),r=Object.keys(e).map((t=>{if(!i[t]||n)return i[t]=e[t],t})).filter(Boolean);if(null!=r&&r.length){const e=os({tournamentRecord:t,extension:{name:_a,value:i}});if(e.error)return e}return null!=r&&r.length?{...En,applied:r}:{error:pt}}function $d({policyDefinitions:t,event:e}){if(!e)return{error:F};if(!t)return{error:ct};let n=0;e.extensions||(e.extensions=[]);const{appliedPolicies:i}=to({event:e});if(Object.keys(t).forEach((e=>{i[e]=t[e],n++})),n){cs({event:e,extension:{name:_a,value:i}})}return n?En:{error:ft}}function Yd(){return"\n    This project would not have been possible without the generous input and patience\n    of tournament organizers and directors who worked with early versions of CourtHive/TMX.\n\n    Thanks to Pavel, Ivan, Mladen, Zdenko, Antoina, Jakov, Kreso, Barry, Jeff, Bobby... to name just a few. \n\n    The project would not have even begun without the support of Miro, or the introduction by Sretchko.\n    The project would not have succeeded without the enthusiasm of Randy and Bruce.\n    Thanks to serendipity and Luca and the ensuing TODS conversations with ITF.\n    Thanks to Scott and Jake for sanity checks, suggestions, and challenging me.\n    Thanks to Zoran for inspiring the async support and getting into the weeds with subscriptions.\n    Thanks to Dave for backing the conversion of TMX 1.x source into the factory repository.\n    Thanks to Vuk and Pavle and Rich and Chris and Deepa for the direct engagement with the APIs.\n    Thanks to Shannon for the validation of the approach from his deep domain experience.\n    Thanks to Nikola for the ongoing camaraderie and explorations of what we can do with TODS.\n\n    And a special thanks to my family for putting up with the long days and weeks and months of coding\n    and conversations at all hours.\n  "}const Jd="REFEREE",Xd="SCHEDULE",Qd="SCORE",tl="START",el="STATUS";function nl({drawDefinition:t,matchUpId:e,matchUpsMap:n,inContextDrawMatchUps:i}){var r,a,o;if(!t)return{error:l};if(!e)return{error:et};const{matchUp:s,structure:c}=zs({drawDefinition:t,matchUpId:e}),{assignedPositions:u,allPositionsAssigned:d}=_s({structure:c}),{drawPositions:p}=s||{},{structureId:f}=c||{},m=[];if(!f)return{validActions:m};const h=ou({drawDefinition:t,structure:c}),v=u.filter((t=>t.participantId)).map((t=>t.drawPosition)),g=u.filter((t=>t.bye)).map((t=>t.drawPosition)),y=s.collectionId,I=s.matchUpStatus===Ke||!y&&(null===(r=s.drawPositions)||void 0===r?void 0:r.reduce(((t,e)=>g.includes(e)||t),!1));if(I)return{validActions:m,isByeMatchUp:I};const w=null==p?void 0:p.reduce(((t,e)=>v.includes(e)&&t),2===(null==p?void 0:p.length));m.push({type:Jd});const b=!xc({matchUpStatus:s.matchUpStatus}),{appliedPolicies:N}=Wo({drawDefinition:t}),S=null==N||null===(a=N.scoring)||void 0===a?void 0:a.structures,P=(null==S?void 0:S.stage)&&(null==S?void 0:S.stage[c.stage]),E=(null==P?void 0:P.stageSequence)&&P.stageSequence[c.stageSequence],U=!((null==N||null===(o=N.scoring)||void 0===o?void 0:o.requireAllPositionsAssigned)||(null==P?void 0:P.requireAllPositionsAssigned)||(null==E?void 0:E.requireAllPositionsAssigned))||d,A=s.sides&&2===s.sides.filter((t=>t&&t.participantId)).length;let D;const M=s.matchUpStatus===Xe;if(M){n=n||Xo({drawDefinition:t}),i||({matchUps:i}=Ic({drawDefinition:t,inContext:!0,includeByeMatchUps:!0,matchUpsMap:n}));D=Su({inContextDrawMatchUps:i,targetData:fc({matchUpId:e,drawDefinition:t,inContextDrawMatchUps:i}),drawDefinition:t})}const T=(w||A)&&!(M&&D),{drawId:C}=t,R={type:Kr,method:Zr,payload:{drawId:C,matchUpId:e,penaltyCode:void 0,penaltyType:void 0,participantIds:[],notes:void 0}};if(b&&m.push({type:Xd}),T&&m.push(R),b&&T&&m.push({type:el}),U&&T){const{matchUpId:t,matchUpFormat:e}=s,n={drawId:C,matchUpId:t,matchUpFormat:e,outcome:{scoreStringSide1:void 0,scoreStringSide2:void 0,sets:[]},winningSide:void 0};m.push({type:Qd,method:"setMatchUpStatus",message:"set outcome and winningSide",payload:n}),m.push({type:tl}),m.push({type:"END"})}return{validActions:m,isDoubleWalkover:M,structureIsComplete:h}}function il({tournamentRecord:t,drawDefinition:e,matchUpId:n,drawId:i}){if(!t)return{error:s};if(!i){const{matchUps:r}=bc({tournamentRecord:t});i=r.reduce(((t,e)=>e.matchUpId===n?e.drawId:t),void 0);e=(t.events||[]).map((t=>t.drawDefinitions||[])).flat().reduce(((t,e)=>e.drawId===i?e:t),void 0)}return i?nl({drawDefinition:e,matchUpId:n}):{error:p}}function rl(t={}){return t.tournamentId||Object.assign(t,{tournamentId:yi()}),(!t.startDate||ei(t.startDate)||Vn.test(t.startDate))&&(!t.endDate||ei(t.endDate)||Vn.test(t.endDate))?{...t}:{error:Nt}}function al(t,e){var n;if("object"!=typeof t)return{error:be};const i=(null===(n=t.unifiedTournamentId)||void 0===n?void 0:n.tournamentId)||t.tournamentId;if(!i)return{error:u};const r=!1!==e?vi(t):t;return Bn({[i]:r}),jn(i),r}function ol({convertExtensions:t,removeExtensions:e,tournamentId:n}={}){if("string"!=typeof n)return{};return{tournamentRecord:vi(Zn(n),t,!1,e)}}function sl(t,e,n){if(e){const{drawId:i}=e||e.matchUp&&e.matchUp.drawId;if(i){const{event:r,drawDefinition:a}=fo({tournamentRecord:t,drawId:i});if(e={...e,event:r,drawDefinition:a},n){const t=Xo({drawDefinition:a}),{matchUps:n}=Ic({drawDefinition:a,inContext:!0,includeByeMatchUps:!0,matchUpsMap:t});e.matchUpsMap=t,e.inContextDrawMatchUps=n}}if(e.eventId&&!e.event){const{event:n}=fo({tournamentRecord:t,eventId:e.eventId});n&&(e={...e,event:n})}}return e}function cl({tournamentParticipants:t,drawDefinition:e,event:n}){if(!e)return{error:l};const i=vi(Ic({tournamentParticipants:t,drawDefinition:e,inContext:!0,event:n}).matchUps,!1,!0),r=Re(i.reduce(((t,e)=>t.concat(...e.sides.map((t=>t.participantId)).filter(Boolean))),[])),a=Object.assign({},...r.map((t=>{const e=i.filter((e=>e.sides.map((t=>t.participantId)).filter(Boolean).includes(t)));return{[t]:e}})));return{participantIds:r,participantIdMatchUps:a}}function ul({drawDefinition:t,tournamentParticipants:e,byeAdvancements:n=!1}){if(!t)return{error:l};const{participantIds:i,participantIdMatchUps:r}=cl({drawDefinition:t,tournamentParticipants:e}),a=i.map((t=>{const e=r[t].filter((t=>[$e,Ke].includes(t.matchUpStatus)||t.winningSide)),i=e.map((e=>{const i=e.sides.find((t=>t.bye)),r=e.sides.find((e=>e.participantId===t)).sideNumber;return(e.winningSide||n&&i&&r)===r?e.finishingPositionRange.winner:e.finishingPositionRange.loser})),a=t=>Math.abs(t[0]-t[1]),o=i.reduce(((t,e)=>t&&a(t)<a(e)?t:e),void 0);return{[t]:{relevantMatchUps:e,finishingPositionRanges:i,finishingPositionRange:o}}}));return Object.assign({},...a)}function dl({tournamentRecord:t,participantIds:e}){if(!t)return{error:s};if(!e||e.length<2)return{error:_t};if(e.length>2)return{error:Tt};const n=(t.participants||[]).filter((t=>t.participantType===$o&&2===Be(e,t.individualParticipantIds).length)),i=n[0];return i?{...En,participant:vi(i),duplicatedPairParticipants:vi(n)}:{error:kt}}function ll({tournamentRecord:t,groupingParticipantId:e,individualParticipantIds:n}){if(!t)return{error:s};if(!e||!n)return{error:yt};const i=(t.participants||[]).find((t=>t.participantId===e));if(!i)return{error:kt};if(![qo,Yo].includes(i.participantType))return{error:Ct,participantType:i.participantType};const{removed:r,error:a}=pl({groupingParticipant:i,individualParticipantIds:n});return a?{error:a}:(r&&Rn({topic:Aa,payload:{participants:[i]}}),{...En,removed:r})}function pl({groupingParticipant:t,individualParticipantIds:e=[]}){let n=0,i=[];return t?(t.individualParticipantIds||(t.individualParticipantIds=[]),t.individualParticipantIds=t.individualParticipantIds.filter((t=>{const i=null==e?void 0:e.includes(t);return i&&n++,!i})),i.length?{error:"Participants not removed",notRemoved:i}:{groupingParticipant:t,removed:n}):{removed:n}}function fl({groupingType:t=qo,participantRole:e=kd,tournamentRecord:n,individualParticipantIds:i=[]}){if(!n)return{error:s};const r=n.participants||[];let a=0;return r.filter((n=>(n.participantRole===e||!n.participantRole)&&n.participantType===t)).forEach((t=>{const{removed:e}=pl({groupingParticipant:t,individualParticipantIds:i});e&&a++})),a?En:{error:Zt}}function ml({tournamentRecord:t,groupingParticipantId:e,individualParticipantIds:n,removeFromOtherTeams:i}){if(!t)return{error:s};if(!e||!n)return{error:yt};const r=t.participants||[],a=r.find((t=>t.participantId===e));if(!a)return{error:kt};if(![qo,Yo].includes(a.participantType))return{error:Ct,participantType:a.participantType};const o=n.filter((t=>{const e=r.find((e=>e.participantId===t));return(null==e?void 0:e.participantType)!==Ko}));if(o.length)return{error:Tt,invalidParticipantIds:o};a.individualParticipantIds||(a.individualParticipantIds=[]);const c=a.individualParticipantIds,u=n.filter((t=>!c.includes(t)));u.length&&(i&&fl({tournamentRecord:t,individualParticipantIds:u}),a.individualParticipantIds=a.individualParticipantIds.concat(...u));const{topics:d}=Ln();if(d.includes(Aa)){const t=r.find((({participantId:t})=>t===e));Rn({topic:Aa,payload:{participants:[t]}})}return{...En,groupingParticipant:vi(a),added:u.length}}const hl="SCALE",vl="RATING",gl="RANKING",yl="SEEDING";function Il({participant:t,scaleAttributes:e,requireTimeStamp:n}){if(!t)return{error:xt};if("object"!=typeof e)return{error:Ne};if(t.timeItems||(t.timeItems=[]),t&&Array.isArray(t.timeItems)){const{accessor:i,scaleType:r,eventType:a,scaleName:o}=e,s=[hl,r,a,o].join("."),c=t.timeItems.filter((t=>(null==t?void 0:t.itemType)===s)).filter((t=>!n||(null==t?void 0:t.itemDate))).sort(((t,e)=>new Date(t.createdAt||void 0)-new Date(e.createdAt||void 0))).pop();if(c){const[t,e,n,r]=c.itemType.split(".");if(t!==hl)return{error:ge};const a=i&&cd({element:c.itemValue,accessor:i}),o=i?a.value:c.itemValue;return{scaleItem:{scaleDate:c.itemDate,scaleName:r,scaleType:e,eventType:n,scaleValue:o}}}return{error:ye}}return{error:xt}}function wl({tournamentRecord:t,participantId:e,scaleItem:n}){let i,r;const a=n&&Object.keys(n)||[],o=["scaleType","eventType","scaleName"],s=o.filter((t=>a.includes(t))).length===o.length;if(!s)return{error:ge};if(e&&s&&Array.isArray(t.participants)&&(r=t.participants.find((t=>t.participantId===e)),r)){const{newValue:t,error:e}=Nl({participant:r,scaleItem:n});if(e)return{error:e};i=n.scaleValue===t;const{topics:a}=Ln();a.includes(Aa)&&Rn({topic:Aa,payload:{participants:[r]}})}return i?{...En,message:Ee,value:n.scaleValue}:r?{...En,value:n.scaleValue}:{error:kt}}function bl({scaleItem:t}){const e=t&&Object.keys(t),n=["scaleType","eventType","scaleName"];return!!(n.filter((t=>e.includes(t))).length===n.length)}function Nl({participant:t,scaleItem:e}){if(!t)return{error:xt};const n=e&&Object.keys(e),i=["scaleType","eventType","scaleName"];if(!(i.filter((t=>n.includes(t))).length===i.length))return{error:ge};const r=(new Date).toISOString();t.timeItems||(t.timeItems=[]);const{scaleItem:a}=Il({participant:t,scaleAttributes:e});if(!a&&e.scaleValue||(null==a?void 0:a.scaleValue)!==e.scaleValue){const{scaleType:n,eventType:i,scaleName:a}=e,o={itemType:[hl,n,i,a].join("."),itemValue:e.scaleValue,itemDate:e.scaleDate,createdAt:r};e.scaleId&&(o.itemSubTypes=[e.scaleId]),t.timeItems.push(o)}return Object.assign({newValue:e.scaleValue},En)}function Sl({tournamentRecord:t,participantIds:e}){var n;if(!t)return{error:s};if(null==e||!e.length)return{error:_t};const i=(null===(n=t.participants)||void 0===n?void 0:n.length)||0;if(!i)return En;const{tournamentParticipants:r}=ld({participantFilters:{participantIds:e},withStatistics:!0,tournamentRecord:t});if(r.filter((t=>{var e;return null===(e=t.draws)||void 0===e?void 0:e.length})).length)return{error:Vt};t.participants=t.participants.filter((t=>!e.includes(t.participantId)));const a=i-t.participants.length;return fl({tournamentRecord:t,individualParticipantIds:e}),a&&Rn({topic:Na,payload:{participantIds:e}}),a?En:{error:At}}const Pl="MALE",El="FEMALE",Ul={ANY:"ANY",MALE:Pl,FEMALE:El,MIXED:"MIXED",OTHER:"OTHER"};const Al={addPenalty:md,modifyPenalty:gd,removePenalty:hd,getTournamentPenalties:vd,addParticipant:Ju,addParticipants:Xu,deleteParticipants:Sl,createGroupParticipant:function({tournamentRecord:t,participantId:e,individualParticipantIds:n=[],participantRoleResponsibilities:i,participantRole:r="OTHER",groupName:a}){if(!t)return{error:s};if(!a)return{error:yt,message:"Missing groupName"};if(!Array.isArray(n))return{error:Ne,message:"Invalid individualParticipantIds"};const{tournamentParticipants:o}=ld({tournamentRecord:t,participantFilters:{participantTypes:[Ko]}}),c=o.map((t=>t.participantId));for(const s of n)if(!c.includes(s))return{error:Ct,participantId:s};const u=ho({participantId:e||yi(),participantType:Yo,participantRole:r,participantName:a,individualParticipantIds:n,participantRoleResponsibilities:i}),d=Ju({tournamentRecord:t,participant:u});if(d.error)return d;const{topics:l}=Ln();return l.includes(ya)&&Rn({topic:ya,payload:{participants:[u]}}),{...En,participant:vi(u)}},addIndividualParticipantIds:ml,removeIndividualParticipantIds:ll,modifyIndividualParticipantIds:function({tournamentRecord:t,groupingParticipantId:e,individualParticipantIds:n}){if(!t)return{error:s};if(!e||!n)return{error:yt};const i=t.participants||[],r=i.find((t=>t.participantId===e));if(!r)return{error:kt};if(![qo,Yo].includes(r.participantType))return{error:Ct,participantType:r.participantType};const a=n.filter((t=>{const e=i.find((e=>e.participantId===t));return(null==e?void 0:e.participantType)!==Ko}));if(a.length)return{error:Tt,invalidParticipantIds:a};const o=r.individualParticipantIds||[],c=n.filter((t=>!o.includes(t))),u=o.filter((t=>!n.includes(t))),d=ml({tournamentRecord:t,groupingParticipantId:e,individualParticipantIds:c});if(d.error)return d;const l=ll({tournamentRecord:t,groupingParticipantId:e,individualParticipantIds:u});if(l.error)return l;const{topics:p}=Ln();if(p.includes(Aa)){const t=i.find((({participantId:t})=>t===e));Rn({topic:Aa,payload:{participants:[t]}})}return{...d,...l}},removeParticipantIdsFromAllTeams:fl,getParticipantMembership:function({tournamentRecord:t,participantId:e}){if(!t)return{error:s};if(!e)return{error:Lt};const{tournamentParticipants:n}=ld({tournamentRecord:t,participantFilters:{participantTypes:[qo,$o,Yo]}});return(n||[]).filter((t=>{var n;return null===(n=t.individualParticipantIds)||void 0===n?void 0:n.includes(e)})).reduce(((t,e)=>{const{participantType:n}=e;return t[n]||(t[n]=[]),t[n].push(e),t}),{})},generateTeamsFromParticipantAttribute:function({tournamentRecord:t,participantAttribute:e,personAttribute:n,accessor:i,uuids:r}){if(!t)return{error:s};const a={},o=(t.participants||[]).filter((({participantType:t,participantRole:e})=>t===Ko&&e===kd));for(const s of o){const{value:t}=cd({element:s,accessor:i}),o=t||(n?s.person[n]:s[e]);if(o){if(!Object.keys(a).includes(o)){a[o]={participantName:o,participantId:(null==r?void 0:r.pop())||yi(),participantType:qo,participantRole:kd,individualParticipantIds:[]};const t={name:Ha,value:n||e};rs({element:a[o],extension:t})}a[o].individualParticipantIds.push(s.participantId)}}const c=Object.keys(a),u=(t.participants||[]).map((t=>{if(t.participantType!==qo)return;if(t.participantRole!==kd)return;const{extension:e}=io({element:t,name:Ha}),n=null==e?void 0:e.value;return c.includes(n)?t.participantId:void 0})).filter(Boolean),d=[];let l=0;return Object.keys(a).forEach((e=>{const n=a[e],{participantId:i}=n;u.includes(i)||(t.participants.push(n),d.push(n),l++)})),l&&Rn({topic:ya,payload:{participants:d}}),l?{...En,participantsAdded:l}:{error:"No matching participants found"}},getParticipantIdFinishingPositions:function({tournamentRecord:t,drawDefinition:e,byeAdvancements:n=!1}){return t?ul({tournamentParticipants:t.participants,byeAdvancements:n,drawDefinition:e}):{error:s}},modifyParticipant:function({tournamentRecord:t,groupingParticipantId:e,removeFromOtherTeams:n,updateParticipantName:i=!0,participant:r}){if(!t)return{error:s};if(!r)return{error:xt};if(!r.participantId)return Ju({tournamentRecord:t,participant:r});const{participant:a}=ua({tournamentRecord:t,participantId:r.participantId});if(!a)return Ju({tournamentRecord:t,participant:r});const{participantName:o,onlineProfiles:c,individualParticipantIds:u,participantRole:d,participantType:l,person:p}=r,f={};if(c&&(f.onlineProfiles=c),o&&"string"==typeof o&&(f.participantName=o),Array.isArray(u)){const{tournamentParticipants:e}=ld({tournamentRecord:t,participantFilters:{participantTypes:[Jo.INDIVIDUAL]}}),n=null==e?void 0:e.map((({participantId:t})=>t));if(n){const t=u.filter((t=>"string"==typeof t&&n.includes(t)));([Yo,Qr].includes(l)||l===$o&&2===t.length)&&(f.individualParticipantIds=t),a.participantType===Jo.PAIR&&i&&(f.participantName=function({individualParticipants:t,newValues:e}){const n=e.individualParticipantIds;return t.filter((({participantId:t})=>n.includes(t))).map((({person:t})=>null==t?void 0:t.standardFamilyName)).filter(Boolean).sort().join("/")}({individualParticipants:e,newValues:f}))}}return Object.keys(Fd).includes(d)&&(f.participantRole=d),Object.keys(Jo).includes(l)&&(f.participantType=l),a.participantType===Jo.INDIVIDUAL&&p&&function({updateParticipantName:t,existingParticipant:e,newValues:n,person:i}){const r={},{sex:a,personId:o,nationalityCode:s,standardFamilyName:c,standardGivenName:u}=i;a&&Object.keys(Ul).includes(a)&&(r.sex=a);let d;o&&"string"==typeof o&&(r.personId=o);s&&"string"==typeof s&&s.length<4&&(r.nationalityCode=s);c&&"string"==typeof c&&c.length>1&&(r.standardFamilyName=c,d=!0);u&&"string"==typeof u&&u.length>1&&(r.standardGivenName=u,d=!0);if(d&&t){const t=`${r.standardGivenName} ${r.standardFamilyName}`;n.participantName=t}Object.assign(e.person,r)}({updateParticipantName:i,existingParticipant:a,newValues:f,person:p}),Object.assign(a,f),e&&ml({tournamentRecord:t,groupingParticipantId:e,individualParticipantIds:[a.participantId],removeFromOtherTeams:n}),Rn({topic:Aa,payload:{participants:[a]}}),Mn()?{...En,participant:vi(a)}:{...En}},modifyParticipantName:function({tournamentRecord:t,participantId:e,participantName:n}){if(!t)return{error:s};if(!e)return{error:Lt};if(!n)return{error:yt,message:"Missing participantName"};const{participant:i}=ua({tournamentRecord:t,participantId:e});if(!i)return{error:kt};i.participantName=n;const{topics:r}=Ln();return r.includes(Aa)&&Rn({topic:Aa,payload:{participants:[i]}}),En},modifyParticipantOtherName:function({tournamentRecord:t,participantId:e,participantOtherName:n}){if(!t)return{error:s};if(!e)return{error:Lt};const{participant:i}=ua({tournamentRecord:t,participantId:e});if(!i)return{error:kt};i.participantOtherName=n;const{topics:r}=Ln();return r.includes(Aa)&&Rn({topic:Aa,payload:{participants:[i]}}),En},mergeParticipants:function({tournamentRecord:t,participants:e=[],arraysToMerge:n}){if(!t)return{error:s};t.participants||(t.participants=[]);const i=Object.assign(...e.filter((({participantId:t})=>t)).map((t=>({[t.participantId]:t})))),r=[];t.participants=t.participants.map((t=>{if(i[t.participantId]){const e=pd(t,i[t.participantId],n);return r.push(e),e}return t}));const a=t.participants.map((({participantId:t})=>t)),o=e.filter((({participantId:t})=>!a.includes(t))),{topics:c}=Ln();return o.length&&(t.participants=t.participants.concat(...o),c.includes(ya)&&Rn({topic:ya,payload:{participants:o}})),r.length&&c.includes(Aa)&&Rn({topic:Aa,payload:{participants:r}}),o.length||r.length?En:void 0},getPairedParticipant:dl,setParticipantScaleItem:wl,setParticipantScaleItems:function({tournamentRecord:t,scaleItemsWithParticipantIds:e=[]}){if(!t)return{error:s};if(!t.participants)return{error:Ot};let n=0;const i={},r=[];for(const s of e){const t=null==s?void 0:s.participantId;Array.isArray(null==s?void 0:s.scaleItems)&&s.scaleItems.forEach((e=>{if(!bl({scaleItem:e}))return{error:ge};Array.isArray(i[t])||(i[t]=[]),i[t].push(e)}))}t.participants.forEach((t=>{const{participantId:e}=t||{};Array.isArray(i[e])&&i[e].forEach((e=>{Nl({participant:t,scaleItem:e}),r.push(t),n++}))}));const a=!n&&Ie,{topics:o}=Ln();return o.includes(Aa)&&n&&Rn({topic:Aa,payload:{participants:r}}),{...En,modificationsApplied:n,message:a}},modifyParticipantsSignInStatus:function({tournamentRecord:t,participantIds:e,signInState:n}){if(!t)return{error:s};if(!Array.isArray(e))return{error:yt};if(![ad,od].includes(n))return{error:Ne,signInState:n};const i=t.participants||[];if(!i.length)return{error:Ot};const r=[],a=(new Date).toISOString();for(const s of i){const{participantId:i}=s;if(e.includes(i)){const e=fa({tournamentRecord:t,duplicateValues:!1,participantId:i,timeItem:{itemType:ed,itemValue:n,createdAt:a}});if(e.error)return e;r.push(s)}}const{topics:o}=Ln();return r.length&&o.includes(Aa)&&Rn({topic:Aa,payload:{participants:r}}),{...En}},getParticipantEventDetails:function({tournamentRecord:t,participantId:e}){if(!t)return{error:s};if(!e)return{error:Lt};const n=[e].concat((t.participants||[]).filter((t=>{var n;return[qo,$o].includes(t.participantType)&&(null===(n=t.individualParticipantIds)||void 0===n?void 0:n.includes(e))})).map((t=>t.participantId)));return{eventDetails:(t.events||[]).filter((t=>je(((null==t?void 0:t.entries)||[]).map((t=>t.participantId)),n))).map((t=>({eventName:t.eventName,eventId:t.eventId})))}},findParticipant:function({tournamentRecord:t,participantId:e,personId:n,policyDefinitions:i,convertExtensions:r,inContext:a}){return t?"string"!=typeof e&&"string"!=typeof n?{error:yt}:{participant:vi(ca({tournamentParticipants:t.participants||[],participantId:e,personId:n,inContext:a,policyDefinitions:i}),r,!0)}:{error:s}},getTournamentParticipants:ld,getTournamentPersons:function({tournamentRecord:t,participantFilters:e}){if(!t)return{error:s};let n=t.participants||[];e&&(n=ud({tournamentRecord:t,participantFilters:e,participants:n}));const i={},r=t=>{if(t.person){const{personId:e}=t.person;i[e]?i[e].participantIds.push(t.participantId):i[e]={...t.person,participantIds:[t.participantId]}}};return n.forEach((t=>{t.person&&r(t),t.individualParticipants&&t.individualParticipants.forEach(r)})),{tournamentPersons:Object.values(i)}}};function Dl({tournamentRecord:t,courtId:e}){if(!t)return{error:s};if(!e)return{error:gt};const{court:n,error:i}=Js({tournamentRecord:t,courtId:e});if(i)return{error:i};const r=(({altitude:t,courtId:e,courtName:n,courtDimensions:i,latitude:r,longitude:a,surfaceCategory:o,surfaceType:s,surfaceDate:c,pace:u,notes:d})=>({altitude:t,courtId:e,courtName:n,courtDimensions:i,latitude:r,longitude:a,surfaceCategory:o,surfaceType:s,surfaceDate:c,pace:u,notes:d}))(n);return{...En,courtInfo:vi(r)}}function Ml({tournamentParticipants:t=[],policyDefinitions:e,inContext:n=!0,drawDefinition:i,context:r,event:a}){if(!i)return{error:l};const o=(({drawId:t,drawName:e,matchUpFormat:n,updatedAt:i})=>({drawId:t,drawName:e,matchUpFormat:n,updatedAt:i}))(i);let s,c;const{structureGroups:u}=function({drawDefinition:t}){let e=(t.links||[]).map((t=>[t.source.structureId,t.target.structureId]));const n=e.length;Ze(0,Math.ceil(n/2)).forEach((()=>{e=Ze(0,n).map((t=>{const n=e[t],i=e.reduce(((t,e)=>je(n,e)?t.concat(...e):t),[])||[];return Re(n.concat(...i))}))}));const i=e[0],r=(t,e)=>Be(t,e).length===t.length,a=e.slice(1).reduce(((t,e)=>t&&r(e,i)),!0),o=[i].filter(Boolean);(t.structures||[]).forEach((t=>{const{structureId:e}=t;o.find((t=>t.includes(e)))||o.push([e])}));const s=a&&1===o.length;return{structureGroups:o,allStructuresLinked:s}}({drawDefinition:i});let d=!1,p=!1;const f=u.map((u=>{const l=u.map((t=>{const{structure:e}=es({drawDefinition:i,structureId:t}),{seedAssignments:n}=Ls({drawDefinition:i,structure:e});return e.stage===Vi&&1===e.stageSequence&&(s=n),e.stage===Hi&&1===e.stageSequence&&(c=n),e})).sort(ts).map((u=>{const{structureId:l}=u;let f=[];[Vi,Wi,Ki].includes(u.stage)&&(f=s),u.stage===Hi&&(f=c);const{matchUps:m,roundMatchUps:h}=Ws({context:{drawId:o.drawId,...r},tournamentParticipants:t,policyDefinitions:e,seedAssignments:f,drawDefinition:i,structure:u,inContext:n,event:a}),{positionAssignments:v}=Zs({structure:u}),g=v.filter((({participantId:t})=>t)).map((t=>{p=!0;const{drawPosition:e,participantId:n}=t,{extension:i}=io({element:t,name:"tally"});return i&&{drawPosition:e,participantId:n,participantResult:i.value}})).filter((t=>null==t?void 0:t.participantResult)),y=(({stage:t,stageSequence:e,structureName:n,structureType:i,matchUpFormat:r,positionAssignments:a})=>({stage:t,stageSequence:e,structureName:n,structureType:i,matchUpFormat:r,positionAssignments:a}))(u);return y.structureActive=m.reduce(((t,e)=>{var n;const i=[$e,qe,Je,nn,on,Qe,Xe].includes(e.matchUpStatus);return t||i||!!e.winningSide||!(null===(n=e.score)||void 0===n||!n.scoreStringSide1)}),!1),y.structureCompleted=m.reduce(((t,e)=>t&&[Ke,$e,nn,on,Je,We].includes(e.matchUpStatus)),!0),y.structureActive&&(d=!0),{...y,structureId:l,roundMatchUps:h,seedAssignments:f,participantResults:g}}));return l.forEach((t=>delete t.positionAssignments)),l}));if(f.length>1){const t={error:"drawDefinition contains unlinked structures"};return Mn()&&console.log(t),t}const m=f.flat();return o.drawActive=d,o.participantPlacements=p,o.drawGenerated=null==m?void 0:m.reduce(((t,e)=>t||!(null==e||!e.roundMatchUps)),!1),o.drawCompleted=null==m?void 0:m.reduce(((t,e)=>t&&e.structureCompleted),!0),{...En,drawInfo:vi(o),structures:vi(m)}}function Tl({tournamentRecord:t,venueId:e}){if(!t)return{error:s};if(!e)return{error:se};const{venue:n,error:i}=$s({tournamentRecord:t,venueId:e});if(i)return{error:i};const r=(n.courts||[]).map((e=>(({courtInfo:t})=>({...t}))(Dl({tournamentRecord:t,courtId:e.courtId})))),a={...(({venueId:t,venueName:e,venueAbbreviation:n})=>({venueId:t,venueName:e,venueAbbreviation:n}))(n),courtsInfo:r};return{...En,venueData:vi(a)}}function Cl({tournamentRecord:t,event:e,policyDefinitions:n}){if(!t)return{error:s};if(!e)return{error:F};const{eventId:i}=e,{tournamentId:r,endDate:a}=t,o=(null==t?void 0:t.participants)||[],c=(e.drawDefinitions||[]).map((t=>(({drawInfo:t,structures:e})=>({...t,structures:e}))(Ml({tournamentParticipants:o,policyDefinitions:n,drawDefinition:t,context:{eventId:i,tournamentId:r,endDate:a},event:e})))),{tournamentInfo:u}=xu({tournamentRecord:t}),d=(t.venues||[]).map((e=>(({venueData:t})=>({...t}))(Tl({tournamentRecord:t,venueId:e.venueId})))),l={eventInfo:(({eventId:t,eventName:e,eventType:n,eventLevel:i,surfaceCategory:r,matchUpFormat:a,category:o,gender:s,startDate:c,endDate:u,ballType:d,discipline:l})=>({eventId:t,eventName:e,eventType:n,eventLevel:i,surfaceCategory:r,matchUpFormat:a,category:o,gender:s,startDate:c,endDate:u,ballType:d,discipline:l}))(e),drawsData:c,venuesData:d,tournamentInfo:u},{timeItem:p}=la({event:e,itemType:"PUBLISH.STATUS"});return l.eventInfo.publish={state:null==p?void 0:p.itemValue,createdAt:null==p?void 0:p.createdAt},{...En,eventData:vi(l)}}const Rl={getTournamentInfo:xu,getVenueData:Tl,getCourtInfo:Dl,getAllEventData:function({tournamentRecord:t,policyDefinitions:e}){if(!t)return{error:s};const n=t.events||[],i=(null==t?void 0:t.participants)||[],{tournamentInfo:r}=xu({tournamentRecord:t}),{venues:a}=qs({tournamentRecord:t});return{allEventData:{tournamentInfo:r,venuesData:a,eventsData:n.map((n=>{const{eventId:r}=n,a=(({eventId:t,eventName:e,eventType:n,eventLevel:i,surfaceCategory:r,matchUpFormat:a,category:o,gender:s,startDate:c,endDate:u,ballType:d,discipline:l})=>({eventId:t,eventName:e,eventType:n,eventLevel:i,surfaceCategory:r,matchUpFormat:a,category:o,gender:s,startDate:c,endDate:u,ballType:d,discipline:l}))(n),o=so({tournamentRecord:t,event:n}).scheduleTiming,s=(n.drawDefinitions||[]).map((a=>{const s=(({drawId:t,drawName:e,matchUpFormat:n,updatedAt:i})=>({drawId:t,drawName:e,matchUpFormat:n,updatedAt:i}))(a),{pendingMatchUps:c,completedMatchUps:u,upcomingMatchUps:d,abandonedMatchUps:l}=wc({event:n,context:{eventId:r},inContext:!0,drawDefinition:a,scheduleTiming:o,policyDefinitions:e,tournamentRecord:t,includeByeMatchUps:!1,requireParticipants:!0,tournamentParticipants:i});return{drawInfo:s,matchUps:{abandonedMatchUps:l,completedMatchUps:u,upcomingMatchUps:d,pendingMatchUps:c}}})),{timeItem:c}=la({event:n,itemType:"PUBLISH.STATUS"});return Object.assign(a,{publish:null==c?void 0:c.itemValue,drawsData:s}),a}))}}},getEventData:Cl,getDrawData:Ml,publishEvent:function({tournamentRecord:t,policyDefinitions:e,status:n=Co,structureIds:i=[],drawIdsToRemove:r,drawIdsToAdd:a,drawIds:o,event:c}){var u,d,l;if(!t)return{error:s};if(!c)return{error:F};if(o||a||r){if(!o&&(null!=a&&a.length||null!=r&&r.length)){var p,f;const{timeItem:t}=la({event:c,itemType:m});o=(null==t||null===(p=t.itemValue)||void 0===p||null===(f=p.PUBLIC)||void 0===f?void 0:f.drawIds)||[]}}else o=(null===(l=c.drawDefinitions)||void 0===l?void 0:l.map((({drawId:t})=>t)))||[];o=(o||[]).filter((t=>!(null!=r&&r.length&&r.includes(t)))),null!=a&&a.length&&(o=o.concat(...a));const m="PUBLISH.STATUS",h=ha({event:c,timeItem:{itemType:m,itemValue:{[n]:{drawIds:o,structureIds:i}}}});if(h.error)return{error:h.error};const{eventData:v}=Cl({tournamentRecord:t,policyDefinitions:e,event:c}),g=null==v||null===(u=v.eventInfo)||void 0===u||null===(d=u.publish)||void 0===d?void 0:d.state;return v.drawsData=v.drawsData.filter((({drawId:t})=>{var e;return null==g||null===(e=g.PUBLIC)||void 0===e?void 0:e.drawIds.includes(t)})),Rn({topic:Ma,payload:{eventData:v}}),{...En,eventData:v}},unPublishEvent:function({tournamentRecord:t,event:e}){if(!t)return{error:s};if(!e)return{error:F};const n=ha({event:e,timeItem:{itemType:"PUBLISH.STATUS",itemValue:Ro}});return n.error?{error:n.error}:(Rn({topic:"unPublishEvent",payload:{eventId:e.eventId}}),Object.assign({eventId:e.eventId},En))}};const xl={addNotes:jc,removeNotes:function({element:t}={}){return"object"!=typeof t?{error:Ne}:(t.notes&&delete t.notes,En)},setTournamentName:function({tournamentRecord:t,tournamentName:e,promotionalName:n,formalName:i}){return t?(e&&(t.tournamentName=e),n&&(t.promotionalName=n),i&&(t.formalName=i),t.promotionalName===t.tournamentName&&delete t.promotionalName,t.formalName===t.tournamentName&&delete t.formalName,En):{error:s}},setTournamentNotes:function({tournamentRecord:t,notes:e}){return t?jc({element:t,notes:e}):{error:s}},setTournamentEndDate:function({tournamentRecord:t,endDate:e}){return t?Wn.test(e)?(t.startDate&&new Date(e)<new Date(t.startDate)&&(t.startDate=e),t.endDate=e,En):{error:Nt}:{error:s}},setTournamentStartDate:function({tournamentRecord:t,startDate:e}){return t?Wn.test(e)?(t.endDate&&new Date(e)>new Date(t.endDate)&&(t.endDate=e),t.startDate=e,En):{error:Nt}:{error:s}},setTournamentCategories:function({tournamentRecord:t,categories:e}){return t?(e=(e||[]).filter((t=>t.categoryName&&t.type)),t.tournamentCategories=e,En):{error:s}},addEventTimeItem:ha,addTournamentTimeItem:ma,addParticipantTimeItem:fa,addEventExtension:cs,removeEventExtension:ds,addTournamentExtension:os,removeTournamentExtension:us,addParticipantExtension:function({tournamentRecord:t,participantId:e,extension:n}={}){if(!e)return{error:Lt};const i=ca({tournamentParticipants:(null==t?void 0:t.participants)||[],participantId:e});return i?rs({element:i,extension:n}):{error:kt}},removeParticipantExtension:function({tournamentRecord:t,participantId:e,name:n}={}){if(!e)return{error:Lt};const i=ca({tournamentParticipants:(null==t?void 0:t.participants)||[],participantId:e});return i?as({element:i,name:n}):{error:kt}},addDrawDefinitionExtension:ss,removeDrawDefinitionExtension:function({drawDefinition:t,name:e}={}){return t?as({element:t,name:e}):{error:p}}};const Ol={assignMatchUpCourt:Qs,assignMatchUpVenue:Ys,addMatchUpScheduleItems:Zd,addMatchUpScheduledDate:_d,addMatchUpScheduledTime:Bd,addMatchUpStartTime:jd,addMatchUpEndTime:Gd,addMatchUpStopTime:Vd,addMatchUpResumeTime:Hd,addMatchUpOfficial:Wd,getMatchUpFormatTiming:lo,modifyMatchUpFormatTiming:wd,getModifiedMatchUpFormatTiming:Id,getEventMatchUpFormatTiming:Sd,modifyEventMatchUpFormatTiming:Nd,removeEventMatchUpFormatTiming:Dd,getMatchUpFormatTimingUpdate:function({tournamentRecord:t}){if(!t)return{error:s};const e=[],{extension:n}=ro({tournamentRecord:t,name:$a});n&&e.push({method:"addTournamentExtension",params:{extension:n}});const i=t.events||[];for(const r of i){const{eventId:t}=r,{extension:n}=ao({event:r,name:$a});n&&e.push({method:"addEventExtension",params:{eventId:t,extension:n}})}return{methods:e}},getMatchUpDailyLimits:Ad,setMatchUpDailyLimits:Kd,getMatchUpDailyLimitsUpdate:function({tournamentRecord:t}){if(!t)return{error:s};const e=[],{extension:n}=ro({tournamentRecord:t,name:qa});n&&e.push({method:"addTournamentExtension",params:{extension:n}});const i=t.events||[];for(const r of i){const{eventId:t}=r,{extension:n}=ao({event:r,name:qa});n&&e.push({method:"addEventExtension",params:{eventId:t,extension:n}})}return{methods:e}},isValidSchedulingProfile:Cu,setSchedulingProfile:function({tournamentRecord:t,schedulingProfile:e}){return t?Array.isArray(e)?ku({tournamentRecord:t,schedulingProfile:e}):{error:Ne}:{error:s}},getSchedulingProfile:Lu,removeMatchUpCourtAssignment:function({drawDefinition:t,matchUpId:e,courtDayDate:n}){return Rd({drawDefinition:t,matchUpId:e,courtDayDate:n})},clearScheduledMatchUps:xd,bulkScheduleMatchUps:Dc,bulkRescheduleMatchUps:zd};function Ll({tournamentRecord:t,categoryName:e,categoryType:n}){if(!t)return{error:s};const{appliedPolicies:i}=Qa({tournamentRecord:t}),r=null==i?void 0:i.draws;return((null==r?void 0:r.allowedDrawTypes)||[]).filter((({categoryNames:t,categoryTypes:i})=>!e&&!i||e&&(null==t?void 0:t.includes(e))||n&&(null==i?void 0:i.includes(n))))}function kl({participantCount:t}){if(isNaN(t))return{error:Ne};return{drawSize:[0,2,4,8,16,32,64,128,256,512,1024].find((e=>e>=t))||0}}function Fl({selected:t=!0,drawDefinition:e,entryStatuses:n,drawId:i,event:r,stage:a}){let o=r.entries;if(i){var s;const{flightProfile:t}=qu({event:r}),n=null==t||null===(s=t.flights)||void 0===s?void 0:s.find((t=>t.drawId===i));o=n?n.drawEntries:null==e?void 0:e.entries}const c=o.filter((e=>(!(null!=n&&n.length)||!e.entryStatus||n.includes(e.entryStatus))&&(!a||!e.entryStage||e.entryStage===a)&&(!t||Ps.includes(e.entryStatus))));return{entries:o,stageEntries:c}}function Zl({tournamentRecord:t,drawDefinition:e,event:n,requireParticipantCount:i=!0,drawSizeProgression:r=!1,policyDefinitions:a,participantCount:o,drawSize:s}={}){if(!a){const i=Gc({tournamentRecord:t,drawDefinition:e,event:n});if(i.error)return i;a=i.policyDefinitions}if(o&&isNaN(o))return{error:Ne};if(i&&isNaN(o))return{error:Bt};if(!s){if(!o)return{error:S};({drawSize:s}=kl({participantCount:o}))}if((i&&o||s)>s)return{error:Kt};const c=a.seeding;if(!c)return{error:lt};const u=c.seedsCountThresholds;if(!u)return{error:A};void 0!==c.drawSizeProgression&&(r=c.drawSizeProgression);return{seedsCount:u.filter((t=>r?t.drawSize<=s:s===t.drawSize)).reduce(((t,e)=>o>=e.minimumParticipantCount?e.seedsCount:t),0)}}function _l({drawDefinition:t,drawId:e,event:n,policyDefinitions:i,drawSize:r,stage:a}){if(!n)return{error:F};const{entries:o,stageEntries:s}=Fl({drawDefinition:t,drawId:e,stage:a,event:n}),c=s.length,{drawSize:u}=kl({participantCount:c}),{seedsCount:d,error:l}=Zl({policyDefinitions:i,participantCount:c,drawSize:r||u});return l?{error:l}:{entries:o,seedsCount:d,stageEntries:s}}const Bl={attachPolicies:qd,attachEventPolicies:$d,removeEventPolicy:function({event:t,policyType:e}){if(!e)return{error:yt};if(!t)return{error:F};let n;if(t.extensions){const{appliedPolicies:i}=to({event:t});if(i&&i[e])if(delete i[e],n=!0,Object.keys(i).length){cs({event:t,extension:{name:_a,value:i}})}else ds({event:t,name:_a})}return n?En:{error:mt}},findPolicy:no,getSeedsCount:Zl,getEntriesAndSeedsCount:_l,getAllowedDrawTypes:Ll,getAllowedMatchUpFormats:function({tournamentRecord:t,categoryName:e,categoryType:n}){if(!t)return{error:s};const{appliedPolicies:i}=Qa({tournamentRecord:t}),r=null==i?void 0:i.scoring;return((null==r?void 0:r.matchUpFormats)||[]).filter((({categoryNames:t,categoryTypes:i})=>!e&&!i||e&&(null==t?void 0:t.includes(e))||n&&(null==i?void 0:i.includes(n))))},getEventAppliedPolicies:to};function jl({tournamentRecord:t,event:e}){if(!t)return{error:s};t.events||(t.events=[]);const{startDate:n,endDate:i}=t,r=Object.assign({},{eventId:void 0,eventName:"",eventType:Bo,eventLevel:void 0,surfaceCategory:void 0,category:void 0,gender:void 0,startDate:void 0,endDate:void 0,entries:[],ballType:void 0,discipline:void 0},{startDate:n,endDate:i},e);r.eventId||(r.eventId=yi());return t.events.reduce(((t,e)=>t||e.eventId===r.eventId),void 0)?{error:_}:(t.events.push(r),{...En,event:r})}const Gl="deleteEvents",Vl="deleteDrawDefinitions";function Hl({entries:t=[]}={}){const e=t.reduce(((t,e)=>{const{entryStage:n,entryStatus:i}=e,r=`_${n||Vi}${i||""}`;return t[r]||(t[r]=[]),t[r].push(e),t}),{}),n=t=>isNaN(t)?9999:t;return Object.keys(e).map((t=>e[t].sort(((t,e)=>n(t.entryPosition)-n(e.entryPosition))).map(((t,e)=>{const n=e;return Object.assign(t,{entryPosition:n})})))).flat()}function Wl({participantId:t,drawDefinition:e,entryStatus:n,entryStage:i}){var r;if(!e)return{error:l};const a=null===(r=e.entries)||void 0===r?void 0:r.find((e=>!(e.participantId!==t||n&&n!==e.entryStatus||i&&i!==e.entryStage)));return t&&a}function zl({drawDefinition:t,participantId:e,participant:n,entryStage:i=Vi,entryStatus:r=gs,entryPosition:a}){if(!t)return{error:l};if(!i)return{error:V};if(!As({stage:i,drawDefinition:t}))return{error:H};const o=Os({stage:i,drawDefinition:t,entryStatus:r});if(!o.success)return{error:o.error};if(!(e=e||n&&n.participantId))return{error:Lt};const s=r===Is&&Wl({participantId:e,drawDefinition:t,entryStatus:r}),c=i===zi&&Wl({participantId:e,drawDefinition:t,entryStage:i});if(r!==Is&&i!==zi&&Wl({drawDefinition:t,participantId:e})||s||c)return{error:zt};const u=ho({...n,participantId:e,entryStage:i,entryStatus:r,entryPosition:a});return t.entries.push(u),La({drawDefinition:t}),{...En}}function Kl({drawDefinition:t,participantIds:e,entryStatus:n=gs,stage:i=Vi,autoEntryPositions:r=!0}){if(!i)return{error:V};if(!t)return{error:l};if(!Array.isArray(e))return{error:Tt};if(!As({stage:i,drawDefinition:t}))return{error:H};const a=Os({stage:i,drawDefinition:t,entryStatus:n});if(!a.success)return{error:a.error};if((a.positionsAvailable||0)<e.length)return{error:qt};const o=e.reduce(((e,r)=>{const a=n===Is&&Wl({participantId:r,drawDefinition:t,entryStatus:n}),o=i===zi&&Wl({participantId:r,drawDefinition:t,entryStage:i});return n!==Is&&i!==zi&&Wl({drawDefinition:t,participantId:r})||a||o?e.concat({participantId:r,error:zt}):e}),[]);return o.length?{error:j,invalidParticipantIds:o}:(e.forEach((e=>{const r=Object.assign({participantId:e},{entryStage:i,entryStatus:n});t.entries.push(r)})),r&&(t.entries=Hl({entries:t.entries})),La({drawDefinition:t}),{...En})}function ql({drawDefinition:t,participantIds:e,entryStatus:n,entryStage:i,drawId:r,event:a,autoEntryPositions:o=!0}){if(!r)return{error:P};if(!a)return{error:Z};const s=a.entries.map((({participantId:t})=>t));if(e.filter((t=>!s.includes(t))).length)return{error:B};if(t){const r=Kl({drawDefinition:t,participantIds:e,entryStatus:n,stage:i,autoEntryPositions:o});if(r.error)return r}const{flightProfile:c}=qu({event:a}),u=null==c?void 0:c.flights.find((t=>t.drawId===r));return null!=u&&u.drawEntries&&(e.forEach((t=>{const e=n===Is&&$l({participantId:t,entryStatus:n,flight:u}),r=i===zi&&$l({participantId:t,entryStage:i,flight:u});n!==Is&&i!==zi&&$l({flight:u,participantId:t})||e||r||u.drawEntries.push({participantId:t,entryStatus:n,entryStage:i})})),o&&(u.drawEntries=Hl({entries:u.drawEntries}))),En}function $l({participantId:t,entryStatus:e,entryStage:n,flight:i}){var r;const a=null===(r=i.drawEntries)||void 0===r?void 0:r.find((i=>!(i.participantId!==t||e&&e!==i.entryStatus||n&&n!==i.entryStage)));return t&&a}function Yl(t){return[Ns,Ss].includes(t)}function Jl({autoEntryPositions:t=!0,tournamentRecord:e,participantIds:n,event:i}){var r,a,o,s;if(null==i||!i.eventId)return{error:F};if(!Array.isArray(n))return{error:_t};if(null===(a=n=null===(r=n)||void 0===r?void 0:r.filter(Boolean))||void 0===a||!a.length)return{error:_t};const{eventId:c}=i,{tournamentParticipants:u}=ld({participantFilters:{participantIds:n},withStatistics:!0,tournamentRecord:e});if(null==u?void 0:u.every((t=>{var e;const n=t.events.find((t=>t.eventId===c));return null==n||null===(e=n.drawIds)||void 0===e?void 0:e.length})))return{error:Wt};i.entries=(i.entries||[]).filter((t=>!n.includes(null==t?void 0:t.participantId))),t&&(i.entries=Hl({entries:i.entries}));const{flightProfile:d}=qu({event:i});return null==d||null===(o=d.flights)||void 0===o||o.forEach((t=>{t.drawEntries=(t.drawEntries||[]).filter((t=>!n.includes(t.participantId)))})),null===(s=i.drawDefinitions)||void 0===s||s.forEach((t=>{t.entries=(t.entries||[]).filter((t=>!n.includes(t.participantId)))})),En}function Xl(t){var e;const{tournamentRecord:n,drawDefinition:i,drawId:r,event:a,participantIds:o=[],entryStatus:s=gs,entryStage:c=Vi,autoEntryPositions:u=!0}=t;if(!a)return{error:F};if(!o||!o.length)return{error:_t};if(!a||!a.eventId)return{error:Z};const d=(null==n||null===(e=n.participants)||void 0===e?void 0:e.filter((t=>a.eventType===Jr&&t.participantType===Ko||(a.eventType===Xr&&t.participantType===$o||(!(a.eventType!==Xr||t.participantType!==Ko||!Yl(s))||a.eventType===qo&&t.participantType===qo)))).map((t=>t.participantId)))||[],l=o.filter((t=>!d.length||d.includes(t)));a.entries||(a.entries=[]);const p=a.entries.map((t=>t.participantId||t.participant&&t.participant.participantId));let f;if(l.forEach((t=>{p.includes(t)||a.entries.push({participantId:t,entryStatus:s,entryStage:c})})),r){const t=ql({participantIds:l,autoEntryPositions:u,drawDefinition:i,entryStatus:s,entryStage:c,drawId:r,event:a});t.error&&(f=t.error)}if(a.eventType===Xr){const t=a.entries.map((t=>t.participantId)),e=a.entries.filter((t=>Yl(t.entryStatus))).map((t=>t.participantId)),i=((null==n?void 0:n.participants)||[]).filter((e=>t.includes(e.participantId)&&e.participantType===$o)).map((t=>t.individualParticipantIds)).flat(1/0),r=e.filter((t=>i.includes(t)));r.length&&Jl({tournamentRecord:n,participantIds:r,autoEntryPositions:!1,event:a})}const m=!(l.length===o.length);return u&&(a.entries=Hl({entries:a.entries})),m?{error:Tt}:Object.assign({message:f},En)}function Ql({removeGroupParticipant:t,tournamentRecord:e,drawDefinition:n,participantId:i,entryStatus:r,drawId:a,event:o}){return function({removeGroupParticipant:t,tournamentRecord:e,drawDefinition:n,participantId:i,entryStatus:r,drawId:a,stage:o,event:c}){if(!e)return{error:s};if(!i)return{error:Lt};if(!c)return{error:F};if(![jo,Go].includes(c.eventType))return{error:k};const u=e.participants||[],d=u.find((t=>t.participantId===i));if(!d)return{error:kt};if(![$o,Go].includes(d.participantType)||d.participantType===Go&&c.eventType!==Go||d.participantType===$o&&c.eventType!==jo)return{error:Ct};const l=Ss,p=(c.entries||[]).find((t=>t.participantId===i));if(!p)return{error:Yt};const{stageEntries:f}=Fl({entryStatusees:[gs,fs,vs],selected:!1,drawDefinition:n,drawId:a,event:c,stage:o}),m=f.map((({participantId:t})=>t)),h=u.filter((({participantId:t})=>m.includes(t))).map((({individualParticipantIds:t})=>t)).flat().filter(Boolean),v=d.individualParticipantIds.filter((t=>1===_e(t,h).length));let g,y=Jl({event:c,drawId:a,drawDefinition:n,tournamentRecord:e,participantIds:[i]});if(y.error)return y;if(v.length&&(y=Xl({event:c,drawId:a,drawDefinition:n,tournamentRecord:e,entryStage:p.entryStage,entryStatus:r||l,participantIds:v}),y.error))return y;t&&Sl({tournamentRecord:e,participantIds:[i]}).success&&(g=!0);return{...En,participantRemoved:g}}({removeGroupParticipant:t,individualEntryStatus:Ss,tournamentRecord:e,drawDefinition:n,participantId:i,entryStatus:r,drawId:a,event:o})}function tp({element:t,participantId:e,stage:n,stageSequence:i}){const r=(t.entries||[]).filter((t=>t.entryStatus===fs)),a=(t.entries||[]).find((t=>t.participantId===e))||r.reduce(((t,e)=>{const{entryPosition:n}=e;return isNaN(n)?t:!t||n<t.entryPosition?e:t}),void 0);if(!a)return{error:Yt};if(a.entryStatus!==fs)return{error:$t};if(a.stage&&a.entryStage!==n)return{error:"Participant not entered in stage"};if(i&&a.stageSequence!==i)return{error:"Participant not found in stageSequence"};a.entryStatus=gs;const o=null==a?void 0:a.entryPosition;isNaN(o)||t.entries.forEach((t=>{t.entryStatus===fs&&t.entryPosition>o&&(t.entryPosition=t.entryPosition-1)}));let s=Math.max(...t.entries.filter((t=>t.entryStatus===gs&&!isNaN(t.entryPosition))).map((({entryPosition:t})=>parseInt(t||0))),0);return a.entryPosition=s||0,En}function ep({event:t,participants:e,ignoreGender:n}){if(!e)return{error:Ot};if(!t)return{error:F};const{eventType:i,gender:r}=t,a=i===Jr?Ko:i===Xr?$o:Qr,o=Object.assign({},...t.entries.map((t=>({[t.participantId]:t.entryStatus})))),s=Object.keys(o),c=e.filter((t=>s.includes(t.participantId))).filter((t=>{const e=o[t.participantId],s=i===Xr&&t.participantType===Ko&&(Yl(e)||e===bs),c=t.participantType!==a&&!s,u=!n&&i===Ko&&[Pl,El].includes(r)&&t.sex!==r;return c||u}));if(c.length){const t=c.map((t=>t.participantId));return{error:j,invalidParticipantIds:t}}return En}function np({drawDefinition:t,participantId:e,structureId:n,seedNumber:i,seedValue:r}){const{structure:a}=es({drawDefinition:t,structureId:n}),{positionAssignments:o}=_s({structure:a}),{seedAssignments:s}=Ls({drawDefinition:t,structure:a}),c=s.map((t=>t.seedNumber)),u=Wl({drawDefinition:t,participantId:e});if(e&&!u)return{error:Mt,participantId:e,method:"assignSeed"};const d=o.find((t=>t.participantId===e)),l=null==d?void 0:d.drawPosition;if(l){if(!hu({seedNumber:i,drawDefinition:t,structureId:n,drawPosition:l}))return{error:m}}if(c.includes(i)){let n;if(s.forEach((t=>{t.participantId===e&&t.seedNumber!==i&&(t.participantId=void 0),t.seedNumber===i&&(t.participantId=e,t.seedValue=r||i,n=!0)})),n)return La({drawDefinition:t}),{...En}}return{error:M}}function ip({participant:t,participants:e,idCollections:n,policyAttributes:i}){if(!Array.isArray(i))return{error:dt};if(!t)return{error:xt};const r=[];i.forEach((i=>{const o=t,{directive:s,groupings:c,key:u,significantCharacters:d}=i||{};if(u){a({value:o,keys:u.split("."),significantCharacters:d})}else if(s){const a=null==i?void 0:i.includeIds,o=(n&&n[s]||[]).filter((t=>!a||a.includes(t)));null!=o&&o.length&&null!=e&&e.length&&o.forEach((n=>{var i;const a=e.find((t=>t.participantId===n));if(null!=a&&null!==(i=a.individualParticipantIds)&&void 0!==i&&i.includes(t.participantId)){const t=null==a?void 0:a.participantId;r.push(t)}}))}else c&&Object.keys(c).forEach((e=>{c[e].includes(t.participantId)&&r.push(e)}))}));return{values:Re(r)};function a({value:t,keys:e=[],significantCharacters:n}){for(const[r,o]of e.entries())if(t&&t[o])if(Array.isArray(t[o])){const i=t[o],s=e.slice(r);i.forEach((t=>a({value:t,keys:s,significantCharacters:n})))}else i({value:t=t[o],index:r});function i({value:t,index:i}){if(t&&i===e.length-1&&["string","number"].includes(typeof t)){const e=n?t.slice(0,n):t;r.push(e)}}}}function rp({candidatePositionAssignments:t,participantsWithGroupings:e,policyAttributes:n,idCollections:i}){const r=Object.assign({},...e.map((t=>({[t.participantId]:t}))));return t.map((t=>{const a=r[t.participantId],{values:o}=ip({participant:a,policyAttributes:n,idCollections:i,participants:e});return{...t,values:o}}))}function ap({participantIdGroups:t,positionAssignments:e,groupsToAvoid:n}){return Object.assign({},...e.filter((t=>null==t?void 0:t.participantId)).map((e=>{const{drawPosition:i,participantId:r}=e,a=t&&t[r]||[],o=!!n.some((t=>a.includes(t)));return{[i]:{participantGroups:a,includesGroupsToAvoid:o}}})))}function op(t){const{unfilledPositions:e,chunkedDrawPositions:n}=t,i=ap(t);return n.map((t=>{const n=e.filter((e=>t.includes(e))),r=function(t){return t.filter((t=>!e(t)));function e(e){const n=sp(e);return!t.includes(n)}}(n),a=n.filter((t=>!r.includes(t))).filter((t=>{var e;const n=sp(t);return!(null!==(e=i[n])&&void 0!==e&&e.includesGroupsToAvoid)}));return{unassigned:n,unpaired:r,pairedNoConflict:a}}))}function sp(t){return t%2?t+1:t-1}function cp({selectedParticipantGroups:t,participantIdGroups:e,positionAssignments:n,drawPositionChunks:i,unfilledPositions:r,isRoundRobin:a}){const o=i.map((i=>a?function(t){const{unfilledPositions:e,chunkedDrawPositions:n}=t,i=ap(t);return n.map((t=>{const n=e.filter((e=>t.includes(e))),r=n.length===t.length?n:[],a=t.filter((t=>{var e;return null===(e=i[t])||void 0===e?void 0:e.includesGroupsToAvoid})).length;return{unassigned:n,unpaired:r,pairedNoConflict:a?[]:n,conflictsCount:a}}))}({groupsToAvoid:t,chunkedDrawPositions:i,participantIdGroups:e,positionAssignments:n,unfilledPositions:r}):op({groupsToAvoid:t,chunkedDrawPositions:i,participantIdGroups:e,positionAssignments:n,unfilledPositions:r})));if(a){return{unassigned:o.map((t=>t.map((t=>t.unassigned)).filter((t=>null==t?void 0:t.length)))).filter((t=>null==t?void 0:t.length)).sort(((t,e)=>(e.length||0)-(t.length||0))),unpaired:o.map((t=>t.map((t=>t.unpaired)).filter((t=>null==t?void 0:t.length)))).filter((t=>null==t?void 0:t.length)),pairedNoConflict:o.map((t=>t.map((t=>t.pairedNoConflict)).filter((t=>null==t?void 0:t.length)))).filter((t=>null==t?void 0:t.length)).sort(((t,e)=>(e.length||0)-(t.length||0)))}}return{unassigned:o.map((t=>t.map((t=>t.unassigned)).filter((t=>null==t?void 0:t.length)))).filter((t=>null==t?void 0:t.length)),unpaired:o.map((t=>t.map((t=>t.unpaired)).filter((t=>null==t?void 0:t.length)))).filter((t=>null==t?void 0:t.length)),pairedNoConflict:o.map((t=>t.map((t=>t.pairedNoConflict)).filter((t=>null==t?void 0:t.length)))).filter((t=>null==t?void 0:t.length))}}function up({participantIds:t,positionAssignments:e}){const n=e.map((t=>t.participantId));return t.filter((t=>!n.includes(t)))}function dp({candidatePositionAssignments:t,unseededParticipantIds:e,participantIdGroups:n,drawPositionChunks:i,drawPositionGroups:r,pairedPriority:a,allGroups:o,groupKey:s}){const c=r.reduce(((t,e)=>e.length>t?e.length:t),0),u=!!(c>2),d=up({participantIds:e,positionAssignments:t}),l=function({drawPositionGroups:t,positionAssignments:e}){const n=Object.assign({},...e.map((t=>({[t.drawPosition]:t}))));return t.map((t=>t.filter(Boolean).map((t=>n[t])).filter((t=>!t.participantId&&!t.bye)).map((t=>t.drawPosition)))).flat().filter(Boolean)}({drawPositionGroups:r,positionAssignments:t}),{participantId:p,groupKey:f}=function({groupKey:t,allGroups:e,largestFirst:n=!0,targetParticipantIds:i,useSpecifiedGroupKey:r=!1}){var a;const o=Object.assign({},...Object.keys(e).map((t=>[t,e[t].filter((t=>i.includes(t)))])).filter((t=>t[1].length)).map((([t,e])=>({[t]:e})))),s=Object.keys(o).reduce(((t,e)=>o[e].length>t?o[e].length:t),0),c=Object.keys(o).filter((t=>o[t].length===s)),u=Fe(n?c:Object.keys(o));return{participantId:(t=r&&null!==(a=o[t])&&void 0!==a&&a.length?t:u)&&o[t]?Fe(o[t]):Fe(i),groupKey:t}}({groupKey:s,allGroups:o,targetParticipantIds:d,useSpecifiedGroupKey:u}),m=cp({positionAssignments:t,isRoundRobin:u,selectedParticipantGroups:function({allGroups:t,participantId:e}){return Object.keys(t).filter((n=>t[n].includes(e)))}({allGroups:o,participantId:p}),participantIdGroups:n,drawPositionChunks:i,unfilledPositions:l,largestGroupSize:c,allGroups:o}),{unassigned:h,unpaired:v,pairedNoConflict:g}=m,y=(null==g?void 0:g.length)&&g[0],I=(null==v?void 0:v.length)&&v[0],w=a&&y?y:I,b=a?I:y,N=(null==w?void 0:w.length)&&w||(null==b?void 0:b.length)&&b;let S;if(null!=N&&N.length){const t=ke(N);S=ke(t)}else{const t=ke(h[0]);S=ke(t)}return{newGroupKey:f,selectedParticipantId:p,targetDrawPosition:S}}function lp({drawPositions:t}){const e=[].concat(...t.map((e=>t.filter((t=>t!==e)).map((t=>[e,t]))))),n=Re(e.map(pp)).map((t=>t.split("|").map((t=>+t))));return{groupMatchUps:e,uniqueMatchUpGroupings:n}}function pp(t){return t.sort(gi).join("|")}function fp({isRoundRobin:t,groupedParticipants:e}){const n=[];return t?e.forEach((t=>{const e=t.map((t=>t.drawPosition)),{uniqueMatchUpGroupings:i}=lp({drawPositions:e}),r=Object.assign({},...t.map((t=>({[t.drawPosition]:t}))));i.forEach((e=>{je(r[e[0]].values||[],r[e[1]].values||[])&&(n.push(e),t.conflict=!0)}))})):e.forEach((t=>{je(t[0].values||[],t[1].values||[])&&(n.push(t),t.conflict=!0)})),n}function mp({isRoundRobin:t,avoidanceConflicts:e,drawPositionGroups:n,positionedParticipants:i,potentialDrawPositions:r}){return e.map((e=>{const a=e.map((t=>t.drawPosition));return e.filter((t=>r.includes(t.drawPosition))).map((e=>{const o=r.filter((t=>!a.includes(t))).filter((r=>{const a=n.find((t=>t.includes(r))).find((t=>t!==r)),o=i.find((t=>t.drawPosition===a)),s=fp({isRoundRobin:t,groupedParticipants:[[e,o]]}),c=i.find((t=>t.drawPosition===r)),u=fp({isRoundRobin:t,groupedParticipants:[[c,o]]});return!s.length&&!u.length}));if(o.length)return{drawPosition:e.drawPosition,possibleDrawPositions:o}})).filter(Boolean)})).flat(1)}function hp(t){const{initialPositionAssignments:e,participantsWithGroupings:n,opponentsToPlaceCount:i,drawPositionGroups:r,policyAttributes:a,idCollections:o,allGroups:s}=t,c=[];let u;const d=Math.min(...r.map((t=>t.length))),l=d>2,p=vi(e,!1,!0),f=e.filter((t=>!t.participantId)).map((t=>t.drawPosition));Ze(0,i).forEach((()=>{const{newGroupKey:e,selectedParticipantId:n,targetDrawPosition:i}=dp({...t,groupKey:u,allGroups:s,candidatePositionAssignments:p});u=e,p.forEach((t=>{t.drawPosition===i&&(t.participantId=n)}))}));let m=rp({candidatePositionAssignments:p,participantsWithGroupings:n,policyAttributes:a,idCollections:o}),h=Ge(m,d),v=fp({isRoundRobin:l,groupedParticipants:h}),g=0;for(;g<20&&v.length;){const t=mp({isRoundRobin:l,avoidanceConflicts:v,drawPositionGroups:r,positionedParticipants:m,potentialDrawPositions:f});t.length?(vp({candidatePositionAssignments:p,swapOptions:t}),m=rp({candidatePositionAssignments:p,participantsWithGroupings:n,policyAttributes:a,idCollections:o}),h=Ge(m,d),v=fp({isRoundRobin:l,groupedParticipants:h}),g++):g=20}return p.forEach((t=>{t.bye&&t.participantId&&c.push({error:"Invalid Assignment",assignment:t})})),{positionAssignments:p,conflicts:v.length,groupedParticipants:h,errors:c}}function vp({candidatePositionAssignments:t,swapOptions:e}){const n=ke(e);if(!n)return{error:"No swap options"};const i=n.drawPosition,r=ke(n.possibleDrawPositions),a=t.find((t=>t.drawPosition===i)).participantId,o=t.find((t=>t.drawPosition===r)).participantId;return t.forEach((t=>{t.drawPosition===i&&(t.participantId=o),t.drawPosition===r&&(t.participantId=a)})),En}function gp({unseededParticipantIds:t,drawDefinition:e,participants:n,structureId:i,avoidance:r,entries:a,matchUpsMap:o,inContextDrawMatchUps:s}){if(!r)return{error:ut};const{policyAttributes:c,roundsToSeparate:u,candidatesCount:d=1}=r,{structure:l}=es({drawDefinition:e,structureId:i}),{matchUps:p}=Ws({structure:l,matchUpsMap:o}),{positionAssignments:f}=_s({structure:l}),m=function({participants:t=[]}){const e=vi(t,!0,!0),n=e.filter((t=>t.participantType===qo)),i=e.filter((t=>t.participantType===Yo)),r=e.filter((t=>t.participantType===$o));return e.forEach((t=>{const{participantId:e}=t;t.teamParticipantIds=[],t.groupParticipantIds=[],t.pairParticipantIds=[],t.participantType===Ko&&(n.forEach((n=>{((null==n?void 0:n.individualParticipants)||[]).forEach((n=>{n.participantId===e&&t.teamParticipantIds.push(n.participantId)}))})),r.forEach((n=>{((null==n?void 0:n.individualParticipants)||[]).forEach((n=>{n.participantId===e&&t.pairParticipantIds.push(n.participantId)}))})),i.forEach((n=>{((null==n?void 0:n.individualParticipants)||[]).forEach((n=>{n.participantId===e&&t.groupParticipantIds.push(n.participantId)}))})))})),e}({participants:n}),h=f.filter((t=>!t.participantId)),v=f.map((t=>t.drawPosition)),g=l.structureType===Qi,y=g?{structure:l,matchUps:p,allDrawPositions:v,roundsToSeparate:u}:{matchUps:p,allDrawPositions:v,roundsToSeparate:u},{drawPositionGroups:I,drawPositionChunks:w}=g?function(t){const{structure:{structures:e}}=t,n=e.map((t=>t.positionAssignments.map((t=>t.drawPosition))));return{drawPositionGroups:n,drawPositionChunks:[n]}}(y):function({matchUps:t,allDrawPositions:e,roundsToSeparate:n}){const i=t.filter((t=>1===t.roundNumber)).map((t=>t.drawPositions)),r=i.flat().sort(gi),a=Math.max(...r),o=e.filter((t=>t>a)),s=Ze(2,r.length).filter((t=>t===In(t))),c=s.slice(0,n||s.length).reverse().map((t=>Ge(r,t)));o.length&&console.log({fedDrawPositions:o});return{drawPositionGroups:i,drawPositionChunks:c}}(y),b={};b.groupParticipants=m.filter((t=>t.participantType===Yo)).map((t=>t.participantId)),b.teamParticipants=m.filter((t=>t.participantType===qo)).map((t=>t.participantId)),b.pairParticipants=m.filter((t=>t.participantType===$o)).map((t=>t.participantId));const N=function({participants:t,idCollections:e,policyAttributes:n,targetParticipantIds:i}){if(!Array.isArray(n))return{error:dt};if(!Array.isArray(t))return{error:Ot};const r={};return i.forEach((i=>{const a=t.find((t=>t.participantId===i)),{values:o}=ip({participant:a,participants:t,idCollections:e,policyAttributes:n});o&&o.forEach((t=>{r[t]||(r[t]=[]),r[t].includes(i)||r[t].push(i)}))})),r}({participants:m,idCollections:b,policyAttributes:c,targetParticipantIds:t}),S=Object.assign({},...t.map((t=>{const e=Object.keys(N).filter((e=>N[e].includes(t)));return{[t]:e}}))),P=up({participantIds:t,positionAssignments:f});if(P.length>h.length)return{error:"More participantIds than unpaired positions"};let E;const U=[],A=P.length,D=Ze(0,d).map((()=>hp({initialPositionAssignments:f,participantsWithGroupings:m,unseededParticipantIds:t,opponentsToPlaceCount:A,drawPositionChunks:w,drawPositionGroups:I,participantIdGroups:S,idCollections:b,allGroups:N,policyAttributes:c,pairedPriority:!1})));if(E=D.reduce(((t,e)=>!t||(e.conflicts||0)<(t.conflicts||0)?e:t),void 0),!E||E.conflicts){const e=Ze(0,d).map((()=>hp({initialPositionAssignments:f,participantsWithGroupings:m,unseededParticipantIds:t,opponentsToPlaceCount:A,drawPositionChunks:w,drawPositionGroups:I,participantIdGroups:S,idCollections:b,allGroups:N,entries:a,policyAttributes:c,pairedPriority:!0})));E=D.concat(...e).filter((t=>{var e;return!(null!==(e=t.errors)&&void 0!==e&&e.length)})).reduce(((t,e)=>!t||(e.conflicts||0)<(t.conflicts||0)?e:t),void 0)}if(!E)return{error:"Could not produce candidate"};const M=(l.positionAssignments||[]).filter((t=>t.participantId)).map((t=>t.participantId));return E.positionAssignments.filter((t=>!M.includes(t.participantId))).forEach((t=>{if(t.participantId&&!t.bye){const n=gu({automaticPlacement:!0,drawDefinition:e,structureId:i,matchUpsMap:o,inContextDrawMatchUps:s,...t});null!=n&&n.success||U.push(n)}})),U.length?{error:U,conflicts:E.conflicts}:Object.assign({positionAssignments:E.positionAssignments,conflicts:E.conflicts},En)}function yp({drawDefinition:t,candidatesCount:e,participants:n,structureId:i,structure:r,matchUpsMap:a,inContextDrawMatchUps:o}){r||({structure:r}=es({drawDefinition:t,structureId:i})),i||({structureId:i}=r);const{positionAssignments:s}=_s({structure:r}),{seedAssignments:c}=Ls({drawDefinition:t,structure:r}),u=c.map((t=>t.participantId)).filter(Boolean),{stage:d,stageSequence:l}=r,p=Rs({drawDefinition:t,stageSequence:l,entryStatuses:[gs,vs],structureId:i,stage:d}),f=p.filter((t=>!u.includes(t.participantId))).map((t=>t.participantId)),m=s.filter((t=>!t.participantId&&!t.bye&&!t.qualifier)).map((t=>t.drawPosition));if(f.length>m.length)return{error:"Insufficient drawPositions to accommodate entries"};const{appliedPolicies:h}=Wo({drawDefinition:t});let{avoidance:v}=h||{};if(r.stage===Ki){const t=p.reduce(((t,e)=>(t[e.groupingValue]||(t[e.groupingValue]=[]),t[e.groupingValue].push(e.participantId),t)),{});Object.keys(t).length&&(v||(v={policyName:"Playoff Avoidance"}),v.policyAttributes||(v.policyAttributes=[]),v.policyAttributes.push({groupings:t}))}if(v&&n){return gp({unseededParticipantIds:f,candidatesCount:e,drawDefinition:t,participants:n,structureId:i,avoidance:v,entries:p,matchUpsMap:a,inContextDrawMatchUps:o})}return function({unseededParticipantIds:t,unfilledDrawPositions:e,drawDefinition:n,structureId:i,matchUpsMap:r,inContextDrawMatchUps:a}){const o=xe(e);for(const s of t){const t=gu({structureId:i,drawPosition:o.pop(),participantId:s,drawDefinition:n,automaticPlacement:!0,matchUpsMap:r,inContextDrawMatchUps:a});if(t&&t.error)return t}return En}({unseededParticipantIds:f,unfilledDrawPositions:m,drawDefinition:t,structureId:i,matchUpsMap:a,inContextDrawMatchUps:o})}function Ip({structure:t,drawDefinition:e,appliedPolicies:n,relevantMatchUps:i}){const{validSeedBlocks:r,isFeedIn:a,isContainer:o}=pu({appliedPolicies:n,drawDefinition:e,structure:t}),s=function({drawDefinition:t,structure:e}){const{positionAssignments:n}=_s({structure:e}),{seedAssignments:i}=Ls({drawDefinition:t,structure:e}),r=Object.assign({},...i.filter((t=>t.participantId)).map((t=>({[t.participantId]:t}))));return n.map((t=>r[t.participantId]?{...t,seedNumber:r[t.participantId].seedNumber,seedValue:r[t.participantId].seedValue}:"")).filter(Boolean)}({drawDefinition:e,structure:t}),c=Re([].concat(...i.map((t=>t.drawPositions)))),u=s.filter((t=>c.includes(t.drawPosition))),d=[].concat(...r.map((t=>xe(t.drawPositions)))).filter((t=>c.includes(t))),l=(t,e)=>t.seedValue-e.seedValue;return{strictSeedOrderByePositions:wp({orderedSeedDrawPositions:r.reduce(((t,e)=>{const n=u.filter((t=>{var n;return null===(n=e.drawPositions)||void 0===n?void 0:n.includes(t.drawPosition)})).sort(l);return t.concat(...n)}),[]).map((t=>t.drawPosition)),relevantMatchUps:i}).slice(0,s.length),blockSeedOrderByePositions:wp({orderedSeedDrawPositions:d,relevantMatchUps:i}).slice(0,s.length),isFeedIn:a,isContainer:o}}function wp({orderedSeedDrawPositions:t,relevantMatchUps:e}){const n=e.map((t=>t.drawPositions)).map((t=>t.sort(((t,e)=>t-e)))).filter((t=>t[0]+1===t[1]));return t.map((t=>n.find((e=>null==e?void 0:e.includes(t))))).filter(Boolean).map((e=>null==e?void 0:e.reduce(((e,n)=>t.includes(n)?e:n),void 0))).filter(Boolean)}function bp({blockOrdered:t=!1,drawDefinition:e,structureId:n,structure:i,seedsOnly:r,matchUpsMap:a}){i||({structure:i}=es({drawDefinition:e,structureId:n})),n||({structureId:n}=i);const{byesCount:o,placedByes:s,relevantMatchUps:c}=function({drawDefinition:t,matchUpsMap:e,structure:n}){var i;const{matchUps:r,roundMatchUps:a}=Ws({drawDefinition:t,matchUpFilters:{isCollectionMatchUp:!1},structure:n,matchUpsMap:e}),o=a&&a[1]||[],s=(null==n?void 0:n.structureType)===Qi,c=s?r:o,u=s?(null==n||null===(i=n.structures)||void 0===i?void 0:i.length)||0:r.length,{structureId:d,stage:l,stageSequence:p}=n,f=Rs({drawDefinition:t,stageSequence:p,entryStatuses:[gs,vs],structureId:d,stage:l}),m=Ts({drawDefinition:t,stage:l}),h=f.length+m,{positionAssignments:v,unassignedPositions:g}=_s({structure:n}),y=g.map((t=>t.drawPosition)),I=v.filter((t=>t.bye)).length,w=v.filter((t=>t.bye)).map((t=>t.drawPosition)),b=c.map((t=>t.drawPositions)).filter((t=>t&&(null==t?void 0:t.reduce(((t,e)=>!w.includes(e)&&t),!0)))).flat(1/0).filter((t=>y.includes(t)));let N=v.length-h;return N>u&&1===n.stageSequence&&n.stage!==Wi&&(N=u),{placedByes:I,byesCount:N,relevantMatchUps:c,placedByePositions:w,roundMatchUps:a,positionsToAvoidDoubleBye:b}}({drawDefinition:e,structure:i,matchUpsMap:a}),u=o-s;if(u<=0)return En;const{appliedPolicies:d}=Wo({drawDefinition:e}),{isFeedIn:l,strictSeedOrderByePositions:p,blockSeedOrderByePositions:f}=Ip({structure:i,drawDefinition:e,appliedPolicies:d,relevantMatchUps:c}),m=t?f:p,{unseededByePositions:h}=function({structure:t,appliedPolicies:e,isFeedIn:n}){var i;const r=null==e||null===(i=e.seeding)||void 0===i?void 0:i.seedingProfile,{positionAssignments:a}=_s({structure:t}),o=a.filter((t=>t.participantId)).map((t=>t.drawPosition)),{matchUps:s,roundMatchUps:c}=Ws({structure:t,matchUpFilters:{isCollectionMatchUp:!1}}),u=c&&c[1]||[],d=t.structureType===Qi?s:u,l=Re([].concat(...d.map((t=>t.drawPositions)))),p=Math.min(...l)-1,f=o.filter((t=>l.includes(t))),m=t=>{const e=Math.ceil(t.length/2),n=[t.slice(0,e),t.slice(e)],i=n.map((t=>[].concat(...t.flat(1/0)).length)),r=Math.min(...i.flat(1/0)),a=Math.max(...i.flat(1/0)),o=i.indexOf(a),s=r!==a,c=xe(n),[u,d]=!r||s?[n[o],n[1-o]]:[c[0],c[1]];return{greaterHalf:u,lesserHalf:d}},h=t=>{const{greaterHalf:e,lesserHalf:n}=m(t),{greaterHalf:i,lesserHalf:r}=m(e),a=xe(i.flat(1/0)).pop();return{newlyFilteredChunks:[...n,...r,i.flat().filter((t=>t!==a))],drawPosition:a}},v=t=>!f.includes(t),g=t=>{let e=Ge(t.sort(gi),Math.ceil(t.length/4)).map((t=>t.filter(v)));const n=[].concat(...e.flat(1/0)).length,i=[];for(let r=0;r<n;r++){const{newlyFilteredChunks:t,drawPosition:n}=h(e);i.push(n),e=t}return i},{validSeedBlocks:y}=pu({structure:t,appliedPolicies:e,allPositions:!0});let I=y.map((t=>{var e;return null===(e=t.drawPositions)||void 0===e?void 0:e.map((t=>t+p))})).map(g).filter((t=>t.length));if(n){const t=l.length,{seedBlocks:e}=lu({participantsCount:t,cluster:r===Yi});I=e.map((t=>t.map((t=>t+p)))).map(g).filter((t=>t.length))}const w=d.map((t=>t.drawPositions)).map((t=>t.sort(((t,e)=>t-e)))).filter((t=>t[0]+1===t[1])),b=t=>w.reduce(((e,n)=>n.includes(t)?n.reduce(((e,n)=>n!==t?n:e),void 0):e),void 0);return{unseededByePositions:I.map((t=>t.map(b))).flat(1/0).filter(Boolean)}}({appliedPolicies:d,structure:i,isFeedIn:l}),v=[].concat(...m,...r?[]:h).slice(0,u);for(const g of v){const t=Yc({drawDefinition:e,structureId:n,drawPosition:g,matchUpsMap:a});if(null!=t&&t.error)return t}return En}function Np({drawDefinition:t,structure:e,structureId:n}){e||({structure:e}=es({drawDefinition:t,structureId:n})),n||({structureId:n}=e);const{positionAssignments:i}=_s({structure:e}),r=i.filter((t=>t.qualifier)).map((t=>t.drawPosition)),{stage:a,stageSequence:o}=e,s=Ts({drawDefinition:t,stage:a,stageSequence:o}),c=s-r.length;return{positionAssignments:i,qualifiersCount:s,placedQualifiersCount:r.length,unplacedQualifiersCount:c}}function Sp({drawDefinition:t,participants:e,groupsCount:n,structureId:i,structure:r,matchUpsMap:a,inContextDrawMatchUps:o}){const s=[];let c=0;r||({structure:r}=es({drawDefinition:t,structureId:i})),i||({structureId:i}=r);const{appliedPolicies:u}=Wo({drawDefinition:t}),{validSeedBlocks:d,error:l}=pu({structure:r,drawDefinition:t,appliedPolicies:u});return l&&s.push(l),Ze(0,n=n||d.length).forEach((()=>{if(c<n){const n=function({drawDefinition:t,structureId:e,participants:n,matchUpsMap:i,inContextDrawMatchUps:r}){const{unplacedSeedParticipantIds:a,unfilledPositions:o}=vu({drawDefinition:t,structureId:e,randomize:!0}),{appliedPolicies:s}=Wo({drawDefinition:t});for(const c of a){const n=o.pop();if(!n)return{error:b};const a=gu({drawDefinition:t,structureId:e,drawPosition:n,participantId:c,automaticPlacement:!0,matchUpsMap:i,inContextDrawMatchUps:r});if(!a.success)return a}return En}({drawDefinition:t,participants:e,structureId:i,matchUpsMap:a,inContextDrawMatchUps:o});n&&n.success&&c++,n.error&&s.push({seedPositionError:n.error})}})),{errors:s}}function Pp({drawDefinition:t,candidatesCount:e,participants:n,structureId:i,seedsOnly:r,inContextDrawMatchUps:a,matchUpsMap:o}){const{structure:s,error:c}=es({drawDefinition:t,structureId:i});if(c)return{error:c};const u=[gs,vs],d=Rs({stageSequence:s.stageSequence,stage:s.stage,drawDefinition:t,entryStatuses:u,structureId:i});if(null==d||!d.length)return En;const{seedingProfile:l}=s;let p,f,m=[];o=o||Xo({drawDefinition:t}),a||({matchUps:a}=Ic({drawDefinition:t,inContext:!0,includeByeMatchUps:!0,matchUpsMap:o})),l===Ji?(({error:p}=bp({drawDefinition:t,structure:s,seedsOnly:r,matchUpsMap:o})),({errors:f}=Sp({drawDefinition:t,participants:n,structure:s,matchUpsMap:o,inContextDrawMatchUps:a}))):(({errors:f}=Sp({drawDefinition:t,participants:n,structure:s,matchUpsMap:o,inContextDrawMatchUps:a})),({error:p}=bp({drawDefinition:t,structure:s,seedsOnly:r,matchUpsMap:o,inContextDrawMatchUps:a})));const h={};if(!r){const{error:i,conflicts:r}=yp({candidatesCount:e,drawDefinition:t,participants:n,structure:s,matchUpsMap:o,inContextDrawMatchUps:a});r&&(h.unseededConflicts=r);const{error:c,conflicts:u}=function(t){let{structure:e,structureId:n}=t;if(e||({structure:e}=es(t)),n||({structureId:n}=e),e.stage===Wi)return console.log("Consolation Stage: No Qualifiers"),{error:"Consolation Stage: No Qualifiters"};const{positionAssignments:i,unplacedQualifiersCount:r}=Np(t),a=i.filter((t=>!t.participantId&&!t.bye&&!t.qualifier)).map((t=>t.drawPosition));return r>a.length?{error:"Insufficient drawPositions to accommodate qualifiers"}:(Ze(0,r).forEach((()=>{const t=a.pop();i.forEach((e=>{e.drawPosition===t&&(e.qualifier=!0)}))})),En)}({drawDefinition:t,participants:n,structure:s,matchUpsMap:o,inContextDrawMatchUps:a});u&&(h.qualifierConflicts=u),f&&(m=m.concat(...f)),p&&m.push(p),c&&m.push(c),i&&m.push(i)}return La({drawDefinition:t}),{errors:m,conflicts:h}}function Ep({candidatesCount:t=1,tournamentRecord:e,drawDefinition:n,structureId:i,seedsOnly:r,event:a}){if(!a)return{error:Z};if(!n)return{error:p};const o=null==e?void 0:e.participants,{playoffStructures:s}=au({drawDefinition:n,structureId:i});if(s)for(const c of s){const{structureId:e}=c,i=Pp({structureId:e,candidatesCount:t,drawDefinition:n,participants:o,seedsOnly:r});if(i.error)return i}return{...En}}function Up({tournamentRecord:t,drawIds:e=[],auditData:n,eventId:i}){var r;if(!t)return{error:s};const a=Array.isArray(e)&&e[0],{event:o,error:c}=fo({tournamentRecord:t,eventId:i,drawId:a});if(c)return{error:c};const u=[],d=[],l=[];if(!o.drawDefinitions)return{error:p};const f=o.drawDefinitions.map((({drawId:t})=>t));e.length||(e=f);if(!(e.length&&e.every((t=>f.includes(t)))))return{error:p};o.drawDefinitions=o.drawDefinitions.filter((t=>{if(e.includes(t.drawId)){const e={action:Vl,payload:{drawDefinitions:[t],eventId:o.eventId,auditData:n}};u.push(e);const{drawId:i,drawType:r,drawName:a}=t;l.push({auditData:n,drawId:i,drawType:r,drawName:a,eventId:o.eventId});const{matchUps:s}=Nc({event:o,drawDefinition:t});s.forEach((({matchUpId:t})=>d.push(t)))}return!e.includes(t.drawId)})),ku({tournamentRecord:t});const{timeItem:m}=da({element:o,itemType:"PUBLISH.STATUS"}),h=null==m||null===(r=m.itemValue)||void 0===r?void 0:r.PUBLIC;for(const s of e){var v;if(null==h||null===(v=h.drawIds)||void 0===v?void 0:v.includes(s)){var g;const t=(null===(g=h.drawIds)||void 0===g?void 0:g.filter((t=>t!==s)))||[],e=ha({event:o,timeItem:{itemType:"PUBLISH.STATUS",itemValue:{[Co]:{drawIds:t}}}});if(e.error)return{error:e.error}}}if(u.length){Rn({topic:wa,payload:u});const t=ha({event:o,timeItem:{itemType:Vl,itemValue:l}});if(t.error)return t}return d.length&&Ra({matchUpIds:d}),function({drawId:t}){Rn({topic:ba,payload:{drawId:t}})}({drawId:a}),En}function Ap({tournamentRecord:t,drawDefinition:e,event:n,requireParticipantCount:i=!0,enforcePolicyLimits:r=!0,drawSizeProgression:a,participantCount:o,structureId:s,seedsCount:c}){const{structure:u,error:d}=es({drawDefinition:e,structureId:s});if(d)return{error:d};const{positionAssignments:l}=_s({structure:u}),p=l.length;if(c>p)return{error:U};const{policyDefinitions:f}=Gc({tournamentRecord:t,drawDefinition:e,event:n,policyTypes:[Ri]}),{seedsCount:m}=Zl({requireParticipantCount:i,drawSizeProgression:a,policyDefinitions:f,participantCount:o,drawSize:p});return f&&m&&c>m&&r&&(c=m),u.seedLimit=c,u.seedAssignments=Ze(1,c+1).map((t=>({seedNumber:t,seedValue:t,participantId:void 0}))),La({drawDefinition:e}),{...En,seedLimit:c}}function Dp({qualifyingRound:t,finishingPositionOffset:e,qualifyingPositions:n,matchUpType:i,roundLimit:r,idPrefix:a,drawSize:o,uuids:s}){if(isNaN(o)||!yn(o)||o<2)return{matchUps:[],roundsCount:0};const c=Ze(1,parseInt(o)+1).map((t=>({drawPosition:t})));let u,d=[],l=1;for(({roundNodes:u,matchUps:d}=Tp({roundNumber:l,matchUpType:i,idPrefix:a,matchUps:d,nodes:c,uuids:s})),l++,r=r||t;u.length>1;)n&&u.length===n&&(r=l-1),({roundNodes:u,matchUps:d}=Tp({nodes:u,roundNumber:l,matchUpType:i,idPrefix:a,matchUps:d,uuids:s})),l++;const p=l-1;return d=Mp({matchUps:d,roundLimit:r,roundsCount:p,finishingPositionOffset:e}),r&&(d=d.filter((t=>t.roundNumber<=r))),{matchUps:d,roundsCount:p,roundLimit:r}}function Mp({finishingPositionOffset:t=0,positionsFed:e,roundsCount:n,roundLimit:i,matchUps:r,fmlc:a}){const o=r.reduce(((t,e)=>(t[e.roundNumber]=(t[e.roundNumber]||0)+1,t)),{}),s=Object.values(o),c=t=>[Math.min(...t),Math.max(...t)],u=i?n-i:0;return r.forEach((i=>{i.finishingRound=n+1-i.roundNumber-u;const r=a&&1!==i.roundNumber,d=1+t+(r?e:0),l=o[i.roundNumber],p=s.slice(i.roundNumber-1).reduce(((t,e)=>t+e),0),f=Ze(d,p+d+1),m=p+1-l,h=c(f.slice(m)),v=c(f.slice(0,m));i.finishingPositionRange={loser:h,winner:v}})),r}function Tp({includeMatchUpType:t,matchUpType:e,roundNumber:n,matchUps:i,idPrefix:r,uuids:a,nodes:o}){let s=0;const c=[];let u=1;const d=n-1,l=o.length;for(;s<l;){const l=o[s],p=o[s+1];d&&(l.roundNumber=d),p&&d&&(p.roundNumber=d);const f={roundPosition:u,children:[l,p],matchUpId:xp({roundPosition:u,roundNumber:n,idPrefix:r,uuids:a})};c.push(f);const m={matchUpId:f.matchUpId,roundNumber:n,roundPosition:u,matchUpStatus:an,drawPositions:f.children.map((t=>t.drawPosition))};t&&(m.matchUpType=e),i.push(m),s+=2,u++}return{roundNodes:c,matchUps:i}}function Cp({linkFedFinishingRoundNumbers:t=[],linkFedRoundNumbers:e=[],finishingPositionOffset:n,feedRoundsProfile:i=[],feedRounds:r=0,skipRounds:a=0,feedsFromFinal:o,isConsolation:s,baseDrawSize:c,matchUpType:u,idPrefix:d,drawSize:l,uuids:p,fmlc:f}){const m=function({drawSize:t}){return Ze(0,Math.ceil(Math.log(t)/Math.log(2))).reverse().map((t=>Math.pow(2,t)))}({drawSize:c=c||function(t){const e=In(t);return e>t?e/2:e}(l)}),h=m.length;let v=0;if(i.length)v=i.reduce(((t,e)=>t+e),0);else if(l){let t=l-c;i=m.filter((e=>e<=t&&(t-=e,!0))),v=i.reduce(((t,e)=>t+e),0),r=i.length}else a>=h&&(r=0),o&&(r=h-o,a=0),i=m.filter(((t,e)=>o&&!r||r&&e>=a+r||e<a?0:t)),v=i.reduce(((t,e)=>t+e),0),l=c+v,r=i.length;const g=[...m,...i].sort(((t,e)=>e-t)),y=g.length,I=[...e.map((t=>t-1)),...t.map((t=>y-t))].map((t=>g[t])).reduce(((t,e)=>t+e),0);v-=I;let w,b=0,N=[],S=1;let P=Ze(0,c).map(((t,e)=>({drawPosition:e+1+v}))),E=v+1;for(const A of m){if(({roundNodes:w,matchUps:N}=Tp({roundNumber:S,matchUpType:u,idPrefix:d,matchUps:N,nodes:P,uuids:p})),S++,i.includes(A)){const n=Ze(0,Oe(i)[A]),r=y+1-S,a=t.includes(r)||e.includes(S);for(const t of n){const e=!a&&E||void 0;({roundNodes:w,matchUps:N,drawPosition:E}=Rp({drawPosition:e,nodes:w,roundIteration:t,roundNumber:S,matchUpType:u,idPrefix:d,matchUps:N,uuids:p,fed:b})),S++,b+=1}}P=w}y!==S-1&&console.log("ERROR");N=Mp({finishingPositionOffset:s?c-v:n,positionsFed:v,roundsCount:y,matchUps:N,fmlc:f});const U=w&&w.length?w[0]:w;return U&&(U.roundNumber=S-1,U.matchUps=N),{draw:U,matchUps:N,roundsCount:y}}function Rp({includeMatchUpType:t,drawPosition:e,matchUpType:n,roundNumber:i,idPrefix:r,matchUps:a,uuids:o,nodes:s,fed:c}){const u=s.length,d=e?e-u:void 0,l=Ze(0,u).map((t=>d?d+t:void 0)),p=[];for(let f=0;f<u;f++){const e=l.shift(),u={feed:!0,fed:c+1,drawPosition:e},d=s[f];d.roundNumber=i-1;const m={roundNumber:i,matchUpId:xp({roundPosition:d.roundPosition,roundNumber:i,idPrefix:r,uuids:o}),roundPosition:d.roundPosition,drawPositions:[void 0,e]};t&&(m.matchUpType=n),a.push(m);const h={children:[d,u]};p.push(h)}return{roundNodes:p,matchUps:a,drawPosition:e?e-u:void 0}}function xp({idPrefix:t,roundNumber:e,roundPosition:n,uuids:i}){return t?`${t}-${e}-${n}`:(null==i?void 0:i.pop())||yi()}const Op=({stage:t,structureId:e,matchUps:n=[],structures:i,stageOrder:r,roundLimit:a,roundOffset:o,exitProfile:s,matchUpFormat:c,structureType:u,structureAbbreviation:d,structureName:l,seedingProfile:p,qualifyingRound:f,stageSequence:m=1,seedAssignments:h=[],finishingPosition:v=xr})=>{const g={structureAbbreviation:d,structureName:l,matchUpFormat:c,stageSequence:m,finishingPosition:v,seedAssignments:h,structureId:e||yi()};t&&(g.stage=t),r&&(g.stageOrder=r),a&&(g.roundLimit=a),o&&(g.roundOffset=o),u&&(g.structureType=u),p&&(g.seedingProfile=p),f&&(g.qualifyingRound=f),s&&(g.exitProfile=s);const y=[].concat(...n.map((t=>t.drawPositions))).filter(Boolean);return i?g.structures=i:(g.matchUps=n,g.positionAssignments=Re(y).sort(((t,e)=>t-e)).map((t=>({drawPosition:t})))),g};function Lp({drawDefinition:t,structureName:e,matchUpType:n,idPrefix:i,drawSize:r,uuids:a}){const{matchUps:o}=Cp({linkFedFinishingRoundNumbers:[1],drawSize:r+1,matchUpType:n,idPrefix:i}),s=Op({structureName:e||Vi,structureId:null==a?void 0:a.pop(),stageSequence:1,stage:Vi,matchUpType:n,matchUps:o});t.structures.push(s);const c=r/2,{matchUps:u}=Cp({finishingPositionOffset:c,idPrefix:i&&`${i}-c`,drawSize:r-1,isConsolation:!0,matchUpType:n,uuids:a}),d=Op({matchUps:u,structureId:null==a?void 0:a.pop(),structureName:Mr,stageSequence:2,matchUpType:n,stage:Vi});t.structures.push(d);const{matchUps:l}=Dp({idPrefix:i&&`${i}-p1t2`,drawSize:2,matchUpType:n}),p=Op({matchUps:l,structureId:null==a?void 0:a.pop(),structureName:Dr,stageSequence:3,stage:Vi,matchUpType:n});t.structures.push(p);const f=function({mainStructure:t,consolationStructure:e,deciderStructure:n}){const i=e.matchUps.reduce(((t,e)=>(e.drawPositions||[]).filter(Boolean).length&&!t.includes(e.roundNumber)?t.concat(e.roundNumber):t),[]),r=t.matchUps.reduce(((t,e)=>!t||e.roundNumber>t?e.roundNumber:t),void 0),a=e.matchUps.reduce(((t,e)=>!t||e.roundNumber>t?e.roundNumber:t),void 0);return[...[1,2].map((n=>{const i=n%2?nr:ir;return{linkType:or,source:{roundNumber:n,structureId:t.structureId},target:{feedProfile:i,roundNumber:1,positionInterleave:{offset:n-1,interleave:1},structureId:e.structureId}}})),...i.slice(1).map(((n,r)=>{const a=i.indexOf(n)%2?nr:ir;return{linkType:or,source:{roundNumber:3+r,structureId:t.structureId},target:{feedProfile:a,roundNumber:n,structureId:e.structureId}}})),{linkType:ar,source:{roundNumber:a,structureId:e.structureId},target:{feedProfile:nr,roundNumber:r,structureId:t.structureId}},{linkType:ar,source:{roundNumber:r,structureId:t.structureId},target:{feedProfile:nr,roundNumber:1,structureId:n.structureId}},{linkType:or,source:{roundNumber:r,structureId:t.structureId},target:{feedProfile:nr,roundNumber:1,structureId:n.structureId}}]}({mainStructure:s,consolationStructure:d,deciderStructure:p});return t.links=t.links.concat(...f),Object.assign({structures:t.structures,links:t.links},En)}function kp({mainStructure:t,consolationStructure:e,roundsCount:n,roundOffset:i=0,feedPolicy:r,fmlc:a}){const o=e.matchUps.reduce(((t,e)=>(e.drawPositions||[]).filter(Boolean).length&&!t.includes(e.roundNumber)?t.concat(e.roundNumber):t),[]),s=(null==r?void 0:r.roundGroupedOrder)||[],c=null==r?void 0:r.roundFeedProfiles;return Ze(1+i,n+1+i).map((n=>{const r=c&&c[n-1]?c[n-1]:n%2?nr:ir,u=n-i<=2?n-i:2*(n-i-2)+2,d={linkType:or,source:{roundNumber:n,structureId:t.structureId},target:{feedProfile:r,roundNumber:u,structureId:e.structureId}},l=s[n-1];return l&&(d.target.groupedOrder=l),Mn()&&(d.source.structureName=t.structureName,d.target.structureName=e.structureName),2===n&&a&&(d.linkCondition=sr,d.target.feedProfile=nr),o.includes(u)?d:void 0})).filter(Boolean)}function Fp({finishingPositionOffset:t,structureName:e=Vi,stageSequence:n=1,staggeredEntry:i,drawDefinition:r,matchUpType:a,idPrefix:o,uuids:s}){const c=Ms({stage:Vi,drawDefinition:r}),u={finishingPositionOffset:t,matchUpType:a,drawSize:c,idPrefix:o,uuids:s},{matchUps:d,roundsCount:l}=i?Cp(u):Dp(u),p=Op({matchUps:d,matchUpType:a,stage:Vi,structureName:e,stageSequence:n,structureId:null==s?void 0:s.pop()});r.structures.push(p);const f=[0,2].slice(0,c/16).map(((t,e)=>{const n=e+1,{consolationStructure:i}=function({stageSequence:t=1,roundOffset:e=0,matchUpType:n,structureId:i,idPrefix:r,drawSize:a,index:o,uuids:s}){const c=a/(2*Math.pow(2,e)),{matchUps:u,roundsCount:d}=Cp({finishingPositionOffset:c,baseDrawSize:c,isConsolation:!0,feedRounds:1,matchUpType:n,idPrefix:r,uuids:s});return{consolationStructure:Op({matchUps:u,stage:Wi,structureName:`${Wi} ${o+1}`,stageSequence:t,matchUpType:n,structureId:i}),consolationRoundsCount:d}}({structureId:null==s?void 0:s.pop(),idPrefix:o&&`${o}-c${e}`,stageSequence:n,roundOffset:t,matchUpType:a,drawSize:c,index:e,uuids:s});r.structures.push(i);return{consolationStructure:i,links:kp({mainStructure:p,consolationStructure:i,roundsCount:2,roundOffset:t})}})).map((t=>t.links));if(r.links=r.links.concat(...f),c>=4&&c<=16||c>32){const{matchUps:t}=Dp({finishingPositionOffset:2,idPrefix:o&&`${o}-p3t4`,drawSize:2,matchUpType:a}),e=Op({structureId:null==s?void 0:s.pop(),matchUps:t,structureName:Ki,stageSequence:2,matchUpType:a,stage:Vi}),n={linkType:or,source:{roundNumber:l-1,structureId:p.structureId},target:{roundNumber:1,feedProfile:nr,structureId:e.structureId}};r.structures.push(e),r.links.push(n)}return Object.assign({structures:r.structures,links:r.links},En)}function Zp(t={}){const{uuids:e,feedRounds:n,matchUpType:i,stage:r=Vi,structureName:a,drawDefinition:o,feedsFromFinal:s,stageSequence:c=1,finishingPositionOffset:u,staggeredEntry:d,feedPolicy:l,idPrefix:p,fmlc:f}=t,m=Ms({stage:r,drawDefinition:o}),h={finishingPositionOffset:u,matchUpType:i,drawSize:m,idPrefix:p,uuids:e},{matchUps:v}=d?Cp(h):Dp(h),g=Op({structureName:a||Vi,structureId:null==e?void 0:e.pop(),stageSequence:c,stage:Vi,matchUpType:i,matchUps:v});o.structures.push(g);const y=m/2,{matchUps:I,roundsCount:w}=Cp({finishingPositionOffset:y,isConsolation:!0,feedsFromFinal:s,baseDrawSize:y,matchUpType:i,feedRounds:n,idPrefix:p&&`${p}-c`,uuids:e,fmlc:f}),b=Op({matchUpType:i,stageSequence:1,stage:Wi,structureId:null==e?void 0:e.pop(),structureName:Wi,matchUps:I});o.structures.push(b);const N=kp({mainStructure:g,consolationStructure:b,roundsCount:w,feedPolicy:l,fmlc:f});return o.links=o.links.concat(...N),Object.assign({mainStructure:g,consolationStructure:b,links:o.links},En)}function _p({stage:t,stageSequence:e,drawDefinition:n}={}){if(!n)return{error:l};return{structures:n.structures.filter((function(e){return e.stage===t})).filter((function(t){return!e||t.stageSequence===e}))}}function Bp(t){const{structure:e,childStructures:n}=jp(t);return t.drawDefinition.structures.sort(ts),La({drawDefinition:t.drawDefinition}),Object.assign({structure:e,childStructures:n},En)}function jp({finishingPositionOffset:t=0,playoffStructureNameBase:e,finishingPositionNaming:n,finishingPositionLimit:i,playoffAttributes:r,stageSequence:a=1,exitProfile:o="0",exitProfileLimit:s,roundOffsetLimit:c,roundOffset:u=0,drawDefinition:d,staggeredEntry:l,sequenceLimit:p,stage:f=Vi,matchUpType:m,idPrefix:h,drawSize:v,uuids:g}){if(!(!r||!s||r&&r[o])||v<2||p&&a>p)return{};m=m||(null==d?void 0:d.matchUpType);const y=t+1,I=`${y}-${t+v}`,w=r&&r[o],b=e&&`${e} `||"",N=n&&n[I],S=(null==N?void 0:N.name)||(null==w?void 0:w.name)||`${b}${I}`,P=(null==N?void 0:N.abbreviation)||(null==w?void 0:w.abbreviation),E={idPrefix:h&&`${h}-${S}-RP`,finishingPositionOffset:t,matchUpType:m,drawSize:v,uuids:g},{matchUps:U}=l?Cp(E):Dp(E),A=Op({structureId:null==g?void 0:g.pop(),structureAbbreviation:P,stageSequence:a,structureName:S,matchUpType:m,roundOffset:u,exitProfile:o,matchUps:U,stage:f});d.structures.push(A),Ca({drawDefinition:d,matchUps:U});const D=Math.ceil(Math.log(v)/Math.log(2)),M=Ze(1,(c?Math.min(c-u,D):!i||y<i?D:0)+1).map((function(l){const y=v/Math.pow(2,l);if(y<2)return;const I=v/Math.pow(2,l)+t;if(I+1>i)return;const{structure:w,structureName:b,childStructures:N}=jp({finishingPositionOffset:I,exitProfile:`${o}-${l}`,roundOffset:u+l,stageSequence:a+1,drawSize:y,playoffStructureNameBase:e,finishingPositionNaming:n,finishingPositionLimit:i,playoffAttributes:r,exitProfileLimit:s,roundOffsetLimit:c,drawDefinition:d,sequenceLimit:p,matchUpType:m,idPrefix:h,uuids:g,stage:f}),P={linkType:or,source:{roundNumber:l,structureName:S,structureId:null==A?void 0:A.structureId},target:{roundNumber:1,feedProfile:nr,structureName:b,structureId:null==w?void 0:w.structureId}};A&&w&&d.links.push(P);return{structure:w,childStructures:N}})).filter(Boolean);return{structure:A,structureName:S,childStructures:M}}function Gp({structureName:t=Vi,stageSequence:e=1,structureOptions:n,seedingProfile:i,drawDefinition:r,stage:a=Vi,matchUpType:o,idPrefix:s,uuids:c}){const u=Rr,d=Ms({stage:a,drawDefinition:r}),{groupCount:l,groupSize:p}=function({structureOptions:t,drawSize:e}){let n=null==t?void 0:t.groupSize;const i=(null==t?void 0:t.groupSizeLimit)||8,r=function({drawSize:t,groupSizeLimit:e=10}){return Ze(3,e+1).filter((e=>Math.ceil(t/e)*e-t<e))}({drawSize:e,groupSizeLimit:i}),a=Math.max(...r);n&&r.includes(n)||(n=n&&n>4||!r.includes(4)?a:4);const o=Math.ceil(e/n);return{groupSize:n,groupCount:o}}({structureOptions:n,drawSize:d}),f=Ze(1,l+1).map((t=>Op({structureName:`Group ${t}`,matchUps:Hp({groupSize:p,structureOrder:t,matchUpType:o,idPrefix:s}),structureId:null==c?void 0:c.pop(),structureType:Xi,finishingPosition:u,structureOrder:t,matchUpType:o}))),m=Op({structureId:null==c?void 0:c.pop(),structureType:Qi,finishingPosition:u,seedingProfile:i,structureName:t,stageSequence:e,matchUpType:o,structures:f,stage:a});return r.structures.push(m),Object.assign({structure:m,groupCount:l,groupSize:p},En)}function Vp({finishingPositions:t,playoffStructure:e,mainStructure:n}){return{linkType:rr,source:{finishingPositions:t,structureId:n.structureId},target:{roundNumber:1,feedProfile:tr,structureId:e.structureId}}}function Hp({structureOrder:t,matchUpType:e,groupSize:n,idPrefix:i,uuids:r}){const a=(t-1)*n,o=Ze(1+a,n+1+a),{uniqueMatchUpGroupings:s}=lp({drawPositions:o}),c=function({groupSize:t,drawPositionOffset:e}){const n=t=>[...Array(t)].map(((t,e)=>e)),i=n(2*Math.round(t/2)+1).slice(1),r=n(i.length-1).map((()=>[]));let a=i.slice(0,i.length/2),o=i.slice(i.length/2);i.slice(1).forEach(((t,e)=>{a.forEach(((t,n)=>{r[e].push([a[n],o[n]])}));const n=a.shift(),i=a.pop(),s=o.shift();a=[].concat(n,s,...a),o=[].concat(...o,i)}));const s=a.shift(),c=a.pop(),u=o.shift();a=[].concat(s,u,...a),o=[].concat(...o,c);const d=t=>t[0].reduce(((t,e)=>t+e));return r.reverse().sort(((t,e)=>d(t)-d(e))).map((n=>n.filter((e=>e.every((e=>e<=t)))).map((t=>pp(t.map((t=>t+e)))))))}({groupSize:n,drawPositionOffset:a});return s.map((function(n){const a=function(t){return c.reduce(((e,n,i)=>n.includes(t)?i+1:e),void 0)}(pp(n)),o=u(n.slice(1)),s=u(n.slice(0,n.length-1)),d=function({structureOrder:t,drawPositions:e,roundNumber:n,idPrefix:i,uuids:r}){return i?`${i}-${t}-${n}-DP-${e.join("-")}`:(null==r?void 0:r.pop())||yi()}({structureOrder:t,drawPositions:n,roundNumber:a,idPrefix:i,uuids:r});return{matchUpStatus:a?an:Ke,matchUpType:e,finishingPositionRange:{winner:s,loser:o},drawPositions:n,roundNumber:a,matchUpId:d}})).sort(((t,e)=>(t.roundNumber||9999)-(e.roundNumber||9999)));function u(t){return[Math.min(...t),Math.max(...t)]}}function Wp(t={}){const{goesTo:e=!0,stage:n=Vi,structureName:i,staggeredEntry:r,stageSequence:a=1,drawType:o=pr,drawDefinition:s,uuids:c}=t;let{tieFormat:u,matchUpType:d}=t;if(!s)return{error:l};u=u||s.tieFormat,d=d||s.matchUpType||Jr;const p=Ms({stage:n,drawDefinition:s});Object.assign(t,{drawSize:p,matchUpType:d,tieFormat:u});const f=yn(2*p/3);if(p<2||!r&&![ur,cr].includes(o)&&(o===Ur&&p<3||o===fr&&!f||![Ur,fr,Ar].includes(o)&&!yn(p)))return{error:N};const m=Or.includes(o);if(parseInt(p)<4&&m)return{error:N};const h=1===a?1:void 0,{structures:v}=_p({stage:n,stageSequence:a,drawDefinition:s});if(v.length>=h)return{error:W};const y={[cr]:()=>{const t=Op({structureName:i||n,finishingPosition:Rr,structureId:null==c?void 0:c.pop(),stageSequence:a,matchUps:[],matchUpType:d,stage:n});return s.structures.push(t),Object.assign({structure:t},En)},[pr]:()=>{const{matchUps:e,roundLimit:r}=Dp(t),o=Op({stage:n,matchUps:e,matchUpType:d,stageSequence:a,qualifyingRound:n===Hi&&r,structureId:null==c?void 0:c.pop(),roundLimit:r,structureName:i||n});return s.structures.push(o),Object.assign({structure:o},En)},[fr]:()=>Lp(t),[dr]:()=>Bp(Object.assign(t,{roundOffsetLimit:3,playoffAttributes:Tr})),[lr]:()=>Bp(Object.assign(t,{roundOffsetLimit:2,playoffAttributes:Cr})),[Ki]:()=>Bp(t),[ur]:()=>{const{matchUps:t}=Cp({drawSize:p,uuids:c,matchUpType:d}),e=Op({structureName:i||n,structureId:null==c?void 0:c.pop(),stageSequence:a,matchUpType:d,matchUps:t,stage:n});return s.structures.push(e),Object.assign({structure:e},En)},[hr]:()=>function(t){let{drawSize:e,consolationStructureName:n}=t;const{finishingPositionOffset:i=0,stageSequence:r=1,drawDefinition:a,staggeredEntry:o,structureName:s,stage:c=Vi,matchUpType:u,idPrefix:d,uuids:l}=t;e=e||Ms({stage:c,drawDefinition:a});const p={finishingPositionOffset:i,matchUpType:u,drawSize:e,idPrefix:d,uuids:l},{matchUps:f}=o?Cp(p):Dp(p),m=Op({stage:c,matchUps:f,matchUpType:u,stageSequence:r,structureId:null==l?void 0:l.pop(),structureName:s||Vi});a&&a.structures.push(m);const h=e/2,{matchUps:v}=Dp({finishingPositionOffset:i+h,drawSize:h,idPrefix:d&&`${d}-c`,matchUpType:u});n=n||(s?`${s} ${Wi}`:Wi);const g=Op({matchUpType:u,stageSequence:1,stage:Wi,structureId:null==l?void 0:l.pop(),matchUps:v,structureName:n});a&&a.structures.push(g);const y={linkType:or,source:{roundNumber:1,structureId:m.structureId},target:{roundNumber:1,feedProfile:nr,structureId:g.structureId}};return a&&a.links.push(y),Object.assign({link:y,mainStructure:m,consolationStructure:g,links:null==a?void 0:a.links},En)}(t),[mr]:()=>Zp(Object.assign(t,{feedRounds:1,fmlc:!0})),[Sr]:()=>Zp(Object.assign(t,{feedRounds:1})),[Ir]:()=>Zp(Object.assign(t,{feedsFromFinal:2})),[gr]:()=>Zp(Object.assign(t,{feedsFromFinal:1})),[br]:()=>Zp(Object.assign(t,{feedsFromFinal:3})),[Er]:()=>Zp(t),[vr]:()=>Fp(t),[Ur]:()=>Gp(t),[Ar]:()=>function(t){const{playoffMatchUpFormat:e,stageSequence:n=1,structureOptions:i,drawDefinition:r,matchUpType:a,idPrefix:o,uuids:s}=t,c=Object.assign({structureName:Vi},t,{stage:Vi}),{structure:u,groupCount:d,groupSize:l}=Gp(c);d<1&&console.log(we);const p=i&&i.playoffGroups||[{finishingPositions:[1],structureName:Ki}];let f=0;const m=p.map(((t,i)=>{const c=i+1,p=Ze(1,l+1),m=t.finishingPositions;if(!m.reduce(((t,e)=>p.includes(e)&&t),!0))return;const h=t.drawType||pr,v=d*m.length,g=bn(v);if(h===pr){const{matchUps:i}=Dp({idPrefix:o&&`${o}-po`,finishingPositionOffset:f,matchUpType:a,drawSize:g}),d=Op({matchUps:i,stageOrder:c,matchUpType:a,stageSequence:n,stage:Ki,structureId:null==s?void 0:s.pop(),structureName:t.structureName,matchUpFormat:e});r.structures.push(d);const l=Vp({mainStructure:u,playoffStructure:d,finishingPositions:m});return r.links.push(l),f+=v,d}if(h===mr){console.log("RRw/PO FIRST_MATCH_LOSER_CONSOLATION");const e=[null==s?void 0:s.pop(),null==s?void 0:s.pop()],{mainStructure:n,consolationStructure:i,link:c}=Zp({structureName:t.structureName,idPrefix:o&&`${o}-po`,finishingPositionOffset:f,uuids:e,stage:Ki,feedRounds:1,matchUpType:a,fmlc:!0,drawSize:g}),d=Vp({mainStructure:u,playoffStructure:n,finishingPositions:m});return r.links.push(d),r.structures.push(n),r.structures.push(i),r.links.push(c),f+=v,n}})).filter(Boolean);return Object.assign({mainStructure:u,playoffStructures:m,links:r.links},En)}(t)}[o],I=y&&y();if(null==I||!I.success)return{error:g};const{matchUps:w,matchUpsMap:b}=Ic({drawDefinition:s});let S;u&&w.forEach((t=>{const{tieMatchUps:e}=function({tieFormat:t,uuids:e}){const{collectionDefinitions:n}=t||{};return{tieMatchUps:(n||[]).map((t=>{const{matchUpCount:n,matchUpFormat:i,matchUpType:r,collectionId:a}=t||{};return Ze(0,n||0).map((t=>({collectionId:a,matchUpType:r,matchUpFormat:i,collectionPosition:t+1,matchUpId:(null==e?void 0:e.pop())||yi(),sides:[{SideNumber:1},{SideNumber:2}]})))})).filter(Boolean).flat()}}({tieFormat:u});Object.assign(t,{tieMatchUps:e,tieFormat:u,matchUpType:d})})),e&&({inContextDrawMatchUps:S}=Ed({drawDefinition:s,matchUpsMap:b}));const P={...En,matchUps:w};return Object.assign(P,I,{matchUpsMap:b,inContextDrawMatchUps:S}),La({drawDefinition:s}),P}function zp({drawDefinition:t,stage:e,drawSize:n}){if(!t)return{error:l};if(!Ds({drawDefinition:t,stage:e}))return{error:H};return n<xs({drawDefinition:t,stage:e})+Ts({drawDefinition:t,stage:e})?{error:"Cannot set drawSize to be less than existing entries"}:(ls({drawDefinition:t,attributes:[{[e]:{drawSize:n}}]}),La({drawDefinition:t}),{...En})}function Kp({drawDefinition:t,policyDefinitions:e}){if(!t)return{error:l};if(!e||"object"!=typeof e)return{error:ct};t.extensions||(t.extensions=[]);const{appliedPolicies:n}=Wo({drawDefinition:t}),i=Object.keys(e).every((t=>!n[t]&&(n[t]=e[t],!0)));if(i){const e=rs({element:t,extension:{name:_a,value:n}});if(e.error)return e}return La({drawDefinition:t}),i?{...En}:{error:pt}}function qp({tournamentRecord:t,participantId:e,scaleAttributes:n}){if(!t)return{error:s};if(!e)return{error:Lt};const{participant:i}=ua({tournamentRecord:t,participantId:e});return i?Il({participant:i,scaleAttributes:n}):{error:kt}}function $p({tournamentRecord:t,event:e,stage:n,entries:i,scaleAttributes:r,scaleSortMethod:a,sortDescending:o=!1}){if(!t)return{error:s};return{scaledEntries:(i=i||(null==e?void 0:e.entries)||[]).filter((t=>(!n||!t.entryStage||t.entryStage===n)&&Ps.includes(t.entryStatus))).map((e=>{const{participantId:n}=e,{scaleItem:i}=qp({tournamentRecord:t,participantId:n,scaleAttributes:r});return{...e,...i}})).filter((t=>{const e=t.scaleValue;return!!(a||!isNaN(e)&&parseFloat(e))&&e})).sort(a||function(t,e){return o?c(e)-c(t):c(t)-c(e)})};function c(t){return parseFloat(t.scaleValue||(o?-1:1e5))}}function Yp({drawId:t=yi(),drawType:e}={}){const n={drawId:void 0,drawName:void 0,matchUpType:Jr,entries:[],links:[],structures:[]};return Object.assign(n,{drawId:t,drawType:e})}const Jp=({uuids:t}={})=>({winCriteria:{valueGoal:5},collectionDefinitions:[{collectionId:(null==t?void 0:t.pop())||yi(),collectionName:"Doubles",matchUpType:"DOUBLES",matchUpCount:3,matchUpFormat:"SET3-S:6/TB7-F:TB10",matchUpValue:1},{collectionId:(null==t?void 0:t.pop())||yi(),collectionName:"Singles",matchUpType:Jr,matchUpCount:6,matchUpFormat:"SET3-S:6/TB7",matchUpValue:1}]});function Xp(t){const{drawType:e=pr,enforcePolicyLimits:n=!0,finishingPositionNaming:i,ignoreAllowedDrawTypes:r,seedAssignmentProfile:a,playoffMatchUpFormat:o,seedByRanking:s=!0,qualifyingPositions:c,seededParticipants:u,policyDefinitions:d,seedingScaleName:l,assignSeedsCount:p,automated:f=!0,qualifyingRound:m,seedingProfile:h,stage:v=Vi,drawEntries:g,feedPolicy:y,idPrefix:I,drawId:w,uuids:b}=t,{tournamentRecord:N,event:S}=t;let{drawName:P,matchUpType:E,structureOptions:U}=t;const A=null==N?void 0:N.participants,D=S&&A&&ep({event:S,participants:A});if(null!=D&&D.error)return D;const M=!r&&N&&Ll({tournamentRecord:N,categoryType:null==S?void 0:S.categoryType,categoryName:null==S?void 0:S.categoryName});if(null!=M&&M.length&&!M.includes(e))return{error:"Invalid drawType"};let{seedsCount:T,drawSize:C=32,tieFormat:R,matchUpFormat:x}=t;"number"!=typeof C&&(C=parseInt(C)),"number"!=typeof T&&(T=parseInt(T||0)),E===Qr?(R=R||Jp(),x=void 0):x||(R=void 0,x="SET3-S:6/TB7");const O=g||(null==S?void 0:S.entries)||[],L=null==S?void 0:S.eventType;E=E||L;const k=O.filter((t=>(!t.entryStage||t.entryStage===v)&&Ps.includes(t.entryStatus)));[Ur].includes(e)&&(C=k.length);const F=Yp({drawType:e,drawId:w});if(zp({drawDefinition:F,stage:v,drawSize:C}),g){const t=g.reduce(((t,e)=>t.includes(e.entryStage)?t:t.concat(e.entryStage)),[]).filter((t=>t!==v));t.length&&console.log({drawEntryStages:t})}if(x||R){if(x&&(null==S?void 0:S.matchUpFormat)===x||(null==S?void 0:S.tieFormat)&&R&&JSON.stringify(S.tieFormat)===JSON.stringify(R))E&&(F.matchUpType=E);else{let t=Uu({drawDefinition:F,matchUpFormat:x,tieFormat:R,matchUpType:E});if(t.error)return{error:t.error,message:"matchUpFormat error"}}}R=R||(null==S?void 0:S.tieFormat);let Z=Wp({drawDefinition:F,matchUpType:E,tieFormat:R,stage:v,drawType:e,seedingProfile:h,structureOptions:U,qualifyingRound:m,qualifyingPositions:c,uuids:b,idPrefix:I,matchUpFormat:x,playoffMatchUpFormat:o,finishingPositionNaming:i,feedPolicy:y,goesTo:t.goesTo});if(Z.error)return Z;const{matchUpsMap:_,inContextDrawMatchUps:B}=Z,{structures:j}=_p({drawDefinition:F,stageSequence:1,stage:v}),[G]=j,{structureId:V}=G||{};if("object"==typeof d)for(const X of Object.keys(d))Kp({drawDefinition:F,policyDefinitions:{[X]:d[X]}});const{policyDefinitions:H}=Gc({tournamentRecord:N,drawDefinition:F,event:S,policyTypes:[Ri]})||{};null!=d&&d.seeding||null!=H&&H.seeding||Kp({drawDefinition:F,policyDefinitions:ta});const{policyDefinitions:W}=Gc({tournamentRecord:N,drawDefinition:F,event:S,policyTypes:[Ci]})||{};null!=d&&d.avoidance||null==W||!W.avoidance||Kp({drawDefinition:F,policyDefinitions:W});for(const X of O){const t=zl({...X,entryStage:X.entryStage||Vi,drawDefinition:F});if(g&&t.error)return t}const z=O.map((({participantId:t})=>t));u&&(T=u.length),T>C&&(T=C),T>k.length&&(T=k.length);const{seedLimit:K}=Ap({tournamentRecord:N,drawDefinition:F,event:S,participantCount:k.length,enforcePolicyLimits:n,structureId:V,seedsCount:T});if(K&&K<T&&(T=K),u)u.filter((({participantId:t})=>z.includes(t))).filter((t=>!t.seedNumber||t.seedNumber<=u.length)).sort(((t,e)=>t.seedNumber<e.seedNumber?-1:t.seedNumber<e.seedNumber?1:0)).forEach((t=>{const{participantId:e,seedNumber:n,seedValue:i}=t;np({drawDefinition:F,participantId:e,structureId:V,seedNumber:n,seedValue:i})}));else if(null!=S&&S.category||l){var q,$;const{categoryName:t,ageCategoryCode:e}=(null==S?void 0:S.category)||{},n={scaleType:yl,scaleName:l||t||e,eventType:L};let{scaledEntries:i}=$p({scaleAttributes:n,tournamentRecord:N,entries:O,stage:v});if((null===(q=i)||void 0===q||!q.length)&&s){const n={scaleType:gl,scaleName:t||e,eventType:L};({scaledEntries:i}=$p({scaleAttributes:n,tournamentRecord:N,entries:O,stage:v}))}const r=(null===($=i)||void 0===$?void 0:$.length)||0;r<T&&(T=r),i&&i.filter((({participantId:t})=>z.includes(t))).slice(0,p||T).forEach(((t,e)=>{const n=e+1,i=(null==a?void 0:a[n])||n,{participantId:r}=t;np({drawDefinition:F,participantId:r,structureId:V,seedNumber:n,seedValue:i})}))}let Y=[];if(!1!==f){const t="object"==typeof f&&f.seedsOnly;({conflicts:Y}=Pp({drawDefinition:F,participants:A,structureId:V,seedsOnly:t,inContextDrawMatchUps:B,matchUpsMap:_}))}P=P||e,F&&Object.assign(F,{drawName:P});const J={drawSize:C,drawType:e,automated:f,drawName:P,seedsCount:T,tieFormat:R,matchUpType:E,seedingScaleName:l,drawId:F.drawId,category:null==S?void 0:S.category,eventId:null==S?void 0:S.eventId};return Rn({topic:wa,payload:{action:"generateDrawDefinition",payload:J}}),{...En,structureId:V,drawDefinition:F,conflicts:Y}}function Qp({tournamentRecord:t,drawDefinition:e,participantId:n,entryPosition:i,event:r}){return t?n?void 0===i||Number.isSafeInteger(i)?(((null==r?void 0:r.entries)||[]).forEach((t=>{t.participantId===n&&(t.entryPosition=i)})),((null==e?void 0:e.entries)||[]).forEach((t=>{t.participantId===n&&(t.entryPosition=i)})),En):{error:Ne,entryPosition:i}:{error:Lt}:{error:s}}function tf({drawDefinition:t,stages:e}){return((null==t?void 0:t.structures)||[]).filter((t=>!(null!=e&&e.length)||e.includes(t.stage))).map((t=>{const{positionAssignments:e}=Zs({structure:t});return e.map((({participantId:t})=>t)).filter(Boolean)})).flat()}function ef({tournamentRecord:t,drawDefinition:e,participantIds:n,entryStatus:i,drawId:r,stage:a,event:o,eventSync:s,autoEntryPositions:c=!0}){var u,d,l,p,f,m,h;if(!n||!Array.isArray(n))return{error:Mt,method:"modifyEntriesStatus",participantIds:n};if(!Es.includes(i))return{error:$t};if(!e&&!o)return{error:F};const v=[];var g;(i===bs||Yl(i))&&(null===(g=o.drawDefinitions)||void 0===g||g.forEach((t=>{const e=tf({drawDefinition:t});v.push(...e)})));const y=(null==t?void 0:t.participants)||[];if(!n.every((t=>{const{participantType:e}=ca({tournamentParticipants:y,participantId:t});return!(e===$o&&Yl(i))})))return{error:$t};const I=(t=[])=>{const e=t.filter((t=>!a||!t.entryStage||a===t.entryStage)).filter((({participantId:t})=>n.includes(t)));return e.every((t=>!(t=>v.includes(t.participantId))(t)&&(t.entryStatus=i,delete t.entryPosition,!0)))?En:{error:Vt}},{flightProfile:w}=qu({event:o}),b=null==w||null===(u=w.flights)||void 0===u?void 0:u.find((t=>t.drawId===r)),N=()=>{o.entries=Hl({entries:o.entries}),b&&(b.drawEntries=Hl({entries:b.drawEntries})),e&&(e.entries=Hl({entries:e.entries}))},S=(null===(d=o.entries)||void 0===d?void 0:d.find((({entryPosition:t})=>!isNaN(t))))||(null==b||null===(l=b.drawEntries)||void 0===l?void 0:l.find((({entryPosition:t})=>!isNaN(t))))||(null==e||null===(p=e.entries)||void 0===p?void 0:p.find((({entryPosition:t})=>!isNaN(t))));c&&!S&&N();(b||e)&&(({flight:t,drawDefinition:e})=>{if(t){const e=I(t.drawEntries);if(e.error)return e}if(e){const t=I(e.entries);if(t.error);}})({flight:b,drawDefinition:e});const P=1===(null==w||null===(f=w.flights)||void 0===f?void 0:f.length)&&(null===(m=o.drawDefinitions)||void 0===m?void 0:m.length)<=(null==w||null===(h=w.flights)||void 0===h?void 0:h.length);if(!b&&!e||i===bs||s&&P){const t=I(o.entries);if(t.error)return t;let e;var E,U;if(i===bs)null==w||null===(E=w.flights)||void 0===E||E.every((({drawEntries:t})=>{const n=I(t);return!n.error||(e=n.error,!1)})),null===(U=o.drawDefinitions)||void 0===U||U.every((({entries:t})=>{const n=I(t);return!n.error||(e=n.error,!1)}));if(e)return{error:e}}return c&&N(),En}function nf(t){const{drawId:e,replaceWithBye:n,destroyPair:i,entryStatus:r,drawDefinition:a,matchUpsMap:o}=t,s=Bc(t);if(s.error)return s;const{participantId:c}=s,{drawPosition:u,event:d,structureId:l}=t;if([fs,bs].includes(r)&&c){const{tournamentRecord:n}=t,{participant:o}=ua({tournamentRecord:n,participantId:c}),{participantType:s,individualParticipantIds:u}=o||{};if(i&&s===$o){const t=Ql({tournamentRecord:n,drawDefinition:a,participantId:c,event:d});if(t.error)return t;ef({tournamentRecord:n,participantIds:u,entryStatus:r,drawDefinition:a,drawId:e,event:d})}else ef({tournamentRecord:n,participantIds:[c],entryStatus:r,drawDefinition:a,drawId:e,event:d})}if(n){const t=Yc({drawDefinition:a,structureId:l,drawPosition:u,matchUpsMap:o});if(t.error)return t}const{structure:p}=es({drawDefinition:a,structureId:l});uu({structure:p,drawPositions:[u]});return du({drawDefinition:a,positionAction:{name:"removeDrawPositionAssignment",replaceWithBye:n,drawPosition:u,entryStatus:r,structureId:l}}),s}function rf({drawDefinition:t,drawPositions:e,structureId:n}){if(!t)return{error:l};if(!n)return{error:R};if(2!==(null==e?void 0:e.length))return{error:Ne,drawPositions:e};const i=Xo({drawDefinition:t}),{matchUps:r}=Ic({drawDefinition:t,inContext:!0,includeByeMatchUps:!0}),{structure:a}=es({drawDefinition:t,structureId:n});if(!a)return{error:x};let o;if(o=a.structureType===Qi?function({drawDefinition:t,drawPositions:e,structure:n,matchUpsMap:i,inContextDrawMatchUps:r}){var a;const o=null===(a=n.structures)||void 0===a?void 0:a.reduce(((t,n)=>{const i=null==n?void 0:n.positionAssignments.filter((t=>e.includes(t.drawPosition)));return i&&t.push(...i),t}),[]);if(2===o.filter((({bye:t})=>t)).length)return{...En};if(o.some((({bye:t})=>t)))af({drawDefinition:t,assignments:o,structure:n,matchUpsMap:i,inContextDrawMatchUps:r});else{const t=o.map((({participantId:t})=>t));o.forEach(((e,n)=>e.participantId=t[1-n]))}return{...En}}({drawDefinition:t,structure:a,drawPositions:e,matchUpsMap:i,inContextDrawMatchUps:r}):function({drawDefinition:t,structure:e,drawPositions:n,matchUpsMap:i,inContextDrawMatchUps:r}){const a=null==e?void 0:e.positionAssignments.filter((t=>n.includes(t.drawPosition)));if(!a)return{error:Ne,structure:e,message:"Missing positionAssignments"};if(2===a.filter((({bye:t})=>t)).length)return{...En};return a.some((({bye:t})=>t))?af({drawDefinition:t,structure:e,assignments:a,matchUpsMap:i,inContextDrawMatchUps:r}):function({structure:t,assignments:e}){const n=Object.assign({},...e.map(((t,n)=>{const{drawPosition:i}=t;return{[i]:{...e[1-n],drawPosition:i}}})));return t.positionAssignments=t.positionAssignments.map((t=>n[t.drawPosition]||t)),{...En}}({structure:e,assignments:a,matchUpsMap:i,inContextDrawMatchUps:r})}({drawDefinition:t,structure:a,drawPositions:e,matchUpsMap:i,inContextDrawMatchUps:r}),o.error)return o;uu({structure:a,drawPositions:e});return du({drawDefinition:t,positionAction:{name:"swapDrawPositionAssignments",drawPositions:e,structureId:n}}),La({drawDefinition:t}),{...En}}function af({drawDefinition:t,structure:e,assignments:n,matchUpsMap:i,inContextDrawMatchUps:r}){const a=n.find((({bye:t})=>t)),o=n.find((({participantId:t})=>t)),s=a.drawPosition,{participantId:c,drawPosition:u}=o,{structureId:d}=e;let l=nf({drawDefinition:t,structureId:d,drawPosition:s,matchUpsMap:i,inContextDrawMatchUps:r});return l.error?l:(l=nf({drawDefinition:t,structureId:d,drawPosition:u,matchUpsMap:i,inContextDrawMatchUps:r}),l.error?l:(l=Yc({drawDefinition:t,structureId:d,drawPosition:u,matchUpsMap:i,inContextDrawMatchUps:r}),l=gu({drawDefinition:t,structureId:d,drawPosition:s,participantId:c,matchUpsMap:i,inContextDrawMatchUps:r}),l.error?l:{...En}))}function of(t){const{participantId:e,drawDefinition:n,drawPosition:i,structureId:r,positionActionName:a,participantIdAttributeName:o="participantId"}=t;if(!n)return{error:l};let{inContextDrawMatchUps:s,matchUpsMap:c}=t;c||(c=Xo({drawDefinition:n}),Object.assign(t,{matchUpsMap:c})),s||(({matchUps:s}=Ic({drawDefinition:n,inContext:!0,includeByeMatchUps:!0,matchUpsMap:c})),Object.assign(t,{inContextDrawMatchUps:s}));const{positionAssignments:u}=Zs({drawDefinition:n,structureId:r}),d=u.find((t=>t.drawPosition===i));if(null!=d&&d.participantId){let t=gu({drawDefinition:n,structureId:r,drawPosition:i,participantId:e,matchUpsMap:c,inContextDrawMatchUps:s});return t.success||console.log({result:t}),m({removedParticipantId:d.participantId})}let p=Bc({drawDefinition:n,drawPosition:i,structureId:r,matchUpsMap:c,inContextDrawMatchUps:s});if(p.error)return p;const f=p.participantId;return p=gu({drawDefinition:n,structureId:r,drawPosition:i,participantId:e,matchUpsMap:c,inContextDrawMatchUps:s}),p.success?m({removedParticipantId:f}):p;function m({removedParticipantId:t}){const{structure:s}=es({drawDefinition:n,structureId:r});uu({structure:s,drawPositions:[i]});return du({drawDefinition:n,positionAction:{name:a,drawPosition:i,structureId:r,[o]:e}}),{...En,removedParticipantId:t}}}function sf({alternateParticipantId:t,drawDefinition:e,drawPosition:n,structureId:i}){return of({participantId:t,drawDefinition:e,drawPosition:n,structureId:i,participantIdAttributeName:"alternateParticipantid",positionActionName:"alternateDrawPositionAssignment"})}function cf({drawDefinition:t,structureId:e}){const{structure:n,error:i}=es({drawDefinition:t,structureId:e});if(i)return{error:i};const{matchUps:r}=Ws({structure:n});return zo({matchUps:r})}function uf({drawDefinition:t,structureId:e,finishingPositions:n}){const{roundProfile:i}=cf({drawDefinition:t,structureId:e});return Object.keys(i).reduce(((t,e)=>(df(i[e]).forEach((i=>{n.forEach((n=>{(function({position:t,rangeDefinition:e}){if(!Array.isArray(e))return!1;if(e.reduce(((t,e)=>t||isNaN(e)),!1))return!1;const[n,i]=e;return Ze(n,(i||n)+1).includes(t)})({position:n,rangeDefinition:i})&&(t[n]={roundNumber:e})}))})),t)),{})}function df(t){var e,n;return[Re((null==t||null===(e=t.finishingPositionRange)||void 0===e?void 0:e.loser)||[]),Re((null==t||null===(n=t.finishingPositionRange)||void 0===n?void 0:n.winner)||[])]}function lf({drawDefinition:t}){if(!t)return{error:l};return{positionsPlayedOff:(t.structures||[]).filter((t=>t.structureType!==Hi)).map((({structureId:e})=>{const{roundProfile:n}=cf({drawDefinition:t,structureId:e});return Object.values(n).map(df).flat()})).flat().filter((t=>1===t.length)).sort(gi).flat()}}function pf({drawDefinition:t,structureId:e,playoffPositions:n=[],excludeRoundNumbers:i=[]}){if(!t)return{error:l};if(!e)return{error:R};if(!n)return{error:yt,message:"missing playoffPositions"};const{positionsPlayedOff:r,error:a}=lf({drawDefinition:t});if(a)return{error:a};const o=uf({drawDefinition:t,structureId:e,finishingPositions:n.filter((t=>!r.includes(t)))}),s=Object.values(o).reduce(((t,e)=>t.includes(e.roundNumber)?t:t.concat(e.roundNumber)),[]).map((t=>parseInt(t))).filter((t=>!i.includes(parseInt(t)))),c=uf({drawDefinition:t,structureId:e,finishingPositions:r}),u=Object.values(c).reduce(((t,e)=>t.includes(e.roundNumber)?t:t.concat(e.roundNumber)),[]).map((t=>parseInt(t))),d=s.filter((t=>!u.includes(t))).sort(gi),{roundProfile:p}=cf({drawDefinition:t,structureId:e}),f=d.map((t=>{const e=p[t].finishingPositionRange.loser,[n,i]=e;return Ze(n,(i||n)+1)})).flat().sort(gi),m=d.map((t=>{const e=p[t].finishingPositionRange.loser,[n,i]=e;return{roundNumber:t,finishingPositions:Ze(n,(i||n)+1),finishingPositionRange:e.join("-")}}));return{sourceRounds:[...d,...u],playoffRoundsRanges:m,playoffSourceRounds:d,playedOffSourceRounds:u,playoffPositionsReturned:f}}function ff({drawDefinition:t,structureId:e}){if(!t)return{error:l};let{structures:n}=ns({drawDefinition:t,stage:Vi,stageSeqence:1});const i=n&&n[0];if(!i)return{error:x};const r=i.positionAssignments||[],a=null==r?void 0:r.map((t=>t.drawPosition)),{positionsPlayedOff:o}=lf({drawDefinition:t}),s=a.filter((t=>!o.includes(t)));({structures:n}=ns({drawDefinition:t}));const c=n.filter((t=>!e||t.structureId===e)),u={};for(const d of c){const e=null==d?void 0:d.structureId,{playoffSourceRounds:n,playoffRoundsRanges:i,error:r}=mf({drawDefinition:t,playoffPositions:s,structureId:e});if(r)return{error:r};u[e]={structureId:e,playoffRounds:n,playoffRoundsRanges:i}}return e?{positionsPlayedOff:o,...u[e]}:{positionsPlayedOff:o,availablePlayoffRounds:Object.values(u)}}function mf({drawDefinition:t,playoffPositions:e,structureId:n}){var i;const{structure:r}=es({drawDefinition:t,structureId:n});if(!r)return{error:x};if(r.structureType===Qi)return{playoffSourceRounds:[],playoffRoundsRanges:[]};const{links:a}=pc({drawDefinition:t,structureId:n});return pf({drawDefinition:t,structureId:n,playoffPositions:e,excludeRoundNumbers:(null==a||null===(i=a.source)||void 0===i?void 0:i.filter((t=>t.linkCondition!==sr)).map((t=>{var e;return null===(e=t.source)||void 0===e?void 0:e.roundNumber})))||[]})}function hf(t){const{playoffRounds:e,playoffRoundsRanges:n,error:i}=ff(t);if(i)return{error:i};const{playoffSourceRounds:r,playoffRoundsRanges:a,playoffPositionsReturned:o,error:s}=pf(t);if(s)return{error:s};const{structureId:c,playoffStructureNameBase:u,playoffAttributes:d,playoffPositions:l,exitProfileLimit:p,drawDefinition:f,roundProfiles:m,roundNumbers:h,idPrefix:v,uuids:g}=t,y=(null==m?void 0:m.length)&&Object.assign({},...m),I=h||"object"==typeof m&&m.map((t=>Object.keys(t))).flat(),w=I&&I.map((t=>!isNaN(t)&&parseInt(t))).filter(Boolean);if(w){if(!Array.isArray(w))return{error:Ne,validRoundNumbers:w};w.forEach((t=>{if(!e.includes(t))return{error:Ne,roundNumber:t}}))}l&&l.forEach((t=>{if(!o.includes(t))return{error:Ne,playoffPosition:t}}));const{structure:b}=es({drawDefinition:f,structureId:c}),N=w||r,S=w?n:a,P=[];for(const A of N){const t=S.find((t=>t.roundNumber===A));if(!t)return{error:Ne,message:{roundNumber:A}};const e=t.finishingPositions.length,n=Math.min(...t.finishingPositions)-1,i=2,r=y&&y[A]&&i+y[A]-1,{structure:a}=Bp({exitProfile:`0-${A}`,playoffStructureNameBase:u,finishingPositionOffset:n,playoffAttributes:d,exitProfileLimit:p,stage:Ki,drawDefinition:f,roundOffset:0,sequenceLimit:r,stageSequence:i,drawSize:e,idPrefix:v,uuids:g});if(a){const t={linkType:or,source:{roundNumber:A,structureId:c},target:{roundNumber:1,feedProfile:nr,structureId:a.structureId}};Mn()&&(t.source.structureName=b.structureName,t.target.structureName=a.structureName),P.push(t)}}f.links=(f.links||[]).concat(...P);const{matchUps:E,matchUpsMap:U}=Ic({drawDefinition:f,inContext:!0,includeByeMatchUps:!0});return E.filter((t=>bi(t)&&t.structureId===c)).forEach((t=>{const{matchUpId:e,score:n,winningSide:i}=t,r=fc({matchUpId:e,structure:b,drawDefinition:f,inContextDrawMatchUps:E}),a=Iu({drawDefinition:f,structure:b,targetData:r,winningSide:i,matchUpId:e,matchUp:t,score:n,matchUpsMap:U,inContextDrawMatchUps:E});a.error&&console.log(a.error)})),t.goesTo&&Ed({drawDefinition:f,inContextDrawMatchUps:E,matchUpsMap:U}),La({drawDefinition:f}),{...En}}function vf({tournamentRecord:t,drawDefinition:e,playoffStructureNameBase:n,playoffAttributes:i,playoffPositions:r,exitProfileLimit:a,roundProfiles:o,roundNumbers:c,structureId:u,idPrefix:d,uuids:l}){if(!t)return{error:s};const p=hf({playoffStructureNameBase:n,playoffAttributes:i,playoffPositions:r,exitProfileLimit:a,drawDefinition:e,roundProfiles:o,roundNumbers:c,structureId:u,idPrefix:d,uuids:l});return ma({tournamentRecord:t,timeItem:{itemType:"addPlayoffStructures",itemValue:{structureId:u,roundNumbers:c,playoffPositions:r,playoffStructureNameBase:n}}}),p}function gf({drawDefinition:t,participantId:e,structureId:n,seedValue:i}){if(!t)return{error:l};if(!n)return{error:R};const{structure:r}=es({drawDefinition:t,structureId:n});if(!r)return{error:x};const{seedAssignments:a}=Ls({drawDefinition:t,structure:r}),o=a.map((t=>t.seedNumber)),s=a.find((t=>t.participantId===e));if(s)s.seedValue=i;else{const t=Math.max(0,...o)+1;r.seedAssignments.push({seedNumber:t,seedValue:i,participantId:e})}return La({drawDefinition:t}),En}function yf({tournamentRecord:t,drawDefinition:e,event:n,structureId:i,drawPosition:r,subOrder:a}){if(!e)return{error:l};if(!i)return{error:R};if(!r)return{error:b};const{structure:o}=es({drawDefinition:e,structureId:i});let s=o;o.structureType===Qi&&(s=o.structures.find((t=>t.positionAssignments.find((t=>t.drawPosition===r)))));const c=s.positionAssignments;let u=rs({element:c.find((t=>t.drawPosition===r)),extension:{name:Ja,value:a}});if(u.error)return u;const{matchUps:d}=Ws({structure:s,inContext:!0});return u=Vc({tournamentRecord:t,drawDefinition:e,event:n,positionAssignments:c,matchUps:d,matchUpFormat:(null==o?void 0:o.matchUpFormat)||e.matchUpFormat}),u.error?u:(La({drawDefinition:e}),{...En})}function If({drawDefinition:t,matchUpId:e}){if(!t)return{error:l};if(!e)return{error:at};const{matchUp:n}=zs({drawDefinition:t,matchUpId:e});return n?as({element:n,name:Ba}):{error:it}}function wf({scaledEntries:t,seedsCount:e,scaleAttributes:n,scaleName:i,stageEntries:r}){if(!n)return{error:yt};const a=Object.assign({},...(t||[]).slice(0,e).map((({participantId:t},e)=>({[t]:e+1}))));i=i||n.scaleName;const o=(new Date).toISOString();return{scaleItemsWithParticipantIds:r.map((({participantId:t})=>({participantId:t,scaleItems:[{scaleValue:a[t],eventType:n.eventType,scaleType:yl,scaleName:i,scaleDate:o}]})))}}function bf({drawDefinition:t,matchUp:e,matchUpId:n,outcome:i}){if(!e&&!t)return{error:l};if(!e&&!n)return{error:at};if(!i)return{error:yt};if(!e){const{error:i,matchUp:r}=zs({drawDefinition:t,matchUpId:n});if(i)return{error:i};e=r}const r=rs({element:e,extension:{name:Ba,value:i}});return r.error?r:En}function Nf({tournamentRecord:t,drawDefinition:e,scaleAttributes:n,drawId:i,event:r,stage:a}){if(!r)return{error:F};let o=r.entries;if(i){var c;const{flightProfile:t}=qu({event:r}),n=null==t||null===(c=t.flights)||void 0===c?void 0:c.find((t=>t.drawId===i));o=n?n.drawEntries:null==e?void 0:e.entries}return function({tournamentRecord:t,participantIds:e,scaleAttributes:n}){var i;if(!t)return{error:s};if(!e)return{error:_t};if(!n)return{error:yt,message:"scaleAttributes required"};const{scaleType:r,eventType:a,scaleName:o}=n,c=[Ao,r,a,o].join(".");return null===(i=t.participants)||void 0===i||i.forEach((t=>{e.includes(t.participantId)&&t.timeItems&&(t.timeItems=t.timeItems.filter((t=>t&&(null==t?void 0:t.itemType)!==c)))})),En}({tournamentRecord:t,participantIds:o.filter((t=>(!a||!t.entryStage||t.entryStage===a)&&Ps.includes(t.entryStatus))).map((({participantId:t})=>t)),scaleAttributes:n})}function Sf({drawDefinition:t,structureId:e}){var n;if(!t)return{error:l};if(!e)return{error:R};const i=[],r=[e],a=e=>{var n;return null===(n=t.links)||void 0===n?void 0:n.map((t=>t.source.structureId===e&&t.target.structureId)).filter(Boolean)},o=(null===(n=t.structures)||void 0===n?void 0:n.map((({structureId:t})=>t)))||[],s=Object.assign({},...o.map((t=>({[t]:a(t)}))));for(;r.length;){var c;const e=r.pop(),{structure:n}=es({drawDefinition:t,structureId:e}),{matchUps:a}=Ws({structure:n}),o=a.map((({matchUpId:t})=>t));i.push(...o),t.links=(null===(c=t.links)||void 0===c?void 0:c.filter((t=>t.source.structureId!==e&&t.target.structureId!==e)))||[],t.structures=(t.structures||[]).filter((t=>t.structureId!==e));const u=s[e];null!=u&&u.length&&r.push(...u)}const{matchUps:u}=Ic({drawDefinition:t});return u.forEach((t=>{i.includes(t.winnerMatchUpId)&&delete t.winnerMatchUpId,i.includes(t.loserMatchUpId)&&delete t.loserMatchUpId})),Ra({drawDefinition:t,matchUpIds:i,action:"removeStructure"}),La({drawDefinition:t}),{...En,removedMatchUpIds:i}}function Pf({drawDefinition:t,participants:e,matchUpType:n,event:i,structureName:r=zi,structureAbbreviation:a,structureId:o,automated:s}){const c=zi;if(!t)return{error:l};n=n||t.matchUpType;const u=Ms({stage:c,drawDefinition:t}),{matchUps:d}=Dp({matchUpType:n,drawSize:u}),p=Op({stage:c,matchUps:d,matchUpType:n,structureName:r,structureAbbreviation:a,structureId:o});return t.structures.push(p),s&&Pp({drawDefinition:t,participants:e,event:i,structureId:o||p.structureId}),La({drawDefinition:t}),{...En}}function Ef({drawDefinition:t,structureId:e,matchUps:n}){var i;if("object"!=typeof t)return{error:l};if("string"!=typeof e)return{error:R};if(!Array.isArray(n))return{error:Ne};const r=null===(i=t.structures)||void 0===i?void 0:i.find((t=>t.structureId===e));if(!r)return{error:x};const a=(null==r?void 0:r.matchUps).find((t=>!!t.roundPosition));if(r.structures||a||r.finishingPosition===xr)return{error:f};const o=(r.matchUps||[]).map((({drawPositions:t})=>t)).flat().sort(((t,e)=>t-e)),s=Math.max(...o,0)+1,c=Ze(s,s+2*n.length),u=Ge(c,2);n.forEach(((t,e)=>t.drawPositions=u[e])),r.matchUps.push(...n);const d=c.map((t=>({drawPosition:t})));return r.positionAssignments||(r.positionAssignments=[]),r.positionAssignments.push(...d),Ca({drawDefinition:t,matchUps:n}),La({drawDefinition:t}),{...En}}function Uf({drawDefinition:t,structureId:e,addMatchUps:n=!1,matchUpsCount:i=1,matchUpIds:r=[],roundNumber:a,newRound:o}){var s;if("object"!=typeof t)return{error:l};if("string"!=typeof e)return{error:R};if(!Sn(i)||!Array.isArray(r))return{error:Ne};const c=null==t||null===(s=t.structures)||void 0===s?void 0:s.find((t=>t.structureId===e));let u;const d=(null==c?void 0:c.matchUps).reduce(((t,e)=>(e.roundPosition&&(u=!0),e.roundNumber>t?e.roundNumber:t)),0);if(c.structures||u||c.finishingPosition===xr)return{error:f};if(a&&a-1>d)return{error:Ne};const p=a||(o?d+1:d||1),m=Ze(0,i).map((()=>({matchUpId:r.pop()||yi(),roundNumber:p,matchUpStatus:an,drawPositions:[]})));if(n){const n=Ef({drawDefinition:t,structureId:e,matchUps:m});if(n.error)return n}return{matchUps:m,...En}}const Af="splitWaterfall",Df="splitShuttle";function Mf({event:t,drawId:e,drawDefinition:n,drawName:i}){var r;if(!i||"string"!=typeof i)return{error:Ne,drawName:i};const{flightProfile:a}=qu({event:t}),o=null==a||null===(r=a.flights)||void 0===r?void 0:r.find((t=>t.drawId===e));if(o){o.drawName=i;cs({event:t,extension:{name:Va,value:{...a,flights:a.flights}}})}return n&&(n.drawName=i),o||n?En:{error:l}}function Tf({drawDefinition:t,drawSize:e}){if(!t)return{error:l};const n=zp({drawDefinition:t,stage:zi,drawSize:e});return n.error?n:(Mf({drawDefinition:t}),En)}function Cf({drawDefinition:t,structureId:e,matchUpIds:n=[]}){var i;if("object"!=typeof t)return{error:l};if("string"!=typeof e)return{error:R};if(!Array.isArray(n))return{error:Ne};const r=null===(i=t.structures)||void 0===i?void 0:i.find((t=>t.structureId===e));if(!r)return{error:x};const a=null==r?void 0:r.matchUps,o=a.find((t=>!!t.roundPosition));if(r.structures||o||r.finishingPosition===xr)return{error:f};const s=a.filter((({matchUpId:t})=>n.includes(t))),c=s.map((({matchUpId:t})=>t)),u=s.map((({drawPositions:t})=>t)).flat();if(u.length){r.positionAssignments=r.positionAssignments.filter((({drawPosition:t})=>!u.includes(t))).sort(((t,e)=>t.drawPosition-e.drawPosition)),r.matchUps=r.matchUps.filter((({matchUpId:t})=>!c.includes(t)));const e=Object.assign({},...r.positionAssignments.map((({drawPosition:t},e)=>({[t]:e+1}))));r.positionAssignments=r.positionAssignments.map((t=>({...t,drawPosition:e[t.drawPosition]})));const n=t=>t.drawPositions=t.drawPositions.map((t=>e[t]));r.matchUps.forEach(n),Ra({drawDefinition:t,matchUpIds:c,action:"deleteAdHocMatchUps"}),La({drawDefinition:t})}return{...En}}function Rf({rankedPairings:t,rankedMatchUpValues:e,stipulated:n=[],deltaObjects:i}){let r=0,a=[],o=[].concat(...n);n.filter(Boolean).forEach((t=>{const n=xf(...t),i=e[n];a.push({participantIds:t,value:i}),r+=e[n]})),t.forEach((t=>{const e=t.pairing.split("|");if(!e.reduce(((t,e)=>o.indexOf(e)>=0||t),!1)){o=o.concat(...e);let n=t.value;r+=n,a.push({participantIds:e,value:n})}})),a.sort(((t,e)=>t.value-e.value));const s=a.reduce(((t,e)=>{const n=xf(...e.participantIds),r=i[n];return r>t?r:t}),0);return{value:r,participantIdPairings:a,maxDelta:s}}function xf(t,e){return[t,e].sort().join("|")}function Of({tournamentParticipants:t,drawDefinition:e,participantIds:n,adHocRatings:i,structureId:r,matchUpIds:a,eventType:o,structure:s}){const{positionAssignments:c}=Zs({structure:s}),{encounters:u}=function({matchUps:t,positionAssignments:e}){let n=[];for(const i of t){const t=e.filter((({drawPosition:t})=>i.drawPositions.includes(t))).map((({participantId:t})=>t)).filter(Boolean);if(2===t.length){const e=kf(...t);n.includes(e)||n.push(e)}}return{encounters:n}}({matchUps:s.matchUps,positionAssignments:c}),d={};for(const I of u)d[I]||(d[I]=0),d[I]+=50;const l=null==t?void 0:t.filter((({participantType:t})=>t===qo));if(l)for(const I of l){const t=I.individualParticipantIds,{uniquePairings:e}=Lf({participantIds:t});for(const n of e)d[n]||(d[n]=0),d[n]+=60}const{uniquePairings:p,possiblePairings:f,deltaObjects:m}=Lf({participantIds:n}),h=Uf({newRound:!0,drawDefinition:e,matchUpsCount:Math.floor(n.length/2),structureId:r,matchUpIds:a,addMatchUps:!0});if(h.error)return h;const v=h.matchUps,g={drawDefinition:e,participantIds:n,possiblePairings:f,uniquePairings:p,adHocRatings:i,deltaObjects:m,valueObjects:d,structure:s},{participantIdPairings:y}=o===jo?function({roundMatchUps:t}){return{matchUps:t}}(g):function({deltaObjects:t,valueObjects:e,adHocRatings:n={},uniquePairings:i,possiblePairings:r}){i.forEach((i=>{const r=i.split("|").map((t=>n[t]||0)),a=Math.abs(r[0]-r[1])+1;t[i]=Math.abs(r[0]-r[1]),e[i]||(e[i]=0),e[i]+=Math.pow(a,2)}));const a=i.map((t=>({pairing:t,value:e[t]}))).sort(((t,e)=>t.value-e.value)),{pairingValues:o}=function({possiblePairings:t,valueObjects:e}){let n={};for(const r of Object.keys(t)){let e=t[r].map((t=>i(r,t)));n[r]=e.sort(((t,e)=>t.value-e.value))}function i(t,n){let i=kf(t,n);return{opponent:n,value:e[i]}}return{pairingValues:n}}({possiblePairings:r,valueObjects:e}),{participantIdPairings:s}=function({rankedPairings:t,pairingValues:e,deltaObjects:n,candidateGoal:i=2e3,actorDivisor:r=100}){const a=Object.assign({},...t.map((t=>({[t.matchUp]:t.value}))));let o=Rf({rankedPairings:t,rankedMatchUpValues:a,deltaObjects:n});const s=Object.keys(e),c=i/(s.length/r);let u=Math.floor(c/s.length);return u>i&&(u=i),s.forEach((i=>{e[i].slice(0,u).forEach((e=>{const i=Rf({rankedPairings:t,rankedMatchUpValues:a,stipulated:[e.participantIds],deltaObjects:n});i.value<o.value&&(o=i)}))})),o}({rankedPairings:a,pairingValues:o,deltaObjects:t,candidateGoal:2e3,actorDivisor:100});return{participantIdPairings:s}}(g);for(const[I,w]of v.entries()){const t=w.drawPositions,{participantIds:n}=y[I];for(const i of t.keys()){const a=gu({drawDefinition:e,structureId:r,participantId:n[i],drawPosition:t[i]});if(a.error)return a}}return{...En}}function Lf({participantIds:t}){const e={},n=[];t.forEach((i=>{e[i]=t.filter((t=>t!==i)),e[i].forEach((t=>{const e=kf(t,i);n.includes(e)||n.push(e)}))}));const i=Object.assign({},...n.map((t=>({[t]:0}))));return{uniquePairings:n,possiblePairings:e,deltaObjects:i}}function kf(t,e){return[t,e].sort().join("|")}function Ff({tournamentParticipants:t,restrictEntryStatus:e,drawDefinition:n,participantIds:i,structureId:r,matchUpIds:a,scaleName:o,eventType:s}){var c;if("object"!=typeof n)return{error:d};const u=n.entries.filter((({entryStatus:t})=>!e||[gs,ws,vs].includes(t))).map((({participantId:t})=>t));if(i){const t=!!i.find((t=>u.includes(t)));if(t)return{error:Mt,participantId:t}}else i=u;const l=t=>!(null!=t&&t.structures||null!=t&&t.matchUps.find((({roundPosition:t})=>!!t)));if(!r){var p;const t=null===(p=n.structures)||void 0===p?void 0:p.find((t=>1===t.stageSequence)).recuce(((t,e)=>{const n=$i[e.stage];return l(e)&&n>$i[t.stage]?e:t}),void 0);r=null==t?void 0:t.structureId}const f=null===(c=n.structures)||void 0===c?void 0:c.find((t=>t.structureId===r));if(!f)return{error:x};if(!l(f))return{error:d};const m={};for(const d of i){const e=null==t?void 0:t.find((t=>t.participantId===d));let n=Zf({eventType:s,participant:e});!n&&o&&(n=Zf({scaleValue:n,eventType:s,participant:e})),n&&(m[d]=n)}const{matchUps:h}=Of({tournamentParticipants:t,drawDefinition:n,participantIds:i,adHocRatings:m,matchUpIds:a,structureId:r,structure:f,eventType:s});return{...En,matchUps:h}}function Zf({scaleName:t="dynamic",eventType:e,participant:n}){var i;const r=n&&Il({participant:n,scaleAttributes:{scaleType:vl,eventType:e||Bo,scaleName:t}});return null==r||null===(i=r.scaleItem)||void 0===i?void 0:i.scaleValue}function _f({event:t,stage:e,drawId:n,drawName:i,drawSize:r,drawEntries:a=[],qualifyingPositions:o}){var s,c;if(!t)return{error:F};if(!i)return{error:yt};if(null!=a&&a.length){var u;const e=(null===(u=t.entries)||void 0===u?void 0:u.map((({participantId:t})=>t)).filter(Boolean))||[],n=a.map((({participantId:t})=>t)).filter(Boolean);if(Be(n,e).length!==n.length)return{error:Ne}}const{flightProfile:d}=qu({event:t}),l=(null==d||null===(s=d.flights)||void 0===s||null===(c=s.map((({flightNumber:t})=>!isNaN(t)&&parseInt(t))))||void 0===c?void 0:c.filter(Boolean))||[],p={drawName:i,drawEntries:a,flightNumber:Math.max(0,...l)+1,drawId:n||yi()};e&&(p.stage=e),r&&(p.drawSize=r),o&&(p.qualifyingPositions=o);if(((null==d?void 0:d.flights)||[]).find((({drawId:t})=>t===p.drawId)))return{error:De};const f=((null==d?void 0:d.flights)||[]).concat(p);return cs({event:t,extension:{name:Va,value:{...d||{},flights:f}}})}function Bf({tournamentRecord:t,event:e,startDate:n}){if(!t)return{error:s};if(!e)return{error:F};if(!Wn.test(n))return{error:Nt};const{tournamentStartDate:i,tournamentEndDate:r,error:a}=Gf(t);if(a)return{error:a};const o=new Date(oi(n));if(o<i||o>r)return{error:Nt};const c=e.endDate&&new Date(oi(e.endDate));return c&&o>c&&(e.endDate=n),e.startDate=n,En}function jf({tournamentRecord:t,event:e,endDate:n}){if(!t)return{error:s};if(!e)return{error:F};if(!Wn.test(n))return{error:Nt};const{tournamentStartDate:i,tournamentEndDate:r,error:a}=Gf(t);if(a)return{error:a};const o=new Date(oi(n));if(o<i||o>r)return{error:Nt};const c=e.startDate&&new Date(oi(e.startDate));return c&&o<c&&(e.startDate=n),e.endDate=n,En}function Gf(t){const{startDate:e,endDate:n}=t;return Wn.test(e)&&Wn.test(n)?{tournamentStartDate:new Date(oi(e)),tournamentEndDate:new Date(oi(n))}:{error:Pt}}const Vf={addEvent:jl,deleteEvents:function({tournamentRecord:t,eventIds:e}){if(!t)return{error:s};if(!t.events)return{error:Z};if(!Array.isArray(e))return{error:yt};const n=[],i=[];if(t.events=(t.events||[]).filter((t=>{if(e.includes(t.eventId)){const e={action:Gl,payload:{events:[t]}};n.push(e),i.push({eventName:t.eventName,eventType:t.eventType,category:t.category,eventId:t.eventId,gender:t.gender})}return!e.includes(t.eventId)})),ku({tournamentRecord:t}),n.length){Rn({topic:wa,payload:n});ma({tournamentRecord:t,timeItem:{itemType:Gl,itemValue:i}})}return En},setEventDates:function({tournamentRecord:t,event:e,startDate:n,endDate:i}){if(!t)return{error:s};if(!e)return{error:F};if(!n&&!i)return{error:yt};if(n&&!Wn.test(n))return{error:Nt};if(i&&!Wn.test(i))return{error:Nt};if(n&&i){if(new Date(oi(n))>new Date(oi(i)))return{error:Ne}}if(n){const{error:i}=Bf({tournamentRecord:t,event:e,startDate:n});if(i)return{error:i}}if(i){const{error:n}=jf({tournamentRecord:t,event:e,endDate:i});if(n)return{error:n}}return En},setEventStartDate:Bf,setEventEndDate:jf,autoSeeding:function({tournamentRecord:t,drawDefinition:e,policyDefinitions:n,scaleAttributes:i,scaleName:r,drawSize:a,drawId:o,event:s,stage:c,sortDescending:u,scaleSortMethod:d}){const{error:l,entries:p,seedsCount:f,stageEntries:m}=_l({drawDefinition:e,drawId:o,event:s,policyDefinitions:n,drawSize:a,stage:c});if(l)return{error:l};const{scaledEntries:h}=$p({scaleAttributes:i,tournamentRecord:t,scaleSortMethod:d,sortDescending:u,entries:p,stage:c}),{scaleItemsWithParticipantIds:v}=wf({scaledEntries:h,seedsCount:f,scaleAttributes:i,scaleName:r,stageEntries:m});return{scaleItemsWithParticipantIds:v}},removeSeeding:function({tournamentRecord:t,drawDefinition:e,scaleName:n,drawId:i,event:r,stage:a}){var o,c;return t?r?(n=n||(null===(o=r.category)||void 0===o?void 0:o.categoryName)||(null===(c=r.category)||void 0===c?void 0:c.ageCategoryCode),Nf({tournamentRecord:t,scaleAttributes:{eventType:r.eventType,scaleType:yl,scaleName:n},drawDefinition:e,drawId:i,event:r,stage:a})):{error:F}:{error:s}},removeScaleValues:Nf,addDrawEntries:ql,checkValidEntries:ep,modifyDrawName:Mf,addDrawDefinition:$u,addPlayoffStructures:vf,deleteDrawDefinitions:Up,getAvailablePlayoffRounds:function({drawDefinition:t,structureId:e}){return ff({drawDefinition:t,structureId:e})},removeStructure:Sf,generateSeedingScaleItems:wf,setSubOrder:yf,addEventEntries:Xl,promoteAlternate:function({tournamentRecord:t,drawDefinition:e,event:n,participantId:i,stage:r=Vi,stageSequence:a}){if(!t)return{error:s};if(!n)return{error:F};if(n){const t=tp({element:n,participantId:i,stageSequence:a,stage:r});if(t.error)return t}if(e){const t=tp({element:e,participantId:i,stageSequence:a,stage:r});if(t.error)return t}return En},destroyPairEntry:Ql,setEntryPosition:Qp,setEntryPositions:function({tournamentRecord:t,entryPositions:e,drawDefinition:n,event:i}){if(!t)return{error:s};if(!Array.isArray(e))return{error:Ne};for(const r of e){const{participantId:e,entryPosition:a}=r,o=Qp({tournamentRecord:t,drawDefinition:n,participantId:e,entryPosition:a,event:i});if(o.error)return o}return{...En}},addEventEntryPairs:function({event:t,uuids:e,drawDefinition:n,tournamentRecord:i,entryStage:r=Vi,entryStatus:a=fs,participantIdPairs:o=[],allowDuplicateParticipantIdPairs:c}){if(!i)return{error:s};if(!t)return{error:F};if(t.eventType!==Xr)return{error:k};const u=i.participants||[],d=u.filter((t=>t.participantType===Ko)).map((t=>t.participantId)),l=d.filter((t=>!d.includes(t)));if(l.length)return{error:Tt,invalidParticipantIds:l};const p=o.filter((t=>2!==t.length));if(p.length)return{error:Tt,invalidParticipantIdPairs:p};const f=u.filter((t=>t.participantType===$o)).map((t=>t.individualParticipantIds)),m=o.map((t=>({participantId:(null==e?void 0:e.pop())||yi(),participantType:$o,participantRole:kd,individualParticipantIds:t}))),h=c?m:m.filter((t=>!f.find((e=>2===Be(e,t.individualParticipantIds).length))));let v,g=[];if(h){const t=Xu({tournamentRecord:i,participants:h,allowDuplicateParticipantIdPairs:c});if(t.error)return t;g=t.participants||[],v=t.message}const y=o.map((t=>{const e=g.find((e=>2===Be(e.individualParticipantIds,t).length));if(e)return e;const{participant:n}=dl({tournamentRecord:i,participantIds:t});return n})).map((t=>t.participantId)),I=Xl({event:t,entryStage:r,entryStatus:a,drawDefinition:n,tournamentRecord:i,participantIds:y});return h.length&&Rn({topic:ya,participants:h}),{...I,message:v,newParticipantIds:h.map((({participantId:t})=>t))}},removeEventEntries:Jl,removeDrawEntries:function({participantIds:t,drawDefinition:e,drawId:n,event:i,autoEntryPositions:r=!0}){var a;if(!i)return{error:F};if(!n)return{error:P};if(!t||!t.length)return{error:_t};const o=tf({drawDefinition:e});if(je(t,o))return{error:Wt};const s=e=>{const n=e.participantId;return!t.includes(n)},{flightProfile:c}=qu({event:i}),u=null==c||null===(a=c.flights)||void 0===a?void 0:a.find((t=>t.drawId===n));return null!=u&&u.drawEntries&&(u.drawEntries=u.drawEntries.filter(s),r&&(u.drawEntries=Hl({entries:u.drawEntries}))),null!=e&&e.entries&&(e.entries=e.entries.filter(s),r&&(e.entries=Hl({entries:e.entries}))),En},modifyEventEntries:function({event:t,tournamentRecord:e,entryStage:n=Vi,participantIdPairs:i=[],unpairedParticipantIds:r=[],entryStatus:a=gs}){if(!e)return{error:s};if(!t)return{error:F};const o=e.participants||[],c=o.filter((t=>t.participantType===Ko)).map((t=>t.participantId)),u=r.concat(...i).flat(1/0).filter((t=>!c.includes(t)));if(u.length)return{error:Tt,invalidParticipantIds:u};const d=i.filter((t=>2!==t.length));if(d.length)return{error:Tt,invalidParticipantIdPairs:d};const l=o.filter((t=>t.participantType===$o)).map((t=>t.individualParticipantIds)),p=i.filter((t=>!l.find((e=>2===Be(e,t).length)))).map((t=>({participantType:$o,participantRole:kd,individualParticipantIds:t}))),f=Xu({tournamentRecord:e,participants:p});if(f.error)return f;const m=i.map((t=>{const{participant:n}=dl({tournamentRecord:e,participantIds:t});return n})).map((t=>({participantId:t,entryStatus:a,entryStage:n}))),h=r.map((t=>({entryStatus:Ss,participantId:t,entryStage:n})));return t.entries=t.entries.filter((t=>t.entryStage===n)),t.entries=t.entries.concat(...m,...h),En},modifyEntriesStatus:ef,modifySeedAssignment:function({tournamentRecord:t,drawDefinition:e,participantId:n,structureId:i,seedValue:r}){return t?(t.participants||[]).find((t=>t.participantId===n))?gf({drawDefinition:e,participantId:n,structureId:i,seedValue:r}):{error:Mt}:{error:s}},addFlight:_f,getFlightProfile:qu,getScaledEntries:$p,updateDrawIdsOrder:function({event:t,orderedDrawIdsMap:e}){var n,i;if("object"!=typeof t)return{error:F};if(!e)return{error:yt,message:"Missing drawIdsOrderMap"};if("object"!=typeof e)return{error:Ne,message:"orderedDrawIdsMap must be an object"};const r=Object.values(e);if(!r.every((t=>!isNaN(t))))return{error:Ne,message:"drawOrder must be numeric"};if(Re(r).length!==r.length)return{error:Ne,message:"drawOrder values must be unique"};if(null!==(n=t.drawDefinitions)&&void 0!==n&&n.length){const n=(t.drawDefinitions||[]).map((({drawId:t})=>t));if(Be(n,Object.keys(e)).length!==n.length)return{error:Ne,message:"Missing drawIds"};t.drawDefinitions.forEach((t=>{t.drawOrder=e[t.drawId]}))}const{flightProfile:a}=qu({event:t});return null==a||null===(i=a.flights)||void 0===i||i.forEach((t=>{t.flightNumber=e[t.drawId]})),En},generateFlightProfile:function({tournamentRecord:t,event:e,stage:n,deleteExisting:i,scaleAttributes:r,scaleSortMethod:a,sortDescending:o,splitMethod:s,flightsCount:c,drawNameRoot:u="Flight",drawNames:d=[],uuids:l=[]}){if(!e)return{error:F};const p=e.entries||[],{flightProfile:f}=qu({event:e});if(f&&!i)return{error:Me};const{scaledEntries:m}=$p({tournamentRecord:t,event:e,stage:n,scaleAttributes:r,scaleSortMethod:a,sortDescending:o}),h=m.map((({participantId:t})=>t)),v=p.filter((({participantId:t})=>!h.includes(t))).filter((t=>(!n||!t.entryStage||t.entryStage===n)&&Ps.includes(t.entryStatus))),g=m.concat(...v),y=g.length;let I=Ge(g,Math.ceil(y/c));s===Af?I=Ve(g,c):s===Df&&(I=Ve(g,c,!0));const w=Ze(0,c).map((t=>{var e;return{flightNumber:t+1,drawId:(null==l?void 0:l.pop())||yi(),drawEntries:(e=I[t],(e||[]).map((({participantId:t})=>p.find((e=>e.participantId===t))))),drawName:(null==d?void 0:d.length)&&d[t]||`${u} ${t+1}`}}));return cs({event:e,extension:{name:Va,value:{splitMethod:s,scaleAttributes:r,flights:w}}}),{...En,flightProfile:vi({flights:w,scaleAttributes:r,splitMethod:s},!1,!0),splitEntries:Mn()&&I||void 0}},deleteFlightAndFlightDraw:function({tournamentRecord:t,event:e,drawId:n,auditData:i}){if(!t)return{error:s};if(!n)return{error:P};if(!e)return{error:F};const{flightProfile:r}=qu({event:e});var a;if(r&&(null===(a=r.flights)||void 0===a?void 0:a.find((t=>t.drawId===n)))){const t=r.flights.filter((t=>t.drawId!==n));cs({event:e,extension:{name:Va,value:{...r,flights:t}}})}return Up({tournamentRecord:t,eventId:e.eventId,drawIds:[n],auditData:i}),En},deleteFlightProfileAndFlightDraws:function({tournamentRecord:t,event:e}){if(!t)return{error:s};if(!e)return{error:F};const{flightProfile:n}=qu({event:e});if(n){var i;const r=null===(i=n.flights)||void 0===i?void 0:i.map((({drawId:t})=>t)).filter(Boolean),a=Up({tournamentRecord:t,eventId:e.eventId,drawIds:r});return a.error?a:ds({event:e,name:Va})}return En},addAdHocMatchUps:function(t){return Ef(t)},generateAdHocMatchUps:function(t){return Uf(t)},deleteAdHocMatchUps:function(t){return Cf(t)},drawMatic:function(t){var e;const n=null===(e=t.tournamentRecord)||void 0===e?void 0:e.participants;return Object.assign(t,{tournamentParticipants:n}),Ff(t)},setDelegatedOutcome:function(t){return bf(t)},removeDelegatedOutcome:function(t){return If(t)},addVoluntaryConsolationStage:function({drawDefinition:t,drawSize:e}){return Tf({drawDefinition:t,drawSize:e})},generateVoluntaryConsolationStructure:function(t){const{tournamentRecord:e}=t;return e?Pf({participants:e.participants,...t}):{error:s}},setMatchUpStatus:Du,bulkMatchUpStatusUpdate:Mu,setDrawDefaultMatchUpFormat:function({tournamentRecord:t,drawDefinition:e,matchUpFormat:n}){return t?e?n?Uu({drawDefinition:e,matchUpFormat:n}):{error:X}:{error:l}:{error:s}},setEventDefaultMatchUpFormat:function({tournamentRecord:t,event:e,matchUpFormat:n}){return t?n?e?i.matchUpFormatCode.isValidMatchUpFormat(n)?(e.matchUpFormat=n,En):{error:q}:{error:F}:{error:X}:{error:s}},setStructureDefaultMatchUpFormat:function({tournamentRecord:t,drawDefinition:e,matchUpFormat:n,structureId:i}){return t?e?n?i?Uu({drawDefinition:e,matchUpFormat:n,structureId:i}):{error:R}:{error:X}:{error:l}:{error:s}},setCollectionDefaultMatchUpFormat:function({tournamentRecord:t,drawDefinition:e,matchUpFormat:n}){return t?e?n?i.matchUpFormatCode.isValidMatchUpFormat(n)?{error:Ae}:{error:q}:{error:X}:{error:l}:{error:s}},assignDrawPosition:function({drawDefinition:t,drawPosition:e,structureId:n,participantId:i,qualifier:r,bye:a}){if(!t)return{error:l};if(!e)return{error:b};if(!n)return{error:R};if(a){const i=Yc({drawDefinition:t,drawPosition:e,structureId:n});if(i.error)return i}else{if(r)return{error:Ae};{const r=gu({drawDefinition:t,structureId:n,drawPosition:e,participantId:i});if(r.error)return r}}return{...En}},assignSeedPositions:function(t){const{tournamentRecord:e,drawDefinition:n,drawId:i,structureId:r,assignments:a,useExistingSeedLimit:o}=t;let c=0;if(null==a||!a.length)return{error:G};if(!e)return{error:s};if(!i)return{error:P};const{seedAssignments:u,seedLimit:d,error:l}=Ls({drawDefinition:n,structureId:r});if(l)return{error:l};const p=Object.assign({},...u.filter((t=>t.seedNumber)).map((t=>({[t.seedNumber]:t}))));a.forEach((t=>{const{seedNumber:e}=t;e<=d&&(!o||p[e])&&(p[e]=t)}));const f=Object.values(p),m=f.map((t=>null==t?void 0:t.participantId)).filter(Boolean);if(m.length!==(h=m,h.filter(Le)).length)return{error:"participantId cannot be assigned to multiple seedNumbers"};var h;for(const s of f){const t=np({...s,drawDefinition:n,structureId:r});if(null!=t&&t.error)return t;null!=t&&t.success&&c++}return c?{...En}:{error:Ie}},assignDrawPositionBye:function({drawDefinition:t,structureId:e,drawPosition:n}){return Yc({drawDefinition:t,structureId:e,drawPosition:n})},swapDrawPositionAssignments:function(t){return rf(t)},removeDrawPositionAssignment:nf,alternateDrawPositionAssignment:function(t){return sf(t)},withdrawParticipantAtDrawPosition:function(t){return Object.assign(t,{entryStatus:bs}),nf(t)},setDrawParticipantRepresentativeIds:function({representativeParticipantIds:t,drawDefinition:e}){var n;if(!e)return{error:p};if(!Array.isArray(t))return{error:Ne};const i=null===(n=(null==e?void 0:e.entries)||[])||void 0===n?void 0:n.map((({participantId:t})=>t)).filter(Boolean);return t.length&&Be(t,i).length<t.length?{error:Ne}:ss({drawDefinition:e,extension:{name:za,value:t}})},getDrawParticipantRepresentativeIds:function({drawDefinition:t}){const{extension:e,error:n}=oo({drawDefinition:t,name:"participantRepresentatives"});return n?{error:n}:{representativeParticipantIds:(null==e?void 0:e.value)||[]}},luckyLoserDrawPositionAssignment:function(t){return function({luckyLoserParticipantId:t,drawDefinition:e,drawPosition:n,structureId:i}){return of({participantId:t,drawDefinition:e,drawPosition:n,structureId:i,positionActionName:"luckyLoserDrawPositionAssignment"})}(t)},automatedPositioning:function({tournamentRecord:t,drawDefinition:e,structureId:n,seedsOnly:i,event:r}){var a;if(!r)return{error:Z};if(!e)return{error:p};const o=Pp({drawDefinition:e,participants:null==t?void 0:t.participants,structureId:n,seedsOnly:i});return o.error?o:null!=o&&null!==(a=o.errors)&&void 0!==a&&a.length?{error:o.errors}:En},automatedPlayoffPositioning:Ep,checkInParticipant:function({tournamentRecord:t,participantId:e,matchUpId:n,matchUp:i,drawId:r}){i&&!r&&({drawId:r}=i),i&&!n&&({matchUpId:n}=i);const{event:a,drawDefinition:o}=fo({tournamentRecord:t,drawId:r});if(!a)return{error:Z};{const i=Md({tournamentParticipants:t.participants,drawDefinition:o,participantId:e,matchUpId:n});if(i.error&&i.error!==Gt)return i}return En},checkOutParticipant:function({tournamentRecord:t,drawId:e,matchUpId:n,participantId:i,matchUp:r}){r&&!e&&({drawId:e}=r),r&&!n&&({matchUpId:n}=r);const{event:a,drawDefinition:o}=fo({tournamentRecord:t,drawId:e});if(!a)return{error:Z};{const e=Td({drawDefinition:o,tournamentParticipants:t.participants,matchUpId:n,participantId:i});if(e.error)return e}return En},toggleParticipantCheckInState:Cd,generateDrawDefinition:Xp,addDrawDefinitionTimeItem:function({drawDefinition:t,timeItem:e}){if(!t)return{error:p};if(!e)return{error:fe};const n=e&&Object.keys(e),i=["itemType","itemValue"];if(!(i.filter((t=>n.includes(t))).length===i.length))return{error:pe};t.timeItems||(t.timeItems=[]);const r=(new Date).toISOString();return Object.assign(e,{createdAt:r}),t.timeItems.push(e),Oa({drawDefinition:t}),En},assignTieMatchUpParticipantId:function(t){var e;let{individualParticipants:n}=t;const{tournamentRecord:i,drawDefinition:r,event:a}=t,{participantId:o,sideMember:c,tieMatchUpId:u}=t;if(null!=n&&n.length&&!o&&console.log("individuals without pair participantId"),!r)return{error:P};if(!i)return{error:s};if(!a)return{error:Z};const d=Xo({drawDefinition:r}),{matchUp:l,structure:p}=zs({matchUpId:u,inContext:!0,drawDefinition:r,matchUpsMap:d});if(!l)return{error:it};const{collectionId:f,collectionPosition:m,drawPositions:h,matchUpTieId:v,matchUpType:g}=l,{positionAssignments:y}=Zs({structure:p}),I=null==y?void 0:y.filter((t=>h.includes(t.drawPosition))),w=I.map((({participantId:t})=>t)),{tournamentParticipants:b}=ld({tournamentRecord:i,participantFilters:{participantTypes:[qo],participantIds:w}}),{tournamentParticipants:[N]}=ld({tournamentRecord:i,participantFilters:{participantIds:[o]}});if(!N)return{error:kt};const{individualParticipantIds:S,participantType:E}=N;if(g===Jr&&E!==Ko)return{error:Ct};const U=E===Ko?[o]:S,A=b.find((({individualParticipantIds:t})=>je(U,t))),D=I.find((t=>t.participantId===A.participantId)).drawPosition,M=l.sides.find((({drawPosition:t})=>t===D)).sideNumber,{matchUp:T}=zs({matchUpId:v,drawDefinition:r,matchUpsMap:d}),C=T.tieFormat||p.tieFormat||r.tieFormat;if(!C)return{error:tt};if(!(null===(e=C.collectionDefinitions)||void 0===e?void 0:e.find((t=>t.collectionId===f))))return{error:Q};if(!T.sides){const t=({drawPosition:t,sideNumber:e,displaySideNumber:n})=>({drawPosition:t,sideNumber:e,displaySideNumber:n});T.sides=[{...t(l.sides[0]),lineUp:[]},{...t(l.sides[1]),lineUp:[]}]}const R=T.sides.find((t=>t.sideNumber===M));if(g===Xr&&E!==$o)return{error:Ct};const x=R.lineUp.map((t=>{var e;const n=null===(e=t.collectionAssignments)||void 0===e?void 0:e.filter((t=>!(t.collectionId===f&&t.collectionPosition===m&&c==c)));return{participantId:t.participantId,collectionAssignments:n}})),O=x.find((t=>t.participantId===o)),L={collectionId:f,collectionPosition:m,sideMember:c};if(O)O.collectionAssignments.push(L);else{const t={collectionAssignments:[L],participantId:o};x.push(t)}return R.lineUp=x,En}};function Hf({drawPosition:t,structureId:e,drawId:n,event:i,structure:r,drawDefinition:a,activeDrawPositions:o,positionAssignments:s,possiblyDisablingAction:c,tournamentParticipants:u=[]}){if(!n)return{error:P,method:"getValidAlternatesAction"};if(o.includes(t))return{};const d=s.map((t=>t.participantId)).filter(Boolean),l=(i.entries||[]).filter((t=>t.entryStatus===fs&&function({structure:t,entry:e}){const{stage:n}=t;if(!e.entryStage||e.entryStage===n||e.entryStage===Vi&&n===Wi)return!0}({structure:r,entry:t})&&!d.includes(t.participantId))).sort(((t,e)=>(t.entryPosition||0)-(e.entryPosition||0))).map((t=>t.participantId)),p=null==u?void 0:u.filter((t=>l.includes(t.participantId)));if(p.forEach((t=>{const e=(a.entries||[]).find((e=>e.participantId===t.participantId));t.entryPosition=null==e?void 0:e.entryPosition})),l.length){return{validAlternatesAction:{type:_r,method:"alternateDrawPositionAssignment",availableAlternates:p,availableAlternatesParticipantIds:l,willDisableLinks:c,payload:{drawId:n,structureId:e,drawPosition:t}}}}return{}}function Wf(t,e){return t.bye||t.seedValue<e.seedValue||t.seedValue&&!e.seedValue?-1:(t.seedNumber||0)-(e.seedNumber||0)}function zf({drawDefinition:t,drawPosition:e,structureId:n,structure:i,drawId:r,isByePosition:a,byeDrawPositions:o,positionAssignments:s,tournamentParticipants:c,onlyAssignedPositions:u=!0,activeDrawPositions:d,inactiveDrawPositions:l,possiblyDisablingAction:p}){if(!r)return{error:P,method:"getValidSwapAction"};if(d.includes(e))return{};const f=null==l?void 0:l.filter((t=>t!==e&&!(a&&o.includes(t)))),m=(null==s?void 0:s.filter((t=>(t=>!u||t.participantId||t.qualifier||t.bye)(t)&&(null==f?void 0:f.includes(t.drawPosition)))))||[],h=m.map((({drawPosition:t})=>t)),{matchUps:v}=Ws({drawDefinition:t,structure:i,inContext:!0}),g=v.filter((({drawPositions:t})=>je(t,h))),y=Object.assign({},...g.map((t=>{var e;return null===(e=t.sides)||void 0===e?void 0:e.filter((({sourceDrawPositionRange:t})=>t)).map((({drawPosition:t,sourceDrawPositionRange:e})=>({[t]:e})))})).flat()),I=m.map((t=>t.participantId)).filter(Boolean),w=(c||[]).filter((t=>I.includes(t.participantId))),b=Object.assign({},...w.map((t=>({[t.participantId]:t})))),N=m.map((t=>{const e=b&&b[t.participantId],n=y[t.drawPosition];return{...t,participant:vi(e,!1,!0),sourceDrawPositionRange:n}}));if(N.length){return{validSwapAction:{type:Hr,method:"swapDrawPositionAssignments",availableAssignments:N,willDisableLinks:p,payload:{drawId:r,structureId:n,drawPositions:[e]}}}}return{}}function Kf({action:t,policyActions:e}){var n;return!(null==e||!e.enabledActions||null!=e&&null!==(n=e.disabledActions)&&void 0!==n&&n.length&&e.disabledActions.includes(t))&&!!(0===(null==e?void 0:e.enabledActions.length)||null!=e&&e.enabledActions.includes(t))}function qf({tournamentParticipants:t=[],policyDefinitions:e,tournamentRecord:n,drawDefinition:i,drawPosition:r,structureId:a,event:o}){if(!o)return{error:F};if(!i)return{error:l};if(void 0===r)return{error:b};if(!a)return{error:R};const{activeDrawPositions:s,byeDrawPositions:c,inactiveDrawPositions:u,structure:d,error:p}=kc({drawDefinition:i,structureId:a});if(p)return{error:p};const{enabledStructures:f,actionsDisabled:m}=function({policyDefinitions:t,tournamentRecord:e,drawDefinition:n,structure:i,event:r}){const{policyDefinitions:a}=Gc({policyTypes:[Di],tournamentRecord:e,drawDefinition:n,event:r}),o=(t=t||a||$r).positionActions,{enabledStructures:s,disabledStructures:c}=o||{};return{enabledStructures:s,actionsDisabled:null==c?void 0:c.find((t=>{var e,n;return(null===(e=t.stages)||void 0===e?void 0:e.includes(i.stage))&&(!(null!==(n=t.stageSequences)&&void 0!==n&&n.length)||t.stageSequences.includes(i.stageSequence))}))}}({policyDefinitions:e,tournamentRecord:n,drawDefinition:i,structure:d,event:o});if(m)return{message:"Actions Disabled for structure"};const{sourceStructureIds:h}=function({drawDefinition:t,structureId:e,finishingPosition:n,linkType:i}){const{links:r}=pc({drawDefinition:t,structureId:e})||{};return{sourceStructureIds:((null==r?void 0:r.target)||[]).filter((({linkType:t})=>t===i)).map((({source:t})=>t.structureId)).map((e=>{const{structure:n}=es({drawDefinition:t,structureId:e});return{sourceStructureId:e,sourceFinishingPosition:n.finishingPosition}})).filter((({sourceFinishingPosition:t})=>t===n)).map((({sourceStructureId:t})=>t))}}({drawDefinition:i,structureId:a,finishingPosition:Rr,linkType:rr})||{};let v;null!=h&&h.length&&(v=h.reduce(((t,e)=>ou({drawDefinition:i,structureId:e})&&t),!0));const g=h.length,y=h.length&&!v,{policyActions:I}=function({enabledStructures:t,structure:e}){return t?t.length?{policyActions:t.find((t=>{var n,i;const r=!(null!==(n=t.stages)&&void 0!==n&&n.length)||t.stages.includes(e.stage),a=!(null!==(i=t.stageSequences)&&void 0!==i&&i.length)||t.stageSequences.includes(e.stageSequence);if(t&&r&&a)return!0}))}:{policyActions:{enabledActions:[],disabledActions:[]}}:{}}({enabledStructures:f,structure:d}),N=![Hi,Vi].includes(d.stage)||1!==d.stageSequence,S=[],{drawId:E}=i,{assignedPositions:U,positionAssignments:A}=_s({structure:d}),D=U.find((t=>t.drawPosition===r)),M=A.map((t=>t.drawPosition));if(null==M||!M.includes(r))return{error:w};const{stage:T,stageSequence:C}=d,x=[gs,vs],O=[T];T===Wi&&O.push(Vi),T===Vi&&O.push(Wi);const L=Rs({drawDefinition:i,stageSequence:C,entryStatuses:x,structureId:a,stages:O}),k=tf({drawDefinition:i,stages:O}),Z=L.filter((t=>!k.includes(t.participantId))).map((t=>t.participantId)),_=c.includes(r),B=s.includes(r);if(Kf({policyActions:I,action:jr})&&!B&&!y&&(!D||_)){const{validAssignmentActions:n}=function({positionSourceStructureIds:t,unassignedParticipantIds:e,possiblyDisablingAction:n,tournamentParticipants:i,isWinRatioFedStructure:r,positionAssignments:a,policyDefinitions:o,drawDefinition:s,isByePosition:c,drawPosition:u,structureId:d,structure:l}){var p,f,m;const{drawId:h}=s,v=[];let g,y,I=[];const w=null==o||null===(p=o.seeding)||void 0===p||null===(f=p.validSeedPositions)||void 0===f?void 0:f.ignore;if(!w){const t=vu({drawDefinition:s,structureId:d,randomize:!0});({unplacedSeedParticipantIds:g,unplacedSeedAssignments:y,unfilledPositions:I}=t)}if(null!==(m=I)&&void 0!==m&&m.length||(I=a.filter((t=>!t.participantId&&!t.bye&&!t.qualifier)).map((t=>t.drawPosition))),c||v.push({type:qr,method:"assignDrawPositionBye",willDisableLinks:n,payload:{drawId:h,structureId:d,drawPosition:u}}),r&&w){var b;const e=a.map((t=>t.participantId)).filter(Boolean),r={structureIds:t},{completedMatchUps:o}=wc({inContext:!0,matchUpFilters:r,drawDefinition:s}),c=Re(null===(b=o||[])||void 0===b?void 0:b.map((({sides:t})=>t.map((({participantId:t})=>t)))).flat().filter((t=>!e.includes(t)))),l=null==i?void 0:i.filter((t=>null==c?void 0:c.includes(t.participantId)));return null==l||l.forEach((t=>{const e=(s.entries||[]).find((e=>e.participantId===t.participantId));t.entryPosition=null==e?void 0:e.entryPosition})),null!=l&&l.length&&v.push({type:jr,method:Fr,availableParticipantIds:c,participantsAvailable:l,willDisableLinks:n,payload:{drawId:h,structureId:d,drawPosition:u}}),{validAssignmentActions:v}}const N=!(null!=l&&l.structures||null!=l&&l.matchUps.find((({roundPosition:t})=>!!t)));if(I.includes(u)||c){var S;let t;if(null!==(S=y)&&void 0!==S&&S.length){const e=y.filter((t=>{var e;return null===(e=g)||void 0===e?void 0:e.includes(t.participantId)}));e.sort(Wf),t=e.map((t=>t.participantId))}else if(N)t=cu({drawDefinition:s,drawPosition:u,structure:l});else{t=e;const{unplacedQualifiersCount:n}=Np({drawDefinition:s,structureId:d,structure:l});n&&console.log({unplacedQualifiersCount:n})}const r=null==i?void 0:i.filter((e=>t.includes(e.participantId)));return null!=r&&r.length&&v.push({type:jr,method:Fr,availableParticipantIds:t,participantsAvailable:r,willDisableLinks:n,payload:{drawId:h,structureId:d,drawPosition:u}}),{validAssignmentActions:v}}return{message:"No valid assignment actions"}}({positionSourceStructureIds:h,unassignedParticipantIds:Z,possiblyDisablingAction:N,isWinRatioFedStructure:g,tournamentParticipants:t,positionAssignments:A,activeDrawPositions:s,policyDefinitions:e,drawDefinition:i,isByePosition:_,drawPosition:r,structureId:a,structure:d});null==n||n.forEach((t=>S.push(t)))}const{participantId:j}=D||{},G=j&&t.find((t=>t.participantId===j));if(D){Kf({policyActions:I,action:Gr})&&!B&&(S.push({type:Gr,method:kr,payload:{drawId:E,structureId:a,drawPosition:r},willDisableLinks:N}),_||S.push({type:Br,method:"withdrawParticipantAtDrawPosition",payload:{drawId:E,structureId:a,drawPosition:r},willDisableLinks:N}),Kf({policyActions:I,action:qr})&&!_&&S.push({type:qr,method:kr,payload:{drawId:E,structureId:a,drawPosition:r,replaceWithBye:!0},willDisableLinks:N}));const e=d.stage===Hi||d.stage===Vi&&1===d.stageSequence;if(!_&&Kf({policyActions:I,action:zr})&&hu({drawDefinition:i,structureId:a,drawPosition:r})&&e){const{seedAssignments:t}=Ls({drawDefinition:i,structure:d}),{seedNumber:e,seedValue:n}=t.find((t=>t.participantId===j))||{};S.push({type:zr,method:"modifySeedAssignment",participant:G,seedNumber:e,payload:{drawId:E,structureId:a,participantId:j,seedValue:n}})}if(!_&&j){if(Kf({policyActions:I,action:zr})){const t={type:Kr,method:Zr,participant:G,payload:{drawId:E,penaltyCode:void 0,penaltyType:void 0,participantIds:[],notes:void 0}};S.push(t)}if(Kf({policyActions:I,action:Wr})){const t={type:Wr,method:"modifyParticipantOtherName",participant:G,payload:{participantId:j,otherName:void 0}};S.push(t)}}if(Kf({policyActions:I,action:Hr})){const{validSwapAction:e}=zf({drawId:E,structure:d,structureId:a,drawPosition:r,isByePosition:_,drawDefinition:i,byeDrawPositions:c,positionAssignments:A,activeDrawPositions:s,inactiveDrawPositions:u,tournamentParticipants:t,possiblyDisablingAction:N});e&&S.push(e)}}if(Kf({policyActions:I,action:_r})&&!y){const{validAlternatesAction:e}=Hf({event:o,drawId:E,structure:d,structureId:a,drawPosition:r,drawDefinition:i,activeDrawPositions:s,positionAssignments:A,tournamentParticipants:t,possiblyDisablingAction:N});e&&S.push(e)}if(Kf({policyActions:I,action:Vr})&&!y){const{validLuckyLosersAction:e}=function({drawPosition:t,structureId:e,drawId:n,structure:i,drawDefinition:r,activeDrawPositions:a,positionAssignments:o,isWinRatioFedStructure:s,possiblyDisablingAction:c,tournamentParticipants:u=[]}){var d,l,p,f;if(!n)return{error:P,method:"getValidLuckyLosersAction"};if(a.includes(t)||s)return{};const{sourceStructureIds:m,targetStructureIds:h}=(null===(d=r.links)||void 0===d?void 0:d.reduce(((t,e)=>{var n,i;const r=null===(n=e.source)||void 0===n?void 0:n.structureId,a=null===(i=e.target)||void 0===i?void 0:i.structureId;return t.sourceStructureIds.includes(r)||t.sourceStructureIds.push(r),t.targetStructureIds.includes(a)||t.targetStructureIds.push(a),t}),{sourceStructureIds:[],targetStructureIds:[]}))||{};let v=null===(l=r.links)||void 0===l?void 0:l.find((t=>{var e;return(null===(e=t.target)||void 0===e?void 0:e.structureId)===i.structureId}));const g=null===(p=v)||void 0===p||null===(f=p.source)||void 0===f?void 0:f.structureId,{structure:y}=es({drawDefinition:r,structureId:g}),I={};if((null==y?void 0:y.finishingPosition)===xr&&(1!==(null==m?void 0:m.length)||1!==(null==h?void 0:h.length))){var w,b,N;const{matchUps:e}=Ws({structure:i,drawDefinition:r}),{initialRoundNumber:n}=Cc({matchUps:e,drawPosition:t});v=null===(w=r.links)||void 0===w?void 0:w.find((t=>{var e;return(null===(e=t.target)||void 0===e?void 0:e.structureId)===(null==i?void 0:i.structureId)&&t.target.roundNumber===n}));const a=null===(b=v)||void 0===b||null===(N=b.source)||void 0===N?void 0:N.roundNumber;I.roundNumbers=[a]}const{completedMatchUps:S}=yc({structureId:g,inContext:!0,matchUpFilters:I,drawDefinition:r}),E=o.map((t=>t.participantId)).filter(Boolean),U=null==S?void 0:S.map((({winningSide:t,sides:e})=>e[1-(t-1)])).map((({participantId:t})=>t)).filter((t=>!E.includes(t))),A=null==u?void 0:u.filter((t=>null==U?void 0:U.includes(t.participantId)));if(null==A||A.forEach((t=>{const e=(r.entries||[]).find((e=>e.participantId===t.participantId));t.entryPosition=null==e?void 0:e.entryPosition})),null!=U&&U.length)return{validLuckyLosersAction:{type:Vr,method:"luckyLoserDrawPositionAssignment",availableLuckyLosers:A,availableLuckyLoserParticipantIds:U,willDisableLinks:c,payload:{drawId:n,structureId:e,drawPosition:t}}};return{}}({drawId:E,structure:d,structureId:a,drawPosition:r,drawDefinition:i,activeDrawPositions:s,positionAssignments:A,isWinRatioFedStructure:g,tournamentParticipants:t,possiblyDisablingAction:N});e&&S.push(e)}return{isByePosition:_,isActiveDrawPosition:B,isDrawPosition:!0,hasPositionAssigned:!!D,validActions:S}}const $f={allTournamentMatchUps:bc,tournamentMatchUps:Pc,allEventMatchUps:Sc,getRoundMatchUps:function(t){return zo(t)},allDrawMatchUps:Nc,eventMatchUps:Ec,drawMatchUps:function({tournamentAppliedPolicies:t,scheduleVisibilityFilters:e,policyDefinitions:n,tournamentRecord:i,matchUpFilters:r,contextFilters:a,drawDefinition:o,nextMatchUps:s,participants:c,tournamentId:u,inContext:d,event:l}){if(!l)return{error:F};const{eventId:p,eventName:f,endDate:m}=l,h={eventId:p,eventName:f};return m&&(h.endDate=m),m||(h.endDate=null==i?void 0:i.endDate),(u||i.tournamentId)&&(h.tournamentId=u||i.tournamentId),wc({tournamentAppliedPolicies:t,scheduleVisibilityFilters:e,tournamentParticipants:c||i&&Uc({tournamentRecord:i}),policyDefinitions:n,tournamentRecord:i,drawDefinition:o,matchUpFilters:r,contextFilters:a,nextMatchUps:s,inContext:d,context:h,event:l})},credits:Yd,getEvent:function({tournamentRecord:t,drawDefinition:e,event:n,context:i}){var r;if(!t)return{error:s};if(!n)return{error:F};const a=vi(n);return i&&Object.assign(a,i),{event:a,drawDefinition:e&&(null===(r=a.drawDefinitions)||void 0===r?void 0:r.find((({drawId:t})=>e.drawId===t)))}},getEvents:function({tournamentRecord:t,context:e,inContext:n}){if(!t)return{error:s};const{tournamentId:i}=t;return{events:(t.events||[]).map((t=>{const r=vi(t);return e&&Object.assign(r,e),n&&Object.assign(r,{tournamentId:i}),r}))}},findEventExtension:ao,findTournamentExtension:ro,findParticipantExtension:function({tournamentRecord:t,participantId:e,name:n}){if(!t)return{error:s};if(!e)return{error:Lt};const{participant:i}=ua({tournamentRecord:t,participantId:e});return io({element:i,name:n})},findDrawDefinitionExtension:oo,getMatchUpFormat:Pd,getDrawDefinition:function({tournamentRecord:t,drawDefinition:e}){return t?{drawDefinition:vi(e)}:{error:s}},getEventProperties:function({tournamentRecord:t,event:e}){var n,i;if(!t)return{error:s};if(!e)return{error:F};const r=e.entries||[],a=t.participants||[],o=(null===(n=e.category)||void 0===n?void 0:n.categoryName)||(null===(i=e.category)||void 0===i?void 0:i.ageCategoryCode),{eventType:c}=e,u=r.map((t=>t.participantId));let d,l,p;return{entryScaleAttributes:a.filter((t=>u.includes(t.participantId))).map((t=>{var e,n,i,r,a,s;const{participantId:u,participantName:f,name:m}=t;let h={scaleType:To,eventType:c,scaleName:o};const v=null===(e=Il({participant:t,scaleAttributes:h}))||void 0===e||null===(n=e.scaleItem)||void 0===n?void 0:n.scaleValue;h={scaleType:Mo,eventType:c,scaleName:o};const g=null===(i=Il({participant:t,scaleAttributes:h}))||void 0===i||null===(r=i.scaleItem)||void 0===r?void 0:r.scaleValue;h={scaleType:Do,eventType:c,scaleName:o};const y=null===(a=Il({participant:t,scaleAttributes:h}))||void 0===a||null===(s=a.scaleItem)||void 0===s?void 0:s.scaleValue;return d=!(!d&&!v),l=!(!l&&!g),p=!(!p&&!y),{participantId:u,participantName:f||m,seed:v,ranking:g,rating:y}})),hasSeededParticipants:d,hasRankedParticipants:l,hasRatedParticipants:p}},getPositionAssignments:function({tournamentRecord:t,drawDefinition:e,structureId:n}){return t?e?n?Zs({drawDefinition:e,structureId:n}):{error:R}:{error:l}:{error:s}},isValidMatchUpFormat:i.matchUpFormatCode.isValidMatchUpFormat,getMaxEntryPosition:function({entries:t=[],entryStatus:e,stage:n}){return Math.max(...t.filter((t=>!(n&&n!==t.entryStage||e&&t.entryStatus!==e||isNaN(t.entryPosition)))).map((({entryPosition:t})=>parseInt(t||0))),0)},findVenue:$s,getCourts:Xs,getVenuesAndCourts:qs,findCourt:function(t){return vi(Js(t),!1,!0)},getEventTimeItem:la,getTournamentTimeItem:function({tournamentRecord:t,itemType:e,itemSubTypes:n,returnPreviousValues:i}){if(!t)return{error:s};if(!t.timeItems)return{message:Ue};const{timeItem:r,previousItems:a,message:o}=da({element:t,itemType:e,itemSubTypes:n,returnPreviousValues:i});return r&&{timeItem:r,previousItems:a}||{message:o}},getParticipantTimeItem:function({tournamentRecord:t,participantId:e,itemType:n,itemSubTypes:i,returnPreviousValues:r}){if(!t)return{error:s};if(!e)return{error:Lt};const a=ua({tournamentRecord:t,participantId:e});if(a.error)return a;const{participant:o}=a;if(null==o||!o.timeItems)return{message:Ue};const{timeItem:c,previousItems:u,message:d}=da({element:a.participant,itemType:n,itemSubTypes:i,returnPreviousValues:r});return c&&{timeItem:c,previousItems:u}||{message:d}},getDrawDefinitionTimeItem:function({drawDefinition:t,itemType:e,itemSubTypes:n,returnPreviousValues:i}){if(!t)return{error:P};if(!t.timeItems)return{message:Ue};const{timeItem:r,previousItems:a,message:o}=da({element:t,itemType:e,itemSubTypes:n,returnPreviousValues:i});return r&&{timeItem:r,previousItems:a}||{message:o}},bulkUpdatePublishedEventIds:function({tournamentRecord:t,outcomes:e}){var n;if(!t)return{error:s};if(null==e||!e.length)return{error:yt,message:"Missing outcomes"};const i=e.reduce(((t,e)=>{const{drawId:n,eventId:i}=e;return i&&n&&(t[i]?t[i].includes(n)||t[i].push(n):t[i]=[n]),t}),{}),r=Object.keys(i);return{publishedEventIds:(null===(n=t.events)||void 0===n?void 0:n.filter((t=>r.includes(t.eventId)))).filter((t=>{const{timeItem:e}=la({event:t,itemType:"PUBLISH.STATUS"}),n=null==e?void 0:e.itemValue,{eventId:r}=t;return i[r].filter((t=>{var e;return n&&n.PUBLIC&&(null===(e=n.PUBLIC.drawIds)||void 0===e?void 0:e.includes(t))&&n!==Ro})).length})).map((t=>t.eventId)),eventIdPublishedDrawIdsMap:i}},matchUpActions:il,positionActions:function({tournamentRecord:t,policyDefinitions:e,drawDefinition:n,drawPosition:i,structureId:r,drawId:a,event:o}){const{tournamentParticipants:s}=ld({tournamentRecord:t,inContext:!0});return qf({tournamentParticipants:s,tournamentRecord:t,policyDefinitions:e,drawDefinition:n,drawPosition:i,structureId:r,drawId:a,event:o})},findMatchUp:function(t){Object.assign(t,{inContext:!0});const{matchUp:e,error:n}=Ac(t);return{matchUp:vi(e,!0,!0),error:n}},participantScheduledMatchUps:td,participantScaleItem:Il,getParticipantScaleItem:qp,getParticipantSignInStatus:function({tournamentRecord:t,participantId:e}){if(!t)return{error:s};if(!e)return{error:Lt};const{participant:n}=ua({tournamentRecord:t,participantId:e});if(!n)return{error:kt};const{timeItem:i}=da({element:n,itemType:ed});return i&&i.itemValue===ad&&ad},getPolicyDefinitions:Gc,getMatchUpScheduleDetails:Vo};const Yf={addVenue:Yu,deleteVenue:Ku,deleteVenues:function({tournamentRecord:t,venueIds:e,force:n}){if(!t)return{error:s};if(!Array.isArray(e))return{error:Ne};for(const i of t.venues||[]){const{venueId:r}=i;if(e.includes(r)){const{venueId:e}=i,r=Ku({tournamentRecord:t,venueId:e,force:n});if(r.error)return r}}return En},modifyVenue:Wu,addCourt:Vu,addCourts:Hu,deleteCourt:function({tournamentRecord:t,drawDefinition:e,disableNotice:n,courtId:i,force:r}){const{venue:a,error:o}=Js({tournamentRecord:t,courtId:i});if(o)return{error:o};const{matchUps:s}=Fu({tournamentRecord:t,courtId:i});if(s.length&&!r)return Zu({matchUpsCount:s.length});for(const c of s){const n=zu({tournamentRecord:t,drawDefinition:e,drawId:c.drawId,matchUpId:c.matchUpId});if(n.error)return n}return a.courts=(a.courts||[]).filter((t=>t.courtId!==i)),n||Rn({topic:Da,payload:{venue:a},key:a.venueId}),{...En}},modifyCourt:Gu,modifyCourtAvailability:ju,findVenue:function(t){return vi($s(t),!1,!0)}},Jf=function(){const t={getState:({convertExtensions:t,removeExtensions:e}={})=>ol({convertExtensions:t,removeExtensions:e,tournamentId:Fn()}),newTournamentRecord:(t={})=>{const e=rl(t);return e.error?e:(_n(e),jn(e.tournamentId),Object.assign({tournamentId:e.tournamentId},En))},setTournamentId:t=>jn(t)};function e(e){return null!=e&&e.error?(t.error=e.error,t.success=!1):(t.error=void 0,t.success=!0),t}return t.version=()=>"0.25.2",t.reset=()=>e(Gn(Fn())),t.setState=(t,n,i)=>{Cn(n,i);return e(al(t,n))},t.devContext=e=>(Tn(e),t),t.getDevContext=t=>Mn(t),t.executionQueue=(e,i)=>function(e,i){if(!Array.isArray(e))return{error:Ne};const r=Zn(Fn()),a=i&&vi(r,!1,!0),o=[];for(const s of e){if("object"!=typeof s)return{error:Ne};const{method:e,params:i}=s;if(!t[e])return{error:Te};const c=n(r,t[e],i);if(null!=c&&c.error)return a&&al(a),{...c,rolledBack:!!a};o.push(c)}return yd(),On(),{results:o}}(e,i),[$f,Vf,Yf,Bl,Ol,Rl,xl,Al].forEach((e=>{Object.keys(e).forEach((n=>{t[n]=t=>{if(Mn())return i(e[n],t);try{return i(e[n],t)}catch(r){console.log("%c ERROR","color: orange",{err:r})}}}))})),t;function n(e,n,i){delete t.success,delete t.error;return n({...sl(e,i),tournamentRecord:e})}function i(t,e){const i=Zn(Fn()),r=(null==e?void 0:e.rollbackOnError)&&vi(i,!1,!0),a=n(i,t,e);null!=a&&a.error&&r&&al(r);const o=(null==a?void 0:a.success)&&!0!==(null==e?void 0:e.delayNotify);return o&&yd(),!o&&null!=a&&a.success||On(),a}}();function Xf(t){return null!==t&&(void 0===t||!isNaN(t))}i.matchUpFormatCode.isValidMatchUpFormat;function Qf({scoreString:t,tiebreakTo:e=7}){return t.split(" ").filter(Boolean).map(((t,n)=>function({set:t,setNumber:n}){const i=(null==t?void 0:t.startsWith("["))&&t.split("[")[1].split("]")[0].split("-").map((t=>parseInt(t))),r=t.includes("(")?t.split("(")[0]:t.includes("[")?t.split("[")[0]:t,a=!i&&r.split("-").map((t=>parseInt(t))),o=a[0]>a[1]?1:a[0]<a[1]?2:void 0,s=t.includes("(")&&t.split("(")[1].split(")")[0],c=![!1,void 0].includes(s)&&ji({isSide1:2===o,lowValue:s,tiebreakTo:e})||[],[u,d]=a||[],[l,p]=i||c||[];return{side1Score:u,side2Score:d,side1TiebreakScore:l,side2TiebreakScore:p,winningSide:o,setNumber:n}}({set:t,setNumber:n+1})))}function tm({scoreString:t,winningSide:e,matchUpStatus:n}){if(!t)return{outcome:{...Hc,winningSide:e,matchUpStatus:n}};if(e&&![1,2,void 0].includes(e))return{error:Ne,winningSide:e};const i=t&&Qf({scoreString:t}),r={},a=Zi({sets:i}),o=Zi({sets:i,reversed:!0});return 2===e?(r.scoreStringSide1=o,r.scoreStringSide2=a):(r.scoreStringSide1=a,r.scoreStringSide2=o),r.sets=Qf({scoreString:r.scoreStringSide1}),{outcome:{matchUpStatus:n,winningSide:e,score:r}}}var em=[{AL:"Alabama"},{AK:"Alaska"},{AZ:"Arizona"},{AR:"Arkansas"},{CA:"California"},{CO:"Colorado"},{CT:"Connecticut"},{DE:"Delaware"},{DC:"District of Columbia"},{FL:"Florida"},{GA:"Georgia"},{HI:"Hawaii"},{ID:"Idaho"},{IL:"Illinois"},{IN:"Indiana"},{IA:"Iowa"},{KS:"Kansas"},{KY:"Kentucky"},{LA:"Louisiana"},{ME:"Maine"},{MD:"Maryland"},{MA:"Massachusetts"},{MI:"Michigan"},{MN:"Minnesota"},{MS:"Mississippi"},{MO:"Missouri"},{MT:"Montana"},{NE:"Nebraska"},{NV:"Nevada"},{NH:"New Hampshire"},{NJ:"New Jersey"},{NM:"New Mexico"},{NY:"New York"},{NC:"North Carolina"},{ND:"North Dakota"},{OH:"Ohio"},{OK:"Oklahoma"},{OR:"Oregon"},{PA:"Pennsylvania"},{RI:"Rhode Island"},{SC:"South Carolina"},{SD:"South Dakota"},{TN:"Tennessee"},{TX:"Texas"},{UT:"Utah"},{VT:"Vermont"},{VA:"Virginia"},{WA:"Washington"},{WV:"West Virginia"},{WI:"Wisconsin"},{WY:"Wyoming"},{PR:"Puerto Rico"}],nm=["Adairsville","Ashburn","Ashland","Audubon Park","Aurora","Aurora","Bay Minette","Bayville","Bean Station","Becket","Belle Isle","Bellmead","Belville","Benld","Benton","Boaz","Bolivar","Bossier City","Bremen","Brent","Brentwood","Brownsville","Burns","Cairo","Caledonia","Cambridge","Canutillo","Central Garage","Centralia","Cherry Valley","Chester Center","Chesterfield","Cibecue","Cohoe","Collinsville","Columbus","Corcoran","Cuba","Dolgeville","Douglas","Druid Hills","Dyker Heights","Eagar","East Dubuque","East Valley","Edgefield","Eliot","Elizabeth","Elmsford","Emerald Isle","Emory","Estero","Fairmount","Falcon Heights","Falmouth","Fillmore","Flower Hill","Fobes Hill","Fort Valley","Franklin","Freeport","Gardnertown","Gates Mills","Glasgow Village","Goldsboro","Grant-Valkaria","Greenfield","Gretna","Guilford Siding","Hampton Falls","Harrisonville","Hart","Haskins","Hebron","Hennepin","Highgrove","Homerville","Homewood","Hooksett","Inwood","Island Lake","Issaquah","Jasper","Jefferson","Jewell","Kaukauna","Kings Grant","Kingston","Kirkland","Kokomo","Koloa","La Center","LaBelle","Lake Placid","Lake Waccamaw","Laughlin","LaVerkin","Leadville North","Leland","Long Creek","Longmeadow","Luttrell","Magnolia","Malvern","Mar-Mac","Marana","Marble Falls","Martin","Martindale","Martinsburg","Mazomanie","Mechanicsville","Mexico Beach","Middletown","Mobile","Moravian Falls","Morehead","Mount Hermon","Mulberry","Munhall","Nettleton","Newton","North Granby","North Highlands","Northern Cambria","Northwest Harwinton","Nurillo","Oasis","Orlando","Osceola","Otis","Pacolet","Palm Beach Gardens","Paoli","Patton Village","Paw Paw Lake","Pearl River","Pine Bluffs","Pine","Pioneer","Port Hadlock-Irondale","Porter","Potsdam","Price","Princess Anne","Princeville","Red Oak","Richfield","Ridge Wood Heights","Ringwood","Robinwood","Rochester","Rockland","Rockwell City","Roland","Rolling Hills","Ruskin","Saint Anthony","Saint Robert","Salisbury","Sauk Rapids","Sayreville Junction","Sedona","Shawnee","Shenandoah","Silver Lake","South Waverly","Southwest Ranches","Southwick","Spring Green","Spring Valley","Spry","Strawberry Point","Terryville","Texico","Thomson","Tonganoxie","Townsend","Trinity","Union City","Van Buren","Verona Walk","Villa Rica","Warrenton","Warroad","Washington, D.C.","Weaverville","Wescosville","West Clarkston-Highland","West Orange","Williamsport","Windsor","Winnsboro","Woodbridge","Woodmoor","Wyoming","Young America (historical)","Zeeland"];var im=[{firstName:"Novak",lastName:"Djokovic",sex:"MALE",nationalityCode:"SRB"},{firstName:"Rafael",lastName:"Nadal",sex:"MALE",nationalityCode:"ESP"},{firstName:"Dominic",lastName:"Thiem",sex:"MALE",nationalityCode:"AUT"},{firstName:"Roger",lastName:"Federer",sex:"MALE",nationalityCode:"SUI"},{firstName:"Stefanos",lastName:"Tsitsipas",sex:"MALE",nationalityCode:"GRE"},{firstName:"Daniil",lastName:"Medvedev",sex:"MALE",nationalityCode:"RUS"},{firstName:"Alexander",lastName:"Zverev",sex:"MALE",nationalityCode:"GER"},{firstName:"Andrey",lastName:"Rublev",sex:"MALE",nationalityCode:"RUS"},{firstName:"Diego",lastName:"Schwartzman",sex:"MALE",nationalityCode:"ARG"},{firstName:"Matteo",lastName:"Berrettini",sex:"MALE",nationalityCode:"ITA"},{firstName:"Gael",lastName:"Monfils",sex:"MALE",nationalityCode:"FRA"},{firstName:"Denis",lastName:"Shapovalov",sex:"MALE",nationalityCode:"CAN"},{firstName:"Roberto",lastName:"Bautista Agut",sex:"MALE",nationalityCode:"ESP"},{firstName:"David",lastName:"Goffin",sex:"MALE",nationalityCode:"BEL"},{firstName:"Pablo",lastName:"Carreno Busta",sex:"MALE",nationalityCode:"ESP"},{firstName:"Fabio",lastName:"Fognini",sex:"MALE",nationalityCode:"ITA"},{firstName:"Milos",lastName:"Raonic",sex:"MALE",nationalityCode:"CAN"},{firstName:"Karen",lastName:"Khachanov",sex:"MALE",nationalityCode:"RUS"},{firstName:"Stan",lastName:"Wawrinka",sex:"MALE",nationalityCode:"SUI"},{firstName:"Grigor",lastName:"Dimitrov",sex:"MALE",nationalityCode:"BUL"},{firstName:"Felix",lastName:"Auger-Aliassime",sex:"MALE",nationalityCode:"CAN"},{firstName:"Cristian",lastName:"Garin",sex:"MALE",nationalityCode:"CHI"},{firstName:"John",lastName:"Isner",sex:"MALE",nationalityCode:"USA"},{firstName:"Borna",lastName:"Coric",sex:"MALE",nationalityCode:"CRO"},{firstName:"Alex",lastName:"de Minaur",sex:"MALE",nationalityCode:"AUS"},{firstName:"Dusan",lastName:"Lajovic",sex:"MALE",nationalityCode:"SRB"},{firstName:"Casper",lastName:"Ruud",sex:"MALE",nationalityCode:"NOR"},{firstName:"Benoit",lastName:"Paire",sex:"MALE",nationalityCode:"FRA"},{firstName:"Taylor",lastName:"Fritz",sex:"MALE",nationalityCode:"USA"},{firstName:"Filip",lastName:"Krajinovic",sex:"MALE",nationalityCode:"SRB"},{firstName:"Hubert",lastName:"Hurkacz",sex:"MALE",nationalityCode:"POL"},{firstName:"Ugo",lastName:"Humbert",sex:"MALE",nationalityCode:"FRA"},{firstName:"Daniel",lastName:"Evans",sex:"MALE",nationalityCode:"GBR"},{firstName:"Jan-Lennard",lastName:"Struff",sex:"MALE",nationalityCode:"GER"},{firstName:"Reilly",lastName:"Opelka",sex:"MALE",nationalityCode:"USA"},{firstName:"Nikoloz",lastName:"Basilashvili",sex:"MALE",nationalityCode:"GEO"},{firstName:"Kei",lastName:"Nishikori",sex:"MALE",nationalityCode:"JPN"},{firstName:"Guido",lastName:"Pella",sex:"MALE",nationalityCode:"ARG"},{firstName:"Adrian",lastName:"Mannarino",sex:"MALE",nationalityCode:"FRA"},{firstName:"Miomir",lastName:"Kecmanovic",sex:"MALE",nationalityCode:"SRB"},{firstName:"Marin",lastName:"Cilic",sex:"MALE",nationalityCode:"CRO"},{firstName:"Lorenzo",lastName:"Sonego",sex:"MALE",nationalityCode:"ITA"},{firstName:"Jannik",lastName:"Sinner",sex:"MALE",nationalityCode:"ITA"},{firstName:"Nick",lastName:"Kyrgios",sex:"MALE",nationalityCode:"AUS"},{firstName:"John",lastName:"Millman",sex:"MALE",nationalityCode:"AUS"},{firstName:"Albert",lastName:"Ramos-Vinolas",sex:"MALE",nationalityCode:"ESP"},{firstName:"Kyle",lastName:"Edmund",sex:"MALE",nationalityCode:"GBR"},{firstName:"Tennys",lastName:"Sandgren",sex:"MALE",nationalityCode:"USA"},{firstName:"Alexander",lastName:"Bublik",sex:"MALE",nationalityCode:"KAZ"},{firstName:"Sam",lastName:"Querrey",sex:"MALE",nationalityCode:"USA"},{firstName:"Yoshihito",lastName:"Nishioka",sex:"MALE",nationalityCode:"JPN"},{firstName:"Marton",lastName:"Fucsovics",sex:"MALE",nationalityCode:"HUN"},{firstName:"Aljaz",lastName:"Bedene",sex:"MALE",nationalityCode:"SLO"},{firstName:"Laslo",lastName:"Djere",sex:"MALE",nationalityCode:"SRB"},{firstName:"Richard",lastName:"Gasquet",sex:"MALE",nationalityCode:"FRA"},{firstName:"Pablo",lastName:"Andujar",sex:"MALE",nationalityCode:"ESP"},{firstName:"Jo-Wilfried",lastName:"Tsonga",sex:"MALE",nationalityCode:"FRA"},{firstName:"Gilles",lastName:"Simon",sex:"MALE",nationalityCode:"FRA"},{firstName:"Tommy",lastName:"Paul",sex:"MALE",nationalityCode:"USA"},{firstName:"Jordan",lastName:"Thompson",sex:"MALE",nationalityCode:"AUS"},{firstName:"Fernando",lastName:"Verdasco",sex:"MALE",nationalityCode:"ESP"},{firstName:"Alejandro",lastName:"Davidovich Fokina",sex:"MALE",nationalityCode:"ESP"},{firstName:"Feliciano",lastName:"Lopez",sex:"MALE",nationalityCode:"ESP"},{firstName:"Frances",lastName:"Tiafoe",sex:"MALE",nationalityCode:"USA"},{firstName:"Dominik",lastName:"Koepfer",sex:"MALE",nationalityCode:"GER"},{firstName:"Jiri",lastName:"Vesely",sex:"MALE",nationalityCode:"CZE"},{firstName:"Pablo",lastName:"Cuevas",sex:"MALE",nationalityCode:"URU"},{firstName:"Ricardas",lastName:"Berankis",sex:"MALE",nationalityCode:"LTU"},{firstName:"Lucas",lastName:"Pouille",sex:"MALE",nationalityCode:"FRA"},{firstName:"Cameron",lastName:"Norrie",sex:"MALE",nationalityCode:"GBR"},{firstName:"Steve",lastName:"Johnson",sex:"MALE",nationalityCode:"USA"},{firstName:"Jeremy",lastName:"Chardy",sex:"MALE",nationalityCode:"FRA"},{firstName:"Stefano",lastName:"Travaglia",sex:"MALE",nationalityCode:"ITA"},{firstName:"Corentin",lastName:"Moutet",sex:"MALE",nationalityCode:"FRA"},{firstName:"Juan",lastName:"Ignacio Londero",sex:"MALE",nationalityCode:"ARG"},{firstName:"Federico",lastName:"Delbonis",sex:"MALE",nationalityCode:"ARG"},{firstName:"Marco",lastName:"Cecchinato",sex:"MALE",nationalityCode:"ITA"},{firstName:"Thiago",lastName:"Monteiro",sex:"MALE",nationalityCode:"BRA"},{firstName:"Salvatore",lastName:"Caruso",sex:"MALE",nationalityCode:"ITA"},{firstName:"Lloyd",lastName:"Harris",sex:"MALE",nationalityCode:"RSA"},{firstName:"Vasek",lastName:"Pospisil",sex:"MALE",nationalityCode:"CAN"},{firstName:"Pierre-Hugues",lastName:"Herbert",sex:"MALE",nationalityCode:"FRA"},{firstName:"Egor",lastName:"Gerasimov",sex:"MALE",nationalityCode:"BLR"},{firstName:"Joao",lastName:"Sousa",sex:"MALE",nationalityCode:"POR"},{firstName:"Radu",lastName:"Albot",sex:"MALE",nationalityCode:"MDA"},{firstName:"Marcos",lastName:"Giron",sex:"MALE",nationalityCode:"USA"},{firstName:"Mikael",lastName:"Ymer",sex:"MALE",nationalityCode:"SWE"},{firstName:"Attila",lastName:"Balazs",sex:"MALE",nationalityCode:"HUN"},{firstName:"Federico",lastName:"Coria",sex:"MALE",nationalityCode:"ARG"},{firstName:"Soonwoo",lastName:"Kwon",sex:"MALE",nationalityCode:"KOR"},{firstName:"Mikhail",lastName:"Kukushkin",sex:"MALE",nationalityCode:"KAZ"},{firstName:"Dennis",lastName:"Novak",sex:"MALE",nationalityCode:"AUT"},{firstName:"Pedro",lastName:"Martinez",sex:"MALE",nationalityCode:"ESP"},{firstName:"Philipp",lastName:"Kohlschreiber",sex:"MALE",nationalityCode:"GER"},{firstName:"Yannick",lastName:"Hanfmann",sex:"MALE",nationalityCode:"GER"},{firstName:"Gianluca",lastName:"Mager",sex:"MALE",nationalityCode:"ITA"},{firstName:"James",lastName:"Duckworth",sex:"MALE",nationalityCode:"AUS"},{firstName:"Emil",lastName:"Ruusuvuori",sex:"MALE",nationalityCode:"FIN"},{firstName:"Yasutaka",lastName:"Uchiyama",sex:"MALE",nationalityCode:"JPN"},{firstName:"Roberto",lastName:"Carballes Baena",sex:"MALE",nationalityCode:"ESP"},{firstName:"Ashleigh",lastName:"Barty",sex:"FEMALE",nationalityCode:"AUS"},{firstName:"Simona",lastName:"Halep",sex:"FEMALE",nationalityCode:"ROU"},{firstName:"Naomi",lastName:"Osaka",sex:"FEMALE",nationalityCode:"JPN"},{firstName:"Sofia",lastName:"Kenin",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Elina",lastName:"Svitolina",sex:"FEMALE",nationalityCode:"UKR"},{firstName:"Karolina",lastName:"Pliskova",sex:"FEMALE",nationalityCode:"CZE"},{firstName:"Bianca",lastName:"Andreescu",sex:"FEMALE",nationalityCode:"CAN"},{firstName:"Petra",lastName:"Kvitova",sex:"FEMALE",nationalityCode:"CZE"},{firstName:"Kiki",lastName:"Bertens",sex:"FEMALE",nationalityCode:"NED"},{firstName:"Serena",lastName:"Williams",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Aryna",lastName:"Sabalenka",sex:"FEMALE",nationalityCode:"BLR"},{firstName:"Belinda",lastName:"Bencic",sex:"FEMALE",nationalityCode:"SUI"},{firstName:"Victoria",lastName:"Azarenka",sex:"FEMALE",nationalityCode:"BLR"},{firstName:"Johanna",lastName:"Konta",sex:"FEMALE",nationalityCode:"GBR"},{firstName:"Garbine",lastName:"Muguruza",sex:"FEMALE",nationalityCode:"ESP"},{firstName:"Madison",lastName:"Keys",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Iga",lastName:"Swiatek",sex:"FEMALE",nationalityCode:"POL"},{firstName:"Petra",lastName:"Martic",sex:"FEMALE",nationalityCode:"CRO"},{firstName:"Elena",lastName:"Rybakina",sex:"FEMALE",nationalityCode:"KAZ"},{firstName:"Marketa",lastName:"Vondrousova",sex:"FEMALE",nationalityCode:"CZE"},{firstName:"Elise",lastName:"Mertens",sex:"FEMALE",nationalityCode:"BEL"},{firstName:"Maria",lastName:"Sakkari",sex:"FEMALE",nationalityCode:"GRE"},{firstName:"Anett",lastName:"Kontaveit",sex:"FEMALE",nationalityCode:"EST"},{firstName:"Jennifer",lastName:"Brady",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Angelique",lastName:"Kerber",sex:"FEMALE",nationalityCode:"GER"},{firstName:"Alison",lastName:"Riske",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Karolina",lastName:"Muchova",sex:"FEMALE",nationalityCode:"CZE"},{firstName:"Yulia",lastName:"Putintseva",sex:"FEMALE",nationalityCode:"KAZ"},{firstName:"Dayana",lastName:"Yastremska",sex:"FEMALE",nationalityCode:"UKR"},{firstName:"Amanda",lastName:"Anisimova",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Ons",lastName:"Jabeur",sex:"FEMALE",nationalityCode:"TUN"},{firstName:"Donna",lastName:"Vekic",sex:"FEMALE",nationalityCode:"CRO"},{firstName:"Ekaterina",lastName:"Alexandrova",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Qiang",lastName:"Wang",sex:"FEMALE",nationalityCode:"CHN"},{firstName:"Shuai",lastName:"Zhang",sex:"FEMALE",nationalityCode:"CHN"},{firstName:"Svetlana",lastName:"Kuznetsova",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Barbora",lastName:"Strycova",sex:"FEMALE",nationalityCode:"CZE"},{firstName:"Anastasia",lastName:"Pavlyuchenkova",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Sloane",lastName:"Stephens",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Magda",lastName:"Linette",sex:"FEMALE",nationalityCode:"POL"},{firstName:"Saisai",lastName:"Zheng",sex:"FEMALE",nationalityCode:"CHN"},{firstName:"Fiona",lastName:"Ferro",sex:"FEMALE",nationalityCode:"FRA"},{firstName:"Caroline",lastName:"Garcia",sex:"FEMALE",nationalityCode:"FRA"},{firstName:"Jelena",lastName:"Ostapenko",sex:"FEMALE",nationalityCode:"LAT"},{firstName:"Danielle",lastName:"Collins",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Veronika",lastName:"Kudermetova",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Cori",lastName:"Gauff",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Nadia",lastName:"Podoroska",sex:"FEMALE",nationalityCode:"ARG"},{firstName:"Kristina",lastName:"Mladenovic",sex:"FEMALE",nationalityCode:"FRA"},{firstName:"Laura",lastName:"Siegemund",sex:"FEMALE",nationalityCode:"GER"},{firstName:"Marie",lastName:"Bouzkova",sex:"FEMALE",nationalityCode:"CZE"},{firstName:"Polona",lastName:"Hercog",sex:"FEMALE",nationalityCode:"SLO"},{firstName:"Alize",lastName:"Cornet",sex:"FEMALE",nationalityCode:"FRA"},{firstName:"Anastasija",lastName:"Sevastova",sex:"FEMALE",nationalityCode:"LAT"},{firstName:"Rebecca",lastName:"Peterson",sex:"FEMALE",nationalityCode:"SWE"},{firstName:"Patricia",lastName:"Maria Tig",sex:"FEMALE",nationalityCode:"ROU"},{firstName:"Jil",lastName:"Teichmann",sex:"FEMALE",nationalityCode:"SUI"},{firstName:"Shelby",lastName:"Rogers",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Heather",lastName:"Watson",sex:"FEMALE",nationalityCode:"GBR"},{firstName:"Anna",lastName:"Blinkova",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Bernarda",lastName:"Pera",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Jessica",lastName:"Pegula",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Alison",lastName:"Van Uytvanck",sex:"FEMALE",nationalityCode:"BEL"},{firstName:"Katerina",lastName:"Siniakova",sex:"FEMALE",nationalityCode:"CZE"},{firstName:"Sara",lastName:"Sorribes Tormo",sex:"FEMALE",nationalityCode:"ESP"},{firstName:"Su-Wei",lastName:"Hsieh",sex:"FEMALE",nationalityCode:"TPE"},{firstName:"Ajla",lastName:"Tomljanovic",sex:"FEMALE",nationalityCode:"AUS"},{firstName:"Kristyna",lastName:"Pliskova",sex:"FEMALE",nationalityCode:"CZE"},{firstName:"Paula",lastName:"Badosa",sex:"FEMALE",nationalityCode:"ESP"},{firstName:"Daria",lastName:"Kasatkina",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Nao",lastName:"Hibino",sex:"FEMALE",nationalityCode:"JPN"},{firstName:"Arantxa",lastName:"Rus",sex:"FEMALE",nationalityCode:"NED"},{firstName:"Lauren",lastName:"Davis",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Barbora",lastName:"Krejcikova",sex:"FEMALE",nationalityCode:"CZE"},{firstName:"Camila",lastName:"Giorgi",sex:"FEMALE",nationalityCode:"ITA"},{firstName:"Irina-Camelia",lastName:"Begu",sex:"FEMALE",nationalityCode:"ROU"},{firstName:"Danka",lastName:"Kovinic",sex:"FEMALE",nationalityCode:"MNE"},{firstName:"Venus",lastName:"Williams",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Zarina",lastName:"Diyas",sex:"FEMALE",nationalityCode:"KAZ"},{firstName:"Christina",lastName:"Mchale",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Madison",lastName:"Brengle",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Carla",lastName:"Suarez Navarro",sex:"FEMALE",nationalityCode:"ESP"},{firstName:"Martina",lastName:"Trevisan",sex:"FEMALE",nationalityCode:"ITA"},{firstName:"Kirsten",lastName:"Flipkens",sex:"FEMALE",nationalityCode:"BEL"},{firstName:"Misaki",lastName:"Doi",sex:"FEMALE",nationalityCode:"JPN"},{firstName:"Tamara",lastName:"Zidansek",sex:"FEMALE",nationalityCode:"SLO"},{firstName:"Sorana",lastName:"Cirstea",sex:"FEMALE",nationalityCode:"ROU"},{firstName:"Leylah",lastName:"Fernandez",sex:"FEMALE",nationalityCode:"CAN"},{firstName:"Taylor",lastName:"Townsend",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Lin",lastName:"Zhu",sex:"FEMALE",nationalityCode:"CHN"},{firstName:"Ana",lastName:"Bogdan",sex:"FEMALE",nationalityCode:"ROU"},{firstName:"Aliaksandra",lastName:"Sasnovich",sex:"FEMALE",nationalityCode:"BLR"},{firstName:"Yafan",lastName:"Wang",sex:"FEMALE",nationalityCode:"CHN"},{firstName:"Jasmine",lastName:"Paolini",sex:"FEMALE",nationalityCode:"ITA"},{firstName:"Varvara",lastName:"Gracheva",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Viktoria",lastName:"Kuzmova",sex:"FEMALE",nationalityCode:"SVK"},{firstName:"Nina",lastName:"Stojanovic",sex:"FEMALE",nationalityCode:"SRB"},{firstName:"Anastasia",lastName:"Potapova",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Andrea",lastName:"Petkovic",sex:"FEMALE",nationalityCode:"GER"},{firstName:"Kaja",lastName:"Juvan",sex:"FEMALE",nationalityCode:"SLO"},{firstName:"Elsa",lastName:"Jacquemot",sex:"FEMALE",nationalityCode:"FRA"},{firstName:"Victoria",lastName:"Jimenez Kasintseva",sex:"FEMALE",nationalityCode:"AND"},{firstName:"Alexandra",lastName:"Eala",sex:"FEMALE",nationalityCode:"PHI"},{firstName:"Diane",lastName:"Parry",sex:"FEMALE",nationalityCode:"FRA"},{firstName:"Daria",lastName:"Snigur",sex:"FEMALE",nationalityCode:"UKR"},{firstName:"Polina",lastName:"Kudermetova",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Robin",lastName:"Montgomery",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Alexandra",lastName:"Vecic",sex:"FEMALE",nationalityCode:"GER"},{firstName:"Kristina",lastName:"Dmitruk",sex:"FEMALE",nationalityCode:"BLR"},{firstName:"Alexa",lastName:"Noel",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Kamilla",lastName:"Bartone",sex:"FEMALE",nationalityCode:"LAT"},{firstName:"Weronika",lastName:"Baszak",sex:"FEMALE",nationalityCode:"POL"},{firstName:"Oksana",lastName:"Selekhmeteva",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Alina",lastName:"Charaeva",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Maria",lastName:"Bondarenko",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Priska",lastName:"Madelyn Nugroho",sex:"FEMALE",nationalityCode:"INA"},{firstName:"Linda",lastName:"Fruhvirtova",sex:"FEMALE",nationalityCode:"CZE"},{firstName:"Dana",lastName:"Guzman",sex:"FEMALE",nationalityCode:"PER"},{firstName:"Linda",lastName:"Noskova",sex:"FEMALE",nationalityCode:"CZE"},{firstName:"Hong",lastName:"Yi Cody Wong",sex:"FEMALE",nationalityCode:"HKG"},{firstName:"Zhuoxuan",lastName:"Bai",sex:"FEMALE",nationalityCode:"CHN"},{firstName:"Mell",lastName:"Reasco Gonzalez",sex:"FEMALE",nationalityCode:"ECU"},{firstName:"Matilda",lastName:"Mutavdzic",sex:"FEMALE",nationalityCode:"GBR"},{firstName:"Diana",lastName:"Shnaider",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Qinwen",lastName:"Zheng",sex:"FEMALE",nationalityCode:"CHN"},{firstName:"Alexandra",lastName:"Yepifanova",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Matilde",lastName:"Paoletti",sex:"FEMALE",nationalityCode:"ITA"},{firstName:"Melania",lastName:"Delai",sex:"FEMALE",nationalityCode:"ITA"},{firstName:"Jana",lastName:"Kolodynska",sex:"FEMALE",nationalityCode:"BLR"},{firstName:"Guillermina",lastName:"Grant",sex:"FEMALE",nationalityCode:"URU"},{firstName:"Darja",lastName:"Vidmanova",sex:"FEMALE",nationalityCode:"CZE"},{firstName:"Melodie",lastName:"Collard",sex:"FEMALE",nationalityCode:"CAN"},{firstName:"Elvina",lastName:"Kalieva",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Sofia",lastName:"Costoulas",sex:"FEMALE",nationalityCode:"BEL"},{firstName:"Aliona",lastName:"Falei",sex:"FEMALE",nationalityCode:"BLR"},{firstName:"Mai",lastName:"Nirundorn",sex:"FEMALE",nationalityCode:"THA"},{firstName:"Elizabeth",lastName:"Coleman",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Aubane",lastName:"Droguet",sex:"FEMALE",nationalityCode:"FRA"},{firstName:"Madison",lastName:"Sieg",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Natsumi",lastName:"Kawaguchi",sex:"FEMALE",nationalityCode:"JPN"},{firstName:"Leyre",lastName:"Romero Gormaz",sex:"FEMALE",nationalityCode:"ESP"},{firstName:"Elina",lastName:"Avanesyan",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Oceane",lastName:"Babel",sex:"FEMALE",nationalityCode:"FRA"},{firstName:"Ziva",lastName:"Falkner",sex:"FEMALE",nationalityCode:"SLO"},{firstName:"Julia",lastName:"Garcia",sex:"FEMALE",nationalityCode:"MEX"},{firstName:"Natalia",lastName:"Szabanin",sex:"FEMALE",nationalityCode:"HUN"},{firstName:"Erika",lastName:"Andreeva",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Celia",lastName:"Belle Mohr",sex:"FEMALE",nationalityCode:"FRA"},{firstName:"Ane",lastName:"Mintegi Del Olmo",sex:"FEMALE",nationalityCode:"ESP"},{firstName:"Sebastianna",lastName:"Scilipoti",sex:"FEMALE",nationalityCode:"SUI"},{firstName:"Ana",lastName:"Geller",sex:"FEMALE",nationalityCode:"ARG"},{firstName:"Dayeon",lastName:"Back",sex:"FEMALE",nationalityCode:"KOR"},{firstName:"Selena",lastName:"Janicijevic",sex:"FEMALE",nationalityCode:"FRA"},{firstName:"Romana",lastName:"Cisovska",sex:"FEMALE",nationalityCode:"SVK"},{firstName:"Amarissa",lastName:"Kiara Toth",sex:"FEMALE",nationalityCode:"HUN"},{firstName:"Mara",lastName:"Guth",sex:"FEMALE",nationalityCode:"GER"},{firstName:"Evialina",lastName:"Laskevich",sex:"FEMALE",nationalityCode:"BLR"},{firstName:"Julia",lastName:"Avdeeva",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Beatrice",lastName:"Ricci",sex:"FEMALE",nationalityCode:"ITA"},{firstName:"Eleonora",lastName:"Alvisi",sex:"FEMALE",nationalityCode:"ITA"},{firstName:"Jessica",lastName:"Bouzas Maneiro",sex:"FEMALE",nationalityCode:"ESP"},{firstName:"Julie",lastName:"Belgraver",sex:"FEMALE",nationalityCode:"NED"},{firstName:"Lisa",lastName:"Pigato",sex:"FEMALE",nationalityCode:"ITA"},{firstName:"Ya",lastName:"Yi Yang",sex:"FEMALE",nationalityCode:"TPE"},{firstName:"Eva",lastName:"Lys",sex:"FEMALE",nationalityCode:"GER"},{firstName:"Talia",lastName:"Gibson",sex:"FEMALE",nationalityCode:"AUS"},{firstName:"Yeon",lastName:"Ku",sex:"FEMALE",nationalityCode:"KOR"},{firstName:"Katrina",lastName:"Scott",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Barbora",lastName:"Palicova",sex:"FEMALE",nationalityCode:"CZE"},{firstName:"Alina",lastName:"Shcherbinina",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Giulia",lastName:"Morlet",sex:"FEMALE",nationalityCode:"FRA"},{firstName:"Tina",lastName:"Nadine Smith",sex:"FEMALE",nationalityCode:"AUS"},{firstName:"Sohyun",lastName:"Park",sex:"FEMALE",nationalityCode:"KOR"},{firstName:"Tara",lastName:"Wurth",sex:"FEMALE",nationalityCode:"CRO"},{firstName:"Polina",lastName:"Iatcenko",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Lauren",lastName:"Anzalotta Kynoch",sex:"FEMALE",nationalityCode:"PUR"},{firstName:"Savannah",lastName:"Broadus",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Angelina",lastName:"Wirges",sex:"FEMALE",nationalityCode:"GER"},{firstName:"Amarni",lastName:"Banks",sex:"FEMALE",nationalityCode:"GBR"},{firstName:"Hanne",lastName:"Vandewinkel",sex:"FEMALE",nationalityCode:"BEL"},{firstName:"Jada",lastName:"Bui",sex:"FEMALE",nationalityCode:"CAN"},{firstName:"Sabina",lastName:"Zeynalova",sex:"FEMALE",nationalityCode:"UKR"},{firstName:"Pia",lastName:"Lovric",sex:"FEMALE",nationalityCode:"SLO"},{firstName:"Erika",lastName:"Matsuda",sex:"FEMALE",nationalityCode:"JPN"},{firstName:"Lyubov",lastName:"Kostenko",sex:"FEMALE",nationalityCode:"UKR"},{firstName:"Anaelle",lastName:"Leclercq",sex:"FEMALE",nationalityCode:"FRA"},{firstName:"Alessandra",lastName:"Simone",sex:"FEMALE",nationalityCode:"ITA"},{firstName:"Darja",lastName:"Semenistaja",sex:"FEMALE",nationalityCode:"LAT"},{firstName:"Daria",lastName:"Frayman",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Nastasja",lastName:"Schunk",sex:"FEMALE",nationalityCode:"GER"},{firstName:"Olivia",lastName:"Gadecki",sex:"FEMALE",nationalityCode:"AUS"},{firstName:"India",lastName:"Houghton",sex:"FEMALE",nationalityCode:"USA"},{firstName:"Maria",lastName:"Sholokhova",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Julia",lastName:"Middendorf",sex:"FEMALE",nationalityCode:"GER"},{firstName:"Petra",lastName:"Marcinko",sex:"FEMALE",nationalityCode:"CRO"},{firstName:"Radka",lastName:"Zelnickova",sex:"FEMALE",nationalityCode:"SVK"},{firstName:"Lucie",lastName:"Nguyen Tan",sex:"FEMALE",nationalityCode:"FRA"},{firstName:"Tatiana",lastName:"Barkova",sex:"FEMALE",nationalityCode:"RUS"},{firstName:"Annabelle",lastName:"Xu",sex:"FEMALE",nationalityCode:"CAN"},{firstName:"Harold",lastName:"Mayot",sex:"MALE",nationalityCode:"FRA"},{firstName:"Holger",lastName:"Vitus Nodskov Rune",sex:"MALE",nationalityCode:"DEN"},{firstName:"Dominic",lastName:"Stephan Stricker",sex:"MALE",nationalityCode:"SUI"},{firstName:"Shintaro",lastName:"Mochizuki",sex:"MALE",nationalityCode:"JPN"},{firstName:"Arthur",lastName:"Cazaux",sex:"MALE",nationalityCode:"FRA"},{firstName:"Leandro",lastName:"Riedi",sex:"MALE",nationalityCode:"SUI"},{firstName:"Martin",lastName:"Damm",sex:"MALE",nationalityCode:"USA"},{firstName:"Natan",lastName:"Rodrigues",sex:"MALE",nationalityCode:"BRA"},{firstName:"Karlis",lastName:"Ozolins",sex:"MALE",nationalityCode:"LAT"},{firstName:"Luciano",lastName:"Darderi",sex:"MALE",nationalityCode:"ITA"},{firstName:"Hanwen",lastName:"Li",sex:"MALE",nationalityCode:"CHN"},{firstName:"Arthur",lastName:"Fery",sex:"MALE",nationalityCode:"GBR"},{firstName:"Juan",lastName:"Bautista Torres",sex:"MALE",nationalityCode:"ARG"},{firstName:"Khololwam",lastName:"Montsi",sex:"MALE",nationalityCode:"RSA"},{firstName:"Jeffrey",lastName:"Von Der Schulenburg",sex:"MALE",nationalityCode:"SUI"},{firstName:"Timo",lastName:"Legout",sex:"MALE",nationalityCode:"FRA"},{firstName:"Gustavo",lastName:"Heide",sex:"MALE",nationalityCode:"BRA"},{firstName:"Flavio",lastName:"Cobolli",sex:"MALE",nationalityCode:"ITA"},{firstName:"Guy",lastName:"Den Ouden",sex:"MALE",nationalityCode:"NED"},{firstName:"Martin",lastName:"Breysach",sex:"MALE",nationalityCode:"FRA"},{firstName:"Toby",lastName:"Kodat",sex:"MALE",nationalityCode:"USA"},{firstName:"Lilian",lastName:"Marmousez",sex:"MALE",nationalityCode:"FRA"},{firstName:"Roman",lastName:"Andres Burruchaga",sex:"MALE",nationalityCode:"ARG"},{firstName:"Alex",lastName:"Barrena",sex:"MALE",nationalityCode:"ARG"},{firstName:"Dalibor",lastName:"Svrcina",sex:"MALE",nationalityCode:"CZE"},{firstName:"Martin",lastName:"Krumich",sex:"MALE",nationalityCode:"CZE"},{firstName:"Peter",lastName:"Fajta",sex:"MALE",nationalityCode:"HUN"},{firstName:"Lukas",lastName:"Neumayer",sex:"MALE",nationalityCode:"AUT"},{firstName:"Raphael",lastName:"Collignon",sex:"MALE",nationalityCode:"BEL"},{firstName:"Dali",lastName:"Blanch",sex:"MALE",nationalityCode:"USA"},{firstName:"Terence",lastName:"Atmane",sex:"MALE",nationalityCode:"FRA"},{firstName:"Felix",lastName:"Gill",sex:"MALE",nationalityCode:"GBR"},{firstName:"Eliakim",lastName:"Coulibaly",sex:"MALE",nationalityCode:"CIV"},{firstName:"Hamad",lastName:"Medjedovic",sex:"MALE",nationalityCode:"SRB"},{firstName:"Jerome",lastName:"Kym",sex:"MALE",nationalityCode:"SUI"},{firstName:"Nicholas",lastName:"David Ionel",sex:"MALE",nationalityCode:"ROU"},{firstName:"Shunsuke",lastName:"Mitsui",sex:"MALE",nationalityCode:"JPN"},{firstName:"Giovanni",lastName:"Mpetshi Perricard",sex:"MALE",nationalityCode:"FRA"},{firstName:"Bu",lastName:"Yunchaokete",sex:"MALE",nationalityCode:"CHN"},{firstName:"Jack",lastName:"Pinnington Jones",sex:"MALE",nationalityCode:"GBR"},{firstName:"Alexander",lastName:"Hoogmartens",sex:"MALE",nationalityCode:"BEL"},{firstName:"Bruno",lastName:"Oliveira",sex:"MALE",nationalityCode:"BRA"},{firstName:"Maks",lastName:"Kasnikowski",sex:"MALE",nationalityCode:"POL"},{firstName:"Mikolaj",lastName:"Lorens",sex:"MALE",nationalityCode:"POL"},{firstName:"Chak",lastName:"Lam Coleman Wong",sex:"MALE",nationalityCode:"HKG"},{firstName:"Egor",lastName:"Agafonov",sex:"MALE",nationalityCode:"RUS"},{firstName:"Mans",lastName:"Dahlberg",sex:"MALE",nationalityCode:"SWE"},{firstName:"Marat",lastName:"Sharipov",sex:"MALE",nationalityCode:"RUS"},{firstName:"Luca",lastName:"Nardi",sex:"MALE",nationalityCode:"ITA"},{firstName:"Sean",lastName:"Cuenin",sex:"MALE",nationalityCode:"FRA"},{firstName:"Pedro",lastName:"Boscardin Dias",sex:"MALE",nationalityCode:"BRA"},{firstName:"Samuel",lastName:"Vincent Ruggeri",sex:"MALE",nationalityCode:"ITA"},{firstName:"Bruno",lastName:"Kuzuhara",sex:"MALE",nationalityCode:"USA"},{firstName:"Romain",lastName:"Faucon",sex:"MALE",nationalityCode:"BEL"},{firstName:"Elmer",lastName:"Moller",sex:"MALE",nationalityCode:"DEN"},{firstName:"Mario",lastName:"Mansilla Diez",sex:"MALE",nationalityCode:"ESP"},{firstName:"Leonardo",lastName:"Malgaroli",sex:"MALE",nationalityCode:"ITA"},{firstName:"Pierre",lastName:"Yves Bailly",sex:"MALE",nationalityCode:"BEL"},{firstName:"Sebastian",lastName:"Gima",sex:"MALE",nationalityCode:"ROU"},{firstName:"Ilya",lastName:"Snitari",sex:"MALE",nationalityCode:"MDA"},{firstName:"Diego",lastName:"Augusto Barreto Sanchez",sex:"MALE",nationalityCode:"ESP"},{firstName:"Alexander",lastName:"Bernard",sex:"MALE",nationalityCode:"USA"},{firstName:"Pengyu",lastName:"Lu",sex:"MALE",nationalityCode:"CHN"},{firstName:"Max",lastName:"Wiskandt",sex:"MALE",nationalityCode:"GER"},{firstName:"Max",lastName:"Westphal",sex:"MALE",nationalityCode:"FRA"},{firstName:"Lorenzo",lastName:"Claverie",sex:"MALE",nationalityCode:"VEN"},{firstName:"Axel",lastName:"Garcian",sex:"MALE",nationalityCode:"FRA"},{firstName:"Aleksander",lastName:"Orlikowski",sex:"MALE",nationalityCode:"POL"},{firstName:"Maxwell",lastName:"Mckennon",sex:"MALE",nationalityCode:"USA"},{firstName:"Rafael",lastName:"Alfonso De Alba Valdes",sex:"MALE",nationalityCode:"MEX"},{firstName:"Dev",lastName:"Javia",sex:"MALE",nationalityCode:"IND"},{firstName:"Kokoro",lastName:"Isomura",sex:"MALE",nationalityCode:"JPN"},{firstName:"Matteo",lastName:"Gigante",sex:"MALE",nationalityCode:"ITA"},{firstName:"Jack",lastName:"Anthrop",sex:"MALE",nationalityCode:"USA"},{firstName:"Pablo",lastName:"Llamas Ruiz",sex:"MALE",nationalityCode:"ESP"},{firstName:"Biagio",lastName:"Gramaticopolo",sex:"MALE",nationalityCode:"ITA"},{firstName:"Patorn",lastName:"Hanchaikul",sex:"MALE",nationalityCode:"THA"},{firstName:"Marko",lastName:"Topo",sex:"MALE",nationalityCode:"SRB"},{firstName:"Carlos",lastName:"Alcaraz",sex:"MALE",nationalityCode:"ESP"},{firstName:"Juncheng",lastName:"Shang",sex:"MALE",nationalityCode:"CHN"},{firstName:"Toby",lastName:"Samuel",sex:"MALE",nationalityCode:"GBR"},{firstName:"Petr",lastName:"Nesterov",sex:"MALE",nationalityCode:"BUL"},{firstName:"Mehdi",lastName:"Sadaoui",sex:"MALE",nationalityCode:"FRA"},{firstName:"Max",lastName:"Alcala Gurri",sex:"MALE",nationalityCode:"ESP"},{firstName:"Nikita",lastName:"Kashirin",sex:"MALE",nationalityCode:"RUS"},{firstName:"Aidan",lastName:"Mayo",sex:"MALE",nationalityCode:"USA"},{firstName:"Yu",lastName:"Zhang",sex:"MALE",nationalityCode:"CHN"},{firstName:"Philip",lastName:"Sekulic",sex:"MALE",nationalityCode:"AUS"},{firstName:"Lorenzo",lastName:"Rottoli",sex:"MALE",nationalityCode:"ITA"},{firstName:"Michal",lastName:"Novansky",sex:"MALE",nationalityCode:"SVK"},{firstName:"Maikel",lastName:"De Boes",sex:"MALE",nationalityCode:"BEL"},{firstName:"Chen",lastName:"Dong",sex:"MALE",nationalityCode:"AUS"},{firstName:"Evgeny",lastName:"Philippov",sex:"MALE",nationalityCode:"RUS"},{firstName:"Damien",lastName:"Salvestre",sex:"MALE",nationalityCode:"FRA"},{firstName:"Francesco",lastName:"Maestrelli",sex:"MALE",nationalityCode:"ITA"},{firstName:"Viacheslav",lastName:"Bielinskyi",sex:"MALE",nationalityCode:"UKR"},{firstName:"Jean",lastName:"Marc Malkowski",sex:"MALE",nationalityCode:"SUI"},{firstName:"Santiago",lastName:"De La Fuente",sex:"MALE",nationalityCode:"ARG"},{firstName:"Simeon",lastName:"Terziev",sex:"MALE",nationalityCode:"BUL"},{firstName:"Benjamin",lastName:"Kittay",sex:"MALE",nationalityCode:"USA"}];var rm=["Avengers","Predators","Dynamos","Warriors","Captivators","Dragons","Explosive Win Machine","Pirates","Hawk Eyes","Killer Instinct","Masters of Mayhem","Matter Catchers","Mindspace Invaders","Goal Gurus","Raiders","Seekers","Sparkle Soul Tribe","The Achievers","The Blazers","The Breezers","The Bruisers","The Civil Disobedients","The Eliminators","The Mavericks","The Mean Machines","The Punters","The Sandeaters","The Visual Spectacle","Total Demolition","Touch and Go","Vertically Challenged","Win Machines","Wind Chasers","Worker Bees","Razorbacks","Rebels","Fighting Crusaders","Comets","Commodores","Green Machine","Continentals"];function am({count:t=1}={}){return{teams:xe(rm).slice(0,t)}}function om({valuesInstanceLimit:t,nationalityCodesCount:e,nationalityCodeType:n,nationalityCodes:i,participantsCount:r=32,participantType:a,personIds:o,uuids:s,personData:c,personExtensions:u,addressProps:d,matchUpType:l,sex:p,inContext:f}){const m=a===$o||l===Xr,h=a===qo||l===qo,v=r*(m?2:h?8:1),{persons:g,error:y}=function({count:t=1,sex:e,personData:n,personExtensions:i}={}){if(isNaN(t))return{error:Ne};let r=im.filter((t=>!e||t.sex===e));if(Array.isArray(n)){const t=n.filter((t=>"string"==typeof t.firstName&&"string"==typeof t.lastName&&!![Pl,El].includes(t.sex)&&!("string"!=typeof t.nationalityCode||t.nationalityCode.length>3)));if(!t.length)return{error:Ne};r=t}const a=xe(r);if(a.length<t){const{maleFirstNames:n,maleLastNames:i,femaleFirstNames:r,femaleLastNames:o,nationalityCodes:s}=im.reduce(((t,e)=>{const{firstName:n,lastName:i,nationalityCode:r}=e;return e.sex===Pl?(t.maleFirstNames.includes(n)||t.maleFirstNames.push(n),t.maleLastNames.includes(i)||t.maleLastNames.push(i)):(t.femaleFirstNames.includes(n)||t.femaleFirstNames.push(n),t.femaleLastNames.includes(i)||t.femaleLastNames.push(i)),t.nationalityCodes.includes(r)||t.nationalityCodes.push(r),t}),{maleFirstNames:[],maleLastNames:[],femaleFirstNames:[],femaleLastNames:[],nationalityCodes:[]});Ze(0,t-a.length).forEach((()=>{const t=e||Fe([Pl,El]),c=Fe(s),u={firstName:Fe(t===Pl?n:r),lastName:Fe(t===Pl?i:o),sex:t,nationalityCode:c};a.push(u)}))}const o=a.slice(0,t).map(((t,e)=>Object.assign(t,{extensions:i||[{name:"regionCode",value:e+1}]})));return{persons:o.length&&o||a[0]}}({count:v,personExtensions:u,personData:c,sex:p});if(y)return{error:y};const I=Gi.filter((t=>"ISO"===n?t.iso:t.ioc)),{citiesCount:w,statesCount:b,postalCodesCount:N}=d||{};const{cities:S}=function({count:t=1,participantsCount:e=32}={}){const n=xe(nm),i=n.slice(0,t);return{cities:Ze(0,e).map((e=>e<Math.min(t,n.length)?i[e]:Fe(i)))}}({count:w||v,participantsCount:v}),{states:P}=function({count:t=1,participantsCount:e=32}={}){const n=xe(em),i=n.slice(0,t).map((t=>Object.keys(t))).flat();return{states:Ze(0,e).map((e=>e<Math.min(t,n.length)?i[e]:Fe(i)))}}({count:b||v,participantsCount:v}),{postalCodes:E}=function({count:t=1,participantsCount:e=32}={}){const n=Ze(0,t).map((()=>Ze(0,5).map((()=>Nn(0,9))).join("")));return{postalCodes:Ze(0,e).map((e=>e<t?n[e]:Fe(n)))}}({count:N||v,participantsCount:v}),U={cities:S,states:P,postalCodes:E},A=function(e){const n=Math.ceil(v/e);return t&&n>t?Math.ceil(v/t):e}(e),D=A?xe(I).slice(0,e):i?I.filter((t=>i.includes(t.key))):I,M=xe(Ze(0,Math.ceil(v/(A||1))).map((()=>D)).flat(1/0));return{participants:Ze(0,r).map((t=>{const e=m?2:h?8:1,n=Ze(0,e).map((n=>function(t){const e=g[t],{sex:n,firstName:i,lastName:r,extensions:a,nationalityCode:c}=e||{},u=i||"GivenName",d=r||"FamilyName",l=`${u} ${d}`,p=M[t],f=p&&(p.ioc||p.iso)||c;null==M||!M.length||f||c||console.log("%c Invalid Nationality Code",{participantIndex:t,country:p});const m=function(t){const{cities:e,states:n,postalCodes:i,nationalityCode:r,participantIndex:a}=t;return{city:e&&e[a],state:n&&n[a],postalCode:i&&i[a],countryCode:r}}({...U,participantIndex:t,nationalityCode:f});return{participantId:(null==s?void 0:s.pop())||yi(),participantType:Ko,participantRole:kd,participantName:l,person:{addresses:[m],personId:(null==o?void 0:o.length)&&o[t]||yi(),standardFamilyName:d,standardGivenName:u,nationalityCode:f,extensions:a,sex:n}}}(t*e+n))),i=n.map((t=>t.participantId)),r=n.map((t=>t.person.standardFamilyName)).join("/"),a={participantId:(null==s?void 0:s.pop())||yi(),participantType:m?$o:qo,participantRole:kd,participantName:m?r:am().teams[0],individualParticipantIds:i};return f&&(a.individualParticipants=n),m||h?[a,...n]:n})).flat()}}const sm={[on]:2,[Xe]:1,[nn]:1,[Je]:4};function cm({matchUpFormat:t="SET3-S:6/TB7",matchUpStatusProfile:e=sm,pointsPerMinute:n=1,sideWeight:r=4,winningSide:a,defaultWithScorePercent:o=2}){if(!i.matchUpFormatCode.isValidMatchUpFormat(t))return{error:J};if("object"!=typeof e)return{error:Ne};if(o>100&&(o=100),isNaN(o)||isNaN(n)||isNaN(r))return{error:Ne};const s=Object.keys(e).filter((t=>Object.keys(mn).includes(t)&&t!==$e));if(Object.keys(s).reduce(((t,n)=>t+e[n]),0)>100)return{error:Ne,matchUpStatusProfile:e};const c=s.reduce(((t,n)=>(t.pointer=t.pointer+e[n],t.valueMap.push([t.pointer,n]),t)),{pointer:0,valueMap:[]}),u=Nn(1,100),d=(c.valueMap.find((t=>u<=t[0]))||[100,$e])[1],l={sets:[],side1ScoreString:"",side2ScoreString:""};if([on,Je].includes(d)){const t={score:l,winningSide:a=a||Nn(1,2),matchUpStatus:d};if(!(d===Je&&Nn(1,100)>100-o))return{outcome:t}}else if(d===Xe)return{outcome:{score:l,matchUpStatus:d}};const p=i.matchUpFormatCode.parse(t),{bestOf:f,setFormat:m,finalSetFormat:h}=p,v=[],g=Nn(0,1),y=a?[a-1]:[...Ze(0,r).map((()=>g)),1-g],I=[nn,Je,tn,rn].includes(d)&&(ke(Ze(1,f))||1);let w;for(const i of Ze(1,f+1)){const e=i===f,{set:r,incomplete:a,winningSideNumber:o}=um({incomplete:I===i,matchUpStatus:d,pointsPerMinute:n,setFormat:e&&h||m,setNumber:i,weightedRange:y});if(v.push(r),a){w=o;break}if(He({matchUp:{sets:v,matchUpFormat:t}}).calculatedWinningSide)break}const b=He({matchUp:{sets:v,matchUpFormat:t}}),N=w?a||w:b.calculatedWinningSide,{score:S}=Au({score:{sets:v},winningSide:N,matchUpStatus:d});return{outcome:{score:S,winningSide:N,matchUpStatus:d}}}function um({incomplete:t,matchUpStatus:e,pointsPerMinute:n,setFormat:i,setNumber:r,weightedRange:a=[0,1]}){const o={setNumber:r},{setTo:s,tiebreakFormat:c,tiebreakAt:u,tiebreakSet:d,timed:l,minutes:p}=i,f=Nn(0,a.length-1),m=a[f];let h;if(l){const i=p*n,r=Math.round(.2*i),s=i+ke([1,-1])*r,c=function(t=1,e=3,n=!0){let i=0;for(let r=0;r<e;r++)i+=Math.random()*(t/e);return n&&t>1?Math.round(i):i}(s,2),u=[c,s-c];m&&u.reverse(),h=a[f]+1;let d=u[0]>u[1]?1:u[1]>u[0]?2:0;if(t){const[n,i]=u;return Object.assign(o,{side1Score:n,side2Score:i}),ln.includes(e)?{set:o,incomplete:t,winningSideNumber:h}:{set:o,incomplete:t}}d||(u[Nn(0,1)]+=1),d=u[0]>u[1]?1:2,d!==h&&u.reverse();const[l,v]=u;return Object.assign(o,{side1Score:l,side2Score:v,winningSide:h}),{set:o}}if(t)return o.side1Score=Nn(0,u),o.side2Score=Nn(0,u),ln.includes(e)&&(h=a[f]+1),{set:o,incomplete:t,winningSideNumber:h};{const t=Ze(1,s+1).map((t=>Ze(0,s+2-t).map((()=>t)))).flat(),e=t[Nn(0,t.length-1)],n=s&&Bi({isSide1:!0,lowValue:e,setTo:s,tiebreakAt:u}),r=!n,l=1===a.length&&a[f]+1;if(!r){if(l){(n[0]>n[1]?1:2)!==l&&n.reverse()}else m&&n.reverse();const[t,e]=n;Object.assign(o,{side1Score:t,side2Score:e})}const p=Ce({setObject:o,matchUpScoringFormat:{setFormat:i}});let h;if(p.hasTiebreakCondition||r){const{NoAD:t,tiebreakTo:e}=c||d,n=Ze(1,e+1).map((t=>Ze(0,e+2-t).map((()=>t)))).flat(),i=n[Nn(0,n.length-1)];let a=ji({isSide1:!0,lowValue:i,tiebreakTo:e,tiebreakNoAd:t});if(r){const t=a[0]>a[1]?1:2;l?t!==l&&a.reverse():m&&a.reverse(),[o.side1TiebreakScore,o.side2TiebreakScore]=a,h=a[0]>a[1]?1:2}else 2===p.leadingSide?[o.side1TiebreakScore,o.side2TiebreakScore]=a:[o.side2TiebreakScore,o.side1TiebreakScore]=a}o.winningSide=p.winningSide||p.leadingSide||l||h}return{set:o}}function dm({matchUpFormat:t,drawDefinition:e,randomWinningSide:n,completeAllMatchUps:i,matchUpStatusProfile:r,event:a}){const o=e.structures.slice().sort(ts),s="string"==typeof i&&i,c=s&&$e;for(const u of o){const i=Xo({drawDefinition:e}),{matchUps:o}=Ws({drawDefinition:e,matchUpsMap:i,structure:u,inContext:!0,event:a}),d=o.filter((({winningSide:t})=>!t)).sort(Ud).map((({matchUpId:t})=>t));for(const l of d){const{matchUps:o}=Ws({drawDefinition:e,matchUpsMap:i,structure:u,inContext:!0,event:a}),d=o.find((t=>t.matchUpId===l)),p=d.matchUpStatus===Xe;if(null!=d&&d.readyToScore&&!p){const i=pm({drawDefinition:e,targetMatchUp:d,matchUpFormat:t,winningSide:!n&&1,matchUpStatus:c,scoreString:s,matchUpStatusProfile:r});if(i.error)return i}}}return{...En}}function lm({drawDefinition:t,targetMatchUp:e,matchUpStatus:n,matchUpFormat:i,scoreString:r,winningSide:a}){if(!e||e.matchUpStatus===Ke)return;const{matchUpId:o}=e||{},{outcome:s}=tm({scoreString:r,winningSide:a,matchUpStatus:n});return Du({drawDefinition:t,matchUpFormat:i,matchUpId:o,outcome:s})}function pm(t){const{targetMatchUp:e,scoreString:n,winningSide:i,matchUpStatus:r,matchUpFormat:a,drawDefinition:o,matchUpStatusProfile:s={}}=t;if(n||r)return lm(t);const{matchUpId:c}=e||{},{outcome:u}=cm({matchUpFormat:a,winningSide:i,matchUpStatusProfile:s});return Du({drawDefinition:o,matchUpId:c,outcome:u,matchUpFormat:a})}function fm({tournamentRecord:t,allUniqueParticipantIds:e,autoEntryPositions:n,participantsProfile:i,completeAllMatchUps:r,matchUpStatusProfile:a,randomWinningSide:o,eventProfile:s,startDate:c,uuids:u}){let d=s.gender;const{eventName:l="Generated Event",eventType:p=Bo,policyDefinitions:f,drawProfiles:m=[],eventExtensions:h,surfaceCategory:v,discipline:g,eventLevel:y,ballType:I,category:w}=s,b=s.tieFormat||p===Go&&Jp();let N=t.participants,S=[];for(const G of m)!d&&G.gender&&(d=G.gender);let P={};const E=m.reduce(((t,e)=>{const{qualifyingPositions:n=0,participantsCount:i=0,uniqueParticipants:r,stage:a=Vi,drawSize:o=0}=e;Object.keys(t).includes(a)||(t[a]=0);const s=i||o-n;return r||d?(Object.keys(P).includes(a)||(P[a]=0),P[a]+=s):t[a]=Math.max(s,t[a]),t}),{}),U=Object.keys(P);U.forEach((t=>E[t]+=P[t]));const A=p===Bo?Ko:p===jo?$o:p,D=[];if(U){const{valuesInstanceLimit:e,nationalityCodesCount:n,nationalityCodeType:r,nationalityCodes:a,addressProps:o,personIds:s,inContext:c}=i||{},l=P[Vi]||0,p=P[Hi]||0,{participants:f}=om({participantsCount:l+p,participantType:A,sex:d,uuids:u,valuesInstanceLimit:e,nationalityCodesCount:n,nationalityCodeType:r,nationalityCodes:a,addressProps:o,personIds:s,inContext:c});let m=Xu({tournamentRecord:t,participants:f});if(m.error)return m;S=f.filter((({participantType:t})=>t===A)),f.forEach((({participantId:t})=>D.push(t)))}const M=E[Vi]||0,T=E[Hi]||0,C={QUALIFYING:N.filter((({participantType:t})=>t===A)).filter((({participantId:t})=>!e.includes(t))).slice(0,T),MAIN:N.filter((({participantType:t})=>t===A)).filter((({participantId:t})=>!e.includes(t))).slice(T,T+M)};let{eventAttributes:R}=s;"object"!=typeof R&&(R={});const x=s.eventId||yi(),O={...R,ballType:I,category:w,discipline:g,eventId:x,eventName:l,eventLevel:y,eventType:p,gender:d,surfaceCategory:v,tieFormat:b};if(null!=h&&h.length&&Array.isArray(h)){const t=h.filter(is);null!=t&&t.length&&Object.assign(O,{extensions:t})}if("object"==typeof f)for(const G of Object.keys(f))$d({event:O,policyDefinitions:{[G]:f[G]}});let L=jl({tournamentRecord:t,event:O});if(L.error)return L;const{event:k}=L;let F=0;for(const G of m){const{drawType:e=pr,qualifyingPositions:i=0,uniqueParticipants:r,stage:a=Vi,drawSize:o=0,drawName:s}=G,c=o-i,u=r?S.slice(F,c):C[a||Vi]||[];(r||d)&&(F+=c);const l=u.slice(0,c).map((({participantId:t})=>t));if(l.length){const e=Xl({participantIds:l,autoEntryPositions:n,tournamentRecord:t,stage:a,event:k});if(e.error)return e}const p=_f({drawName:s||e,qualifyingPositions:i,drawEntries:l.map((t=>({entryStatus:gs,entryStage:a,participantId:t}))),drawSize:o,event:k,stage:a});if(p.error)return p}const Z=[],{flightProfile:_}=qu({event:k});if(Array.isArray(null==_?void 0:_.flights))for(const[G,V]of _.flights.entries()){var B,j;const{drawId:e,drawSize:n,stage:i,drawName:s,drawEntries:u}=V,d=m[G],{seedsCount:f}=d,h=u.filter((({participantId:t})=>t)).map((({participantId:t})=>t)),v=(null===(B=k.category)||void 0===B?void 0:B.ageCategoryCode)||(null===(j=k.category)||void 0===j?void 0:j.categoryName)||l;if(t&&f&&f<=h.length){Ze(1,f+1).forEach(((e,n)=>{let i={scaleValue:e,scaleName:v,scaleType:yl,eventType:p,scaleDate:c};const r=h[n];wl({tournamentRecord:t,participantId:r,scaleItem:i})}))}let g=Xp({...d,matchUpType:p,seedingScaleName:v,tournamentRecord:t,drawEntries:u,drawSize:n,drawName:s,drawId:e,event:k,stage:i});const{drawDefinition:y,error:I}=g;if(I)return{error:I};const w=m[G].drawExtensions;if(Array.isArray(w)&&w.filter(is).forEach((t=>rs({element:y,extension:t}))),g=$u({drawDefinition:y,event:k}),g.error)return g;if(Z.push(V.drawId),d.withPlayoffs){const e=y.structures[0].structureId,n=vf({idPrefix:d.idPrefix,...d.withPlayoffs,tournamentRecord:t,drawDefinition:y,structureId:e});if(null!=n&&n.error)return n}if(!(!1===d.automated)&&r){const e=d.matchUpFormat,n=dm({completeAllMatchUps:r,matchUpStatusProfile:a,randomWinningSide:o,drawDefinition:y,matchUpFormat:e});if(n.error)return n;if(d.drawType===Ar){let n=Ep({structureId:y.structures.find((t=>t.stage===Vi)).structureId,tournamentRecord:t,drawDefinition:y,event:k});if(n.error)return n;if(n=dm({completeAllMatchUps:r,matchUpStatusProfile:a,randomWinningSide:o,matchUpFormat:e,drawDefinition:y}),n.error)return n}}}return{drawIds:Z,eventId:x,uniqueParticipantIds:D}}function mm({allUniqueParticipantIds:t=[],matchUpStatusProfile:e,participantsProfile:n,completeAllMatchUps:i,autoEntryPositions:r,randomWinningSide:a,tournamentRecord:o,drawProfile:s,startDate:c,goesTo:u,uuids:d}){var l,p,f;const{excessParticipantAlternates:m=!0,matchUpFormat:h=hn,drawType:v=pr,eventType:g=Bo,alternatesCount:y=0,eventExtensions:I,drawExtensions:w,drawSize:b=32,seedsCount:N,category:S,idPrefix:P,gender:E,stage:U}=s,A=s.tieFormat||g===qo&&Jp();let D=s.eventName||`Generated ${g}`,M=(null==o?void 0:o.participants)||[];const T=!s.participantsCount||s.participantsCount>b?b:s.participantsCount,C=yi();let R={eventId:C,eventName:D,eventType:g,category:S,tieFormat:A},{eventAttributes:x}=s;if("object"!=typeof x&&(x={}),Object.assign(R,x),null!=I&&I.length&&Array.isArray(I)){const t=I.filter(is);null!=t&&t.length&&Object.assign(R,{extensions:t})}const O=[];if(s.uniqueParticipants||!o||E){const t=g===jo?$o:Ko,{valuesInstanceLimit:e,nationalityCodesCount:i,nationalityCodeType:r,nationalityCodes:a,addressProps:c,personIds:u,inContext:l}=n||{},{participants:p}=om({participantsCount:T+y,participantType:t,uuids:s.uuids||d,sex:E||(null==n?void 0:n.sex),valuesInstanceLimit:e,nationalityCodesCount:i,nationalityCodeType:r,nationalityCodes:a,addressProps:c,personIds:u,inContext:l});if(o){let t=Xu({tournamentRecord:o,participants:p});if(t.error)return t}p.forEach((({participantId:t})=>O.push(t))),M=p}const L=t=>{const{participantType:e}=t;return g===Bo&&e===Ko||(g===jo&&e===$o||g===qo&&e===qo)},k=t=>{var e,n;return!s.gender||((null===(e=t.person)||void 0===e?void 0:e.sex)===s.gender||(!(null===(n=t.individualParticipantIds)||void 0===n||!n.some((t=>{const e=M.find((e=>e.participantId===t));return e&&k(e)})))||void 0))},F=M.filter(L).filter(k).filter((({participantId:e})=>!t.includes(e))).slice(0,T).map((t=>t.participantId));let Z=Xl({entryStage:U,autoEntryPositions:r,tournamentRecord:o,participantIds:F,event:R});if(Z.error)return Z;const _=m&&(null==o||null===(l=o.participants)||void 0===l?void 0:l.filter((({participantId:t})=>!F.includes(t))).filter(L).filter(k).slice(0,y||b-T).map((t=>t.participantId)));if(null!=_&&_.length&&(Z=Xl({participantIds:_,autoEntryPositions:!1,entryStatus:fs,tournamentRecord:o,event:R}),Z.error))return{error:Z.error};const B=(null===(p=R.category)||void 0===p?void 0:p.ageCategoryCode)||(null===(f=R.category)||void 0===f?void 0:f.categoryName)||D;if(o&&N&&N<=F.length){Ze(1,N+1).forEach(((t,e)=>{let n={scaleValue:t,scaleName:B,scaleType:To,eventType:g,scaleDate:c};const i=F[e];wl({tournamentRecord:o,participantId:i,scaleItem:n})}))}const{drawDefinition:j,error:G}=Xp({...s,tournamentRecord:o,seedingScaleName:B,matchUpFormat:h,drawType:v,drawSize:b,eventId:C,goesTo:u,event:R});if(G)return{error:G};Array.isArray(w)&&w.filter(is).forEach((t=>rs({element:j,extension:t}))),Z=$u({drawDefinition:j,event:R});const{drawId:V}=j;if(s.withPlayoffs){const t=j.structures[0].structureId,e=vf({...s.withPlayoffs,tournamentRecord:o,drawDefinition:j,structureId:t,idPrefix:P});if(null!=e&&e.error)return e}if(!(!1===s.automated)){if(s.outcomes){const{matchUps:t}=Nc({event:R,drawDefinition:j,inContext:!0});for(const e of s.outcomes){const{roundNumber:n,drawPositions:i,roundPosition:r,scoreString:a,winningSide:o,stage:s=Vi,matchUpFormat:c,stageSequence:u=1,matchUpStatus:d=$e,matchUpIndex:l=0,structureOrder:p}=e,f=t.reduce(((t,e)=>{const{structureId:n,matchUpId:i}=e;return t[n]?t[n].push(i):t[n]=[i],t}),{}),m=Object.assign({},...Object.keys(f).map(((t,e)=>({[t]:e+1})))),h=t.filter((t=>!(s&&t.stage!==s||u&&t.stageSequence!==u||n&&t.roundNumber!==n||r&&t.roundPosition!==r||p&&m[t.structureId]!==p||i&&2!==Be(i,t.drawPositions).length)))[l],v=lm({drawDefinition:j,targetMatchUp:h,matchUpFormat:c,matchUpStatus:d,scoreString:a,winningSide:o,drawId:V});if(null!=v&&v.error)return v}}if(i){const t=dm({drawDefinition:j,matchUpFormat:h,randomWinningSide:a,completeAllMatchUps:i,matchUpStatusProfile:e});if(t.error)return t;if(v===Ar){let t=Ep({structureId:j.structures.find((t=>t.stage===Vi)).structureId,tournamentRecord:o,drawDefinition:j,event:R});if(t=dm({drawDefinition:j,matchUpFormat:h,randomWinningSide:a,completeAllMatchUps:i,matchUpStatusProfile:e}),t.error)return t}}}return Z.error?{error:Z.error}:{...En,uniqueParticipantIds:O,targetParticipants:M,drawDefinition:j,eventId:C,drawId:V,event:R}}const hm={generateTournamentRecord:function({endDate:t,startDate:e,tournamentName:n="Mock Tournament",policyDefinitions:i,participantsProfile:r,autoEntryPositions:a,drawProfiles:o,eventProfiles:s,venueProfiles:c,tournamentExtensions:u,tournamentAttributes:d,completeAllMatchUps:l,matchUpStatusProfile:p,randomWinningSide:f,goesTo:m,uuids:h}={}){let{participantsCount:v,participantType:g=Ko}=r||{};const y=v||0;if(e&&!qn(e)||t&&!qn(t))return{error:Nt};if(!e){const n=new Date;e=Yn(t||n),t=Yn(n.setDate(n.getDate()+7))}if(!t){const n=new Date(e);t=Yn(n.setDate(n.getDate()+7))}"object"!=typeof d&&(d={});const I=rl({...d,startDate:e,endDate:t,tournamentName:n});if(null!=u&&u.length&&Array.isArray(u)){const t=u.filter(is);null!=t&&t.length&&Object.assign(I,{extensions:t})}if("object"==typeof i)for(const V of Object.keys(i))qd({tournamentRecord:I,policyDefinitions:{[V]:i[V]}});let w=0,b=0,N=0,S=0;const P=({drawSize:t=0,alternatesCount:e=0,eventType:n,tieFormat:i})=>{const r=n===jo,a=n===Go;if(a){var o,s;let n=0,r=0;S=Math.max(S,t+e),null===(o=i=i||Jp())||void 0===o||null===(s=o.collectionDefinitions)||void 0===s||s.forEach((i=>{if((null==i?void 0:i.matchUpType)===jo){const r=i.matchUpCount;n=Math.max(n,r),i.matchUpCount>w&&(w=r*(t+e||1))}if((null==i?void 0:i.matchUpType)===Jr){const n=i.matchUpCount;r=Math.max(r,n),i.matchUpCount>b&&(b=n*(t+e||1))}}));const a=Math.max(r,2*n);N=Math.max(N,a)}r&&t+e&&t+e>w&&(w=t+e),!r&&!a&&t&&t>b&&(b=t+e)};if(null==s||s.forEach((({eventType:t,drawProfiles:e})=>{if(e)for(const n of e){const{drawSize:e,alternatesCount:i,tieFormat:r}=n;P({drawSize:e,alternatesCount:i,eventType:t,tieFormat:r})}})),o)for(const V of o){const{drawSize:t,alternatesCount:e,eventType:n,tieFormat:i}=V;P({drawSize:t,alternatesCount:e,eventType:n,tieFormat:i})}const E=Math.max(S*N,2*w,b);w&&(g=$o),(v||y)<E&&(v=E),v&&w&&[$o,Go].includes(g)&&(b&&Math.floor(b/2)>w?v=Math.floor(b/2):(!b||2*w>=b)&&(v=Math.ceil(v/2))),v||(v=32),v<y&&(v=y);const{valuesInstanceLimit:U,nationalityCodesCount:A,nationalityCodeType:D,nationalityCodes:M,personExtensions:T,addressProps:C,personData:R,personIds:x,inContext:O,sex:L}=r||{},{participants:k}=om({valuesInstanceLimit:U,nationalityCodesCount:A,nationalityCodeType:D,nationalityCodes:M,personExtensions:T,addressProps:C,personData:R,sex:L,participantsCount:v,participantType:g,personIds:x,uuids:h,inContext:O});let F=Xu({tournamentRecord:I,participants:k});if(!F.success)return F;const Z=k.filter((({participantType:t})=>t===Ko)).map((({participantId:t})=>t));if(F=Xu({tournamentRecord:I,participants:Ze(0,S).map((t=>{const e=Z.slice(t*N,(t+1)*N);return{participantName:`Team ${t+1}`,participantRole:kd,participantType:Go,participantId:yi(),individualParticipantIds:e}}))}),!F.success)return F;const _=[],B=[],j=[],G=[];if(o)for(const V of o){const{drawId:t,eventId:n,event:i,error:o,uniqueParticipantIds:s}=mm({tournamentRecord:I,allUniqueParticipantIds:G,autoEntryPositions:a,participantsProfile:r,completeAllMatchUps:l,matchUpStatusProfile:p,randomWinningSide:f,drawProfile:V,startDate:e,goesTo:m});if(o)return{error:o};const c=jl({tournamentRecord:I,event:i});if(c.error)return c;_.push(t),B.push(n),null!=s&&s.length&&G.push(...s)}if(s)for(const V of s){const{error:t,eventId:n,drawIds:i,uniqueParticipantIds:o}=fm({tournamentRecord:I,allUniqueParticipantIds:G,autoEntryPositions:a,participantsProfile:r,completeAllMatchUps:l,matchUpStatusProfile:p,randomWinningSide:f,eventProfile:V,startDate:e});if(t)return{error:t};i&&_.push(...i),B.push(n),null!=o&&o.length&&G.push(...o)}if(c)for(const[V,H]of c.entries()){let{venueName:n,courtsCount:i,dateAvailability:r,startTime:a="07:00",endTime:o="19:00"}=H;const s=yi();let c=Yu({tournamentRecord:I,venue:{venueId:s,venueName:n||`Venue ${V+1}`}});if(c.error)return c;j.push(s);const u=Qn(e,t);if(r=!Array.isArray(r)&&u.map((t=>({date:Yn(t),startTime:a,endTime:o})))||r,c=Hu({tournamentRecord:I,venueId:s,courtsCount:i,dateAvailability:r}),c.error)return c}return{tournamentRecord:I,drawIds:_,eventIds:B,venueIds:j}},generateParticipants:om,generateEventWithDraw:mm,generateOutcomeFromScoreString:tm,generateOutcome:cm,parseScoreString:Qf,credits:Yd},vm=function(){const t={version:()=>"0.25.2",devContext:e=>(Tn(e),t)};return[hm].forEach((e=>{Object.keys(e).forEach((n=>{t[n]=t=>{try{return function(t,e){const n=t({...e});return null!=n&&n.error||yd(),On(),n}(e[n],t)}catch(i){console.log("%c ERROR","color: orange",{err:i})}}}))})),t}(),gm={chunkArray:Ge,countValues:function(t){return e=Oe(t),Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[i]?t[i].push(n):t[i]=[n],t}),{});var e},dateRange:Qn,dateTime:hi,garman:oa,generateRange:Ze,instanceCount:Oe,intersection:Be,isNumeric:wn,JSON2CSV:function(t,e){if(e&&"object"!=typeof e)return{error:Ne};const{includeTransoformAccessors:n,columnAccessors:i=[],columnTransform:r={},columnMap:a={},valuesMap:o={},context:s={},delimiter:c='"',columnJoiner:u=",",rowJoiner:d="\r\n",keyJoiner:l="."}=e||{};if(!(Array.isArray(t)&&Array.isArray(i)&&Array.isArray(Object.keys(r||{}))&&Array.isArray(Object.keys(a||{}))&&Array.isArray(Object.keys(o||{}))&&Array.isArray(Object.keys(s||{}))&&"string"==typeof u&&"string"==typeof d&&"string"==typeof l&&"string"==typeof c))return{error:Ne};const p=t.filter(Boolean).map((t=>sa(t,l))),f=Object.values(r).flat();n&&i.push(...f);const m=p.reduce(((t,e)=>Object.keys(e).every((e=>!t.includes(e)&&t.push(e)||!0))&&t),[]).filter((t=>!(null!=i&&i.length)||i.includes(t))),h=Object.assign({},...Object.keys(r).map((t=>r[t].map((e=>({[e]:t}))).flat())).flat()),v=m.reduce(((t,e)=>{const n=h[e];return n?t.includes(n)||t.push(n):t.push(e),t}),[]);Object.keys(a).forEach((t=>!v.includes(t)&&v.unshift(t))),Object.keys(r).forEach((t=>!v.includes(t)&&v.unshift(t))),"object"==typeof s&&Object.keys(s).forEach((t=>!v.includes(t)&&v.unshift(t)));const g=v.map((t=>a[t]||t)),y=t=>`${c}${t}${c}`,I=p.map((t=>Object.values(v.reduce(((e,n)=>{var i;const a=r[n],c=(null!=a&&a.length?t[a.find((e=>t[e]))]:t[n])||(null==s?void 0:s[n])||"",u=(null===(i=o[n])||void 0===i?void 0:i[c])||c;return e[n]=y(u),e}),{})).join(u)));return[g.map(y).join(u),...I].join(d)},makeDeepCopy:vi,nearestPowerOf2:In,numericSort:gi,overlap:je,isPowerOf2:yn,randomMember:Fe,randomPop:ke,shuffleArray:xe,unique:Re,UUID:yi,UUIDS:function(t=1){return Ze(0,t).map(yi)}}},6196:function(t,e,n){"use strict";t.exports=n(1444)},1444:function(t,e){"use strict";const n={S:"normal",F:"final"};function i(t){if(t&&"object"==typeof t){if(t.timed&&!isNaN(t.minutes))return a(t);if(t.bestOf&&t.setFormat)return function(t){const e=r(t.bestOf),n=e&&"SET"+e||"",i=o(t.setFormat),a=i&&"S:"+i||"",s=o(t.finalSetFormat);if(n&&i&&!i.invalid&&(!s||!s.invalid))return[n,a,e>1&&s&&!s.invalid&&i!==s&&"F:"+s||""].filter((t=>t)).join("-")}(t)}}function r(t){return!isNaN(Number(t))&&Number(t)}function a(t){return"T"+t.minutes}function o(t){if(t&&"object"==typeof t){if(t.timed)return a(t);if(t.tiebreakSet)return s(t.tiebreakSet);const e=r(t.setTo);if(e){const n=t.NoAD?"NOAD":"",i=s(t.tiebreakFormat),a=i&&!i.invalid&&"/"+i||"",o=r(t.tiebreakAt),c=o&&o!==e&&"@"+o||"";return i&&i.invalid?{invalid:!0}:`${e}${n}${a}${c}`}return{invalid:!0}}}function s(t){if(t)return"object"!=typeof t||t.tiebreakTo?"object"==typeof t&&r(t.tiebreakTo)?`TB${t.tiebreakTo}${t.NoAD?"NOAD":""}`:{invalid:!0}:""}function c(t){if(t&&"string"==typeof t){const e=0===t.indexOf("T")?"timed":0===t.indexOf("SET")?"SET":"";if("timed"===e){const e={bestOf:1,setFormat:l(t)};if(e.setFormat)return e}if("SET"===e)return function(t){const e=t.split("-"),n=f(e[0].slice(3)),i=e&&u(e[1]),r=e&&u(e[2]),a=n&&n<6,o=!e[2]||r&&!r.invalid,s=i&&!i.invalid,c={bestOf:n,setFormat:i};if(r&&(c.finalSetFormat=r),a&&s&&o)return c}(t)}}function u(t){if(t&&":"===t[1]){const e=t.split(":"),i=e[1];if(n[e[0]]&&i){if(0===i.indexOf("TB"))return{tiebreakSet:d(i)};if(0===i.indexOf("T"))return l(i);const e=t.match(/^[FS]{1}:(\d+)([A-Za-z]*)/),n=e&&p(e[2])||!1,r=!e||!e[2]||n,a=e&&f(e[1]),o=function(t){const e=t&&t.indexOf("@")>0&&t.split("@");if(e)return f(e[1])||{invalid:!0}}(i),s=!o||o&&!o.invalid,c=s&&o||a,u=d(i.split("/")[1]),m=!u||!u.invalid,h={setTo:a};return n&&(h.NoAD=!0),u?(h.tiebreakFormat=u,h.tiebreakAt=c):h.noTiebreak=!0,a&&r&&m&&s&&h||{invalid:!0}}}}function d(t){if(t){if(0===t.indexOf("TB")){const e=t.match(/^TB(\d+)([A-Za-z]*)/),n=e&&e[1],i=e&&p(e[2]),r=!e||!e[2]||i,a=f(n);if(a&&r){const t={tiebreakTo:a};return i&&(t.NoAD=!0),t}return{invalid:!0}}return{invalid:!0}}}function l(t){const e=f(t.slice(1));if(e)return{timed:!0,minutes:e}}function p(t){return t&&t.indexOf("NOAD")>=0}function f(t){return!isNaN(Number(t))&&Number(t)}e.matchUpFormatCode={stringify:t=>i(t),parse:t=>c(t),isValidMatchUpFormat:t=>function(t){var e;if("string"!=typeof t)return!1;const n=c(t);return null!=n&&null!=(e=n.setFormat)&&e.timed&&1===(null==n?void 0:n.bestOf)&&t.indexOf("SET1-S:")<1&&0===t.indexOf("T")?i(n).slice(7)===t:i(n)===t}(t)}},4048:function(t,e,n){"use strict";n.d(e,{F:function(){return Ga}});var i=n(7294),r=n(1253),a=n(2122),o=(n(5697),n(6010)),s=n(2543),c=n(3871),u=n(5160);var d=i.createContext();var l=i.createContext(),p=i.forwardRef((function(t,e){var n,s,u=t.align,p=void 0===u?"inherit":u,f=t.classes,m=t.className,h=t.component,v=t.padding,g=t.scope,y=t.size,I=t.sortDirection,w=t.variant,b=(0,r.Z)(t,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),N=i.useContext(d),S=i.useContext(l),P=S&&"head"===S.variant;h?(s=h,n=P?"columnheader":"cell"):s=P?"th":"td";var E=g;!E&&P&&(E="col");var U=v||(N&&N.padding?N.padding:"default"),A=y||(N&&N.size?N.size:"medium"),D=w||S&&S.variant,M=null;return I&&(M="asc"===I?"ascending":"descending"),i.createElement(s,(0,a.Z)({ref:e,className:(0,o.Z)(f.root,f[D],m,"inherit"!==p&&f["align".concat((0,c.Z)(p))],"default"!==U&&f["padding".concat((0,c.Z)(U))],"medium"!==A&&f["size".concat((0,c.Z)(A))],"head"===D&&N&&N.stickyHeader&&f.stickyHeader),"aria-sort":M,role:n,scope:E},b))})),f=(0,s.Z)((function(t){return{root:(0,a.Z)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===t.palette.type?(0,u.$n)((0,u.U1)(t.palette.divider,1),.88):(0,u._j)((0,u.U1)(t.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:t.palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},body:{color:t.palette.text.primary},footer:{color:t.palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:t.palette.background.default}}}),{name:"MuiTableCell"})(p),m=i.forwardRef((function(t,e){var n=t.classes,s=t.className,c=t.component,u=void 0===c?"div":c,d=(0,r.Z)(t,["classes","className","component"]);return i.createElement(u,(0,a.Z)({ref:e,className:(0,o.Z)(n.root,s)},d))})),h=(0,s.Z)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(m),v="table",g=i.forwardRef((function(t,e){var n=t.classes,s=t.className,c=t.component,u=void 0===c?v:c,l=t.padding,p=void 0===l?"default":l,f=t.size,m=void 0===f?"medium":f,h=t.stickyHeader,g=void 0!==h&&h,y=(0,r.Z)(t,["classes","className","component","padding","size","stickyHeader"]),I=i.useMemo((function(){return{padding:p,size:m,stickyHeader:g}}),[p,m,g]);return i.createElement(d.Provider,{value:I},i.createElement(u,(0,a.Z)({role:u===v?null:"table",ref:e,className:(0,o.Z)(n.root,s,g&&n.stickyHeader)},y)))})),y=(0,s.Z)((function(t){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,a.Z)({},t.typography.body2,{padding:t.spacing(2),color:t.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(g),I={variant:"head"},w="thead",b=i.forwardRef((function(t,e){var n=t.classes,s=t.className,c=t.component,u=void 0===c?w:c,d=(0,r.Z)(t,["classes","className","component"]);return i.createElement(l.Provider,{value:I},i.createElement(u,(0,a.Z)({className:(0,o.Z)(n.root,s),ref:e,role:u===w?null:"rowgroup"},d)))})),N=(0,s.Z)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(b),S=i.forwardRef((function(t,e){var n=t.classes,s=t.className,c=t.component,u=void 0===c?"tr":c,d=t.hover,p=void 0!==d&&d,f=t.selected,m=void 0!==f&&f,h=(0,r.Z)(t,["classes","className","component","hover","selected"]),v=i.useContext(l);return i.createElement(u,(0,a.Z)({ref:e,className:(0,o.Z)(n.root,s,v&&{head:n.head,footer:n.footer}[v.variant],p&&n.hover,m&&n.selected),role:"tr"===u?null:"row"},h))})),P=(0,s.Z)((function(t){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:t.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:(0,u.U1)(t.palette.secondary.main,t.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(S),E={variant:"body"},U="tbody",A=i.forwardRef((function(t,e){var n=t.classes,s=t.className,c=t.component,u=void 0===c?U:c,d=(0,r.Z)(t,["classes","className","component"]);return i.createElement(l.Provider,{value:E},i.createElement(u,(0,a.Z)({className:(0,o.Z)(n.root,s),ref:e,role:u===U?null:"rowgroup"},d)))})),D=(0,s.Z)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(A),M=n(1120),T=n(1749),C=n(7342),R=n(4184),x=n.n(R),O=n(9895);n(6749);const L="records must be an object with tournamentId keys",k="Missing tournamentRecords",F="Missing tournamentRecord",Z="Missing tournamentId",_="Invalid drawDefinition",B="Missing drawDefinition",j="drawDefinition not found",G="Invalid drawPosition for seedAssignment",V="drawPosition already assigned",H="drawPosition not cleared",W="Unrecognized drawType",z="drawPosition is active",K="Invlid drawPosition",q="Missing drawPosition",$="Invalid drawSize",Y="Missing drawSize",J="Missing drawId",X="drawId exists",Q="seedsCount greater than drawSize",tt="Missing seedCountThresholds",et="Missing seedAssignments",nt="Missing seedBlocks",it="Invalid seedNumber",rt="Invalid seedPosition",at="Missing targetLink",ot="Missing structureId",st="structure not found",ct="Missing structures",ut="Missing structure",dt="Invalie eventType",lt="Missing event / eventId",pt="Event not found",ft="Event exists",mt="Invalid entries",ht="Missing assignments",vt="Missing stage",gt="Invalid stage",yt="stageSequence limit",It="Missing positionAssignments",wt="Unrecognized matchUpStatus",bt="Unrecognized matchUpFormat",Nt="Invalid matchUpStatus",St="Missing matchUpFormat",Pt="Missing matchUpId",Et="Missing matchUpIds",Ut="matchUp not found",At="Missing matchUps",Dt="Missing matchUp",Mt="Invalid matchUp",Tt="Missing policyType",Ct="Missing policyDefinition",Rt="Missing seeding policy",xt="Missing avoidance policy",Ot="Missing policy attributes",Lt="Invalid policyDefinition",kt="existing policyType",Ft="Policy not attached",Zt="Policy not found",_t="Missing setObject",Bt="Missing courtId",jt="Missing value",Gt="Invalid bookings",Vt="Invalid dateAvailability",Ht="Missing dateAvailability",Wt="Invalid Date",zt="Invalid time",Kt="Invalid game scores",qt="Invalid winningSide",$t="Cannot remove participants",Yt="Invalid participantId",Jt="Invalid participantIds",Xt="Invalid participantType",Qt="Missing participantRole",te="Missing participant",ee="Missing participants",ne="Missing participantId",ie="Participant Not Found",re="participantId exists",ae="No participant removed",oe="Missing participantIds",se="Missing participantCount",ce="Participant not checked in",ue="Participant already checked in",de="Participant has assigned drawPosition",le="Missing person details",pe="Existing participant drawPosition assignment",fe="Existing participant",me="participantCount exceeds drawSize",he="More Participants than Draw Positions",ve="Missing penaltyType",ge="Missing penaltyId",ye="Penalty not found",Ie="Missing courtsCount/courtNames",we="Court not found",be="Court exists",Ne="Venue exists",Se="Missing venueId",Pe="Invalid endTime",Ee="Existing endTime",Ue="Existing stopTime",Ae="Invalid startTime",De="Invalid timeItem",Me="Missing timeItem",Te="Missing timeItems",Ce="Missing schedule",Re="Invalid scaleItem",xe="No scaleItem found",Oe="Modifications failed",Le="No modifications applied",ke="Invalid configuration",Fe="Invalid object",Ze="Invalid values",_e="No valid actions",Be="No valid attributes",je="Value unchanged",Ge="Not found",Ve="Not implemented",He="Existing Profile",We={CANNOT_REMOVE_PARTICIPANTS:$t,COURT_EXISTS:be,COURT_NOT_FOUND:we,DRAW_DEFINITION_NOT_FOUND:j,DRAW_ID_EXISTS:X,DRAW_POSITION_ACTIVE:z,DRAW_POSITION_ASSIGNED:V,DRAW_POSITION_NOT_CLEARED:H,DRAW_POSITION_NOT_FOUND:"drawPosition not found",EVENT_EXISTS:ft,EVENT_NOT_FOUND:pt,EXISTING_END_TIME:Ee,EXISTING_PARTICIPANT_DRAW_POSITION_ASSIGNMENT:pe,EXISTING_PARTICIPANT:fe,EXISTING_POLICY_TYPE:kt,EXISTING_PROFILE:He,INCOMPATIBLE_MATCHUP_STATUS:"Incompatible matchUpStatus",INVALID_BOOKINGS:Gt,INVALID_CONFIGURATION:ke,INVALID_DATE_AVAILABILITY:Vt,INVALID_DATE:Wt,INVALID_DRAW_DEFINITION:_,INVALID_DRAW_POSITION_FOR_SEEDING:G,INVALID_DRAW_POSITION:K,INVALID_DRAW_SIZE:$,INVALID_END_TIME:Pe,INVALID_ENTRIES:mt,INVALID_EVENT_TYPE:dt,INVALID_GAME_SCORES:Kt,INVALID_MATCHUP_STATUS:Nt,INVALID_MATCHUP:Mt,INVALID_OBJECT:Fe,INVALID_PARTICIPANT_ID:Yt,INVALID_PARTICIPANT_IDS:Jt,INVALID_PARTICIPANT_TYPE:Xt,INVALID_PARTICIPANT:"Invalid participant",INVALID_POLICY_DEFINITION:Lt,INVALID_RECORDS:L,INVALID_SCALE_ITEM:Re,INVALID_SEED_NUMBER:it,INVALID_SEED_POSITION:rt,INVALID_SET_NUMBER:"Invalid setNumber",INVALID_SIDE_NUMBER:"Invalid sideNumber",INVALID_STAGE:gt,INVALID_START_TIME:Ae,INVALID_STOP_TIME:Ue,INVALID_TIME:zt,INVALID_TIME_ITEM:De,INVALID_VALUES:Ze,INVALID_WINNING_SIDE:qt,MATCHUP_NOT_FOUND:Ut,MISSING_ASSIGNMENTS:ht,MISSING_AVOIDANCE_POLICY:xt,MISSING_COURT_ID:Bt,MISSING_COURTS_INFO:Ie,MISSING_DATE_AVAILABILITY:Ht,MISSING_DATE:"Missing date",MISSING_DRAW_DEFINITION:B,MISSING_DRAW_ID:J,MISSING_DRAW_POSITION:q,MISSING_DRAW_POSITIONS:"Missing drawPositions",MISSING_DRAW_SIZE:Y,MISSING_ENTRIES:"Missing entries",MISSING_EVENT:lt,MISSING_MATCHUP_FORMAT:St,MISSING_MATCHUP_ID:Pt,MISSING_MATCHUP_IDS:Et,MISSING_MATCHUP:Dt,MISSING_MATCHUPS:At,MISSING_PARTICIPANT_COUNT:se,MISSING_PARTICIPANT_ID:ne,MISSING_PARTICIPANT_IDS:oe,MISSING_PARTICIPANT_ROLE:Qt,MISSING_PARTICIPANT:te,MISSING_PARTICIPANTS:ee,MISSING_PENALTY_ID:ge,MISSING_PENALTY_TYPE:ve,MISSING_PERSON_DETAILS:le,MISSING_POLICY_ATTRIBUTES:Ot,MISSING_POLICY_DEFINITION:Ct,MISSING_POLICY_TYPE:Tt,MISSING_POSITION_ASSIGNMENTS:It,MISSING_ROUND_NUMBER:"Missing roundNumber",MISSING_SCHEDULE:Ce,MISSING_SEED_ASSIGNMENTS:et,MISSING_SEED_BLOCKS:nt,MISSING_SEEDCOUNT_THRESHOLDS:tt,MISSING_SEEDING_POLICY:Rt,MISSING_SET_NUMBER:"Missing setNumber",MISSING_SET_OBJECT:_t,MISSING_SIDE_NUMBER:"Missing sideNumber",MISSING_STAGE:vt,MISSING_STRUCTURE_ID:ot,MISSING_STRUCTURE:ut,MISSING_STRUCTURES:ct,MISSING_TARGET_LINK:at,MISSING_TIME_ITEM:Me,MISSING_TIME_ITEMS:Te,MISSING_TOURNAMENT_ID:Z,MISSING_TOURNAMENT_RECORD:F,MISSING_TOURNAMENT_RECORDS:k,MISSING_VALUE:jt,MISSING_VENUE_ID:Se,MODIFICATIONS_FAILED:Oe,MORE_PARTICIPANTS_THAN_DRAW_POSITIONS:he,NO_MODIFICATIONS_APPLIED:Le,NO_PARTICIPANT_REMOVED:ae,NO_VALID_ACTIONS:_e,NO_VALID_ATTRIBUTES:Be,NOT_FOUND:Ge,NOT_IMPLEMENTED:Ve,PARTICIPANT_ASSIGNED_DRAW_POSITION:de,PARTICIPANT_ALREADY_CHECKED_IN:ue,PARTICIPANT_COUNT_EXCEEDS_DRAW_SIZE:me,PARTICIPANT_ID_EXISTS:re,PARTICIPANT_NOT_CHECKED_IN:ce,PARTICIPANT_NOT_FOUND:ie,PARTICIPANT_PAIR_EXISTS:"participant pair exists",PENALTY_NOT_FOUND:ye,POLICY_NOT_ATTACHED:Ft,POLICY_NOT_FOUND:Zt,SCALE_ITEM_NOT_FOUND:xe,SEEDSCOUNT_GREATER_THAN_DRAW_SIZE:Q,STAGE_SEQUENCE_LIMIT:yt,STRUCTURE_NOT_FOUND:st,TEAM_NOT_FOUND:"Team not found",UNRECOGNIZED_DRAW_TYPE:W,UNRECOGNIZED_MATCHUP_FORMAT:bt,UNRECOGNIZED_MATCHUP_STATUS:wt,VALUE_UNCHANGED:je,VENUE_EXISTS:Ne};const ze="ABANDONED",Ke="AWAITING_RESULT",qe="BYE",$e="CANCELLED",Ye="COMPLETED",Je="DEAD_RUBBER",Xe="DEFAULTED",Qe="DOUBLE_WALKOVER",tn="IN_PROGRESS",en="INCOMPLETE",nn="NOT_PLAYED",rn="RETIRED",an="SUSPENDED",on="TO_BE_PLAYED",sn="WALKOVER",cn={ABANDONED:ze,AWAITING_RESULT:Ke,BYE:qe,CANCELLED:$e,COMPLETED:Ye,DEAD_RUBBER:Je,DEFAULTED:Xe,DOUBLE_WALKOVER:Qe,IN_PROGRESS:tn,INCOMPLETE:en,NOT_PLAYED:nn,RETIRED:rn,SUSPENDED:an,TO_BE_PLAYED:on,WALKOVER:sn};const un=["up","left","shift+tab"],dn=["enter","down","tab","right"],ln="space";const pn="roundRobinTally",fn="positionActions",mn="roundNaming",hn="participant",vn="scheduling",gn="avoidance",yn="seeding",In="scoring",wn="draws",bn={POLICY_TYPE_ROUND_ROBIN_TALLY:pn,POLICY_TYPE_POSITION_ACTIONS:fn,POLICY_TYPE_ROUND_NAMING:mn,POLICY_TYPE_PARTICIPANT:hn,POLICY_TYPE_SCHEDULING:vn,POLICY_TYPE_AVOIDANCE:gn,POLICY_TYPE_SEEDING:yn,POLICY_TYPE_SCORING:In,POLICY_TYPE_DRAWS:wn},Nn="MAIN",Sn="QUALIFYING",Pn="CONSOLATION",En="PLAY_OFF",Un="ITEM",An="CONTAINER",Dn="DRAW",Mn="RANDOM",Tn="TOP_DOWN",Cn="BOTTOM_UP",Rn="WATERFALL",xn="WINNER",On="LOSER",Ln="FIRST_MATCHUP",kn="FEED IN",Fn="COMPASS",Zn="OLYMPIC",_n="SINGLE_ELIMINATION",Bn="DOUBLE_ELIMINATION",jn="FIRST_MATCH_LOSER_CONSOLATION",Gn="FIRST_ROUND_LOSER_CONSOLATION",Vn="CURTIS_CONSOLATION",Hn="FEED_IN_CHAMPIONSHIP_TO_SF",Wn="FEED_IN_CHAMPIONSHIP_TO_SF",zn="FEED_IN_CHAMPIONSHIP_TO_QF",Kn="FEED_IN_CHAMPIONSHIP_TO_QF",qn="FEED_IN_CHAMPIONSHIP_TO_R16",$n="FEED_IN_CHAMPIONSHIP_TO_R16",Yn="MODIFIED_FEED_IN_CHAMPIONSHIP",Jn="MODIFIED_FEED_IN_CHAMPIONSHIP",Xn="FEED_IN_CHAMPIONSHIP",Qn="ROUND_ROBIN",ti="ROUND_ROBIN_WITH_PLAYOFF",ei="DECIDER",ni="BACKDRAW",ii={0:{name:"EAST",abbreviation:"E"},"0-1":{name:"WEST",abbreviation:"W"},"0-2":{name:"NORTH",abbreviation:"N"},"0-3":{name:"NORTHEAST",abbreviation:"NE"},"0-1-1":{name:"SOUTH",abbreviation:"S"},"0-1-2":{name:"SOUTHWEST",abbreviation:"SW"},"0-2-1":{name:"NORTHWEST",abbreviation:"NW"},"0-1-1-1":{name:"SOUTHEAST",abbreviation:"SE"}},ri={0:{name:"EAST",abbreviation:"E"},"0-1":{name:"WEST",abbreviation:"W"},"0-2":{name:"NORTH",abbreviation:"N"},"0-1-1":{name:"SOUTH",abbreviation:"S"}},ai="WIN_RATIO",oi="ROUND_OUTCOME",si=[kn,Fn,En,Zn,Vn,Hn,zn,qn,jn,Gn,Jn,$n,Kn,Wn,Xn,ti],ci={MAIN:Nn,QUALIFYING:Sn,CONSOLATION:Pn,ITEM:Un,CONTAINER:An,FIRST_MATCHUP:Ln,WINNER:xn,LOSER:On,FEED_IN:kn,COMPASS:Fn,PLAY_OFF:En,OLYMPIC:Zn,KNOCKOUT:"SINGLE_ELIMINATION",SINGLE_ELIMINATION:_n,DOUBLE_ELIMINATION:Bn,CURTIS:Vn,FICSF:Hn,FICQF:zn,FICR16:qn,MFIC:Yn,FIRST_MATCH_LOSER_CONSOLATION:jn,FIRST_ROUND_LOSER_CONSOLATION:Gn,MODIFIED_FEED_IN_CHAMPIONSHIP:Jn,FEED_IN_CHAMPIONSHIP_TO_R16:$n,FEED_IN_CHAMPIONSHIP_TO_QF:Kn,FEED_IN_CHAMPIONSHIP_TO_SF:Wn,FEED_IN_CHAMPIONSHIP:Xn,ROUND_ROBIN_WITH_PLAYOFF:ti,ROUND_ROBIN:Qn,DECIDER:ei,BACKDRAW:ni,COMPASS_ATTRIBUTES:ii,OLYMPIC_ATTRIBUTES:ri,DRAW:Dn,RANDOM:Mn,TOP_DOWN:Tn,BOTTOM_UP:Cn,WATERFALL:Rn,WIN_RATIO:ai,ROUND_OUTCOME:oi,MULTI_STRUCTURE_DRAWS:si,generatedDrawTypes:[Fn,Vn,Bn,Kn,$n,Wn,Xn,kn,jn,Gn,Jn,Zn,En,ti,_n]},ui="ALTERNATE",di="WITHDRAW",li="ASSIGN",pi="REMOVE",fi="LUCKY",mi="SWAP",hi="NICKNAME",vi="SEED_VALUE",gi="PENALTY",yi="BYE",Ii={ALTERNATE_PARTICIPANT:ui,WITHDRAW_PARTICIPANT:di,ASSIGN_PARTICIPANT:li,LUCKY_PARTICIPANT:fi,REMOVE_ASSIGNMENT:pi,SWAP_PARTICIPANTS:mi,ADD_NICKNAME:hi,ADD_PENALTY:gi,ASSIGN_BYE:yi,SEED_VALUE:vi},wi="SINGLES",bi="DOUBLES",Ni="TEAM",Si={SINGLES:wi,DOUBLES:bi,TEAM:Ni};const Pi={success:!0},Ei={SUCCESS:Pi,ERROR:"error"};const Ui="CHECK_IN",Ai="CHECK_OUT",Di="SCHEDULE.ASSIGNMENT.COURT",Mi="SCHEDULE.ASSIGNMENT.VENUE",Ti="SCHEDULE.DATE",Ci="SCHEDULE.TIME.SCHEDULED",Ri="SCHEDULE.TIME.START",xi="SCHEDULE.TIME.STOP",Oi="SCHEDULE.TIME.RESUME",Li="SCHEDULE.TIME.END",ki="SCALE",Fi="RATING",Zi="RANKING",_i="SEEDING",Bi="PUBLISH",ji="PUBLIC",Gi="HIDDEN",Vi="STATUS",Hi={ASSIGN_COURT:Di,ASSIGN_OFFICIAL:"SCHEDULE.ASSIGN.OFFICIAL",ASSIGN_VENUE:Mi,CHECK_IN:Ui,CHECK_OUT:Ai,END_TIME:Li,HIDDEN:Gi,MEDICAL:"MEDICAL",OTHER:"other",PENALTY:"PENALTY",PUBLIC:ji,PUBLISH:Bi,RANKING:Zi,RATING:Fi,RESUME_TIME:Oi,RETRIEVAL:"RETRIEVAL",SCALE:ki,SCHEDULED_DATE:Ti,SCHEDULED_TIME:Ci,SEEDING:_i,START_TIME:Ri,STATUS:Vi,STOP_TIME:xi,SUSPENSION:"SUSPENSION"};const Wi="disableLinks",zi="drawProfile",Ki="delegatedOutcome",qi="flightProfile",$i="groupingAttribute",Yi="participantRepresentatives",Ji="scheduleTiming",Xi="subOrder",Qi={DISABLE_LINKS:Wi,DRAW_PROFILE:zi,DELEGATED_OUTCOME:Ki,FLIGHT_PROFILE:qi,GROUPING_ATTRIBUTE:$i,PARTICIPANT_REPRESENTATIVES:Yi,SCHEDULE_TIMING:Ji,SUB_ORDER:Xi};const tr="INDIVIDUAL",er="TEAM",nr="PAIR",ir="GROUP",rr={INDIVIDUAL:tr,TEAM:er,PAIR:nr,GROUP:ir};var ar;!function(t){t.CONFIRMED="CONFIRMED",t.DIRECT_ACCEPTANCE="DIRECT_ACCEPTANCE",t.ORGANISER_ACCEPTANCE="ORGANISER_ACCEPTANCE",t.ALTERNATE="ALTERNATE",t.WITHDRAWN="WITHDRAWN",t.UNPAIRED="UNPAIRED",t.LUCKY_LOSER="LUCKY_LOSER",t.FEED_IN="FEED_IN",t.QUALIFIER="QUALIFIER",t.WILDCARD="WILDCARD"}(ar||(ar={}));const or=ar.ALTERNATE,sr=ar.FEED_IN,cr=ar.QUALIFIER,ur=ar.WILDCARD,dr=ar.DIRECT_ACCEPTANCE,lr=ar.CONFIRMED,pr=ar.LUCKY_LOSER,fr=ar.ORGANISER_ACCEPTANCE,mr=ar.WITHDRAWN,hr=ar.UNPAIRED,vr=[sr,cr,ur,dr,lr,fr],gr=[or,mr,sr,hr,cr,ur,dr,lr,pr,fr],yr={FEED_IN:sr,WILDCARD:ur,UNPAIRED:hr,ALTERNATE:or,CONFIRMED:lr,QUALIFIER:cr,WITHDRAWN:mr,LUCKY_LOSER:pr,DIRECT_ACCEPTANCE:dr,ORGANISER_ACCEPTANCE:fr,VALID_ENTERED_TYPES:gr,STRUCTURE_ENTERED_TYPES:vr};const Ir="addMatchUps",wr="addParticipants",br="addVenue",Nr="audit",Sr="deletedMatchUpIds",Pr="deleteParticipants",Er="deleteVenue",Ur="modifyMatchUp",Ar="modifyParticipants",Dr="modifyVenue",Mr="publishEvent",Tr=[Ir,wr,br,Nr,Sr,Pr,Er,Ur,Ar,Dr,Mr];const Cr="SINGLES",Rr="DOUBLES",xr={SINGLES:Cr,DOUBLES:Rr,TEAM:"TEAM",AGE:"AGE",RATING:"RATING",BOTH:"BOTH"},Or="SIGN_IN_STATUS";var Lr;!function(t){t.INDIVIDUAL="INDIVIDUAL",t.PAIR="PAIR",t.TEAM="TEAM"}(Lr||(Lr={}));const kr=Lr.INDIVIDUAL,Fr=Lr.PAIR,Zr=Lr.TEAM;var _r;!function(t){t.SIGNED_IN="SIGNED_IN",t.SIGNED_OUT="SIGNED_OUT"}(_r||(_r={}));const Br=_r.SIGNED_IN,jr=_r.SIGNED_OUT,Gr={INDIVIDUAL:kr,PAIR:Fr,TEAM:Zr,SIGNED_IN:Br,SIGNED_OUT:jr,SIGN_IN_STATUS:Or};const Vr="OTHER",Hr="OFFICIAL",Wr="COMPETITOR",zr={OTHER:Vr,COACH:"COACH",MEDIA:"MEDIA",CAPTAIN:"CAPTAIN",MEDICAL:"MEDICAL",OFFICIAL:Hr,SECURITY:"SECURITY",COMPETITOR:Wr,ADMINISTRATION:"ADMINISTRATION"};const Kr="SCALE",qr="RATING",$r="RANKING",Yr="SEEDING",Jr={SCALE:Kr,RATING:qr,RANKING:$r,SEEDING:Yr};const Xr="MALE",Qr="FEMALE",ta={ANY:"ANY",MALE:Xr,FEMALE:Qr,MIXED:"MIXED",OTHER:"OTHER"};const ea="deleteEvents",na="deleteDrawDefinitions",ia=[ea,na];const ra="REFEREE",aa="SCHEDULE",oa="SCORE",sa="START",ca="STATUS",ua={END:"END",NICKNAME:"NICKNAME",PENALTY:"PENALTY",REFEREE:ra,SCHEDULE:aa,SCORE:oa,START:sa,STATUS:ca};const da="splitWaterfall",la="splitShuttle",pa={SPLIT_LEVEL_BASED:"splitLevelBased",SPLIT_WATERFALL:da,SPLIT_SHUTTLE:la};const fa={auditConstants:ia,drawDefinitionConstants:ci,entryStatusConstants:yr,errorConditionConstants:We,eventConstants:xr,extensionConstants:Qi,flightConstants:pa,genderConstants:ta,matchUpActionConstants:ua,matchUpStatusConstants:cn,matchUpTypes:Si,participantConstants:Gr,participantRoles:zr,participantTypes:rr,penaltyConstants:{COACHING:"Coaching",BALL_ABUSE:"Ball Abuse",RACKET_ABUSE:"Racket Abuse",VERBAL_ABUSE:"Verbal Abuse",PHYSICAL_ABUSE:"Physical Abuse",INELIGIBILITY:"INELIGIBILITY",UNSPORTSMANLIKE_CONDUCT:"Unsportmanlike Conduct",PROHIBITED_SUBSTANCE:"PROHIBITED_SUBSTANCE",DRESS_CODE_VIOLATION:"Dress Code Violation",EQUIMENT_VIOLATION:"Equipment Violation",LEAVING_THE_COURT:"Leaving the court",REFUSAL_TO_PLAY:"REFUSAL_TO_PLAY",FAILURE_TO_COMPLETE:"Failure to complete",NO_SHOW:"No Show",OTHER:"Other",PUNCTUALITY:"Puncuality",FAILUIRE_TO_SIGN_IN:"Failure to sign in"},policyConstants:bn,positionActionConstants:Ii,resultConstants:Ei,scaleConstants:Jr,scheduleConstants:[],timeItemConstants:Hi,topicConstants:Tr};var ma=(0,M.Z)((function(t){return{paper:{padding:t.spacing(2),marginBottom:t.spacing(3)},drawRoot:{width:"100%",flexWrap:"nowrap"},connectorColumn:{minWidth:15,maxWidth:20},initialColumn:{},roundColumn:{},participant:{flexGrow:1,paddingLeft:3,paddingRight:3,whiteSpace:"nowrap","&:hover":{cursor:"pointer",backgroundColor:"#f5f5f5"}},detailsColumn:{flexWrap:"nowrap",whiteSpace:"nowrap"},positionDetails:{fontSize:"smaller",marginBottom:"1px"},sourceDrawPositionRange:{fontSize:"smaller",marginRight:".5em",whiteSpace:"nowrap"},seededParticipant:{color:"#3e424e",fontWeight:900},hoveredPrticipant:{"&:hover":{cursor:"pointer",backgroundColor:"#f5f5f5"}},readyToScore:{height:17,backgroundColor:"#edf4fc",cursor:"pointer"},score:{paddingLeft:3},roundName:{height:"1.5em"},roundScheduleIcon:{fontSize:"small",marginRight:"1em"},noBoderBottom:{paddingBottom:"2px"},thickBorderBottom:{borderBottom:"2px solid black"},verticalDivider:{width:1,marginTop:"4em",borderRight:"1px solid black"},borderRight:{borderRight:"1px solid black"},borderBottom:{borderBottom:"1px solid black"},bracketTop:{borderBottom:"1px solid black"},bracketBottom:{borderBottom:"1px solid black"},bracketContent:{}}}));function ha(t){var e=t.height,n=t.roundsDefinition,i=t.nameFilter,r=0,a=n.find((function(t){return t.feedTop}))&&e/2;return n.map((function(t,n){var o;return function(t){var n=t.round,o=n.columnMultiplier,s=n.feedTop,c=n.feedBottom,u=i?e:function(t){var e=t.height,n=t.columnMultiplier;return n?e*Math.pow(2,n-1)+Math.pow(2,n-1)-1:0}({height:e,columnMultiplier:o}),d=r+u*((s?-.5:c&&.5)||0);r=d;var l=i?e:function(t){var e=t.height,n=t.columnMultiplier;if(!n)return 0;var i=n>1?Math.pow(2,n-2)-1:0;return e+e*i+(n>1?.5*e:0)+(i||1)}({height:e,columnMultiplier:o})+(a||0)+d,p=n.finalMatchUp,f=n.matchUps||[],m=p?(v={matchUp:n.finalMatchUp},y=v.matchUp,I=y||{},w=I.sides,b=I.winningSide,N=null==y||null==(g=y.score)?void 0:g.scoreStringSide1,[[{side:b&&w.find((function(t){return t.sideNumber===b})),matchUp:y,readyToScore:y.readyToScore}],[{scoreString:N,sourceMatchUp:y}]]):f.map((function(t){return function(t){var e=t.matchUp,n=t.feedBottom,i=e||{},r=i.sides,a=i.schedule,o=[0,1].map((function(t){var i,a,o,s=null==e?void 0:e.sides[t],c=(null==s?void 0:s.displaySideNumber)!==(null==s?void 0:s.sideNumber)?(null==s?void 0:s.displaySideNumber)-1:t,u=n?1-c:c,d=r[u],l=null==d||null==(i=d.sourceMatchUp)||null==(a=i.score)?void 0:a.scoreStringSide1;return[{side:d,matchUp:e,sideIndex:u,readyToScore:null==d||null==(o=d.sourceMatchUp)?void 0:o.readyToScore},{sideIndex:u,scoreString:l,sourceMatchUp:null==d?void 0:d.sourceMatchUp}]}));return[o[0],a,o[1]].flat()}({matchUp:t,feedBottom:c})})).flat(),h=p?m:function(t){var e=[t.shift()],n=va(t,[3,2]);return n.unshift(e),n}(m);var v,g,y,I,w,b,N;return{round:n,matchUpHeight:u,firstMatchUpHeight:l,frames:h}}({matchUpsCount:(null==(o=t.matchUps)?void 0:o.length)||t.matchUpsCount,round:t,index:n})}))}function va(t,e){var n=e[0],i=e.slice(1);return t.length?[t.slice(0,n)].concat(va(t.slice(n),[].concat(i,[n]))):[]}function ga(t){var e,n=t.roundMatchUps,i=void 0===n?{}:n,r=t.nameFilter,a=!0,o=Object.assign.apply(Object,[{}].concat(Object.keys(i).map((function(t){var e,n;return(n={})[t]={matchUpsCount:null==(e=i[t])?void 0:e.length},n})))),s=Object.keys(i).map((function(t){return parseInt(t)}));s.forEach((function(t){o[t+1]&&o[t+1].matchUpsCount===o[t].matchUpsCount&&(o[t+1].feedRound=!0)}));var c=(null==s?void 0:s.length)&&o[s[0]].matchUpsCount||0,u=s.map((function(t){var e=i[t],n=e.filter((function(t){var e=t.sides,n=null==e?void 0:e.map((function(t){var e,n=t.participant;return null==n||null==(e=n.participantName)?void 0:e.toLowerCase()})).filter((function(t){return t}));return!r||n.find((function(t){return t.indexOf(r)>=0}))})),s=n.length,u=Math.log2(c/s)+1,d=(null==e?void 0:e.length)&&e[0].roundName||"Round "+t,l={matchUpsCount:n.length,columnType:"classic",columnMultiplier:u,roundNumber:t,roundName:d,matchUps:n};o[t].feedRound&&(a?(l.feedTop=!0,a=!1):(l.feedBottom=!0,n.forEach((function(t){return Object.assign(t,{feedBottom:!0})})),a=!0));var p=t>1&&i[t-1];return n.forEach((function(e){var n=e.roundPosition;return e.sides.forEach((function(i,r){var a=r+1;if(p)if(e.feedRound)1!==a&&(i.sourceMatchUp=p.find((function(t){return t.roundPosition===n})));else{var s=function(t){var e=t.roundNumber,n=t.roundPosition,i=t.sideNumber;return o[e].feedRound?n:2*(n-1)+i}({roundNumber:t,roundPosition:n,sideNumber:a}),c=p.find((function(t){return t.roundPosition===s}));i.sourceMatchUp=c}})),e})),l})),d=i[s[0]],l=[{columnType:"details",details:["drawPosition"],columnMultiplier:1,matchUps:d,matchUpsCount:(null==d?void 0:d.length)||0}].concat(u),p=u[u.length-1];if(1===(null==p||null==(e=p.matchUps)?void 0:e.length)){var f={matchUpsCount:0,finalMatchUp:p.matchUps[0],columnMultiplier:p.columnMultiplier+1,columnType:"classic",roundName:"Winner"};l.push(f)}return{roundsDefinition:l}}function ya(){return(ya=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var Ia=function(t){var e,n,r,a=t.round,o=t.nameFilter,s=t.sideDetails,c=t.displayOnly,u=t.onClick,d=ma(),l=a.finalMatchUp,p="classic"===(null==a?void 0:a.columnType),f="details"===(null==a?void 0:a.columnType),m=s||{},h=m.side,v=m.matchUp,g=m.sideIndex,y=m.feedBottom,I=h||{},w=I.bye,b=I.drawPosition,N=I.participant,S=I.sourceDrawPositionRange,P=v||{},E=P.feedRound,U=P.roundNumber,A=!o&&(S||b||""),D=l?null==v?void 0:v.readyToScore:null==h||null==(e=h.sourceMatchUp)?void 0:e.readyToScore,M=w?"BYE":(null==N?void 0:N.participantName)||"",C=null==h?void 0:h.seedValue;C&&(M+=" ("+C+")");var R=!M&&p&&(1===U||E&&0===g),O=c?{className:x()(d.participant,(r={},r[d.seededParticipant]=C,r))}:{className:x()(d.participant,(n={},n[d.seededParticipant]=C,n[d.readyToScore]=D&&!c||R,n[d.hoveredPrticipant]=!c,n)),width:"100%"},L={onClick:function(t){u({feedBottom:y,sideIndex:g,matchUp:v,e:t})},width:"100%",direction:"row",justify:"space-between"},k=E&&S;return i.createElement(T.Z,ya({container:!0},L,{wrap:"nowrap"}),i.createElement(T.Z,{container:!0,wrap:"nowrap"},i.createElement(T.Z,{item:!0,className:k&&d.sourceDrawPositionRange},k||""),i.createElement(T.Z,ya({item:!0},O),p&&M||f&&A)),i.createElement(T.Z,{item:!0},(null==N?void 0:N.displayInfo)||""))},wa=function(t){var e=t.column,n=t.nameFilter,r=t.contextData,a=t.displayOnly,o=t.eventHandlers,s=ma(),c=e.frames,u=e.round,d=e.matchUpHeight,l=e.firstMatchUpHeight,p=function(t){var e=t.e,n=t.feedBottom,i=t.matchUp,r=t.sideIndex;if("function"==typeof(null==o?void 0:o.onParticipantClick)){var a=(null==i?void 0:i.sides)&&(null==i?void 0:i.sides[r])||{},s=a.participant,c=a.drawPosition;o.onParticipantClick({e:e,feedBottom:n,matchUp:i,participant:s,drawPosition:c,sideIndex:r})}},f=function(t){var e=t.round,n=t.onRoundNameClick,a=t.onScheduleClick,o=e.finalMatchUp,c="connectors"!==e.columnType,u=c&&e.roundName,d=c&&e.roundNumber,l=u&&s.thickBorderBottom||s.noBoderBottom,p=function(t){t.stopPropagation(),"function"==typeof n&&n(ya({e:t,roundNumber:d},r,{isFinal:o}))},f={width:"100%",wrap:"nowrap",direction:"row",justify:"space-between",onClick:!o&&a?function(t){"function"==typeof a&&a(ya({e:t,roundNumber:d},r,{isFinal:o}))}:p,className:s.roundName+" "+l};return i.createElement(T.Z,ya({container:!0},f),i.createElement(T.Z,{item:!0,onClick:p},u||" "),i.createElement(T.Z,{item:!0},d&&a&&i.createElement(C.Z,{className:s.roundScheduleIcon})))},m=function(t){var e=t.round,n=t.scoreDetails,r=t.displayOnly,a=t.onClick,o=n||{},c=o.scoreString,u=o.sourceMatchUp,d=o.sideIndex,l=o.feedBottom,p="classic"===(null==e?void 0:e.columnType),f={onClick:function(t){!r&&a({matchUp:u,e:t,feedBottom:l,sideIndex:d})},className:s.score};return i.createElement("div",f,p&&c)},h=function(t){var e=t.frame,r=t.index,c=u.finalMatchUp,f="details"===(null==u?void 0:u.columnType),h=r&&e[0]||[],v=e[e.length-1],g=r&&1===e.length,y=r%2,I={style:{height:g?void 0:r?d:l},direction:"column",justify:f?"flex-end":"space-between",className:f&&s.detailsColumn||y&&!c&&s.borderRight||void 0},w=f?s.positionDetails:g?"":y?s.bracketBottom:s.bracketTop;return i.createElement(T.Z,{key:r,item:!0,className:w},i.createElement(T.Z,ya({container:!0},I),i.createElement(m,{round:u,onClick:null==o?void 0:o.onScoreClick,scoreDetails:h,displayOnly:a}),!g&&i.createElement(i.Fragment,null,i.createElement(Ia,{round:u,nameFilter:n,sideDetails:v,displayOnly:a,onClick:p}),f&&i.createElement("div",{style:{marginBlock:"1px"}}))))},v=function(t){var e=t.frames;return i.createElement(i.Fragment,null,e.map((function(t,e){return i.createElement(h,{frame:t,key:e,index:e})})))};return i.createElement("div",{style:{marginLeft:"4px"}},i.createElement(f,{onScheduleClick:null==o?void 0:o.onScheduleClick,onRoundNameClick:null==o?void 0:o.onRoundNameClick,round:u}),i.createElement(v,{frames:c}))};function ba(t){var e,n=ma(),r=t.eventData,a=t.eventHandlers,o=t.nameFilter,s=r.drawsData,c=r.eventInfo.eventId,u=t.drawId,d=t.structureId,l=null==s?void 0:s.find((function(t){return t.drawId===u})),p=ha({height:70,roundsDefinition:ga({roundMatchUps:((d?null==l||null==(e=l.structures)?void 0:e.find((function(t){return t.structureId===d})):(null==l?void 0:l.structures)&&l.structures[0])||{}).roundMatchUps,nameFilter:o}).roundsDefinition,nameFilter:o}),f={eventId:c,drawId:u,structureId:d},m=function(t){var e=t.column,r=t.columnIndex,s=e.round,c={details:"detailsColumn",divider:"verticalDivider",connectors:"connectorColumn",classic:1===s.roundNumber?"initialColumn":"roundColumn"},u="divider"===s.columnType,d=c[s.columnType],l=n[d],p="details"===(null==s?void 0:s.columnType)?"auto":void 0;return i.createElement(T.Z,{container:!0,direction:"column",key:r,className:l,style:{width:p}},!u&&i.createElement(wa,{column:e,nameFilter:o,contextData:f,eventHandlers:a}))};return i.createElement(T.Z,{container:!0,direction:"row",className:n.drawRoot},p.map((function(t,e){return i.createElement(m,{column:t,columnIndex:e,key:e})})))}var Na,Sa=(0,M.Z)((function(t){return{paper:{padding:t.spacing(2),marginBottom:t.spacing(3)},table:{minWidth:400},root:{padding:"0 16px 0 16px",fontFamily:"inherit"},body:{padding:"0 16px 0 16px"},head:{padding:"0 16px 0 16px"},groupName:{borderBottom:"2px solid #040E2C",fontWeight:"bold",maxWidth:30,fontSize:12,lineHeight:1.5,letterSpacing:.25,textTransform:"uppercase",whiteSpace:"nowrap"},drawPositions:{maxWidth:30},positions:{border:"solid 1px #e1e3e6",borderBottom:"2px solid #040E2C",minWidth:100,textTransform:"uppercase",fontSize:12,lineHeight:1.5,letterSpacing:.35},cellContent:{border:"solid 1px #e1e3e6",fontSize:12,lineHeight:1.5,letterSpacing:.35},loserContent:{border:"solid 1px #e1e3e6",fontSize:12,color:"red",lineHeight:1.5,letterSpacing:.35},byeContent:{border:"solid 1px #e1e3e6",background:"#FFFCE9 "},reflexiveContent:{border:"solid 1px #e1e3e6",background:"#e1e3e6"},contentContainer:{minWidth:"max-content"},centerContent:{justifyContent:"center"},valueHeader:{border:"solid 1px #e1e3e6",borderBottom:"2px solid #040E2C",textTransform:"uppercase",width:30,fontSize:12,lineHeight:1.5},centerValue:{justifyContent:"center",width:30},participantHeader:{borderBottom:"2px solid #040E2C",minWidth:100,fontWeight:"bold"},participantContainer:{"&:hover":{backgroundColor:"#edf4fc",cursor:"pointer"}},participantContent:{minWidth:100},tableContainer:{margin:"20px 0 30px 0"}}})),Pa=function(t){var e,n=t.component,r=t.row,a=t.colspan,o=void 0===a?1:a,s=Sa(),c=(null==n.getHeader?void 0:n.getHeader(r))||{},u=c.cellClassName,d=c.contentClassName;return i.createElement(f,{colSpan:o,key:n.key,onClick:function(t){null==n.headerClick||n.headerClick(t,r)},className:u,classes:{root:s.root,head:s.head}},i.createElement(T.Z,{container:!0,className:d},i.createElement(T.Z,{item:!0},(null==n.getHeader||null==(e=n.getHeader(r))?void 0:e.children)||"")))},Ea=function(t){var e,n=t.component,r=t.row,a=Sa(),o=(null==n.getValue?void 0:n.getValue(r))||{},s=o.cellClassName,c=o.contentClassName;return i.createElement(f,{key:n.key,onClick:function(t){null==n.onClick||n.onClick(t,r)},className:s,classes:{root:a.root,head:a.head}},i.createElement(T.Z,{container:!0,className:c},i.createElement(T.Z,{item:!0},(null==n.getValue||null==(e=n.getValue(r))?void 0:e.children)||"")))};function Ua(t){var e=Sa(),n=t.columnComponents,r=t.rowData;return i.createElement(h,{component:O.Z,className:e.tableContainer},i.createElement(y,{className:e.table,"aria-label":"groupTable"},i.createElement(N,null,i.createElement(P,null,n.map((function(t,e){var n=r.slice(0,1);return 1!==e&&i.createElement(Pa,{colspan:e?1:2,key:""+t.key+e,index:e,row:n&&n[0],component:t})})))),i.createElement(D,null,r.map((function(t,e){return i.createElement(P,{key:""+t.drawPosition+e},n.map((function(e,n){return i.createElement(Ea,{key:""+n+e.key,row:t,index:n,component:e})})))})))))}var Aa=null==fa?void 0:fa.matchUpStatusConstants,Da=Aa.RETIRED,Ma=Aa.WALKOVER,Ta=Aa.DOUBLE_WALKOVER,Ca=Aa.SUSPENDED,Ra=Aa.ABANDONED,xa=Aa.DEFAULTED,Oa=Aa.CANCELLED,La=Aa.INCOMPLETE,ka=Aa.NOT_PLAYED,Fa=Aa.DEAD_RUBBER,Za=((Na={})[Da]="RET",Na[Ma]="WO",Na[Ta]="WO/WO",Na[Ca]="SUS",Na[Ra]="Abandoned",Na[xa]="Def",Na[Oa]="Cancelled",Na[La]="Inc",Na[ka]="Not played",Na[Fa]="Dead rubber",Na);function _a(t){var e,n,r=t.contextData,a=t.dictionary,o=t.eventHandlers,s=t.rowData,c=Sa(),u=[{key:"drawPosition",getHeader:function(t){return{children:i.createElement(i.Fragment,null,(null==t?void 0:t.structureName)||""),cellClassName:c.groupName,contentClassName:""}},headerClick:function(t,e){if("function"==typeof(null==o?void 0:o.onHeaderClick)){var n=e.groupStructureId,i=e.structureName;o.onHeaderClick(ya({e:t},r,{groupStructureId:n,columnName:"structureName",structureName:i}))}},getValue:function(t){return{children:i.createElement(i.Fragment,null,null==t?void 0:t.drawPosition),cellClassName:c.drawPositions}},onClick:function(t,e){if("function"==typeof(null==o?void 0:o.onStatsClick)){var n=e||{},i=n.drawPosition,a=n.participant,s=n.participantResult;o.onStatsClick(ya({e:t,drawPosition:i,participant:a},r,{participantResult:s,columnName:"drawPosition"}))}}},{key:"participant",getHeader:function(){return{node:"",cellClassName:c.participantHeader}},getValue:function(t){var e,n=(null==t||null==(e=t.participant)?void 0:e.participantName)||(null==t?void 0:t.bye)&&"BYE"||"";return{children:i.createElement(T.Z,{container:!0,justify:"space-between"},i.createElement(T.Z,{item:!0},n)),cellClassName:!n&&c.participantContainer||"",contentClassName:c.participantContent}},onClick:function(t,e){var n=e||{},i=n.drawPosition,a=n.participant;"function"==typeof(null==o?void 0:o.onParticipantClick)&&o.onParticipantClick(ya({e:t,participant:a,drawPosition:i},r))}}],d=null==(e=s[0])||null==(n=e.positionColumns)?void 0:n.map((function(t,e){var n,i=null==t?void 0:t.bye,s=(null==t||null==(n=t.participant)?void 0:n.participantName)||i&&"BYE"||"",u=function(t,e){var n,i;return null==t||null==(n=t.sides)||null==(i=n.find((function(t){return t.drawPosition&&t.drawPosition===(null==e?void 0:e.drawPosition)})))?void 0:i.sideNumber};return{key:"drawPosition"+e.toString(),getHeader:function(){return{children:s,cellClassName:c.positions,contentClassName:c.centerContent}},headerClick:function(e){if("function"==typeof(null==o?void 0:o.onParticipantClick)){var n=t.participant,i=t.drawPosition;o.onParticipantClick(ya({e:e,drawPosition:i,participant:n},r))}},onClick:function(t,n){var i=(null==n?void 0:n.matchUps)&&(null==n?void 0:n.matchUps[e]),a=u(i,n);"function"==typeof(null==o?void 0:o.onScoreClick)&&o.onScoreClick(ya({e:t,matchUp:i,sideNumber:a},r))},getValue:function(n){var r=(null==n?void 0:n.matchUps)&&(null==n?void 0:n.matchUps[e]),o=function(t){var e,n,i=t.dictionary,r=t.matchUp,a=t.sideNumber,o=1===a?null==r||null==(e=r.score)?void 0:e.scoreStringSide1:2===a?null==r||null==(n=r.score)?void 0:n.scoreStringSide2:"",s=null==r?void 0:r.matchUpStatus,c=i&&i[s]||Za[s]||"",u=s===Ma,d=a&&(null==r?void 0:r.winningSide)&&r.winningSide!==a;return{contextScoreString:(o||"")+(c&&" "+c)+(u&&(d?" (-)":" (+)")||""),highlightLosingSide:d&&u}}({matchUp:r,sideNumber:u(r,n),dictionary:a}),s=o.contextScoreString,d=o.highlightLosingSide,l=(null==n?void 0:n.rowIndex)===t.rowIndex,p=i||n.bye,f=l?c.reflexiveContent:p?c.byeContent:d?c.loserContent:c.cellContent;return{matchUp:r,byeColumn:i,children:s||"",cellClassName:f,positionIndex:t.rowIndex,contentClassName:c.centerContent}}}}));return{columnComponents:[].concat(u,d,[{key:"winLoss",getHeader:function(){return{children:(null==a?void 0:a.winLoss)||"W/L",cellClassName:c.valueHeader,contentClassName:c.centerValue}},headerClick:function(t){console.log("winLossColumnClick"),"function"==typeof(null==o?void 0:o.onHeaderClick)&&o.onHeaderClick(ya({e:t,columnName:"winLoss"},r))},getValue:function(t){var e;return{children:i.createElement(T.Z,{container:!0,justify:"space-between"},i.createElement(T.Z,{item:!0},null==t||null==(e=t.participantResult)?void 0:e.result)),cellClassName:c.cellContent,contentClassName:c.centerValue}},onClick:function(t,e){if("function"==typeof(null==o?void 0:o.onStatsClick)){var n=e||{},i=n.drawPosition,a=n.participant,s=n.participantResult;o.onStatsClick(ya({e:t},r,{drawPosition:i,participant:a,participantResult:s,columnName:"winLoss"}))}}},{key:"finishingPosition",getHeader:function(){return{children:(null==a?void 0:a.finishingPosition)||"Pos",cellClassName:c.valueHeader,contentClassName:c.centerValue}},headerClick:function(t){console.log("finishingPositionColumnClick"),"function"==typeof(null==o?void 0:o.onHeaderClick)&&o.onHeaderClick(ya({e:t},r,{columnName:"finishingPosition"}))},getValue:function(t){var e;return{children:(null==t||null==(e=t.participantResult)?void 0:e.groupOrder)||"",cellClassName:c.cellContent,contentClassName:c.centerValue}},onClick:function(t,e){if("function"==typeof(null==o?void 0:o.onStatsClick)){var n=e||{},i=n.drawPosition,a=n.participant,s=n.participantResult;o.onStatsClick(ya({e:t,drawPosition:i,participant:a},r,{participantResult:s,columnName:"finishingPosition"}))}}}])}}function Ba(t){var e=Sa(),n=t.contextData,r=t.dictionary,a=t.rowData,o=_a({rowData:a,dictionary:r,contextData:n,eventHandlers:t.eventHandlers}).columnComponents;return i.createElement("div",{className:e.tableContainer},i.createElement(Ua,{columnData:[],rowData:a,columnComponents:o,data:a}))}function ja(t){var e,n=t.eventData,r=t.dictionary,a=t.eventHandlers,o=n.eventInfo.eventId,s=n.drawsData,c=t.drawId,u=t.structureId,d=null==s?void 0:s.find((function(t){return t.drawId===c})),l=(null==d||null==(e=d.structures)?void 0:e.find((function(t){return t.structureId===u})))||{},p=function(t){var e=t.roundMatchUps,n=t.participantResults,i=Object.values(e).flat().reduce((function(t,e){var n=(e||{}).structureId;return t[n]||(t[n]=[]),t[n].push(e),t}),{}),r=function(t){return t.reduce((function(t,e){return t+e}))},a=function(t,e){return r(t.drawPositions)-r(e.drawPositions)},o=function(t,e){return t-e};return{rows:Object.keys(i).map((function(t){var e,r=i[t],s=r&&(null==(e=r.find((function(t){return t.structureName})))?void 0:e.structureName),c=r.map((function(t){return t.sides})).flat(),u=r.reduce((function(t,e){var n;return null==(n=e.drawPositions)||n.forEach((function(e){t.includes(e)||t.push(e)})),t}),[]).sort(o).map((function(t,e){var i,o=c.find((function(e){return e.drawPosition===t}))||{},s=o.participant,u=o.bye,d=o.qualifier,l=null==(i=n.find((function(e){return e.drawPosition===t})))?void 0:i.participantResult,p=r.filter((function(e){return e.drawPositions.includes(t)})).sort(a);return p.splice(e,0,{reflexive:!0}),{drawPosition:t,matchUps:p,participant:s,participantResult:l,qualifier:d,bye:u,rowIndex:e}}));return[{groupStructureId:t,structureName:s,positionColumns:u.map((function(t,e){var n=t.drawPosition,i=t.participant,r=t.bye;return{drawPosition:n,participant:i,qualifier:t.qualifier,bye:r,rowIndex:e}}))}].concat(u)}))}}({roundMatchUps:l.roundMatchUps,participantResults:l.participantResults}).rows,f={drawId:c,eventId:o,structureId:u};return i.createElement(i.Fragment,null,p.map((function(t,e){return i.createElement(Ba,{rowData:t,key:"CHRRG-"+e,dictionary:r,contextData:f,eventHandlers:a})})))}function Ga(t){var e,n,r=t.dictionary,a=t.eventData,o=t.eventHandlers,s=t.nameFilter,c=null==a?void 0:a.drawsData,u=t.drawId,d=t.structureId;u||(u=(null==c?void 0:c.length)&&c[0].drawId);var l=null==c?void 0:c.find((function(t){return(null==t?void 0:t.drawId)===u}));d||(d=(null==l||null==(e=l.structures)?void 0:e.length)&&l.structures[0].structureId);var p=null==l||null==(n=l.structures)?void 0:n.find((function(t){return t.structureId===d})),f="CONTAINER"===(null==p?void 0:p.structureType),m={drawId:u,eventData:a,structureId:d,dictionary:r,eventHandlers:o,nameFilter:s};return i.createElement(i.Fragment,null,f?i.createElement(ja,m):i.createElement(ba,m))}},6749:function(t,e,n){"use strict";t.exports=n(412)},412:function(t,e){"use strict";const n={S:"normal",F:"final"};e.matchUpFormatCode=function(){const t={};function e(t){return"T"+t.minutes}function i(t){if(t&&"object"==typeof t){if(t.timed)return e(t);if(t.tiebreakSet)return r(t.tiebreakSet);const n=u(t.setTo);if(n){const e=t.NoAD?"NOAD":"",i=r(t.tiebreakFormat),a=i&&!i.invalid&&"/"+i||"",o=u(t.tiebreakAt),s=o&&o!==n&&"@"+o||"";return i&&i.invalid?{invalid:!0}:`${n}${e}${a}${s}`}return{invalid:!0}}}function r(t){if(t)return"object"!=typeof t||t.tiebreakTo?"object"==typeof t&&u(t.tiebreakTo)?`TB${t.tiebreakTo}${t.NoAD?"NOAD":""}`:{invalid:!0}:""}function a(t){if(t&&":"===t[1]){const e=t.split(":"),i=e[1];if(n[e[0]]&&i){if(0===i.indexOf("TB"))return{tiebreakSet:o(i)};if(0===i.indexOf("T"))return s(i);const e=t.match(/^[FS]{1}:(\d+)([A-Za-z]*)/),n=e&&c(e[2])||!1,r=!e||!e[2]||n,a=e&&u(e[1]),d=function(t){const e=t&&t.indexOf("@")>0&&t.split("@");if(e)return u(e[1])||{invalid:!0}}(i),l=!d||d&&!d.invalid,p=l&&d||a,f=o(i.split("/")[1]),m=!f||!f.invalid,h={setTo:a};return n&&(h.NoAD=!0),f?(h.tiebreakFormat=f,h.tiebreakAt=p):h.noTiebreak=!0,a&&r&&m&&l&&h||{invalid:!0}}}}function o(t){if(t){if(0===t.indexOf("TB")){const e=t.match(/^TB(\d+)([A-Za-z]*)/),n=e&&e[1],i=e&&c(e[2]),r=!e||!e[2]||i,a=u(n);if(a&&r){const t={tiebreakTo:a};return i&&(t.NoAD=!0),t}return{invalid:!0}}return{invalid:!0}}}function s(t){const e=u(t.slice(1));if(e)return{timed:!0,minutes:e}}function c(t){return t&&t.indexOf("NOAD")>=0}function u(t){return!isNaN(Number(t))&&Number(t)}return t.stringify=t=>{if(t&&"object"==typeof t){if(t.timed&&!isNaN(t.minutes))return e(t);if(t.bestOf&&t.setFormat)return function(t){const e=u(t.bestOf),n=e&&"SET"+e||"",r=i(t.setFormat),a=r&&"S:"+r||"",o=i(t.finalSetFormat);if(n&&r&&!r.invalid&&(!o||!o.invalid))return[n,a,e>1&&o&&!o.invalid&&"F:"+o||""].filter((t=>t)).join("-")}(t)}},t.parse=t=>{if(t&&"string"==typeof t){const e=0===t.indexOf("T")?"timed":0===t.indexOf("SET")?"SET":"";if("timed"===e){const e={bestOf:1,setFormat:s(t)};if(e.setFormat)return e}if("SET"===e)return function(t){const e=t.split("-"),n=u(e[0].slice(3)),i=e&&a(e[1]),r=e&&a(e[2]),o=n&&n<6,s=!e[2]||r&&!r.invalid,c=i&&!i.invalid,d={bestOf:n,setFormat:i};if(r&&(d.finalSetFormat=r),o&&c&&s)return d}(t)}},t.isValidMatchUpFormat=e=>t.stringify(t.parse(e))===e,t}()}}]);