/*! For license information please see 925.d215be4e.js.LICENSE.txt */
(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[925],{9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},3349:function(e,t,n){"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return i}})},6610:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return i}})},5991:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,{Z:function(){return r}})},6156:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return i}})},1253:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(9756);function r(e,t){if(null==e)return{};var n,r,a=(0,i.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},4699:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(2961);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}}(e,t)||(0,i.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7329:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(676);var r=n(2961);function a(e){return function(e){if(Array.isArray(e))return(0,i.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||(0,r.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},484:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return i}})},1658:function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,t.apply(this,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},862:function(e,t,n){var i=n(8).default;function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n},e.exports.default=e.exports,e.exports.__esModule=!0},6479:function(e,t,n){var i=n(7316);e.exports=function(e,t){if(null==e)return{};var n,r,a=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.default=e.exports,e.exports.__esModule=!0},7316:function(e){e.exports=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r},e.exports.default=e.exports,e.exports.__esModule=!0},8:function(e){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},3259:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};t.default=n},515:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={black:"#000",white:"#fff"};t.default=n},7559:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};t.default=n},167:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};t.default=n},8768:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};t.default=n},6594:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};t.default=n},124:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};t.default=n},3165:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};t.default=n},2014:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var i=n(119),r=n(5680),a=n(9424),o=n(962),s=n(3633),c=n(6427),u=n(3939),d=n(5164),l=n(958),p=n(6801),f=n(8681),m=n(9560),h=n(2122),v=n(9699),g=n(6798),y=function(e){var t=(0,v.Z)(e);return function(e,n){return t(e,(0,h.Z)({defaultTheme:g.Z},n))}},I=(0,i.Z)((0,r.Z)(a.ZP,o.ZP,s.ZP,c.ZP,u.ZP,d.ZP,l.Z,p.ZP,f.Z,m.ZP)),b=y("div")(I,{name:"MuiBox"})},4720:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var i=n(2122),r=n(1253),a=n(7294),o=(n(5697),n(3935)),s=n(6010),c=n(3834),u=n(5192),d=n(2543),l=n(4896),p=n(7329),f=n(9756),m=n(3349),h=n(3552),v=n(220);function g(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,a.isValidElement)(e)?t(e):e}(e)})),n}function y(e,t,n){return null!=n[t]?n[t]:e.props[t]}function I(e,t,n){var i=g(e.children),r=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),a=[];for(var o in e)o in t?a.length&&(r[o]=a,a=[]):a.push(o);var s={};for(var c in t){if(r[c])for(i=0;i<r[c].length;i++){var u=r[c][i];s[r[c][i]]=n(u)}s[c]=n(c)}for(i=0;i<a.length;i++)s[a[i]]=n(a[i]);return s}(t,i);return Object.keys(r).forEach((function(o){var s=r[o];if((0,a.isValidElement)(s)){var c=o in t,u=o in i,d=t[o],l=(0,a.isValidElement)(d)&&!d.props.in;!u||c&&!l?u||!c||l?u&&c&&(0,a.isValidElement)(d)&&(r[o]=(0,a.cloneElement)(s,{onExited:n.bind(null,s),in:d.props.in,exit:y(s,"exit",e),enter:y(s,"enter",e)})):r[o]=(0,a.cloneElement)(s,{in:!1}):r[o]=(0,a.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:y(s,"exit",e),enter:y(s,"enter",e)})}})),r}var b=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},w=function(e){function t(t,n){var i,r=(i=e.call(this,t,n)||this).handleExited.bind((0,m.Z)(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}(0,h.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,i,r=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,i=o,g(n.children,(function(e){return(0,a.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:y(e,"appear",n),enter:y(e,"enter",n),exit:y(e,"exit",n)})}))):I(e,r,o),firstRender:!1}},n.handleExited=function(e,t){var n=g(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,i.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=(0,f.Z)(e,["component","childFactory"]),r=this.state.contextValue,o=b(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?a.createElement(v.Z.Provider,{value:r},o):a.createElement(v.Z.Provider,{value:r},a.createElement(t,i,o))},t}(a.Component);w.propTypes={},w.defaultProps={component:"div",childFactory:function(e){return e}};var S=w,N="undefined"==typeof window?a.useEffect:a.useLayoutEffect;var P=function(e){var t=e.classes,n=e.pulsate,i=void 0!==n&&n,r=e.rippleX,o=e.rippleY,c=e.rippleSize,d=e.in,l=e.onExited,p=void 0===l?function(){}:l,f=e.timeout,m=a.useState(!1),h=m[0],v=m[1],g=(0,s.Z)(t.ripple,t.rippleVisible,i&&t.ripplePulsate),y={width:c,height:c,top:-c/2+o,left:-c/2+r},I=(0,s.Z)(t.child,h&&t.childLeaving,i&&t.childPulsate),b=(0,u.Z)(p);return N((function(){if(!d){v(!0);var e=setTimeout(b,f);return function(){clearTimeout(e)}}}),[b,d,f]),a.createElement("span",{className:g,style:y},a.createElement("span",{className:I}))},U=a.forwardRef((function(e,t){var n=e.center,o=void 0!==n&&n,c=e.classes,u=e.className,d=(0,r.Z)(e,["center","classes","className"]),l=a.useState([]),f=l[0],m=l[1],h=a.useRef(0),v=a.useRef(null);a.useEffect((function(){v.current&&(v.current(),v.current=null)}),[f]);var g=a.useRef(!1),y=a.useRef(null),I=a.useRef(null),b=a.useRef(null);a.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var w=a.useCallback((function(e){var t=e.pulsate,n=e.rippleX,i=e.rippleY,r=e.rippleSize,o=e.cb;m((function(e){return[].concat((0,p.Z)(e),[a.createElement(P,{key:h.current,classes:c,timeout:550,pulsate:t,rippleX:n,rippleY:i,rippleSize:r})])})),h.current+=1,v.current=o}),[c]),N=a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=t.pulsate,r=void 0!==i&&i,a=t.center,s=void 0===a?o||t.pulsate:a,c=t.fakeElement,u=void 0!==c&&c;if("mousedown"===e.type&&g.current)g.current=!1;else{"touchstart"===e.type&&(g.current=!0);var d,l,p,f=u?null:b.current,m=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)d=Math.round(m.width/2),l=Math.round(m.height/2);else{var h=e.touches?e.touches[0]:e,v=h.clientX,S=h.clientY;d=Math.round(v-m.left),l=Math.round(S-m.top)}if(s)(p=Math.sqrt((2*Math.pow(m.width,2)+Math.pow(m.height,2))/3))%2==0&&(p+=1);else{var N=2*Math.max(Math.abs((f?f.clientWidth:0)-d),d)+2,P=2*Math.max(Math.abs((f?f.clientHeight:0)-l),l)+2;p=Math.sqrt(Math.pow(N,2)+Math.pow(P,2))}e.touches?null===I.current&&(I.current=function(){w({pulsate:r,rippleX:d,rippleY:l,rippleSize:p,cb:n})},y.current=setTimeout((function(){I.current&&(I.current(),I.current=null)}),80)):w({pulsate:r,rippleX:d,rippleY:l,rippleSize:p,cb:n})}}),[o,w]),U=a.useCallback((function(){N({},{pulsate:!0})}),[N]),D=a.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&I.current)return e.persist(),I.current(),I.current=null,void(y.current=setTimeout((function(){D(e,t)})));I.current=null,m((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return a.useImperativeHandle(t,(function(){return{pulsate:U,start:N,stop:D}}),[U,N,D]),a.createElement("span",(0,i.Z)({className:(0,s.Z)(c.root,u),ref:b},d),a.createElement(S,{component:null,exit:!0},f))})),D=(0,d.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(a.memo(U)),T=a.forwardRef((function(e,t){var n=e.action,d=e.buttonRef,p=e.centerRipple,f=void 0!==p&&p,m=e.children,h=e.classes,v=e.className,g=e.component,y=void 0===g?"button":g,I=e.disabled,b=void 0!==I&&I,w=e.disableRipple,S=void 0!==w&&w,N=e.disableTouchRipple,P=void 0!==N&&N,U=e.focusRipple,T=void 0!==U&&U,C=e.focusVisibleClassName,E=e.onBlur,A=e.onClick,M=e.onFocus,R=e.onFocusVisible,x=e.onKeyDown,O=e.onKeyUp,k=e.onMouseDown,F=e.onMouseLeave,L=e.onMouseUp,Z=e.onTouchEnd,_=e.onTouchMove,j=e.onTouchStart,B=e.onDragLeave,V=e.tabIndex,G=void 0===V?0:V,H=e.TouchRippleProps,W=e.type,z=void 0===W?"button":W,K=(0,r.Z)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),q=a.useRef(null);var Y=a.useRef(null),$=a.useState(!1),J=$[0],Q=$[1];b&&J&&Q(!1);var X=(0,l.Z)(),ee=X.isFocusVisible,te=X.onBlurVisible,ne=X.ref;function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;return(0,u.Z)((function(i){return t&&t(i),!n&&Y.current&&Y.current[e](i),!0}))}a.useImperativeHandle(n,(function(){return{focusVisible:function(){Q(!0),q.current.focus()}}}),[]),a.useEffect((function(){J&&T&&!S&&Y.current.pulsate()}),[S,T,J]);var re=ie("start",k),ae=ie("stop",B),oe=ie("stop",L),se=ie("stop",(function(e){J&&e.preventDefault(),F&&F(e)})),ce=ie("start",j),ue=ie("stop",Z),de=ie("stop",_),le=ie("stop",(function(e){J&&(te(e),Q(!1)),E&&E(e)}),!1),pe=(0,u.Z)((function(e){q.current||(q.current=e.currentTarget),ee(e)&&(Q(!0),R&&R(e)),M&&M(e)})),fe=function(){var e=o.findDOMNode(q.current);return y&&"button"!==y&&!("A"===e.tagName&&e.href)},me=a.useRef(!1),he=(0,u.Z)((function(e){T&&!me.current&&J&&Y.current&&" "===e.key&&(me.current=!0,e.persist(),Y.current.stop(e,(function(){Y.current.start(e)}))),e.target===e.currentTarget&&fe()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&fe()&&"Enter"===e.key&&!b&&(e.preventDefault(),A&&A(e))})),ve=(0,u.Z)((function(e){T&&" "===e.key&&Y.current&&J&&!e.defaultPrevented&&(me.current=!1,e.persist(),Y.current.stop(e,(function(){Y.current.pulsate(e)}))),O&&O(e),A&&e.target===e.currentTarget&&fe()&&" "===e.key&&!e.defaultPrevented&&A(e)})),ge=y;"button"===ge&&K.href&&(ge="a");var ye={};"button"===ge?(ye.type=z,ye.disabled=b):("a"===ge&&K.href||(ye.role="button"),ye["aria-disabled"]=b);var Ie=(0,c.Z)(d,t),be=(0,c.Z)(ne,q),we=(0,c.Z)(Ie,be),Se=a.useState(!1),Ne=Se[0],Pe=Se[1];a.useEffect((function(){Pe(!0)}),[]);var Ue=Ne&&!S&&!b;return a.createElement(ge,(0,i.Z)({className:(0,s.Z)(h.root,v,J&&[h.focusVisible,C],b&&h.disabled),onBlur:le,onClick:A,onFocus:pe,onKeyDown:he,onKeyUp:ve,onMouseDown:re,onMouseLeave:se,onMouseUp:oe,onDragLeave:ae,onTouchEnd:ue,onTouchMove:de,onTouchStart:ce,ref:we,tabIndex:b?-1:G},ye,K),m,Ue?a.createElement(D,(0,i.Z)({ref:Y,center:f},H)):null)})),C=(0,d.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(T)},9446:function(e,t,n){"use strict";var i=n(2122),r=n(1253),a=n(7294),o=(n(5697),n(6010)),s=n(4741),c=n(2543),u=a.forwardRef((function(e,t){var n=e.disableUnderline,c=e.classes,u=e.fullWidth,d=void 0!==u&&u,l=e.inputComponent,p=void 0===l?"input":l,f=e.multiline,m=void 0!==f&&f,h=e.type,v=void 0===h?"text":h,g=(0,r.Z)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(s.Z,(0,i.Z)({classes:(0,i.Z)({},c,{root:(0,o.Z)(c.root,!n&&c.underline),underline:null}),fullWidth:d,inputComponent:p,multiline:m,ref:t,type:v},g))}));u.muiName="Input",t.Z=(0,c.Z)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:i,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:i}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(u)},5736:function(e,t,n){"use strict";n.d(t,{Y:function(){return a}});var i=n(7294),r=i.createContext();function a(){return i.useContext(r)}t.Z=r},9345:function(e,t,n){"use strict";function i(e){var t=e.props,n=e.states,i=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],i&&void 0===t[n]&&(e[n]=i[n]),e}),{})}n.d(t,{Z:function(){return i}})},2601:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(7294),r=n(5736);function a(){return i.useContext(r.Z)}},1749:function(e,t,n){"use strict";var i=n(1253),r=n(2122),a=n(7294),o=(n(5697),n(6010)),s=n(2543),c=[0,1,2,3,4,5,6,7,8,9,10],u=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var l=a.forwardRef((function(e,t){var n=e.alignContent,s=void 0===n?"stretch":n,c=e.alignItems,u=void 0===c?"stretch":c,d=e.classes,l=e.className,p=e.component,f=void 0===p?"div":p,m=e.container,h=void 0!==m&&m,v=e.direction,g=void 0===v?"row":v,y=e.item,I=void 0!==y&&y,b=e.justify,w=void 0===b?"flex-start":b,S=e.lg,N=void 0!==S&&S,P=e.md,U=void 0!==P&&P,D=e.sm,T=void 0!==D&&D,C=e.spacing,E=void 0===C?0:C,A=e.wrap,M=void 0===A?"wrap":A,R=e.xl,x=void 0!==R&&R,O=e.xs,k=void 0!==O&&O,F=e.zeroMinWidth,L=void 0!==F&&F,Z=(0,i.Z)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),_=(0,o.Z)(d.root,l,h&&[d.container,0!==E&&d["spacing-xs-".concat(String(E))]],I&&d.item,L&&d.zeroMinWidth,"row"!==g&&d["direction-xs-".concat(String(g))],"wrap"!==M&&d["wrap-xs-".concat(String(M))],"stretch"!==u&&d["align-items-xs-".concat(String(u))],"stretch"!==s&&d["align-content-xs-".concat(String(s))],"flex-start"!==w&&d["justify-xs-".concat(String(w))],!1!==k&&d["grid-xs-".concat(String(k))],!1!==T&&d["grid-sm-".concat(String(T))],!1!==U&&d["grid-md-".concat(String(U))],!1!==N&&d["grid-lg-".concat(String(N))],!1!==x&&d["grid-xl-".concat(String(x))]);return a.createElement(f,(0,r.Z)({className:_,ref:t},Z))})),p=(0,s.Z)((function(e){return(0,r.Z)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return c.forEach((function(i){var r=e.spacing(i);0!==r&&(n["spacing-".concat(t,"-").concat(i)]={margin:"-".concat(d(r,2)),width:"calc(100% + ".concat(d(r),")"),"& > $item":{padding:d(r,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var i={};u.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");i[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else i[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else i[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,r.Z)(e,i):e[t.breakpoints.up(n)]=i}(t,e,n),t}),{}))}),{name:"MuiGrid"})(l);t.Z=p},8799:function(e,t,n){"use strict";var i=n(2122),r=n(1253),a=n(7294),o=(n(5697),n(6010)),s=n(4741),c=n(2543),u=a.forwardRef((function(e,t){var n=e.disableUnderline,c=e.classes,u=e.fullWidth,d=void 0!==u&&u,l=e.inputComponent,p=void 0===l?"input":l,f=e.multiline,m=void 0!==f&&f,h=e.type,v=void 0===h?"text":h,g=(0,r.Z)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(s.Z,(0,i.Z)({classes:(0,i.Z)({},c,{root:(0,o.Z)(c.root,!n&&c.underline),underline:null}),fullWidth:d,inputComponent:p,multiline:m,ref:t,type:v},g))}));u.muiName="Input",t.Z=(0,c.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(u)},4741:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var i=n(1253),r=n(2122),a=n(288),o=n(7294),s=(n(5697),n(6010)),c=n(9345),u=n(5736),d=n(2543),l=n(3871),p=n(3834),f=n(9437);function m(e,t){return parseInt(e[t],10)||0}var h="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,v={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},g=o.forwardRef((function(e,t){var n=e.onChange,a=e.rows,s=e.rowsMax,c=e.rowsMin,u=void 0===c?1:c,d=e.style,l=e.value,g=(0,i.Z)(e,["onChange","rows","rowsMax","rowsMin","style","value"]),y=a||u,I=o.useRef(null!=l).current,b=o.useRef(null),w=(0,p.Z)(t,b),S=o.useRef(null),N=o.useRef(0),P=o.useState({}),U=P[0],D=P[1],T=o.useCallback((function(){var t=b.current,n=window.getComputedStyle(t),i=S.current;i.style.width=n.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");var r=n["box-sizing"],a=m(n,"padding-bottom")+m(n,"padding-top"),o=m(n,"border-bottom-width")+m(n,"border-top-width"),c=i.scrollHeight-a;i.value="x";var u=i.scrollHeight-a,d=c;y&&(d=Math.max(Number(y)*u,d)),s&&(d=Math.min(Number(s)*u,d));var l=(d=Math.max(d,u))+("border-box"===r?a+o:0),p=Math.abs(d-c)<=1;D((function(e){return N.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==p)?(N.current+=1,{overflow:p,outerHeightStyle:l}):e}))}),[s,y,e.placeholder]);o.useEffect((function(){var e=(0,f.Z)((function(){N.current=0,T()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[T]),h((function(){T()})),o.useEffect((function(){N.current=0}),[l]);return o.createElement(o.Fragment,null,o.createElement("textarea",(0,r.Z)({value:l,onChange:function(e){N.current=0,I||T(),n&&n(e)},ref:w,rows:y,style:(0,r.Z)({height:U.outerHeightStyle,overflow:U.overflow?"hidden":null},d)},g)),o.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:S,tabIndex:-1,style:(0,r.Z)({},v,d)}))})),y=n(6519),I="undefined"==typeof window?o.useEffect:o.useLayoutEffect,b=o.forwardRef((function(e,t){var n=e["aria-describedby"],d=e.autoComplete,f=e.autoFocus,m=e.classes,h=e.className,v=(e.color,e.defaultValue),b=e.disabled,w=e.endAdornment,S=(e.error,e.fullWidth),N=void 0!==S&&S,P=e.id,U=e.inputComponent,D=void 0===U?"input":U,T=e.inputProps,C=void 0===T?{}:T,E=e.inputRef,A=(e.margin,e.multiline),M=void 0!==A&&A,R=e.name,x=e.onBlur,O=e.onChange,k=e.onClick,F=e.onFocus,L=e.onKeyDown,Z=e.onKeyUp,_=e.placeholder,j=e.readOnly,B=e.renderSuffix,V=e.rows,G=e.rowsMax,H=e.rowsMin,W=e.startAdornment,z=e.type,K=void 0===z?"text":z,q=e.value,Y=(0,i.Z)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),$=null!=C.value?C.value:q,J=o.useRef(null!=$).current,Q=o.useRef(),X=o.useCallback((function(e){0}),[]),ee=(0,p.Z)(C.ref,X),te=(0,p.Z)(E,ee),ne=(0,p.Z)(Q,te),ie=o.useState(!1),re=ie[0],ae=ie[1],oe=(0,u.Y)();var se=(0,c.Z)({props:e,muiFormControl:oe,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});se.focused=oe?oe.focused:re,o.useEffect((function(){!oe&&b&&re&&(ae(!1),x&&x())}),[oe,b,re,x]);var ce=oe&&oe.onFilled,ue=oe&&oe.onEmpty,de=o.useCallback((function(e){(0,y.vd)(e)?ce&&ce():ue&&ue()}),[ce,ue]);I((function(){J&&de({value:$})}),[$,de,J]);o.useEffect((function(){de(Q.current)}),[]);var le=D,pe=(0,r.Z)({},C,{ref:ne});"string"!=typeof le?pe=(0,r.Z)({inputRef:ne,type:K},pe,{ref:null}):M?!V||G||H?(pe=(0,r.Z)({rows:V,rowsMax:G},pe),le=g):le="textarea":pe=(0,r.Z)({type:K},pe);return o.useEffect((function(){oe&&oe.setAdornedStart(Boolean(W))}),[oe,W]),o.createElement("div",(0,r.Z)({className:(0,s.Z)(m.root,m["color".concat((0,l.Z)(se.color||"primary"))],h,se.disabled&&m.disabled,se.error&&m.error,N&&m.fullWidth,se.focused&&m.focused,oe&&m.formControl,M&&m.multiline,W&&m.adornedStart,w&&m.adornedEnd,"dense"===se.margin&&m.marginDense),onClick:function(e){Q.current&&e.currentTarget===e.target&&Q.current.focus(),k&&k(e)},ref:t},Y),W,o.createElement(u.Z.Provider,{value:null},o.createElement(le,(0,r.Z)({"aria-invalid":se.error,"aria-describedby":n,autoComplete:d,autoFocus:f,defaultValue:v,disabled:se.disabled,id:P,onAnimationStart:function(e){de("mui-auto-fill-cancel"===e.animationName?Q.current:{value:"x"})},name:R,placeholder:_,readOnly:j,required:se.required,rows:V,value:$,onKeyDown:L,onKeyUp:Z},pe,{className:(0,s.Z)(m.input,C.className,se.disabled&&m.disabled,M&&m.inputMultiline,se.hiddenLabel&&m.inputHiddenLabel,W&&m.inputAdornedStart,w&&m.inputAdornedEnd,"search"===K&&m.inputTypeSearch,"dense"===se.margin&&m.inputMarginDense),onBlur:function(e){x&&x(e),C.onBlur&&C.onBlur(e),oe&&oe.onBlur?oe.onBlur(e):ae(!1)},onChange:function(e){if(!J){var t=e.target||Q.current;if(null==t)throw new Error((0,a.Z)(1));de({value:t.value})}for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];C.onChange&&C.onChange.apply(C,[e].concat(i)),O&&O.apply(void 0,[e].concat(i))},onFocus:function(e){se.disabled?e.stopPropagation():(F&&F(e),C.onFocus&&C.onFocus(e),oe&&oe.onFocus?oe.onFocus(e):ae(!0))}}))),w,B?B((0,r.Z)({},se,{startAdornment:W})):null)})),w=(0,d.Z)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},a={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,r.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(b)},6519:function(e,t,n){"use strict";function i(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(i(e.value)&&""!==e.value||t&&i(e.defaultValue)&&""!==e.defaultValue)}function a(e){return e.startAdornment}n.d(t,{vd:function(){return r},B7:function(){return a}})},6987:function(e,t,n){"use strict";var i=n(7294).createContext({});t.Z=i},6775:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var i=n(1253),r=n(6156),a=n(2122),o=n(7294),s=(n(5697),n(6010)),c=n(2543),u=n(4720),d=n(3711),l=n(3834),p=n(6987),f=n(3935),m="undefined"==typeof window?o.useEffect:o.useLayoutEffect,h=o.forwardRef((function(e,t){var n=e.alignItems,r=void 0===n?"center":n,c=e.autoFocus,h=void 0!==c&&c,v=e.button,g=void 0!==v&&v,y=e.children,I=e.classes,b=e.className,w=e.component,S=e.ContainerComponent,N=void 0===S?"li":S,P=e.ContainerProps,U=(P=void 0===P?{}:P).className,D=(0,i.Z)(P,["className"]),T=e.dense,C=void 0!==T&&T,E=e.disabled,A=void 0!==E&&E,M=e.disableGutters,R=void 0!==M&&M,x=e.divider,O=void 0!==x&&x,k=e.focusVisibleClassName,F=e.selected,L=void 0!==F&&F,Z=(0,i.Z)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),_=o.useContext(p.Z),j={dense:C||_.dense||!1,alignItems:r},B=o.useRef(null);m((function(){h&&B.current&&B.current.focus()}),[h]);var V=o.Children.toArray(y),G=V.length&&(0,d.Z)(V[V.length-1],["ListItemSecondaryAction"]),H=o.useCallback((function(e){B.current=f.findDOMNode(e)}),[]),W=(0,l.Z)(H,t),z=(0,a.Z)({className:(0,s.Z)(I.root,b,j.dense&&I.dense,!R&&I.gutters,O&&I.divider,A&&I.disabled,g&&I.button,"center"!==r&&I.alignItemsFlexStart,G&&I.secondaryAction,L&&I.selected),disabled:A},Z),K=w||"li";return g&&(z.component=w||"div",z.focusVisibleClassName=(0,s.Z)(I.focusVisible,k),K=u.Z),G?(K=z.component||w?K:"div","li"===N&&("li"===K?K="div":"li"===z.component&&(z.component="div")),o.createElement(p.Z.Provider,{value:j},o.createElement(N,(0,a.Z)({className:(0,s.Z)(I.container,U),ref:W},D),o.createElement(K,z,V),V.pop()))):o.createElement(p.Z.Provider,{value:j},o.createElement(K,(0,a.Z)({ref:W},z),V))})),v=(0,c.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(h),g=o.forwardRef((function(e,t){var n,r=e.classes,c=e.className,u=e.component,d=void 0===u?"li":u,l=e.disableGutters,p=void 0!==l&&l,f=e.ListItemClasses,m=e.role,h=void 0===m?"menuitem":m,g=e.selected,y=e.tabIndex,I=(0,i.Z)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==y?y:-1),o.createElement(v,(0,a.Z)({button:!0,role:h,tabIndex:n,component:d,selected:g,disableGutters:p,classes:(0,a.Z)({dense:r.dense},f),className:(0,s.Z)(r.root,c,g&&r.selected,!p&&r.gutters),ref:t},I))})),y=(0,c.Z)((function(e){return{root:(0,a.Z)({},e.typography.body1,(0,r.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,a.Z)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(g)},6718:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(2122),r=n(1253),a=n(7294),o=(n(5697),n(6010)),s=n(4741),c=n(6156),u=n(2543),d=n(1041),l=n(3871),p=a.forwardRef((function(e,t){e.children;var n=e.classes,s=e.className,u=e.label,p=e.labelWidth,f=e.notched,m=e.style,h=(0,r.Z)(e,["children","classes","className","label","labelWidth","notched","style"]),v="rtl"===(0,d.Z)().direction?"right":"left";if(void 0!==u)return a.createElement("fieldset",(0,i.Z)({"aria-hidden":!0,className:(0,o.Z)(n.root,s),ref:t,style:m},h),a.createElement("legend",{className:(0,o.Z)(n.legendLabelled,f&&n.legendNotched)},u?a.createElement("span",null,u):a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var g=p>0?.75*p+8:.01;return a.createElement("fieldset",(0,i.Z)({"aria-hidden":!0,style:(0,i.Z)((0,c.Z)({},"padding".concat((0,l.Z)(v)),8),m),className:(0,o.Z)(n.root,s),ref:t},h),a.createElement("legend",{className:n.legend,style:{width:f?g:.01}},a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),f=(0,u.Z)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(p),m=a.forwardRef((function(e,t){var n=e.classes,c=e.fullWidth,u=void 0!==c&&c,d=e.inputComponent,l=void 0===d?"input":d,p=e.label,m=e.labelWidth,h=void 0===m?0:m,v=e.multiline,g=void 0!==v&&v,y=e.notched,I=e.type,b=void 0===I?"text":I,w=(0,r.Z)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return a.createElement(s.Z,(0,i.Z)({renderSuffix:function(e){return a.createElement(f,{className:n.notchedOutline,label:p,labelWidth:h,notched:void 0!==y?y:Boolean(e.startAdornment||e.filled||e.focused)})},classes:(0,i.Z)({},n,{root:(0,o.Z)(n.root,n.underline),notchedOutline:null}),fullWidth:u,inputComponent:l,multiline:g,ref:t,type:b},w))}));m.muiName="Input";var h=(0,u.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(m)},9895:function(e,t,n){"use strict";var i=n(1253),r=n(2122),a=n(7294),o=(n(5697),n(6010)),s=n(2543),c=a.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.component,u=void 0===c?"div":c,d=e.square,l=void 0!==d&&d,p=e.elevation,f=void 0===p?1:p,m=e.variant,h=void 0===m?"elevation":m,v=(0,i.Z)(e,["classes","className","component","square","elevation","variant"]);return a.createElement(u,(0,r.Z)({className:(0,o.Z)(n.root,s,"outlined"===h?n.outlined:n["elevation".concat(f)],!l&&n.rounded),ref:t},v))}));t.Z=(0,s.Z)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,r.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(c)},7042:function(e,t,n){"use strict";n.d(t,{Z:function(){return Ge}});var i=n(2122),r=n(1253),a=n(7294),o=(n(5697),n(5835)),s=n(4699),c=n(484),u=n(288),d=(n(9864),n(6010)),l=n(626),p=n(3871),f=n(2543),m=n(3935),h=n(9437),v=n(713),g=n(2568),y=n(159),I=n(3869),b=n(4236),w=n(3834);var S="undefined"!=typeof window?a.useLayoutEffect:a.useEffect;var N=a.forwardRef((function(e,t){var n=e.children,i=e.container,r=e.disablePortal,o=void 0!==r&&r,s=e.onRendered,c=a.useState(null),u=c[0],d=c[1],l=(0,w.Z)(a.isValidElement(n)?n.ref:null,t);return S((function(){o||d(function(e){return e="function"==typeof e?e():e,m.findDOMNode(e)}(i)||document.body)}),[i,o]),S((function(){if(u&&!o)return(0,b.Z)(t,u),function(){(0,b.Z)(t,null)}}),[t,u,o]),S((function(){s&&(u||o)&&s()}),[s,u,o]),o?a.isValidElement(n)?a.cloneElement(n,{ref:l}):n:u?m.createPortal(n,u):u})),P=n(5192),U=n(2781),D=n(6610),T=n(5991),C=n(7329);function E(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function A(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function M(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function R(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4?arguments[4]:void 0,a=[t,n].concat((0,C.Z)(i)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&A(e,r)}))}function x(e,t){var n=-1;return e.some((function(e,i){return!!t(e)&&(n=i,!0)})),n}function O(e,t){var n,i=[],r=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,l.Z)(e);return t.body===e?(0,v.Z)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=E();i.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(M(a)+o,"px"),n=(0,l.Z)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){r.push(e.style.paddingRight),e.style.paddingRight="".concat(M(e)+o,"px")}))}var s=a.parentElement,c="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:a;i.push({value:c.style.overflow,key:"overflow",el:c}),c.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){r[t]?e.style.paddingRight=r[t]:e.style.removeProperty("padding-right")})),i.forEach((function(e){var t=e.value,n=e.el,i=e.key;t?n.style.setProperty(i,t):n.style.removeProperty(i)}))}}var k=function(){function e(){(0,D.Z)(this,e),this.modals=[],this.containers=[]}return(0,T.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&A(e.modalRef,!1);var i=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);R(t,e.mountNode,e.modalRef,i,!0);var r=x(this.containers,(function(e){return e.container===t}));return-1!==r?(this.containers[r].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:i}),n)}},{key:"mount",value:function(e,t){var n=x(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[n];i.restore||(i.restore=O(i,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=x(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[n];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(t,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&A(e.modalRef,!0),R(i.container,e.mountNode,e.modalRef,i.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var r=i.modals[i.modals.length-1];r.modalRef&&A(r.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var F=function(e){var t=e.children,n=e.disableAutoFocus,i=void 0!==n&&n,r=e.disableEnforceFocus,o=void 0!==r&&r,s=e.disableRestoreFocus,c=void 0!==s&&s,u=e.getDoc,d=e.isEnabled,p=e.open,f=a.useRef(),h=a.useRef(null),v=a.useRef(null),g=a.useRef(),y=a.useRef(null),I=a.useCallback((function(e){y.current=m.findDOMNode(e)}),[]),b=(0,w.Z)(t.ref,I),S=a.useRef();return a.useEffect((function(){S.current=p}),[p]),!S.current&&p&&"undefined"!=typeof window&&(g.current=u().activeElement),a.useEffect((function(){if(p){var e=(0,l.Z)(y.current);i||!y.current||y.current.contains(e.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex",-1),y.current.focus());var t=function(){null!==y.current&&(e.hasFocus()&&!o&&d()&&!f.current?y.current&&!y.current.contains(e.activeElement)&&y.current.focus():f.current=!1)},n=function(t){!o&&d()&&9===t.keyCode&&e.activeElement===y.current&&(f.current=!0,t.shiftKey?v.current.focus():h.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),c||(g.current&&g.current.focus&&g.current.focus(),g.current=null)}}}),[i,o,c,d,p]),a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:0,ref:h,"data-test":"sentinelStart"}),a.cloneElement(t,{ref:b}),a.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))},L={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Z=a.forwardRef((function(e,t){var n=e.invisible,o=void 0!==n&&n,s=e.open,c=(0,r.Z)(e,["invisible","open"]);return s?a.createElement("div",(0,i.Z)({"aria-hidden":!0,ref:t},c,{style:(0,i.Z)({},L.root,o?L.invisible:{},c.style)})):null}));var _=new k,j=a.forwardRef((function(e,t){var n=(0,y.Z)(),o=(0,I.Z)({name:"MuiModal",props:(0,i.Z)({},e),theme:n}),s=o.BackdropComponent,c=void 0===s?Z:s,u=o.BackdropProps,d=o.children,p=o.closeAfterTransition,f=void 0!==p&&p,h=o.container,v=o.disableAutoFocus,b=void 0!==v&&v,S=o.disableBackdropClick,D=void 0!==S&&S,T=o.disableEnforceFocus,C=void 0!==T&&T,E=o.disableEscapeKeyDown,M=void 0!==E&&E,R=o.disablePortal,x=void 0!==R&&R,O=o.disableRestoreFocus,k=void 0!==O&&O,L=o.disableScrollLock,j=void 0!==L&&L,B=o.hideBackdrop,V=void 0!==B&&B,G=o.keepMounted,H=void 0!==G&&G,W=o.manager,z=void 0===W?_:W,K=o.onBackdropClick,q=o.onClose,Y=o.onEscapeKeyDown,$=o.onRendered,J=o.open,Q=(0,r.Z)(o,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),X=a.useState(!0),ee=X[0],te=X[1],ne=a.useRef({}),ie=a.useRef(null),re=a.useRef(null),ae=(0,w.Z)(re,t),oe=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(o),se=function(){return(0,l.Z)(ie.current)},ce=function(){return ne.current.modalRef=re.current,ne.current.mountNode=ie.current,ne.current},ue=function(){z.mount(ce(),{disableScrollLock:j}),re.current.scrollTop=0},de=(0,P.Z)((function(){var e=function(e){return e="function"==typeof e?e():e,m.findDOMNode(e)}(h)||se().body;z.add(ce(),e),re.current&&ue()})),le=a.useCallback((function(){return z.isTopModal(ce())}),[z]),pe=(0,P.Z)((function(e){ie.current=e,e&&($&&$(),J&&le()?ue():A(re.current,!0))})),fe=a.useCallback((function(){z.remove(ce())}),[z]);if(a.useEffect((function(){return function(){fe()}}),[fe]),a.useEffect((function(){J?de():oe&&f||fe()}),[J,fe,oe,f,de]),!H&&!J&&(!oe||ee))return null;var me=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:U.Z}),he={};return void 0===d.props.tabIndex&&(he.tabIndex=d.props.tabIndex||"-1"),oe&&(he.onEnter=(0,g.Z)((function(){te(!1)}),d.props.onEnter),he.onExited=(0,g.Z)((function(){te(!0),f&&fe()}),d.props.onExited)),a.createElement(N,{ref:pe,container:h,disablePortal:x},a.createElement("div",(0,i.Z)({ref:ae,onKeyDown:function(e){"Escape"===e.key&&le()&&(Y&&Y(e),M||(e.stopPropagation(),q&&q(e,"escapeKeyDown")))},role:"presentation"},Q,{style:(0,i.Z)({},me.root,!J&&ee?me.hidden:{},Q.style)}),V?null:a.createElement(c,(0,i.Z)({open:J,onClick:function(e){e.target===e.currentTarget&&(K&&K(e),!D&&q&&q(e,"backdropClick"))}},u)),a.createElement(F,{disableEnforceFocus:C,disableAutoFocus:b,disableRestoreFocus:k,getDoc:se,isEnabled:le,open:J},a.cloneElement(d,he))))})),B=n(9756),V=n(3552),G=!1,H=n(220),W="unmounted",z="exited",K="entering",q="entered",Y="exiting",$=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,a=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?a?(r=z,i.appearStatus=K):r=q:r=t.unmountOnExit||t.mountOnEnter?W:z,i.state={status:r},i.nextCallback=null,i}(0,V.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===W?{status:z}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==K&&n!==q&&(t=K):n!==K&&n!==q||(t=Y)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===K?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===z&&this.setState({status:W})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[m.findDOMNode(this),i],a=r[0],o=r[1],s=this.getTimeouts(),c=i?s.appear:s.enter;!e&&!n||G?this.safeSetState({status:q},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:K},(function(){t.props.onEntering(a,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:q},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:m.findDOMNode(this);t&&!G?(this.props.onExit(i),this.safeSetState({status:Y},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:z},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:z},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:m.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=r[0],o=r[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===W)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,B.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(H.Z.Provider,{value:null},"function"==typeof n?n(e,i):a.cloneElement(a.Children.only(n),i))},t}(a.Component);function J(){}$.contextType=H.Z,$.propTypes={},$.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:J,onEntering:J,onEntered:J,onExit:J,onExiting:J,onExited:J},$.UNMOUNTED=W,$.EXITED=z,$.ENTERING=K,$.ENTERED=q,$.EXITING=Y;var Q=$,X=n(1041);function ee(e,t){var n=e.timeout,i=e.style,r=void 0===i?{}:i;return{duration:r.transitionDuration||"number"==typeof n?n:n[t.mode]||0,delay:r.transitionDelay}}function te(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var ne={entering:{opacity:1,transform:te(1)},entered:{opacity:1,transform:"none"}},ie=a.forwardRef((function(e,t){var n=e.children,o=e.disableStrictModeCompat,c=void 0!==o&&o,u=e.in,d=e.onEnter,l=e.onEntered,p=e.onEntering,f=e.onExit,m=e.onExited,h=e.onExiting,v=e.style,g=e.timeout,y=void 0===g?"auto":g,I=e.TransitionComponent,b=void 0===I?Q:I,S=(0,r.Z)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),N=a.useRef(),P=a.useRef(),U=(0,X.Z)(),D=U.unstable_strictMode&&!c,T=a.useRef(null),C=(0,w.Z)(n.ref,t),E=(0,w.Z)(D?T:void 0,C),A=function(e){return function(t,n){if(e){var i=D?[T.current,t]:[t,n],r=(0,s.Z)(i,2),a=r[0],o=r[1];void 0===o?e(a):e(a,o)}}},M=A(p),R=A((function(e,t){!function(e){e.scrollTop}(e);var n,i=ee({style:v,timeout:y},{mode:"enter"}),r=i.duration,a=i.delay;"auto"===y?(n=U.transitions.getAutoHeightDuration(e.clientHeight),P.current=n):n=r,e.style.transition=[U.transitions.create("opacity",{duration:n,delay:a}),U.transitions.create("transform",{duration:.666*n,delay:a})].join(","),d&&d(e,t)})),x=A(l),O=A(h),k=A((function(e){var t,n=ee({style:v,timeout:y},{mode:"exit"}),i=n.duration,r=n.delay;"auto"===y?(t=U.transitions.getAutoHeightDuration(e.clientHeight),P.current=t):t=i,e.style.transition=[U.transitions.create("opacity",{duration:t,delay:r}),U.transitions.create("transform",{duration:.666*t,delay:r||.333*t})].join(","),e.style.opacity="0",e.style.transform=te(.75),f&&f(e)})),F=A(m);return a.useEffect((function(){return function(){clearTimeout(N.current)}}),[]),a.createElement(b,(0,i.Z)({appear:!0,in:u,nodeRef:D?T:void 0,onEnter:R,onEntered:x,onEntering:M,onExit:k,onExited:F,onExiting:O,addEndListener:function(e,t){var n=D?e:t;"auto"===y&&(N.current=setTimeout(n,P.current||0))},timeout:"auto"===y?null:y},S),(function(e,t){return a.cloneElement(n,(0,i.Z)({style:(0,i.Z)({opacity:0,transform:te(.75),visibility:"exited"!==e||u?void 0:"hidden"},ne[e],v,n.props.style),ref:E},t))}))}));ie.muiSupportAuto=!0;var re=ie,ae=n(9895);function oe(e,t){var n=0;return"number"==typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function se(e,t){var n=0;return"number"==typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function ce(e){return[e.horizontal,e.vertical].map((function(e){return"number"==typeof e?"".concat(e,"px"):e})).join(" ")}function ue(e){return"function"==typeof e?e():e}var de=a.forwardRef((function(e,t){var n=e.action,o=e.anchorEl,s=e.anchorOrigin,c=void 0===s?{vertical:"top",horizontal:"left"}:s,u=e.anchorPosition,p=e.anchorReference,f=void 0===p?"anchorEl":p,y=e.children,I=e.classes,b=e.className,w=e.container,S=e.elevation,N=void 0===S?8:S,P=e.getContentAnchorEl,U=e.marginThreshold,D=void 0===U?16:U,T=e.onEnter,C=e.onEntered,E=e.onEntering,A=e.onExit,M=e.onExited,R=e.onExiting,x=e.open,O=e.PaperProps,k=void 0===O?{}:O,F=e.transformOrigin,L=void 0===F?{vertical:"top",horizontal:"left"}:F,Z=e.TransitionComponent,_=void 0===Z?re:Z,B=e.transitionDuration,V=void 0===B?"auto":B,G=e.TransitionProps,H=void 0===G?{}:G,W=(0,r.Z)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),z=a.useRef(),K=a.useCallback((function(e){if("anchorPosition"===f)return u;var t=ue(o),n=(t&&1===t.nodeType?t:(0,l.Z)(z.current).body).getBoundingClientRect(),i=0===e?c.vertical:"center";return{top:n.top+oe(n,i),left:n.left+se(n,c.horizontal)}}),[o,c.horizontal,c.vertical,u,f]),q=a.useCallback((function(e){var t=0;if(P&&"anchorEl"===f){var n=P(e);if(n&&e.contains(n)){var i=function(e,t){for(var n=t,i=0;n&&n!==e;)i+=(n=n.parentElement).scrollTop;return i}(e,n);t=n.offsetTop+n.clientHeight/2-i||0}0}return t}),[c.vertical,f,P]),Y=a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:oe(e,L.vertical)+t,horizontal:se(e,L.horizontal)}}),[L.horizontal,L.vertical]),$=a.useCallback((function(e){var t=q(e),n={width:e.offsetWidth,height:e.offsetHeight},i=Y(n,t);if("none"===f)return{top:null,left:null,transformOrigin:ce(i)};var r=K(t),a=r.top-i.vertical,s=r.left-i.horizontal,c=a+n.height,u=s+n.width,d=(0,v.Z)(ue(o)),l=d.innerHeight-D,p=d.innerWidth-D;if(a<D){var m=a-D;a-=m,i.vertical+=m}else if(c>l){var h=c-l;a-=h,i.vertical+=h}if(s<D){var g=s-D;s-=g,i.horizontal+=g}else if(u>p){var y=u-p;s-=y,i.horizontal+=y}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:ce(i)}}),[o,f,K,q,Y,D]),J=a.useCallback((function(){var e=z.current;if(e){var t=$(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[$]),Q=a.useCallback((function(e){z.current=m.findDOMNode(e)}),[]);a.useEffect((function(){x&&J()})),a.useImperativeHandle(n,(function(){return x?{updatePosition:function(){J()}}:null}),[x,J]),a.useEffect((function(){if(x){var e=(0,h.Z)((function(){J()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[x,J]);var X=V;"auto"!==V||_.muiSupportAuto||(X=void 0);var ee=w||(o?(0,l.Z)(ue(o)).body:void 0);return a.createElement(j,(0,i.Z)({container:ee,open:x,ref:t,BackdropProps:{invisible:!0},className:(0,d.Z)(I.root,b)},W),a.createElement(_,(0,i.Z)({appear:!0,in:x,onEnter:T,onEntered:C,onExit:A,onExited:M,onExiting:R,timeout:X},H,{onEntering:(0,g.Z)((function(e,t){E&&E(e,t),J()}),H.onEntering)}),a.createElement(ae.Z,(0,i.Z)({elevation:N,ref:Q},k,{className:(0,d.Z)(I.paper,k.className)}),y)))})),le=(0,f.Z)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(de),pe=n(6987),fe=a.forwardRef((function(e,t){var n=e.children,o=e.classes,s=e.className,c=e.component,u=void 0===c?"ul":c,l=e.dense,p=void 0!==l&&l,f=e.disablePadding,m=void 0!==f&&f,h=e.subheader,v=(0,r.Z)(e,["children","classes","className","component","dense","disablePadding","subheader"]),g=a.useMemo((function(){return{dense:p}}),[p]);return a.createElement(pe.Z.Provider,{value:g},a.createElement(u,(0,i.Z)({className:(0,d.Z)(o.root,s,p&&o.dense,!m&&o.padding,h&&o.subheader),ref:t},v),h,n))})),me=(0,f.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(fe);function he(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function ve(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function ge(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function ye(e,t,n,i,r,a){for(var o=!1,s=r(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return;o=!0}var c=!i&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&ge(s,a)&&!c)return void s.focus();s=r(e,s,n)}}var Ie="undefined"==typeof window?a.useEffect:a.useLayoutEffect,be=a.forwardRef((function(e,t){var n=e.actions,o=e.autoFocus,s=void 0!==o&&o,c=e.autoFocusItem,u=void 0!==c&&c,d=e.children,p=e.className,f=e.disabledItemsFocusable,h=void 0!==f&&f,v=e.disableListWrap,g=void 0!==v&&v,y=e.onKeyDown,I=e.variant,b=void 0===I?"selectedMenu":I,S=(0,r.Z)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),N=a.useRef(null),P=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ie((function(){s&&N.current.focus()}),[s]),a.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!N.current.style.width;if(e.clientHeight<N.current.clientHeight&&n){var i="".concat(E(),"px");N.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=i,N.current.style.width="calc(100% + ".concat(i,")")}return N.current}}}),[]);var U=a.useCallback((function(e){N.current=m.findDOMNode(e)}),[]),D=(0,w.Z)(U,t),T=-1;a.Children.forEach(d,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===b&&e.props.selected||-1===T)&&(T=t))}));var C=a.Children.map(d,(function(e,t){if(t===T){var n={};return u&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===b&&(n.tabIndex=0),a.cloneElement(e,n)}return e}));return a.createElement(me,(0,i.Z)({role:"menu",ref:D,className:p,onKeyDown:function(e){var t=N.current,n=e.key,i=(0,l.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),ye(t,i,g,h,he);else if("ArrowUp"===n)e.preventDefault(),ye(t,i,g,h,ve);else if("Home"===n)e.preventDefault(),ye(t,null,g,h,he);else if("End"===n)e.preventDefault(),ye(t,null,g,h,ve);else if(1===n.length){var r=P.current,a=n.toLowerCase(),o=performance.now();r.keys.length>0&&(o-r.lastTime>500?(r.keys=[],r.repeating=!0,r.previousKeyMatched=!0):r.repeating&&a!==r.keys[0]&&(r.repeating=!1)),r.lastTime=o,r.keys.push(a);var s=i&&!r.repeating&&ge(i,r);r.previousKeyMatched&&(s||ye(t,i,!1,h,he,r))?e.preventDefault():r.previousKeyMatched=!1}y&&y(e)},tabIndex:s?0:-1},S),C)})),we={vertical:"top",horizontal:"right"},Se={vertical:"top",horizontal:"left"},Ne=a.forwardRef((function(e,t){var n=e.autoFocus,o=void 0===n||n,s=e.children,c=e.classes,u=e.disableAutoFocusItem,l=void 0!==u&&u,p=e.MenuListProps,f=void 0===p?{}:p,h=e.onClose,v=e.onEntering,g=e.open,y=e.PaperProps,I=void 0===y?{}:y,w=e.PopoverClasses,S=e.transitionDuration,N=void 0===S?"auto":S,P=e.variant,U=void 0===P?"selectedMenu":P,D=(0,r.Z)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),T=(0,X.Z)(),C=o&&!l&&g,E=a.useRef(null),A=a.useRef(null),M=-1;a.Children.map(s,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("menu"!==U&&e.props.selected||-1===M)&&(M=t))}));var R=a.Children.map(s,(function(e,t){return t===M?a.cloneElement(e,{ref:function(t){A.current=m.findDOMNode(t),(0,b.Z)(e.ref,t)}}):e}));return a.createElement(le,(0,i.Z)({getContentAnchorEl:function(){return A.current},classes:w,onClose:h,onEntering:function(e,t){E.current&&E.current.adjustStyleForScrollbar(e,T),v&&v(e,t)},anchorOrigin:"rtl"===T.direction?we:Se,transformOrigin:"rtl"===T.direction?we:Se,PaperProps:(0,i.Z)({},I,{classes:(0,i.Z)({},I.classes,{root:c.paper})}),open:g,ref:t,transitionDuration:N},D),a.createElement(be,(0,i.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),h&&h(e,"tabKeyDown"))},actions:E,autoFocus:o&&(-1===M||l),autoFocusItem:C,variant:U},f,{className:(0,d.Z)(c.list,f.className)}),R))})),Pe=(0,f.Z)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Ne),Ue=n(6519),De=n(2775);function Te(e,t){return"object"===(0,c.Z)(t)&&null!==t?e===t:String(e)===String(t)}var Ce=a.forwardRef((function(e,t){var n=e["aria-label"],o=e.autoFocus,c=e.autoWidth,f=e.children,m=e.classes,h=e.className,v=e.defaultValue,g=e.disabled,y=e.displayEmpty,I=e.IconComponent,b=e.inputRef,S=e.labelId,N=e.MenuProps,P=void 0===N?{}:N,U=e.multiple,D=e.name,T=e.onBlur,C=e.onChange,E=e.onClose,A=e.onFocus,M=e.onOpen,R=e.open,x=e.readOnly,O=e.renderValue,k=e.SelectDisplayProps,F=void 0===k?{}:k,L=e.tabIndex,Z=(e.type,e.value),_=e.variant,j=void 0===_?"standard":_,B=(0,r.Z)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),V=(0,De.Z)({controlled:Z,default:v,name:"Select"}),G=(0,s.Z)(V,2),H=G[0],W=G[1],z=a.useRef(null),K=a.useState(null),q=K[0],Y=K[1],$=a.useRef(null!=R).current,J=a.useState(),Q=J[0],X=J[1],ee=a.useState(!1),te=ee[0],ne=ee[1],ie=(0,w.Z)(t,b);a.useImperativeHandle(ie,(function(){return{focus:function(){q.focus()},node:z.current,value:H}}),[q,H]),a.useEffect((function(){o&&q&&q.focus()}),[o,q]),a.useEffect((function(){if(q){var e=(0,l.Z)(q).getElementById(S);if(e){var t=function(){getSelection().isCollapsed&&q.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[S,q]);var re,ae,oe=function(e,t){e?M&&M(t):E&&E(t),$||(X(c?null:q.clientWidth),ne(e))},se=a.Children.toArray(f),ce=function(e){return function(t){var n;if(U||oe(!1,t),U){n=Array.isArray(H)?H.slice():[];var i=H.indexOf(e.props.value);-1===i?n.push(e.props.value):n.splice(i,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),H!==n&&(W(n),C&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:D}}),C(t,e)))}},ue=null!==q&&($?R:te);delete B["aria-invalid"];var de=[],le=!1;((0,Ue.vd)({value:H})||y)&&(O?re=O(H):le=!0);var pe=se.map((function(e){if(!a.isValidElement(e))return null;var t;if(U){if(!Array.isArray(H))throw new Error((0,u.Z)(2));(t=H.some((function(t){return Te(t,e.props.value)})))&&le&&de.push(e.props.children)}else(t=Te(H,e.props.value))&&le&&(ae=e.props.children);return t&&!0,a.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ce(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));le&&(re=U?de.join(", "):ae);var fe,me=Q;!c&&$&&q&&(me=q.clientWidth),fe=void 0!==L?L:g?null:0;var he=F.id||(D?"mui-component-select-".concat(D):void 0);return a.createElement(a.Fragment,null,a.createElement("div",(0,i.Z)({className:(0,d.Z)(m.root,m.select,m.selectMenu,m[j],h,g&&m.disabled),ref:Y,tabIndex:fe,role:"button","aria-disabled":g?"true":void 0,"aria-expanded":ue?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[S,he].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!x){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),oe(!0,e))}},onMouseDown:g||x?null:function(e){0===e.button&&(e.preventDefault(),q.focus(),oe(!0,e))},onBlur:function(e){!ue&&T&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:H,name:D}}),T(e))},onFocus:A},F,{id:he}),function(e){return null==e||"string"==typeof e&&!e.trim()}(re)?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):re),a.createElement("input",(0,i.Z)({value:Array.isArray(H)?H.join(","):H,name:D,ref:z,"aria-hidden":!0,onChange:function(e){var t=se.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=se[t];W(n.props.value),C&&C(e,n)}},tabIndex:-1,className:m.nativeInput,autoFocus:o},B)),a.createElement(I,{className:(0,d.Z)(m.icon,m["icon".concat((0,p.Z)(j))],ue&&m.iconOpen,g&&m.disabled)}),a.createElement(Pe,(0,i.Z)({id:"menu-".concat(D||""),anchorEl:q,open:ue,onClose:function(e){oe(!1,e)}},P,{MenuListProps:(0,i.Z)({"aria-labelledby":S,role:"listbox",disableListWrap:!0},P.MenuListProps),PaperProps:(0,i.Z)({},P.PaperProps,{style:(0,i.Z)({minWidth:me},null!=P.PaperProps?P.PaperProps.style:null)})}),pe))})),Ee=n(9345),Ae=n(2601),Me=(0,n(5209).Z)(a.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Re=n(8799),xe=a.forwardRef((function(e,t){var n=e.classes,o=e.className,s=e.disabled,c=e.IconComponent,u=e.inputRef,l=e.variant,f=void 0===l?"standard":l,m=(0,r.Z)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return a.createElement(a.Fragment,null,a.createElement("select",(0,i.Z)({className:(0,d.Z)(n.root,n.select,n[f],o,s&&n.disabled),disabled:s,ref:u||t},m)),e.multiple?null:a.createElement(c,{className:(0,d.Z)(n.icon,n["icon".concat((0,p.Z)(f))],s&&n.disabled)}))})),Oe=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},ke=a.createElement(Re.Z,null),Fe=a.forwardRef((function(e,t){var n=e.children,o=e.classes,s=e.IconComponent,c=void 0===s?Me:s,u=e.input,d=void 0===u?ke:u,l=e.inputProps,p=(e.variant,(0,r.Z)(e,["children","classes","IconComponent","input","inputProps","variant"])),f=(0,Ae.Z)(),m=(0,Ee.Z)({props:e,muiFormControl:f,states:["variant"]});return a.cloneElement(d,(0,i.Z)({inputComponent:xe,inputProps:(0,i.Z)({children:n,classes:o,IconComponent:c,variant:m.variant,type:void 0},l,d?d.props.inputProps:{}),ref:t},p))}));Fe.muiName="Select";(0,f.Z)(Oe,{name:"MuiNativeSelect"})(Fe);var Le=n(9446),Ze=n(6718),_e=Oe,je=a.createElement(Re.Z,null),Be=a.createElement(Le.Z,null),Ve=a.forwardRef((function e(t,n){var s=t.autoWidth,c=void 0!==s&&s,u=t.children,d=t.classes,l=t.displayEmpty,p=void 0!==l&&l,f=t.IconComponent,m=void 0===f?Me:f,h=t.id,v=t.input,g=t.inputProps,y=t.label,I=t.labelId,b=t.labelWidth,w=void 0===b?0:b,S=t.MenuProps,N=t.multiple,P=void 0!==N&&N,U=t.native,D=void 0!==U&&U,T=t.onClose,C=t.onOpen,E=t.open,A=t.renderValue,M=t.SelectDisplayProps,R=t.variant,x=void 0===R?"standard":R,O=(0,r.Z)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),k=D?xe:Ce,F=(0,Ae.Z)(),L=(0,Ee.Z)({props:t,muiFormControl:F,states:["variant"]}).variant||x,Z=v||{standard:je,outlined:a.createElement(Ze.Z,{label:y,labelWidth:w}),filled:Be}[L];return a.cloneElement(Z,(0,i.Z)({inputComponent:k,inputProps:(0,i.Z)({children:u,IconComponent:m,variant:L,type:void 0,multiple:P},D?{id:h}:{autoWidth:c,displayEmpty:p,labelId:I,MenuProps:S,onClose:T,onOpen:C,open:E,renderValue:A,SelectDisplayProps:(0,i.Z)({id:h},M)},g,{classes:g?(0,o.Z)({baseClasses:d,newClasses:g.classes,Component:e}):d},v?v.props.inputProps:{}),ref:n},O))}));Ve.muiName="Select";var Ge=(0,f.Z)(_e,{name:"MuiSelect"})(Ve)},6253:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var i=n(2122),r=n(1253),a=n(7294),o=(n(5697),n(6010)),s=n(8799),c=n(9446),u=n(6718),d=n(9345),l=n(2601),p=n(2543),f=n(3871),m=a.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,u=(e.color,e.component),p=void 0===u?"label":u,m=(e.disabled,e.error,e.filled,e.focused,e.required,(0,r.Z)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),h=(0,l.Z)(),v=(0,d.Z)({props:e,muiFormControl:h,states:["color","required","focused","disabled","error","filled"]});return a.createElement(p,(0,i.Z)({className:(0,o.Z)(s.root,s["color".concat((0,f.Z)(v.color||"primary"))],c,v.disabled&&s.disabled,v.error&&s.error,v.filled&&s.filled,v.focused&&s.focused,v.required&&s.required),ref:t},m),n,v.required&&a.createElement("span",{"aria-hidden":!0,className:(0,o.Z)(s.asterisk,v.error&&s.error)},"\u2009","*"))})),h=(0,p.Z)((function(e){return{root:(0,i.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(m),v=a.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.disableAnimation,u=void 0!==c&&c,p=(e.margin,e.shrink),f=(e.variant,(0,r.Z)(e,["classes","className","disableAnimation","margin","shrink","variant"])),m=(0,l.Z)(),v=p;void 0===v&&m&&(v=m.filled||m.focused||m.adornedStart);var g=(0,d.Z)({props:e,muiFormControl:m,states:["margin","variant"]});return a.createElement(h,(0,i.Z)({"data-shrink":v,className:(0,o.Z)(n.root,s,m&&n.formControl,!u&&n.animated,v&&n.shrink,"dense"===g.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[g.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},f))})),g=(0,p.Z)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(v),y=n(6519),I=n(3711),b=n(5736),w=a.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,u=e.color,d=void 0===u?"primary":u,l=e.component,p=void 0===l?"div":l,m=e.disabled,h=void 0!==m&&m,v=e.error,g=void 0!==v&&v,w=e.fullWidth,S=void 0!==w&&w,N=e.focused,P=e.hiddenLabel,U=void 0!==P&&P,D=e.margin,T=void 0===D?"none":D,C=e.required,E=void 0!==C&&C,A=e.size,M=e.variant,R=void 0===M?"standard":M,x=(0,r.Z)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),O=a.useState((function(){var e=!1;return n&&a.Children.forEach(n,(function(t){if((0,I.Z)(t,["Input","Select"])){var n=(0,I.Z)(t,["Select"])?t.props.input:t;n&&(0,y.B7)(n.props)&&(e=!0)}})),e})),k=O[0],F=O[1],L=a.useState((function(){var e=!1;return n&&a.Children.forEach(n,(function(t){(0,I.Z)(t,["Input","Select"])&&(0,y.vd)(t.props,!0)&&(e=!0)})),e})),Z=L[0],_=L[1],j=a.useState(!1),B=j[0],V=j[1],G=void 0!==N?N:B;h&&G&&V(!1);var H=a.useCallback((function(){_(!0)}),[]),W={adornedStart:k,setAdornedStart:F,color:d,disabled:h,error:g,filled:Z,focused:G,fullWidth:S,hiddenLabel:U,margin:("small"===A?"dense":void 0)||T,onBlur:function(){V(!1)},onEmpty:a.useCallback((function(){_(!1)}),[]),onFilled:H,onFocus:function(){V(!0)},registerEffect:undefined,required:E,variant:R};return a.createElement(b.Z.Provider,{value:W},a.createElement(p,(0,i.Z)({className:(0,o.Z)(s.root,c,"none"!==T&&s["margin".concat((0,f.Z)(T))],S&&s.fullWidth),ref:t},x),n))})),S=(0,p.Z)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(w),N=a.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,u=e.component,p=void 0===u?"p":u,f=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,(0,r.Z)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),m=(0,l.Z)(),h=(0,d.Z)({props:e,muiFormControl:m,states:["variant","margin","disabled","error","filled","focused","required"]});return a.createElement(p,(0,i.Z)({className:(0,o.Z)(s.root,("filled"===h.variant||"outlined"===h.variant)&&s.contained,c,h.disabled&&s.disabled,h.error&&s.error,h.filled&&s.filled,h.focused&&s.focused,h.required&&s.required,"dense"===h.margin&&s.marginDense),ref:t},f)," "===n?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)})),P=(0,p.Z)((function(e){return{root:(0,i.Z)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(N),U=n(7042),D={standard:s.Z,filled:c.Z,outlined:u.Z},T=a.forwardRef((function(e,t){var n=e.autoComplete,s=e.autoFocus,c=void 0!==s&&s,u=e.children,d=e.classes,l=e.className,p=e.color,f=void 0===p?"primary":p,m=e.defaultValue,h=e.disabled,v=void 0!==h&&h,y=e.error,I=void 0!==y&&y,b=e.FormHelperTextProps,w=e.fullWidth,N=void 0!==w&&w,T=e.helperText,C=e.hiddenLabel,E=e.id,A=e.InputLabelProps,M=e.inputProps,R=e.InputProps,x=e.inputRef,O=e.label,k=e.multiline,F=void 0!==k&&k,L=e.name,Z=e.onBlur,_=e.onChange,j=e.onFocus,B=e.placeholder,V=e.required,G=void 0!==V&&V,H=e.rows,W=e.rowsMax,z=e.select,K=void 0!==z&&z,q=e.SelectProps,Y=e.type,$=e.value,J=e.variant,Q=void 0===J?"standard":J,X=(0,r.Z)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var ee={};if("outlined"===Q&&(A&&void 0!==A.shrink&&(ee.notched=A.shrink),O)){var te,ne=null!==(te=null==A?void 0:A.required)&&void 0!==te?te:G;ee.label=a.createElement(a.Fragment,null,O,ne&&"\xa0*")}K&&(q&&q.native||(ee.id=void 0),ee["aria-describedby"]=void 0);var ie=T&&E?"".concat(E,"-helper-text"):void 0,re=O&&E?"".concat(E,"-label"):void 0,ae=D[Q],oe=a.createElement(ae,(0,i.Z)({"aria-describedby":ie,autoComplete:n,autoFocus:c,defaultValue:m,fullWidth:N,multiline:F,name:L,rows:H,rowsMax:W,type:Y,value:$,id:E,inputRef:x,onBlur:Z,onChange:_,onFocus:j,placeholder:B,inputProps:M},ee,R));return a.createElement(S,(0,i.Z)({className:(0,o.Z)(d.root,l),disabled:v,error:I,fullWidth:N,hiddenLabel:C,ref:t,required:G,color:f,variant:Q},X),O&&a.createElement(g,(0,i.Z)({htmlFor:E,id:re},A),O),K?a.createElement(U.Z,(0,i.Z)({"aria-describedby":ie,id:E,labelId:re,value:$,input:oe},q),u):oe,T&&a.createElement(P,(0,i.Z)({id:ie},b),T))})),C=(0,p.Z)({root:{}},{name:"MuiTextField"})(T)},5160:function(e,t,n){"use strict";n.d(t,{mi:function(){return s},U1:function(){return u},_j:function(){return d},$n:function(){return l}});var i=n(288);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,i.Z)(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=c(e),i=c(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function c(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],i=t[1]/100,r=t[2]/100,s=i*Math.min(r,1-r),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return r-s*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",d=[Math.round(255*c(0)),Math.round(255*c(8)),Math.round(255*c(4))];return"hsla"===e.type&&(u+="a",d.push(t[3])),o({type:u,values:d})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){return e=a(e),t=r(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function d(e,t){if(e=a(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function l(e,t){if(e=a(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},6798:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var i=n(1253),r=n(5953),a=n(2122),o=["xs","sm","md","lg","xl"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,s=void 0===r?"px":r,c=e.step,u=void 0===c?5:c,d=(0,i.Z)(e,["values","unit","step"]);function l(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function p(e,t){var i=o.indexOf(t);return i===o.length-1?l(e):"@media (min-width:".concat("number"==typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==i&&"number"==typeof n[o[i+1]]?n[o[i+1]]:t)-u/100).concat(s,")")}return(0,a.Z)({keys:o,values:n,up:l,down:function(e){var t=o.indexOf(e)+1,i=n[o[t]];return t===o.length?l("xs"):"@media (max-width:".concat(("number"==typeof i&&t>0?i:e)-u/100).concat(s,")")},between:p,only:function(e){return p(e,e)},width:function(e){return n[e]}},d)}var c=n(6156);function u(e,t,n){var i;return(0,a.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,c.Z)({},e.up("sm"),(0,a.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},(0,c.Z)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,c.Z)(i,e.up("sm"),{minHeight:64}),i)},n)}var d=n(288),l={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},f={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},m={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},h={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},I=n(5160),b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l.white,default:p[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:l.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:p[800],default:"#303030"},action:{active:l.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function S(e,t,n,i){var r=i.light||i,a=i.dark||1.5*i;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,I.$n)(e.main,r):"dark"===t&&(e.dark=(0,I._j)(e.main,a)))}function N(e){var t=e.primary,n=void 0===t?{light:f[300],main:f[500],dark:f[700]}:t,o=e.secondary,s=void 0===o?{light:m.A200,main:m.A400,dark:m.A700}:o,c=e.error,u=void 0===c?{light:h[300],main:h[500],dark:h[700]}:c,N=e.warning,P=void 0===N?{light:v[300],main:v[500],dark:v[700]}:N,U=e.info,D=void 0===U?{light:g[300],main:g[500],dark:g[700]}:U,T=e.success,C=void 0===T?{light:y[300],main:y[500],dark:y[700]}:T,E=e.type,A=void 0===E?"light":E,M=e.contrastThreshold,R=void 0===M?3:M,x=e.tonalOffset,O=void 0===x?.2:x,k=(0,i.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function F(e){return(0,I.mi)(e,w.text.primary)>=R?w.text.primary:b.text.primary}var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,a.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,d.Z)(4,t));if("string"!=typeof e.main)throw new Error((0,d.Z)(5,JSON.stringify(e.main)));return S(e,"light",n,O),S(e,"dark",i,O),e.contrastText||(e.contrastText=F(e.main)),e},Z={dark:w,light:b};return(0,r.Z)((0,a.Z)({common:l,type:A,primary:L(n),secondary:L(s,"A400","A200","A700"),error:L(u),warning:L(P),info:L(D),success:L(C),grey:p,contrastThreshold:R,getContrastText:F,augmentColor:L,tonalOffset:O},Z[A]),k)}function P(e){return Math.round(1e5*e)/1e5}var U={textTransform:"uppercase"},D='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){var n="function"==typeof t?t(e):t,o=n.fontFamily,s=void 0===o?D:o,c=n.fontSize,u=void 0===c?14:c,d=n.fontWeightLight,l=void 0===d?300:d,p=n.fontWeightRegular,f=void 0===p?400:p,m=n.fontWeightMedium,h=void 0===m?500:m,v=n.fontWeightBold,g=void 0===v?700:v,y=n.htmlFontSize,I=void 0===y?16:y,b=n.allVariants,w=n.pxToRem,S=(0,i.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var N=u/14,T=w||function(e){return"".concat(e/I*N,"rem")},C=function(e,t,n,i,r){return(0,a.Z)({fontFamily:s,fontWeight:e,fontSize:T(t),lineHeight:n},s===D?{letterSpacing:"".concat(P(i/t),"em")}:{},r,b)},E={h1:C(l,96,1.167,-1.5),h2:C(l,60,1.2,-.5),h3:C(f,48,1.167,0),h4:C(f,34,1.235,.25),h5:C(f,24,1.334,0),h6:C(h,20,1.6,.15),subtitle1:C(f,16,1.75,.15),subtitle2:C(h,14,1.57,.1),body1:C(f,16,1.5,.15),body2:C(f,14,1.43,.15),button:C(h,14,1.75,.4,U),caption:C(f,12,1.66,.4),overline:C(f,12,2.66,1,U)};return(0,r.Z)((0,a.Z)({htmlFontSize:I,pxToRem:T,round:P,fontFamily:s,fontSize:u,fontWeightLight:l,fontWeightRegular:f,fontWeightMedium:h,fontWeightBold:g},E),S,{clone:!1})}function C(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var E=["none",C(0,2,1,-1,0,1,1,0,0,1,3,0),C(0,3,1,-2,0,2,2,0,0,1,5,0),C(0,3,3,-2,0,3,4,0,0,1,8,0),C(0,2,4,-1,0,4,5,0,0,1,10,0),C(0,3,5,-1,0,5,8,0,0,1,14,0),C(0,3,5,-1,0,6,10,0,0,1,18,0),C(0,4,5,-2,0,7,10,1,0,2,16,1),C(0,5,5,-3,0,8,10,1,0,3,14,2),C(0,5,6,-3,0,9,12,1,0,3,16,2),C(0,6,6,-3,0,10,14,1,0,4,18,3),C(0,6,7,-4,0,11,15,1,0,4,20,3),C(0,7,8,-4,0,12,17,2,0,5,22,4),C(0,7,8,-4,0,13,19,2,0,5,24,4),C(0,7,9,-4,0,14,21,2,0,5,26,4),C(0,8,9,-5,0,15,22,2,0,6,28,5),C(0,8,10,-5,0,16,24,2,0,6,30,5),C(0,8,11,-5,0,17,26,2,0,6,32,5),C(0,9,11,-5,0,18,28,2,0,7,34,6),C(0,9,12,-6,0,19,29,2,0,7,36,6),C(0,10,13,-6,0,20,31,3,0,8,38,7),C(0,10,13,-6,0,21,33,3,0,8,40,7),C(0,10,14,-6,0,22,35,3,0,8,42,7),C(0,11,14,-7,0,23,36,3,0,9,44,8),C(0,11,15,-7,0,24,38,3,0,9,46,8)],A={borderRadius:4},M=n(8681);function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,M.h)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"==typeof e)return e;var n=t(e);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var x={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},O={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function k(e){return"".concat(Math.round(e),"ms")}var F={easing:x,duration:O,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?O.standard:n,a=t.easing,o=void 0===a?x.easeInOut:a,s=t.delay,c=void 0===s?0:s;(0,i.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof r?r:k(r)," ").concat(o," ").concat("string"==typeof c?c:k(c))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},L=n(2781);var Z=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,a=e.mixins,o=void 0===a?{}:a,c=e.palette,d=void 0===c?{}:c,l=e.spacing,p=e.typography,f=void 0===p?{}:p,m=(0,i.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),h=N(d),v=s(n),g=R(l),y=(0,r.Z)({breakpoints:v,direction:"ltr",mixins:u(v,g,o),overrides:{},palette:h,props:{},shadows:E,typography:T(h,f),spacing:g,shape:A,transitions:F,zIndex:L.Z},m),I=arguments.length,b=new Array(I>1?I-1:0),w=1;w<I;w++)b[w-1]=arguments[w];return y=b.reduce((function(e,t){return(0,r.Z)(e,t)}),y)}()},1120:function(e,t,n){"use strict";var i=n(2122),r=n(3914),a=n(6798);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.Z)(e,(0,i.Z)({defaultTheme:a.Z},t))}},1041:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(159),r=(n(7294),n(6798));function a(){return(0,i.Z)()||r.Z}},2543:function(e,t,n){"use strict";var i=n(2122),r=n(8920),a=n(6798);t.Z=function(e,t){return(0,r.Z)(e,(0,i.Z)({defaultTheme:a.Z},t))}},2781:function(e,t){"use strict";t.Z={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},3871:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(288);function r(e){if("string"!=typeof e)throw new Error((0,i.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},2568:function(e,t,n){"use strict";function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)}}),(function(){}))}n.d(t,{Z:function(){return i}})},5209:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(2122),r=n(7294),a=n(1253),o=(n(5697),n(6010)),s=n(2543),c=n(3871),u=r.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,d=e.color,l=void 0===d?"inherit":d,p=e.component,f=void 0===p?"svg":p,m=e.fontSize,h=void 0===m?"default":m,v=e.htmlColor,g=e.titleAccess,y=e.viewBox,I=void 0===y?"0 0 24 24":y,b=(0,a.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return r.createElement(f,(0,i.Z)({className:(0,o.Z)(s.root,u,"inherit"!==l&&s["color".concat((0,c.Z)(l))],"default"!==h&&s["fontSize".concat((0,c.Z)(h))]),focusable:"false",viewBox:I,color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},b),n,g?r.createElement("title",null,g):null)}));u.muiName="SvgIcon";var d=(0,s.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(u);function l(e,t){var n=function(t,n){return r.createElement(d,(0,i.Z)({ref:n},t),e)};return n.muiName=d.muiName,r.memo(r.forwardRef(n))}},9437:function(e,t,n){"use strict";function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function i(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var o=this,s=function(){e.apply(o,r)};clearTimeout(t),t=setTimeout(s,n)}return i.clear=function(){clearTimeout(t)},i}n.d(t,{Z:function(){return i}})},8731:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return r.Z},createSvgIcon:function(){return a.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return c.Z},ownerDocument:function(){return u.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return l},setRef:function(){return p.Z},unstable_useId:function(){return y},unsupportedProp:function(){return f},useControlled:function(){return m.Z},useEventCallback:function(){return h.Z},useForkRef:function(){return v.Z},useIsFocusVisible:function(){return I.Z}});var i=n(3871),r=n(2568),a=n(5209),o=n(9437);function s(e,t){return function(){return null}}var c=n(3711),u=n(626),d=n(713);function l(e){return function(){return null}}var p=n(4236);function f(e,t,n,i,r){return null}var m=n(2775),h=n(5192),v=n(3834),g=n(7294);function y(e){var t=g.useState(e),n=t[0],i=t[1],r=e||n;return g.useEffect((function(){null==n&&i("mui-".concat(Math.round(1e5*Math.random())))}),[n]),r}var I=n(4896)},3711:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(7294);function r(e,t){return i.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},626:function(e,t,n){"use strict";function i(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return i}})},713:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(626);function r(e){return(0,i.Z)(e).defaultView||window}},4236:function(e,t,n){"use strict";function i(e,t){"function"==typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return i}})},2775:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(7294);function r(e){var t=e.controlled,n=e.default,r=(e.name,e.state,i.useRef(void 0!==t).current),a=i.useState(n),o=a[0],s=a[1];return[r?t:o,i.useCallback((function(e){r||s(e)}),[])]}},5192:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(7294),r="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;function a(e){var t=i.useRef(e);return r((function(){t.current=e})),i.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},3834:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(7294),r=n(4236);function a(e,t){return i.useMemo((function(){return null==e&&null==t?null:function(n){(0,r.Z)(e,n),(0,r.Z)(t,n)}}),[e,t])}},4896:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n(7294),r=n(3935),a=!0,o=!1,s=null,c={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function d(){a=!1}function l(){"hidden"===this.visibilityState&&o&&(a=!0)}function p(e){var t,n,i,r=e.target;try{return r.matches(":focus-visible")}catch(o){}return a||(n=(t=r).type,!("INPUT"!==(i=t.tagName)||!c[n]||t.readOnly)||"TEXTAREA"===i&&!t.readOnly||!!t.isContentEditable)}function f(){o=!0,window.clearTimeout(s),s=window.setTimeout((function(){o=!1}),100)}function m(){return{isFocusVisible:p,onBlurVisible:f,ref:i.useCallback((function(e){var t,n=r.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",d,!0),t.addEventListener("pointerdown",d,!0),t.addEventListener("touchstart",d,!0),t.addEventListener("visibilitychange",l,!0))}),[])}}},9114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToRgb=a,t.rgbToHex=function(e){if(0===e.indexOf("#"))return e;var t=s(e).values;return"#".concat(t.map((function(e){return 1===(t=e.toString(16)).length?"0".concat(t):t;var t})).join(""))},t.hslToRgb=o,t.decomposeColor=s,t.recomposeColor=c,t.getContrastRatio=function(e,t){var n=u(e),i=u(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},t.getLuminance=u,t.emphasize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return u(e)>.5?d(e,t):l(e,t)},t.fade=function(e,t){e=s(e),t=r(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a");return e.values[3]=t,c(e)},t.darken=d,t.lighten=l;var i=n(5218);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}function o(e){var t=(e=s(e)).values,n=t[0],i=t[1]/100,r=t[2]/100,a=i*Math.min(r,1-r),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return r-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",d=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",d.push(t[3])),c({type:u,values:d})}function s(e){if(e.type)return e;if("#"===e.charAt(0))return s(a(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,i.formatMuiErrorMessage)(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function c(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function u(e){var t="hsl"===(e=s(e)).type?s(o(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function d(e,t){if(e=s(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return c(e)}function l(e,t){if(e=s(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return c(e)}},4811:function(e,t,n){"use strict";var i=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,i=e.unit,s=void 0===i?"px":i,c=e.step,u=void 0===c?5:c,d=(0,a.default)(e,["values","unit","step"]);function l(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function p(e,t){var i=o.indexOf(t);return i===o.length-1?l(e):"@media (min-width:".concat("number"==typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==i&&"number"==typeof n[o[i+1]]?n[o[i+1]]:t)-u/100).concat(s,")")}return(0,r.default)({keys:o,values:n,up:l,down:function(e){var t=o.indexOf(e)+1,i=n[o[t]];return t===o.length?l("xs"):"@media (max-width:".concat(("number"==typeof i&&t>0?i:e)-u/100).concat(s,")")},between:p,only:function(e){return p(e,e)},width:function(e){return n[e]}},d)},t.keys=void 0;var r=i(n(1658)),a=i(n(6479)),o=["xs","sm","md","lg","xl"];t.keys=o},226:function(e,t,n){"use strict";var i=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i;return(0,a.default)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.default)({paddingLeft:t(2),paddingRight:t(2)},n,(0,r.default)({},e.up("sm"),(0,a.default)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},(0,r.default)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,r.default)(i,e.up("sm"),{minHeight:64}),i)},n)};var r=i(n(9713)),a=i(n(1658))},1615:function(e,t,n){"use strict";var i=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(n(9713));var r=i(n(6479)),a=n(5218),o=i(n(4811)),s=i(n(226)),c=i(n(1091)),u=i(n(5184)),d=i(n(743)),l=i(n(9591)),p=i(n(3498)),f=i(n(5406)),m=i(n(8676));var h=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,i=e.mixins,h=void 0===i?{}:i,v=e.palette,g=void 0===v?{}:v,y=e.spacing,I=e.typography,b=void 0===I?{}:I,w=(0,r.default)(e,["breakpoints","mixins","palette","spacing","typography"]),S=(0,c.default)(g),N=(0,o.default)(n),P=(0,p.default)(y),U=(0,a.deepmerge)({breakpoints:N,direction:"ltr",mixins:(0,s.default)(N,P,h),overrides:{},palette:S,props:{},shadows:d.default,typography:(0,u.default)(S,b),spacing:P,shape:l.default,transitions:f.default,zIndex:m.default},w),D=arguments.length,T=new Array(D>1?D-1:0),C=1;C<D;C++)T[C-1]=arguments[C];return U=T.reduce((function(e,t){return(0,a.deepmerge)(e,t)}),U)};t.default=h},1091:function(e,t,n){"use strict";var i=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.primary,n=void 0===t?{light:u.default[300],main:u.default[500],dark:u.default[700]}:t,i=e.secondary,I=void 0===i?{light:d.default.A200,main:d.default.A400,dark:d.default.A700}:i,b=e.error,w=void 0===b?{light:l.default[300],main:l.default[500],dark:l.default[700]}:b,S=e.warning,N=void 0===S?{light:p.default[300],main:p.default[500],dark:p.default[700]}:S,P=e.info,U=void 0===P?{light:f.default[300],main:f.default[500],dark:f.default[700]}:P,D=e.success,T=void 0===D?{light:m.default[300],main:m.default[500],dark:m.default[700]}:D,C=e.type,E=void 0===C?"light":C,A=e.contrastThreshold,M=void 0===A?3:A,R=e.tonalOffset,x=void 0===R?.2:R,O=(0,a.default)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function k(e){return(0,h.getContrastRatio)(e,g.text.primary)>=M?g.text.primary:v.text.primary}var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,r.default)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,o.formatMuiErrorMessage)(4,t));if("string"!=typeof e.main)throw new Error(_formatMuiErrorMessage(5,JSON.stringify(e.main)));return y(e,"light",n,x),y(e,"dark",i,x),e.contrastText||(e.contrastText=k(e.main)),e},L={dark:g,light:v};0;return(0,o.deepmerge)((0,r.default)({common:s.default,type:E,primary:F(n),secondary:F(I,"A400","A200","A700"),error:F(w),warning:F(N),info:F(U),success:F(T),grey:c.default,contrastThreshold:M,getContrastText:k,augmentColor:F,tonalOffset:x},L[E]),O)},t.dark=t.light=void 0;var r=i(n(1658)),a=i(n(6479)),o=n(5218),s=i(n(515)),c=i(n(167)),u=i(n(8768)),d=i(n(124)),l=i(n(3165)),p=i(n(6594)),f=i(n(3259)),m=i(n(7559)),h=n(9114),v={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:s.default.white,default:c.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}};t.light=v;var g={text:{primary:s.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:c.default[800],default:"#303030"},action:{active:s.default.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function y(e,t,n,i){var r=i.light||i,a=i.dark||1.5*i;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,h.lighten)(e.main,r):"dark"===t&&(e.dark=(0,h.darken)(e.main,a)))}t.dark=g},3498:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,i.createUnarySpacing)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"==typeof e)return e;var n=t(e);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n};var i=n(1151)},6059:function(e,t,n){"use strict";t.Z=function(e){return(0,i.createStyles)(e)};var i=n(7104)},5184:function(e,t,n){"use strict";var i=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="function"==typeof t?t(e):t,i=n.fontFamily,d=void 0===i?u:i,l=n.fontSize,p=void 0===l?14:l,f=n.fontWeightLight,m=void 0===f?300:f,h=n.fontWeightRegular,v=void 0===h?400:h,g=n.fontWeightMedium,y=void 0===g?500:g,I=n.fontWeightBold,b=void 0===I?700:I,w=n.htmlFontSize,S=void 0===w?16:w,N=n.allVariants,P=n.pxToRem,U=(0,a.default)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);0;var D=p/14,T=P||function(e){return"".concat(e/S*D,"rem")},C=function(e,t,n,i,a){return(0,r.default)({fontFamily:d,fontWeight:e,fontSize:T(t),lineHeight:n},d===u?{letterSpacing:"".concat(s(i/t),"em")}:{},a,N)},E={h1:C(m,96,1.167,-1.5),h2:C(m,60,1.2,-.5),h3:C(v,48,1.167,0),h4:C(v,34,1.235,.25),h5:C(v,24,1.334,0),h6:C(y,20,1.6,.15),subtitle1:C(v,16,1.75,.15),subtitle2:C(y,14,1.57,.1),body1:C(v,16,1.5,.15),body2:C(v,14,1.43,.15),button:C(y,14,1.75,.4,c),caption:C(v,12,1.66,.4),overline:C(v,12,2.66,1,c)};return(0,o.deepmerge)((0,r.default)({htmlFontSize:S,pxToRem:T,round:s,fontFamily:d,fontSize:p,fontWeightLight:m,fontWeightRegular:v,fontWeightMedium:y,fontWeightBold:b},E),U,{clone:!1})};var r=i(n(1658)),a=i(n(6479)),o=n(5218);function s(e){return Math.round(1e5*e)/1e5}var c={textTransform:"uppercase"},u='"Roboto", "Helvetica", "Arial", sans-serif'},2719:function(e,t,n){"use strict";var i=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,i(n(1615)).default)();t.default=r},743:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function n(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var i=["none",n(0,2,1,-1,0,1,1,0,0,1,3,0),n(0,3,1,-2,0,2,2,0,0,1,5,0),n(0,3,3,-2,0,3,4,0,0,1,8,0),n(0,2,4,-1,0,4,5,0,0,1,10,0),n(0,3,5,-1,0,5,8,0,0,1,14,0),n(0,3,5,-1,0,6,10,0,0,1,18,0),n(0,4,5,-2,0,7,10,1,0,2,16,1),n(0,5,5,-3,0,8,10,1,0,3,14,2),n(0,5,6,-3,0,9,12,1,0,3,16,2),n(0,6,6,-3,0,10,14,1,0,4,18,3),n(0,6,7,-4,0,11,15,1,0,4,20,3),n(0,7,8,-4,0,12,17,2,0,5,22,4),n(0,7,8,-4,0,13,19,2,0,5,24,4),n(0,7,9,-4,0,14,21,2,0,5,26,4),n(0,8,9,-5,0,15,22,2,0,6,28,5),n(0,8,10,-5,0,16,24,2,0,6,30,5),n(0,8,11,-5,0,17,26,2,0,6,32,5),n(0,9,11,-5,0,18,28,2,0,7,34,6),n(0,9,12,-6,0,19,29,2,0,7,36,6),n(0,10,13,-6,0,20,31,3,0,8,38,7),n(0,10,13,-6,0,21,33,3,0,8,40,7),n(0,10,14,-6,0,22,35,3,0,8,42,7),n(0,11,14,-7,0,23,36,3,0,9,44,8),n(0,11,15,-7,0,24,38,3,0,9,46,8)];t.default=i},9591:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={borderRadius:4};t.default=n},5406:function(e,t,n){"use strict";var i=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.duration=t.easing=void 0;var r=i(n(6479)),a={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"};t.easing=a;var o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function s(e){return"".concat(Math.round(e),"ms")}t.duration=o;var c={easing:a,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,i=void 0===n?o.standard:n,c=t.easing,u=void 0===c?a.easeInOut:c,d=t.delay,l=void 0===d?0:d;(0,r.default)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof i?i:s(i)," ").concat(u," ").concat("string"==typeof l?l:s(l))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}};t.default=c},8252:function(e,t,n){"use strict";var i=n(5318);t.Z=void 0;var r=i(n(1658)),a=n(7104),o=i(n(2719));var s=function(e,t){return(0,a.withStyles)(e,(0,r.default)({defaultTheme:o.default},t))};t.Z=s},8676:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};t.default=n},7342:function(e,t,n){"use strict";var i=n(5318),r=n(862);t.Z=void 0;var a=r(n(7294)),o=(0,i(n(2108)).default)(a.createElement(a.Fragment,null,a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})),"AccessTime");t.Z=o},4566:function(e,t,n){"use strict";var i=n(5318),r=n(862);t.Z=void 0;var a=r(n(7294)),o=(0,i(n(2108)).default)(a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=o},2108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=n(8731)},5391:function(e,t,n){"use strict";var i=n(1253),r=n(2122),a=n(7294),o=(n(5697),n(6010)),s=n(5160),c=n(2543),u=n(4720),d=n(3871),l=a.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,l=e.disabled,p=void 0!==l&&l,f=e.disableFocusRipple,m=void 0!==f&&f,h=e.onChange,v=e.onClick,g=e.selected,y=e.size,I=void 0===y?"medium":y,b=e.value,w=(0,i.Z)(e,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]);return a.createElement(u.Z,(0,r.Z)({className:(0,o.Z)(s.root,c,p&&s.disabled,g&&s.selected,"medium"!==I&&s["size".concat((0,d.Z)(I))]),disabled:p,focusRipple:!m,ref:t,onClick:function(e){v&&(v(e,b),e.isDefaultPrevented())||h&&h(e,b)},onChange:h,value:b,"aria-pressed":g},w),a.createElement("span",{className:s.label},n))}));t.Z=(0,c.Z)((function(e){return{root:(0,r.Z)({},e.typography.button,{boxSizing:"border-box",borderRadius:e.shape.borderRadius,padding:11,border:"1px solid ".concat((0,s.U1)(e.palette.action.active,.12)),color:(0,s.U1)(e.palette.action.active,.38),"&$selected":{color:e.palette.action.active,backgroundColor:(0,s.U1)(e.palette.action.active,.12),"&:hover":{backgroundColor:(0,s.U1)(e.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:(0,s.U1)(e.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:(0,s.U1)(e.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:e.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:e.typography.pxToRem(15)}}}),{name:"MuiToggleButton"})(l)},6663:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(2122),r=n(1253),a=n(7294),o=(n(9864),n(5697),n(6010));function s(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}var c=n(2543),u=n(3871),d=a.forwardRef((function(e,t){var n=e.children,c=e.classes,d=e.className,l=e.exclusive,p=void 0!==l&&l,f=e.onChange,m=e.orientation,h=void 0===m?"horizontal":m,v=e.size,g=void 0===v?"medium":v,y=e.value,I=(0,r.Z)(e,["children","classes","className","exclusive","onChange","orientation","size","value"]),b=function(e,t){if(f){var n,i=y&&y.indexOf(t);y&&i>=0?(n=y.slice()).splice(i,1):n=y?y.concat(t):[t],f(e,n)}},w=function(e,t){f&&f(e,y===t?null:t)};return a.createElement("div",(0,i.Z)({role:"group",className:(0,o.Z)(c.root,d,"vertical"===h&&c.vertical),ref:t},I),a.Children.map(n,(function(e){return a.isValidElement(e)?a.cloneElement(e,{className:(0,o.Z)(c.grouped,c["grouped".concat((0,u.Z)(h))],e.props.className),onChange:p?w:b,selected:void 0===e.props.selected?s(e.props.value,y):e.props.selected,size:e.props.size||g}):null})))})),l=(0,c.Z)((function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},vertical:{flexDirection:"column"},grouped:{},groupedHorizontal:{"&:not(:first-child)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-child)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}}),{name:"MuiToggleButtonGroup"})(d)},6975:function(e,t,n){"use strict";n.d(t,{tP:function(){return p},NU:function(){return m},ZP:function(){return h}});var i,r=n(2122),a=n(1253),o=n(7294),s=(n(5697),n(5034)),c=n(4013),u=n(246),d=(0,c.Ue)((0,u.Z)()),l=(0,s.Z)(),p=new Map,f={disableGeneration:!1,generateClassName:l,jss:d,sheetsCache:null,sheetsManager:p,sheetsRegistry:null},m=o.createContext(f);function h(e){var t=e.children,n=e.injectFirst,s=void 0!==n&&n,d=e.disableGeneration,l=void 0!==d&&d,p=(0,a.Z)(e,["children","injectFirst","disableGeneration"]),f=o.useContext(m),h=(0,r.Z)({},f,{disableGeneration:l},p);if(!h.jss.options.insertionPoint&&s&&"undefined"!=typeof window){if(!i){var v=document.head;i=document.createComment("mui-inject-first"),v.insertBefore(i,v.firstChild)}h.jss=(0,c.Ue)({plugins:(0,u.Z)().plugins,insertionPoint:i})}return o.createElement(m.Provider,{value:h},t)}},7076:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for;t.Z=n?Symbol.for("mui.nested"):"__THEME_NESTED__"},5034:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(7076),r=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,a=e.productionPrefix,o=void 0===a?"jss":a,s=e.seed,c=void 0===s?"":s,u=""===c?"":"".concat(c,"-"),d=0,l=function(){return d+=1};return function(e,t){var a=t.options.name;if(a&&0===a.indexOf("Mui")&&!t.options.link&&!n){if(-1!==r.indexOf(e.key))return"Mui-".concat(e.key);var s="".concat(u).concat(a,"-").concat(e.key);return t.options.theme[i.Z]&&""===c?"".concat(s,"-").concat(l()):s}return"".concat(u).concat(o).concat(l())}}},3869:function(e,t,n){"use strict";function i(e){var t=e.theme,n=e.name,i=e.props;if(!t||!t.props||!t.props[n])return i;var r,a=t.props[n];for(r in a)void 0===i[r]&&(i[r]=a[r]);return i}n.d(t,{Z:function(){return i}})},7104:function(e,t,n){"use strict";n.r(t),n.d(t,{ServerStyleSheets:function(){return h},StylesContext:function(){return m.NU},StylesProvider:function(){return m.ZP},ThemeProvider:function(){return b},createGenerateClassName:function(){return i.Z},createStyles:function(){return r},getThemeProps:function(){return a.Z},jssPreset:function(){return o.Z},makeStyles:function(){return s.Z},mergeClasses:function(){return c.Z},sheetsManager:function(){return m.tP},styled:function(){return v.Z},useTheme:function(){return y.Z},withStyles:function(){return w.Z},withTheme:function(){return D},withThemeCreator:function(){return U}});var i=n(5034);function r(e){return e}var a=n(3869),o=n(246),s=n(3914),c=n(5835),u=n(2122),d=n(6610),l=n(5991),p=n(7294),f=n(4013),m=n(6975),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,d.Z)(this,e),this.options=t}return(0,l.Z)(e,[{key:"collect",value:function(e){var t=new Map;this.sheetsRegistry=new f.xE;var n=(0,i.Z)();return p.createElement(m.ZP,(0,u.Z)({sheetsManager:t,serverGenerateClassName:n,sheetsRegistry:this.sheetsRegistry},this.options),e)}},{key:"toString",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():""}},{key:"getStyleElement",value:function(e){return p.createElement("style",(0,u.Z)({id:"jss-server-side",key:"jss-server-side",dangerouslySetInnerHTML:{__html:this.toString()}},e))}}]),e}(),v=n(9699),g=(n(5697),n(3800)),y=n(159),I=n(7076);var b=function(e){var t=e.children,n=e.theme,i=(0,y.Z)(),r=p.useMemo((function(){var e=null===i?n:function(e,t){return"function"==typeof t?t(e):(0,u.Z)({},e,t)}(i,n);return null!=e&&(e[I.Z]=null!==i),e}),[n,i]);return p.createElement(g.Z.Provider,{value:r},t)},w=n(8920),S=n(1253),N=n(8679),P=n.n(N);function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=function(e){var n=p.forwardRef((function(n,i){var r=n.innerRef,a=(0,S.Z)(n,["innerRef"]),o=(0,y.Z)()||t;return p.createElement(e,(0,u.Z)({theme:o,ref:r||i},a))}));return P()(n,e),n};return n}var D=U()},246:function(e,t,n){"use strict";n.d(t,{Z:function(){return Oe}});var i=n(4013),r=Date.now(),a="fnValues"+r,o="fnStyle"+ ++r,s=function(){return{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var r=(0,i.JH)(e,{},n);return r[o]=t,r},onProcessStyle:function(e,t){if(a in t||o in t)return e;var n={};for(var i in e){var r=e[i];"function"==typeof r&&(delete e[i],n[i]=r)}return t[a]=n,e},onUpdate:function(e,t,n,i){var r=t,s=r[o];s&&(r.style=s(e)||{});var c=r[a];if(c)for(var u in c)r.prop(u,c[u](e),i)}}},c=n(2122),u="@global",d="@global ",l=function(){function e(e,t,n){for(var r in this.type="global",this.at=u,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new i.RB((0,c.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var i=this.rules.add(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),i},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),p=function(){function e(e,t,n){this.type="global",this.at=u,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var i=e.substr(d.length);this.rule=n.jss.createRule(i,t,(0,c.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),f=/\s*,\s*/g;function m(e,t){for(var n=e.split(f),i="",r=0;r<n.length;r++)i+=t+" "+n[r].trim(),n[r+1]&&(i+=", ");return i}var h=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===u)return new l(e,t,n);if("@"===e[0]&&e.substr(0,d.length)===d)return new p(e,t,n);var i=n.parent;return i&&("global"===i.type||i.options.parent&&"global"===i.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,r=i?i[u]:null;if(r){for(var a in r)t.addRule(a,r[a],(0,c.Z)({},n,{selector:m(a,e.selector)}));delete i[u]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var r in i)if("@"===r[0]&&r.substr(0,u.length)===u){var a=m(r.substr(u.length),e.selector);t.addRule(a,i[r],(0,c.Z)({},n,{selector:a})),delete i[r]}}(e,t))}}},v=/\s*,\s*/g,g=/&/g,y=/\$([\w-]+)/g;var I=function(){function e(e,t){return function(n,i){var r=e.getRule(i)||t&&t.getRule(i);return r?(r=r).selector:i}}function t(e,t){for(var n=t.split(v),i=e.split(v),r="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<i.length;s++){var c=i[s];r&&(r+=", "),r+=-1!==c.indexOf("&")?c.replace(g,o):o+" "+c}return r}function n(e,t,n){if(n)return(0,c.Z)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var r=(0,c.Z)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete r.name,r}return{onProcessStyle:function(i,r,a){if("style"!==r.type)return i;var o,s,u=r,d=u.options.parent;for(var l in i){var p=-1!==l.indexOf("&"),f="@"===l[0];if(p||f){if(o=n(u,d,o),p){var m=t(l,u.selector);s||(s=e(d,a)),m=m.replace(y,s),d.addRule(m,i[l],(0,c.Z)({},o,{selector:m}))}else f&&d.addRule(l,{},o).addRule(u.key,i[l],{selector:u.selector});delete i[l]}}return i}}},b=/[A-Z]/g,w=/^ms-/,S={};function N(e){return"-"+e.toLowerCase()}var P=function(e){if(S.hasOwnProperty(e))return S[e];var t=e.replace(b,N);return S[e]=w.test(t)?"-"+t:t};function U(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:P(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(U):t.fallbacks=U(e.fallbacks)),t}var D=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=U(e[t]);return e}return U(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var i=P(t);return t===i?e:(n.prop(i,e),null)}}},T=i.HZ&&CSS?CSS.px:"px",C=i.HZ&&CSS?CSS.ms:"ms",E=i.HZ&&CSS?CSS.percent:"%";function A(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},i={};for(var r in e)i[r]=e[r],i[r.replace(t,n)]=e[r];return i}var M=A({"animation-delay":C,"animation-duration":C,"background-position":T,"background-position-x":T,"background-position-y":T,"background-size":T,border:T,"border-bottom":T,"border-bottom-left-radius":T,"border-bottom-right-radius":T,"border-bottom-width":T,"border-left":T,"border-left-width":T,"border-radius":T,"border-right":T,"border-right-width":T,"border-top":T,"border-top-left-radius":T,"border-top-right-radius":T,"border-top-width":T,"border-width":T,"border-block":T,"border-block-end":T,"border-block-end-width":T,"border-block-start":T,"border-block-start-width":T,"border-block-width":T,"border-inline":T,"border-inline-end":T,"border-inline-end-width":T,"border-inline-start":T,"border-inline-start-width":T,"border-inline-width":T,"border-start-start-radius":T,"border-start-end-radius":T,"border-end-start-radius":T,"border-end-end-radius":T,margin:T,"margin-bottom":T,"margin-left":T,"margin-right":T,"margin-top":T,"margin-block":T,"margin-block-end":T,"margin-block-start":T,"margin-inline":T,"margin-inline-end":T,"margin-inline-start":T,padding:T,"padding-bottom":T,"padding-left":T,"padding-right":T,"padding-top":T,"padding-block":T,"padding-block-end":T,"padding-block-start":T,"padding-inline":T,"padding-inline-end":T,"padding-inline-start":T,"mask-position-x":T,"mask-position-y":T,"mask-size":T,height:T,width:T,"min-height":T,"max-height":T,"min-width":T,"max-width":T,bottom:T,left:T,top:T,right:T,inset:T,"inset-block":T,"inset-block-end":T,"inset-block-start":T,"inset-inline":T,"inset-inline-end":T,"inset-inline-start":T,"box-shadow":T,"text-shadow":T,"column-gap":T,"column-rule":T,"column-rule-width":T,"column-width":T,"font-size":T,"font-size-delta":T,"letter-spacing":T,"text-decoration-thickness":T,"text-indent":T,"text-stroke":T,"text-stroke-width":T,"word-spacing":T,motion:T,"motion-offset":T,outline:T,"outline-offset":T,"outline-width":T,perspective:T,"perspective-origin-x":E,"perspective-origin-y":E,"transform-origin":E,"transform-origin-x":E,"transform-origin-y":E,"transform-origin-z":E,"transition-delay":C,"transition-duration":C,"vertical-align":T,"flex-basis":T,"shape-margin":T,size:T,gap:T,grid:T,"grid-gap":T,"row-gap":T,"grid-row-gap":T,"grid-column-gap":T,"grid-template-rows":T,"grid-template-columns":T,"grid-auto-rows":T,"grid-auto-columns":T,"box-shadow-x":T,"box-shadow-y":T,"box-shadow-blur":T,"box-shadow-spread":T,"font-line-height":T,"text-shadow-x":T,"text-shadow-y":T,"text-shadow-blur":T});function R(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]=R(e,t[i],n);else if("object"==typeof t)if("fallbacks"===e)for(var r in t)t[r]=R(r,t[r],n);else for(var a in t)t[a]=R(e+"-"+a,t[a],n);else if("number"==typeof t&&!1===isNaN(t)){var o=n[e]||M[e];return!o||0===t&&o===T?t.toString():"function"==typeof o?o(t).toString():""+t+o}return t}var x=function(e){void 0===e&&(e={});var t=A(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var i in e)e[i]=R(i,e[i],t);return e},onChangeValue:function(e,n){return R(n,e,t)}}},O=n(3827),k=n(7329),F="",L="",Z="",_="",j=O.Z&&"ontouchstart"in document.documentElement;if(O.Z){var B={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},V=document.createElement("p").style;for(var G in B)if(G+"Transform"in V){F=G,L=B[G];break}"Webkit"===F&&"msHyphens"in V&&(F="ms",L=B.ms,_="edge"),"Webkit"===F&&"-apple-trailing-word"in V&&(Z="apple")}var H=F,W=L,z=Z,K=_,q=j;var Y={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===H?"-webkit-"+e:W+e)}},$={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===H?W+"print-"+e:e)}},J=/[-\s]+(.)?/g;function Q(e,t){return t?t.toUpperCase():""}function X(e){return e.replace(J,Q)}function ee(e){return X("-"+e)}var te,ne={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===H){var n="mask-image";if(X(n)in t)return e;if(H+ee(n)in t)return W+e}return e}},ie={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==z||q?e:W+e)}},re={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:W+e)}},ae={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:W+e)}},oe={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===H||"ms"===H&&"edge"!==K?W+e:e)}},se={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===H||"ms"===H||"apple"===z?W+e:e)}},ce={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===H?"WebkitColumn"+ee(e)in t&&W+"column-"+e:"Moz"===H&&("page"+ee(e)in t&&"page-"+e))}},ue={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===H)return e;var n=e.replace("-inline","");return H+ee(n)in t&&W+n}},de={supportedProperty:function(e,t){return X(e)in t&&e}},le={supportedProperty:function(e,t){var n=ee(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:H+n in t?W+e:"Webkit"!==H&&"Webkit"+n in t&&"-webkit-"+e}},pe={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===H?""+W+e:e)}},fe={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===H?W+"scroll-chaining":e)}},me={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},he={supportedProperty:function(e,t){var n=me[e];return!!n&&(H+ee(n)in t&&W+n)}},ve={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},ge=Object.keys(ve),ye=function(e){return W+e},Ie=[Y,$,ne,ie,re,ae,oe,se,ce,ue,de,le,pe,fe,he,{supportedProperty:function(e,t,n){var i=n.multiple;if(ge.indexOf(e)>-1){var r=ve[e];if(!Array.isArray(r))return H+ee(r)in t&&W+r;if(!i)return!1;for(var a=0;a<r.length;a++)if(!(H+ee(r[0])in t))return!1;return r.map(ye)}return!1}}],be=Ie.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),we=Ie.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,k.Z)(t.noPrefill)),e}),[]),Se={};if(O.Z){te=document.createElement("p");var Ne=window.getComputedStyle(document.documentElement,"");for(var Pe in Ne)isNaN(Pe)||(Se[Ne[Pe]]=Ne[Pe]);we.forEach((function(e){return delete Se[e]}))}function Ue(e,t){if(void 0===t&&(t={}),!te)return e;if(null!=Se[e])return Se[e];"transition"!==e&&"transform"!==e||(t[e]=e in te.style);for(var n=0;n<be.length&&(Se[e]=be[n](e,te.style,t),!Se[e]);n++);try{te.style[e]=""}catch(i){return!1}return Se[e]}var De,Te={},Ce={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Ee=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Ae(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var i=t?Ue(t):", "+Ue(n);return i||(t||n)}function Me(e,t){var n=t;if(!De||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var i=e+n;if(null!=Te[i])return Te[i];try{De.style[e]=n}catch(r){return Te[i]=!1,!1}if(Ce[e])n=n.replace(Ee,Ae);else if(""===De.style[e]&&("-ms-flex"===(n=W+n)&&(De.style[e]="-ms-flexbox"),De.style[e]=n,""===De.style[e]))return Te[i]=!1,!1;return De.style[e]="",Te[i]=n,Te[i]}O.Z&&(De=document.createElement("p"));var Re=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var a=!1,o=Ue(n);o&&o!==n&&(a=!0);var s=!1,c=Me(o,(0,i.EK)(r));c&&c!==r&&(s=!0),(a||s)&&(a&&delete t[n],t[o||n]=c||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===H?e:"@"+W+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Me(t,(0,i.EK)(e))||e}}};var xe=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var i={},r=Object.keys(t).sort(e),a=0;a<r.length;a++)i[r[a]]=t[r[a]];return i}}};function Oe(){return{plugins:[s(),h(),I(),D(),x(),"undefined"==typeof window?null:Re(),xe()]}}},3914:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var i=n(1253),r=n(2122),a=n(7294),o=n(4013),s=n(5835),c={set:function(e,t,n,i){var r=e.get(t);r||(r=new Map,e.set(t,r)),r.set(n,i)},get:function(e,t,n){var i=e.get(t);return i?i.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},u=n(159),d=n(6975),l=-1e9;function p(){return l+=1}var f=n(5953);function m(e){var t="function"==typeof e;return{create:function(n,i){var a;try{a=t?e(n):e}catch(c){throw c}if(!i||!n.overrides||!n.overrides[i])return a;var o=n.overrides[i],s=(0,r.Z)({},a);return Object.keys(o).forEach((function(e){s[e]=(0,f.Z)(s[e],o[e])})),s},options:{}}}var h={};function v(e,t,n){var i=e.state;if(e.stylesOptions.disableGeneration)return t||{};i.cacheClasses||(i.cacheClasses={value:null,lastProp:null,lastJSS:{}});var r=!1;return i.classes!==i.cacheClasses.lastJSS&&(i.cacheClasses.lastJSS=i.classes,r=!0),t!==i.cacheClasses.lastProp&&(i.cacheClasses.lastProp=t,r=!0),r&&(i.cacheClasses.value=(0,s.Z)({baseClasses:i.cacheClasses.lastJSS,newClasses:t,Component:n})),i.cacheClasses.value}function g(e,t){var n=e.state,i=e.theme,a=e.stylesOptions,u=e.stylesCreator,d=e.name;if(!a.disableGeneration){var l=c.get(a.sheetsManager,u,i);l||(l={refs:0,staticSheet:null,dynamicStyles:null},c.set(a.sheetsManager,u,i,l));var p=(0,r.Z)({},u.options,a,{theme:i,flip:"boolean"==typeof a.flip?a.flip:"rtl"===i.direction});p.generateId=p.serverGenerateClassName||p.generateClassName;var f=a.sheetsRegistry;if(0===l.refs){var m;a.sheetsCache&&(m=c.get(a.sheetsCache,u,i));var h=u.create(i,d);m||((m=a.jss.createStyleSheet(h,(0,r.Z)({link:!1},p))).attach(),a.sheetsCache&&c.set(a.sheetsCache,u,i,m)),f&&f.add(m),l.staticSheet=m,l.dynamicStyles=(0,o._$)(h)}if(l.dynamicStyles){var v=a.jss.createStyleSheet(l.dynamicStyles,(0,r.Z)({link:!0},p));v.update(t),v.attach(),n.dynamicSheet=v,n.classes=(0,s.Z)({baseClasses:l.staticSheet.classes,newClasses:v.classes}),f&&f.add(v)}else n.classes=l.staticSheet.classes;l.refs+=1}}function y(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function I(e){var t=e.state,n=e.theme,i=e.stylesOptions,r=e.stylesCreator;if(!i.disableGeneration){var a=c.get(i.sheetsManager,r,n);a.refs-=1;var o=i.sheetsRegistry;0===a.refs&&(c.delete(i.sheetsManager,r,n),i.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(i.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function b(e,t){var n,i=a.useRef([]),r=a.useMemo((function(){return{}}),t);i.current!==r&&(i.current=r,n=e()),a.useEffect((function(){return function(){n&&n()}}),[r])}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,c=t.defaultTheme,l=void 0===c?h:c,f=(0,i.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),w=m(e),S=n||o||"makeStyles";w.options={index:p(),name:n,meta:S,classNamePrefix:S};var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.Z)()||l,i=(0,r.Z)({},a.useContext(d.NU),f),o=a.useRef(),c=a.useRef();b((function(){var r={name:n,state:{},stylesCreator:w,stylesOptions:i,theme:t};return g(r,e),c.current=!1,o.current=r,function(){I(r)}}),[t,w]),a.useEffect((function(){c.current&&y(o.current,e),c.current=!0}));var p=v(o.current,e.classes,s);return p};return N}},5835:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(2122);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=(0,i.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}},9699:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(2122),r=n(1253),a=n(7294),o=n(6010),s=(n(5697),n(8679)),c=n.n(s),u=n(3914);function d(e,t){var n={};return Object.keys(e).forEach((function(i){-1===t.indexOf(i)&&(n[i]=e[i])})),n}function l(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=n.name,l=(0,r.Z)(n,["name"]);var p,f=s,m="function"==typeof t?function(e){return{root:function(n){return t((0,i.Z)({theme:e},n))}}}:{root:t},h=(0,u.Z)(m,(0,i.Z)({Component:e,name:s||e.displayName,classNamePrefix:f},l));t.filterProps&&(p=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var v=a.forwardRef((function(t,n){var s=t.children,c=t.className,u=t.clone,l=t.component,f=(0,r.Z)(t,["children","className","clone","component"]),m=h(t),v=(0,o.Z)(m.root,c),g=f;if(p&&(g=d(g,p)),u)return a.cloneElement(s,(0,i.Z)({className:(0,o.Z)(s.props.className,v)},g));if("function"==typeof s)return s((0,i.Z)({className:v},g));var y=l||e;return a.createElement(y,(0,i.Z)({ref:n,className:v},g),s)}));return c()(v,e),v}}},3800:function(e,t,n){"use strict";var i=n(7294).createContext(null);t.Z=i},159:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(7294),r=n(3800);function a(){return i.useContext(r.Z)}},8920:function(e,t,n){"use strict";var i=n(2122),r=n(1253),a=n(7294),o=(n(5697),n(8679)),s=n.n(o),c=n(3914),u=n(3869),d=n(159);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,l=t.withTheme,p=void 0!==l&&l,f=t.name,m=(0,r.Z)(t,["defaultTheme","withTheme","name"]);var h=f,v=(0,c.Z)(e,(0,i.Z)({defaultTheme:o,Component:n,name:f||n.displayName,classNamePrefix:h},m)),g=a.forwardRef((function(e,t){e.classes;var s,c=e.innerRef,l=(0,r.Z)(e,["classes","innerRef"]),m=v((0,i.Z)({},n.defaultProps,e)),h=l;return("string"==typeof f||p)&&(s=(0,d.Z)()||o,f&&(h=(0,u.Z)({theme:s,name:f,props:l})),p&&!h.theme&&(h.theme=s)),a.createElement(n,(0,i.Z)({ref:c||t,classes:m},h))}));return s()(g,n),g}}},9424:function(e,t,n){"use strict";n.d(t,{Cg:function(){return o},j1:function(){return s},vQ:function(){return c},h$:function(){return u},sc:function(){return d},tv:function(){return l},E0:function(){return p}});var i=n(8245),r=n(5680);function a(e){return"number"!=typeof e?e:"".concat(e,"px solid")}var o=(0,i.Z)({prop:"border",themeKey:"borders",transform:a}),s=(0,i.Z)({prop:"borderTop",themeKey:"borders",transform:a}),c=(0,i.Z)({prop:"borderRight",themeKey:"borders",transform:a}),u=(0,i.Z)({prop:"borderBottom",themeKey:"borders",transform:a}),d=(0,i.Z)({prop:"borderLeft",themeKey:"borders",transform:a}),l=(0,i.Z)({prop:"borderColor",themeKey:"palette"}),p=(0,i.Z)({prop:"borderRadius",themeKey:"shape"}),f=(0,r.Z)(o,s,c,u,d,l,p);t.ZP=f},1410:function(e,t,n){"use strict";n.d(t,{k:function(){return u}});var i=n(7329),r=n(2122),a=n(484),o=(n(5697),n(9668)),s={xs:0,sm:600,md:960,lg:1280,xl:1920},c={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(s[e],"px)")}};function u(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||c;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===(0,a.Z)(t)){var r=e.theme.breakpoints||c;return Object.keys(t).reduce((function(e,i){return e[r.up(i)]=n(t[i]),e}),{})}return n(t)}t.Z=function(e){var t=function(t){var n=e(t),i=t.theme.breakpoints||c,a=i.keys.reduce((function(n,a){return t[a]&&((n=n||{})[i.up(a)]=e((0,r.Z)({theme:t.theme},t[a]))),n}),null);return(0,o.Z)(n,a)};return t.propTypes={},t.filterProps=["xs","sm","md","lg","xl"].concat((0,i.Z)(e.filterProps)),t}},5680:function(e,t,n){"use strict";var i=n(9668);t.Z=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?(0,i.Z)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r}},119:function(e,t,n){"use strict";var i=n(7329),r=n(2122),a=(n(5697),n(9668));t.Z=function(e){var t=function(t){var n=e(t);return t.css?(0,r.Z)({},(0,a.Z)(n,e((0,r.Z)({theme:t.theme},t.css))),function(e,t){var n={};return Object.keys(e).forEach((function(i){-1===t.indexOf(i)&&(n[i]=e[i])})),n}(t.css,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css"].concat((0,i.Z)(e.filterProps)),t}},962:function(e,t,n){"use strict";var i=n(8245),r=n(5680),a=(0,i.Z)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),o=(0,i.Z)({prop:"display"}),s=(0,i.Z)({prop:"overflow"}),c=(0,i.Z)({prop:"textOverflow"}),u=(0,i.Z)({prop:"visibility"}),d=(0,i.Z)({prop:"whiteSpace"});t.ZP=(0,r.Z)(a,o,s,c,u,d)},3633:function(e,t,n){"use strict";n.d(t,{P_:function(){return a},Me:function(){return o},WO:function(){return s},Kl:function(){return c},cq:function(){return u},Kv:function(){return d},vm:function(){return l},fU:function(){return p},H7:function(){return f},i4:function(){return m},uk:function(){return h},eY:function(){return v},zo:function(){return g}});var i=n(8245),r=n(5680),a=(0,i.Z)({prop:"flexBasis"}),o=(0,i.Z)({prop:"flexDirection"}),s=(0,i.Z)({prop:"flexWrap"}),c=(0,i.Z)({prop:"justifyContent"}),u=(0,i.Z)({prop:"alignItems"}),d=(0,i.Z)({prop:"alignContent"}),l=(0,i.Z)({prop:"order"}),p=(0,i.Z)({prop:"flex"}),f=(0,i.Z)({prop:"flexGrow"}),m=(0,i.Z)({prop:"flexShrink"}),h=(0,i.Z)({prop:"alignSelf"}),v=(0,i.Z)({prop:"justifyItems"}),g=(0,i.Z)({prop:"justifySelf"}),y=(0,r.Z)(a,o,s,c,u,d,l,p,f,m,h,v,g);t.ZP=y},6427:function(e,t,n){"use strict";n.d(t,{Cc:function(){return a},W3:function(){return o},Ub:function(){return s},t4:function(){return c},oI:function(){return u},B:function(){return d},aN:function(){return l},FW:function(){return p},K$:function(){return f},RG:function(){return m},zI:function(){return h},fD:function(){return v}});var i=n(8245),r=n(5680),a=(0,i.Z)({prop:"gridGap"}),o=(0,i.Z)({prop:"gridColumnGap"}),s=(0,i.Z)({prop:"gridRowGap"}),c=(0,i.Z)({prop:"gridColumn"}),u=(0,i.Z)({prop:"gridRow"}),d=(0,i.Z)({prop:"gridAutoFlow"}),l=(0,i.Z)({prop:"gridAutoColumns"}),p=(0,i.Z)({prop:"gridAutoRows"}),f=(0,i.Z)({prop:"gridTemplateColumns"}),m=(0,i.Z)({prop:"gridTemplateRows"}),h=(0,i.Z)({prop:"gridTemplateAreas"}),v=(0,i.Z)({prop:"gridArea"}),g=(0,r.Z)(a,o,s,c,u,d,l,p,f,m,h,v);t.ZP=g},1151:function(e,t,n){"use strict";n.r(t),n.d(t,{borders:function(){return i.ZP},border:function(){return i.Cg},borderBottom:function(){return i.h$},borderColor:function(){return i.tv},borderLeft:function(){return i.sc},borderRadius:function(){return i.E0},borderRight:function(){return i.vQ},borderTop:function(){return i.j1},breakpoints:function(){return r.Z},compose:function(){return a.Z},css:function(){return o.Z},display:function(){return s.ZP},flexbox:function(){return c.ZP},alignContent:function(){return c.Kv},alignItems:function(){return c.cq},alignSelf:function(){return c.uk},flex:function(){return c.fU},flexBasis:function(){return c.P_},flexDirection:function(){return c.Me},flexGrow:function(){return c.H7},flexShrink:function(){return c.i4},flexWrap:function(){return c.WO},justifyContent:function(){return c.Kl},justifyItems:function(){return c.eY},justifySelf:function(){return c.zo},order:function(){return c.vm},grid:function(){return u.ZP},gridArea:function(){return u.fD},gridAutoColumns:function(){return u.aN},gridAutoFlow:function(){return u.B},gridAutoRows:function(){return u.FW},gridColumn:function(){return u.t4},gridColumnGap:function(){return u.W3},gridGap:function(){return u.Cc},gridRow:function(){return u.oI},gridRowGap:function(){return u.Ub},gridTemplateAreas:function(){return u.zI},gridTemplateColumns:function(){return u.K$},gridTemplateRows:function(){return u.RG},palette:function(){return d.ZP},bgcolor:function(){return d.n9},color:function(){return d.$_},positions:function(){return l.ZP},bottom:function(){return l.I},left:function(){return l.t$},position:function(){return l.FK},right:function(){return l.F2},top:function(){return l.we},zIndex:function(){return l.W5},shadows:function(){return p.Z},sizing:function(){return f.ZP},boxSizing:function(){return f.ix},height:function(){return f.Cb},maxHeight:function(){return f.kC},maxWidth:function(){return f.kk},minHeight:function(){return f.jw},minWidth:function(){return f.ih},sizeHeight:function(){return f.Vs},sizeWidth:function(){return f.lO},width:function(){return f.bf},spacing:function(){return m.Z},createUnarySpacing:function(){return m.h},style:function(){return h.Z},typography:function(){return v.ZP},fontFamily:function(){return v.I8},fontSize:function(){return v.JB},fontStyle:function(){return v.p_},fontWeight:function(){return v.Ue},letterSpacing:function(){return v.rX},lineHeight:function(){return v.Nv},textAlign:function(){return v.yd}});var i=n(9424),r=n(1410),a=n(5680),o=n(119),s=n(962),c=n(3633),u=n(6427),d=n(5164),l=n(3939),p=n(958),f=n(6801),m=n(8681),h=n(8245),v=n(9560)},9668:function(e,t,n){"use strict";var i=n(5953);t.Z=function(e,t){return t?(0,i.Z)(e,t,{clone:!1}):e}},5164:function(e,t,n){"use strict";n.d(t,{$_:function(){return a},n9:function(){return o}});var i=n(8245),r=n(5680),a=(0,i.Z)({prop:"color",themeKey:"palette"}),o=(0,i.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),s=(0,r.Z)(a,o);t.ZP=s},3939:function(e,t,n){"use strict";n.d(t,{FK:function(){return a},W5:function(){return o},we:function(){return s},F2:function(){return c},I:function(){return u},t$:function(){return d}});var i=n(8245),r=n(5680),a=(0,i.Z)({prop:"position"}),o=(0,i.Z)({prop:"zIndex",themeKey:"zIndex"}),s=(0,i.Z)({prop:"top"}),c=(0,i.Z)({prop:"right"}),u=(0,i.Z)({prop:"bottom"}),d=(0,i.Z)({prop:"left"});t.ZP=(0,r.Z)(a,o,s,c,u,d)},958:function(e,t,n){"use strict";var i=(0,n(8245).Z)({prop:"boxShadow",themeKey:"shadows"});t.Z=i},6801:function(e,t,n){"use strict";n.d(t,{bf:function(){return o},kk:function(){return s},ih:function(){return c},Cb:function(){return u},kC:function(){return d},jw:function(){return l},lO:function(){return p},Vs:function(){return f},ix:function(){return m}});var i=n(8245),r=n(5680);function a(e){return e<=1?"".concat(100*e,"%"):e}var o=(0,i.Z)({prop:"width",transform:a}),s=(0,i.Z)({prop:"maxWidth",transform:a}),c=(0,i.Z)({prop:"minWidth",transform:a}),u=(0,i.Z)({prop:"height",transform:a}),d=(0,i.Z)({prop:"maxHeight",transform:a}),l=(0,i.Z)({prop:"minHeight",transform:a}),p=(0,i.Z)({prop:"size",cssProperty:"width",transform:a}),f=(0,i.Z)({prop:"size",cssProperty:"height",transform:a}),m=(0,i.Z)({prop:"boxSizing"}),h=(0,r.Z)(o,s,c,u,d,l,m);t.ZP=h},8681:function(e,t,n){"use strict";n.d(t,{h:function(){return f},Z:function(){return v}});var i=n(4699),r=n(1410),a=n(9668);var o,s,c={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},d={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=(o=function(e){if(e.length>2){if(!d[e])return[e];e=d[e]}var t=e.split(""),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=c[r],s=u[a]||"";return Array.isArray(s)?s.map((function(e){return o+e})):[o+s]},s={},function(e){return void 0===s[e]&&(s[e]=o(e)),s[e]}),p=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function f(e){var t=e.spacing||8;return"number"==typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"==typeof t?t:function(){}}function m(e,t){return function(n){return e.reduce((function(e,i){return e[i]=function(e,t){if("string"==typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"==typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function h(e){var t=f(e.theme);return Object.keys(e).map((function(n){if(-1===p.indexOf(n))return null;var i=m(l(n),t),a=e[n];return(0,r.k)(e,a,i)})).reduce(a.Z,{})}h.propTypes={},h.filterProps=p;var v=h},8245:function(e,t,n){"use strict";var i=n(6156),r=n(1410);function a(e,t){return t&&"string"==typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}t.Z=function(e){var t=e.prop,n=e.cssProperty,o=void 0===n?e.prop:n,s=e.themeKey,c=e.transform,u=function(e){if(null==e[t])return null;var n=e[t],u=a(e.theme,s)||{};return(0,r.k)(e,n,(function(e){var t;return"function"==typeof u?t=u(e):Array.isArray(u)?t=u[e]||e:(t=a(u,e)||e,c&&(t=c(t))),!1===o?t:(0,i.Z)({},o,t)}))};return u.propTypes={},u.filterProps=[t],u}},9560:function(e,t,n){"use strict";n.d(t,{I8:function(){return a},JB:function(){return o},p_:function(){return s},Ue:function(){return c},rX:function(){return u},Nv:function(){return d},yd:function(){return l}});var i=n(8245),r=n(5680),a=(0,i.Z)({prop:"fontFamily",themeKey:"typography"}),o=(0,i.Z)({prop:"fontSize",themeKey:"typography"}),s=(0,i.Z)({prop:"fontStyle",themeKey:"typography"}),c=(0,i.Z)({prop:"fontWeight",themeKey:"typography"}),u=(0,i.Z)({prop:"letterSpacing"}),d=(0,i.Z)({prop:"lineHeight"}),l=(0,i.Z)({prop:"textAlign"}),p=(0,r.Z)(a,o,s,c,u,d,l);t.ZP=p},5953:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(2122),r=n(484);function a(e){return e&&"object"===(0,r.Z)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,i.Z)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(a(t[i])&&i in e?r[i]=o(e[i],t[i],n):r[i]=t[i])})),r}},288:function(e,t,n){"use strict";function i(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return i}})},5218:function(e,t,n){"use strict";function i(e,t){return function(){return null}}n.r(t),n.d(t,{HTMLElementType:function(){return I},chainPropTypes:function(){return i},deepmerge:function(){return r.Z},elementAcceptingRef:function(){return c},elementTypeAcceptingRef:function(){return u},exactProp:function(){return d},formatMuiErrorMessage:function(){return l.Z},getDisplayName:function(){return y},ponyfillGlobal:function(){return b},refType:function(){return w}});var r=n(5953),a=n(5697),o=n.n(a);var s=(o().element,function(){return null});s.isRequired=(o().element.isRequired,function(){return null});var c=s;var u=(a.elementType,function(){return null});n(6156),n(2122);function d(e){return e}var l=n(288),p=n(484),f=n(9864),m=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function h(e){var t="".concat(e).match(m);return t&&t[1]||""}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||h(e)||t}function g(e,t,n){var i=v(t);return e.displayName||(""!==i?"".concat(n,"(").concat(i,")"):n)}function y(e){if(null!=e){if("string"==typeof e)return e;if("function"==typeof e)return v(e,"Component");if("object"===(0,p.Z)(e))switch(e.$$typeof){case f.ForwardRef:return g(e,e.render,"ForwardRef");case f.Memo:return g(e,e.type,"memo");default:return}}}function I(e,t,n,i,r){return null}var b="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),w=o().oneOfType([o().func,o().object])},4184:function(e,t){var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=r.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)i.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},3827:function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof document?"undefined":i(document))&&9===document.nodeType;t.Z=r},4013:function(e,t,n){"use strict";n.d(t,{RB:function(){return K},xE:function(){return $},Ue:function(){return ge},JH:function(){return l},_$:function(){return he},HZ:function(){return ve},EK:function(){return f}});var i=n(2122),r=n(3827),a=n(5991),o=n(3552),s=n(3349),c=n(9756),u={}.constructor;function d(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(d);if(e.constructor!==u)return e;var t={};for(var n in e)t[n]=d(e[n]);return t}function l(e,t,n){void 0===e&&(e="unnamed");var i=n.jss,r=d(t),a=i.plugins.onCreateRule(e,r,n);return a||(e[0],null)}var p=function(e,t){for(var n="",i=0;i<e.length&&"!important"!==e[i];i++)n&&(n+=t),n+=e[i];return n},f=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var i=0;i<e.length&&"!important"!==e[i];i++)n&&(n+=", "),n+=p(e[i]," ");else n=p(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function m(e,t){for(var n="",i=0;i<t;i++)n+="  ";return n+e}function h(e,t,n){void 0===n&&(n={});var i="";if(!t)return i;var r=n.indent,a=void 0===r?0:r,o=t.fallbacks;if(e&&a++,o)if(Array.isArray(o))for(var s=0;s<o.length;s++){var c=o[s];for(var u in c){var d=c[u];null!=d&&(i&&(i+="\n"),i+=""+m(u+": "+f(d)+";",a))}}else for(var l in o){var p=o[l];null!=p&&(i&&(i+="\n"),i+=""+m(l+": "+f(p)+";",a))}for(var h in t){var v=t[h];null!=v&&"fallbacks"!==h&&(i&&(i+="\n"),i+=""+m(h+": "+f(v)+";",a))}return(i||n.allowEmpty)&&e?(i&&(i="\n"+i+"\n"),m(e+" {"+i,--a)+m("}",a)):i}var v=/([[\].#*$><+~=|^:(),"'`\s])/g,g="undefined"!=typeof CSS&&CSS.escape,y=function(e){return g?g(e):e.replace(v,"\\$1")},I=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var i=n.sheet,r=n.Renderer;this.key=e,this.options=n,this.style=t,i?this.renderer=i.renderer:r&&(this.renderer=new r)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var i=!!n&&n.force;if(!i&&this.style[e]===t)return this;var r=t;n&&!1===n.process||(r=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==r||!1===r,o=e in this.style;if(a&&!o&&!i)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=r,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,r),this;var c=this.options.sheet;return c&&c.attached,this},e}(),b=function(e){function t(t,n,i){var r;(r=e.call(this,t,n,i)||this).selectorText=void 0,r.id=void 0,r.renderable=void 0;var a=i.selector,o=i.scoped,c=i.sheet,u=i.generateId;return a?r.selectorText=a:!1!==o&&(r.id=u((0,s.Z)((0,s.Z)(r)),c),r.selectorText="."+y(r.id)),r}(0,o.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var i in n)t.setProperty(e,i,n[i])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!=typeof n?e[t]=n:Array.isArray(n)&&(e[t]=f(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return h(this.selectorText,this.style,n)},(0,a.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(I),w={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new b(e,t,n)}},S={indent:1,children:!0},N=/@([\w-]+)/,P=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var r=e.match(N);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new K((0,i.Z)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),i):null},t.toString=function(e){if(void 0===e&&(e=S),null==e.indent&&(e.indent=S.indent),null==e.children&&(e.children=S.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),U=/@media|@supports\s+/,D={onCreateRule:function(e,t,n){return U.test(e)?new P(e,t,n):null}},T={indent:1,children:!0},C=/@keyframes\s+([\w-]+)/,E=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=e.match(C);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,s=n.generateId;for(var c in this.id=!1===a?this.name:y(s(this,o)),this.rules=new K((0,i.Z)({},n,{parent:this})),t)this.rules.add(c,t[c],(0,i.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=T),null==e.indent&&(e.indent=T.indent),null==e.children&&(e.children=T.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),A=/@keyframes\s+/,M=/\$([\w-]+)/g,R=function(e,t){return"string"==typeof e?e.replace(M,(function(e,n){return n in t?t[n]:e})):e},x=function(e,t,n){var i=e[t],r=R(i,n);r!==i&&(e[t]=r)},O={onCreateRule:function(e,t,n){return"string"==typeof e&&A.test(e)?new E(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&x(e,"animation-name",n.keyframes),"animation"in e&&x(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var i=n.options.sheet;if(!i)return e;switch(t){case"animation":case"animation-name":return R(e,i.keyframes);default:return e}}},k=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).renderable=void 0,t}return(0,o.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return h(this.key,this.style,n)},t}(I),F={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new k(e,t,n):null}},L=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=h(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return h(this.at,this.style,e)},e}(),Z=/@font-face/,_={onCreateRule:function(e,t,n){return Z.test(e)?new L(e,t,n):null}},j=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return h(this.key,this.style,e)},e}(),B={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new j(e,t,n):null}},V=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),G={"@charset":!0,"@import":!0,"@namespace":!0},H=[w,D,O,F,_,B,{onCreateRule:function(e,t,n){return e in G?new V(e,t,n):null}}],W={process:!0},z={force:!0,process:!0},K=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,o=r.sheet,s=r.jss,c=r.Renderer,u=r.generateId,d=r.scoped,p=(0,i.Z)({classes:this.classes,parent:a,sheet:o,jss:s,Renderer:c,generateId:u,scoped:d,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(p.selector="."+y(this.classes[f]));var m=l(f,t,p);if(!m)return null;this.register(m);var h=void 0===p.index?this.index.length:p.index;return this.index.splice(h,0,m),m},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof b?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof E&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof b?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof E&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var i=0;i<this.index.length;i++)this.updateOne(this.index[i],t,n)},t.updateOne=function(t,n,i){void 0===i&&(i=W);var r=this.options,a=r.jss.plugins,o=r.sheet;if(t.rules instanceof e)t.rules.update(n,i);else{var s=t,c=s.style;if(a.onUpdate(n,t,o,i),i.process&&c&&c!==s.style){for(var u in a.onProcessStyle(s.style,s,o),s.style){var d=s.style[u];d!==c[u]&&s.prop(u,d,z)}for(var l in c){var p=s.style[l],f=c[l];null==p&&p!==f&&s.prop(l,null,z)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,i=!!n&&n.options.link,r=0;r<this.index.length;r++){var a=this.index[r].toString(e);(a||i)&&(t&&(t+="\n"),t+=a)}return t},e}(),q=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,i.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new K(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var i=this.queue;this.attached&&!i&&(this.queue=[]);var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(i?i.push(r):(this.insertRule(r),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),r):r:(this.deployed=!1,r)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var i in e){var r=this.addRule(i,e[i],t);r&&n.push(r)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Y=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var i=0;i<this.registry.onCreateRule.length;i++){var r=this.registry.onCreateRule[i](e,t,n);if(r)return r}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var i=0;i<this.registry.onProcessStyle.length;i++)t.style=this.registry.onProcessStyle[i](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,i){for(var r=0;r<this.registry.onUpdate.length;r++)this.registry.onUpdate[r](e,t,n,i)},t.onChangeValue=function(e,t,n){for(var i=e,r=0;r<this.registry.onChangeValue.length;r++)i=this.registry.onChangeValue[r](i,t,n);return i},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),$=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var i=0;i<t.length;i++)if(t[i].options.index>n)return void t.splice(i,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,i=(0,c.Z)(t,["attached"]),r="",a=0;a<this.registry.length;a++){var o=this.registry[a];null!=n&&o.attached!==n||(r&&(r+="\n"),r+=o.toString(i))}return r},(0,a.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),J=new $,Q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),X="2f1acc6c3a606b082e5eef5e54414ffb";null==Q[X]&&(Q[X]=0);var ee=Q[X]++,te=function(e){void 0===e&&(e={});var t=0;return function(n,i){t+=1;var r="",a="";return i&&(i.options.classNamePrefix&&(a=i.options.classNamePrefix),null!=i.options.jss.id&&(r=String(i.options.jss.id))),e.minify?""+(a||"c")+ee+r+t:a+n.key+"-"+ee+(r?"-"+r:"")+"-"+t}},ne=function(e){var t;return function(){return t||(t=e()),t}},ie=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},re=function(e,t,n){try{var i=n;if(Array.isArray(n)&&(i=f(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,i,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,i):e.style.setProperty(t,i)}catch(r){return!1}return!0},ae=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},oe=function(e,t){return e.selectorText=t,e.selectorText===t},se=ne((function(){return document.querySelector("head")}));function ce(e){var t=J.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.attached&&i.options.index>t.index&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.attached&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var i=e.insertionPoint;if(i&&"string"==typeof i){var r=function(e){for(var t=se(),n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if(8===i.nodeType&&i.nodeValue.trim()===e)return i}return null}(i);if(r)return{parent:r.parentNode,node:r.nextSibling}}return!1}var ue=ne((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),de=function(e,t,n){try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(i){return!1}return e.cssRules[n]},le=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},pe=function(){function e(e){this.getPropertyValue=ie,this.setProperty=re,this.removeProperty=ae,this.setSelector=oe,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],e&&J.add(e),this.sheet=e;var t,n=this.sheet?this.sheet.options:{},i=n.media,r=n.meta,a=n.element;this.element=a||((t=document.createElement("style")).textContent="\n",t),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),r&&this.element.setAttribute("data-meta",r);var o=ue();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,i=ce(t);if(!1!==i&&i.parent)i.parent.insertBefore(e,i.node);else if(n&&"number"==typeof n.nodeType){var r=n,a=r.parentNode;a&&a.insertBefore(e,r.nextSibling)}else se().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var i=e,r=n;if("conditional"===e.type||"keyframes"===e.type){var a=le(n,t);if(!1===(r=de(n,i.toString({children:!1}),a)))return!1;this.refCssRule(e,a,r)}return this.insertRules(i.rules,r),r}var o=e.toString();if(!o)return!1;var s=le(n,t),c=de(n,o,s);return!1!==c&&(this.hasInsertedRules=!0,this.refCssRule(e,s,c),c)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof q&&(this.cssRules[t]=n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),fe=0,me=function(){function e(e){this.id=fe++,this.version="10.6.0",this.plugins=new Y,this.options={id:{minify:!1},createGenerateId:te,Renderer:r.Z?pe:null,plugins:[]},this.generateId=te({minify:!1});for(var t=0;t<H.length;t++)this.plugins.use(H[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,i.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===J.index?0:J.index+1);var r=new q(e,(0,i.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),J.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"==typeof e)return this.createRule(void 0,e,t);var r=(0,i.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=l(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){e.plugins.use(t)})),this},e}();function he(e){var t=null;for(var n in e){var i=e[n],r=typeof i;if("function"===r)t||(t={}),t[n]=i;else if("object"===r&&null!==i&&!Array.isArray(i)){var a=he(i);a&&(t||(t={}),t[n]=a)}}return t}var ve="object"==typeof CSS&&null!=CSS&&"number"in CSS,ge=function(e){return new me(e)};ge()},9921:function(e,t){"use strict";var n=60103,i=60106,r=60107,a=60108,o=60114,s=60109,c=60110,u=60112,d=60113,l=60120,p=60115,f=60116,m=60121,h=60122,v=60117,g=60129,y=60131;if("function"==typeof Symbol&&Symbol.for){var I=Symbol.for;n=I("react.element"),i=I("react.portal"),r=I("react.fragment"),a=I("react.strict_mode"),o=I("react.profiler"),s=I("react.provider"),c=I("react.context"),u=I("react.forward_ref"),d=I("react.suspense"),l=I("react.suspense_list"),p=I("react.memo"),f=I("react.lazy"),m=I("react.block"),h=I("react.server.block"),v=I("react.fundamental"),g=I("react.debug_trace_mode"),y=I("react.legacy_hidden")}function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case r:case o:case a:case d:case l:return e;default:switch(e=e&&e.$$typeof){case c:case u:case f:case p:case s:return e;default:return t}}case i:return t}}}var w=u,S=r,N=f,P=p,U=i,D=o,T=a,C=d;t.ForwardRef=w,t.Memo=P},9864:function(e,t,n){"use strict";e.exports=n(9921)},220:function(e,t,n){"use strict";var i=n(7294);t.Z=i.createContext(null)},5753:function(e,t,n){"use strict";n.d(t,{Aq:function(){return $r},QO:function(){return kf},M6:function(){return wf},hC:function(){return Ff}});var i=n(6196);function r(e){return!isNaN(e)&&(e&&0==(e&e-1))}function a(e){return Math.pow(2,Math.round(Math.log(e)/Math.log(2)))}function o(e){return!isNaN(parseFloat(e))}function s(e){if(isNaN(e))return!1;for(;!r(e);)e++;return e}function c(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}const u=/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/,d=/^((0[0-9]|1[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?)([.,][0-9]{3})?$/,l=/^([0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]))([ T](0[0-9]|1[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?)?([.,][0-9]{3})?Z?$/,p=/^([0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1]))?([ T]?(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?)?([.,][0-9]{3})?Z?$/,f="Missing tournamentRecords",m="Missing tournamentRecord",h="Missing tournamentId",v="Invalid drawDefinition",g="Missing drawDefinition",y="drawDefinition not found",I="Invalid drawPosition for seedAssignment",b="drawPosition already assigned",w="drawPosition not cleared",S="Unrecognized drawType",N="drawPosition is active",P="Invlid drawPosition",U="Missing drawPosition",D="Invalid drawSize",T="Missing drawSize",C="Missing drawId",E="drawId exists",A="seedsCount greater than drawSize",M="Missing seedCountThresholds",R="Missing seedAssignments",x="Invalid seedNumber",O="Invalid seedPosition",k="Missing targetLink",F="Missing structureId",L="structure not found",Z="Missing structures",_="Missing structure",j="Invalie eventType",B="Missing event / eventId",V="Event not found",G="Event exists",H="Missing entries",W="Invalid entries",z="Missing assignments",K="Missing stage",q="Invalid stage",Y="stageSequence limit",$="Missing positionAssignments",J="Unrecognized matchUpStatus",Q="Unrecognized matchUpFormat",X="Invalid matchUpStatus",ee="Missing matchUpFormat",te="Missing matchUpId",ne="Missing matchUpIds",ie="matchUp not found",re="Missing matchUps",ae="Missing matchUp",oe="Invalid matchUp",se="Missing policyType",ce="Missing policyDefinition",ue="Missing avoidance policy",de="Missing policy attributes",le="Invalid policyDefinition",pe="existing policyType",fe="Policy not attached",me="Policy not found",he="Missing scoring policy / matchUpFormats",ve="Missing setObject",ge="Missing courtId",ye="Missing value",Ie="Invalid bookings",be="Invalid dateAvailability",we="Missing dateAvailability",Se="Invalid Date",Ne="Invalid time",Pe="Invalid tournament dates",Ue="Invalid game scores",De="Invalid winningSide",Te="Cannot remove participants",Ce="Invalid participantId",Ee="Invalid participantIds",Ae="Invalid participantType",Me="Missing participantRole",Re="Missing participant",xe="Missing participants",Oe="Missing participantId",ke="Participant Not Found",Fe="participantId exists",Le="No participant removed",Ze="Missing participantIds",_e="Missing participantCount",je="Participant not checked in",Be="Participant already checked in",Ve="Participant has assigned drawPosition",Ge="Missing person details",He="Existing participant drawPosition assignment",We="Existing participant",ze="participantCount exceeds drawSize",Ke="More Participants than Draw Positions",qe="Invalid entry status",Ye="Participant Entry Not Found",$e="Missing penaltyType",Je="Missing penaltyId",Qe="Penalty not found",Xe="Missing courtsCount/courtNames",et="Court not found",tt="Court exists",nt="Venue exists",it="Venue not found",rt="Missing venueId",at="Invalid endTime",ot="Existing endTime",st="Invalid stopTime",ct="Invalid startTime",ut="Invalid timeItem",dt="Missing timeItem",lt="Missing timeItems",pt="Missing context",ft="Missing schedule",mt="Invalid scaleItem",ht="No scaleItem found",vt="No modifications applied",gt="Invalid configuration",yt="Invalid object",It="Invalid values",bt="No valid actions",wt="No valid attributes",St="Value unchanged",Nt="Not found",Pt="Not implemented",Ut="Existing flight",Dt="Existing Profile",Tt="Method not found";function Ct(e){if("boolean"==typeof e)return!1;const t=e instanceof Date?e:!isNaN(e)&&new Date(e);return t&&!isNaN(t.valueOf())}function Et(e){if("object"!=typeof e||Array.isArray(e))return!1;return"[object Date]"===Object.prototype.toString.call(e)}function At(e){return Lt(e)||u.test(e)}const Mt=()=>{const e=new Date,t=1===e.getUTCMonth().toString().length?`0${e.getUTCMonth()+1}`:`${e.getUTCMonth()}`;return`${e.getUTCFullYear()}-${zt(t)}-${zt(e.getUTCDate())}`};function Rt(e,t="-",n="YMD"){if(!e)return"";isNaN(e)||(e=Ot(e));const i=new Date(e);let r=""+(i.getMonth()+1),a=""+i.getDate();const o=i.getFullYear();return r.length<2&&(r="0"+r),a.length<2&&(a="0"+a),"DMY"===n?[a,r,o].join(t):"MDY"===n?[r,a,o].join(t):"YDM"===n?[o,a,r].join(t):"DYM"===n?[a,o,r].join(t):"MYD"===n?[r,o,a].join(t):[o,r,a].join(t)}function xt(e){const t=e?new Date(e):new Date,n=t.getTimezoneOffset();return new Date(t.getTime()-60*n*1e3)}function Ot(e){return xt(e).getTime()}function kt(e,t){const n=new Date(e),i=new Date(t);var r,a;const o=[];let s=0,c=!0;if(!(Ct(i)&&Ct(n)&&(r=n,a=i,xt(r)<=xt(a))))console.log("error occured!!!... Please Enter Valid Dates");else{const e=xt(n),t=xt(i);for(;e<=t&&c;)s+=1,s>300&&(console.log("excessive while loop"),c=!1),o.push(new Date(e)),e.setDate(e.getDate()+1)}return o}const Ft=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;function Lt(e){return"string"==typeof e&&Ft.test(e)}function Zt(e){if("string"!=typeof e)return!1;const t=e.split(":"),n=t.every((e=>!isNaN(e)));return!(t.length<2||!n)&&(!(parseInt(t[0])>23)&&!(parseInt(t[1])>60))}function _t(e){return e.split(":").slice(0,2).map(zt).join(":")}function jt(e){return Lt(e)?_t(e.split("T").reverse()[0]):Zt(e)?_t(e):void 0}function Bt(e){return Lt(e)||l.test(e)?e.split("T")[0]:void 0}function Vt(e){e=e||"00:00";const t={},n={};return({0:t.time,1:t.ampm}=e&&e.split(" ")||""),({0:n.hours,1:n.minutes}=t.time&&t.time.split(":")||""),n.ampm=t.ampm,n}function Gt(e,t){const[n,i]=(e||"00:00").split(":").map(zt),r=xt(t).setHours(n,i,0,0);return xt(r)}function Ht(e,t){const n=jt(e);if(!n)return"00:00";const i=isNaN(t)?0:t;return jt(Wt(Gt(n),i).toISOString())}function Wt(e,t){const n=new Date(e);return new Date(n.getTime()+6e4*t)}function zt(e){return e.toString()[1]?e:"0"+e}function Kt(e,t){const n=new Date(e),i=new Date(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()&&n.getDate()===i.getDate()}function qt({date:e,timeZone:t}={}){var n;if("string"==typeof e&&e.indexOf("-")<0)return{error:Se};const i="string"==typeof e&&10===e.length?new Date(`${e}T00:00`):e,r=i?new Date(i):new Date;if(r===Se)return{error:Se};let a;try{a=r.toLocaleString("en-CA",{timeZone:t,hour12:!1}).replace(", ","T")}catch(c){return{error:"Invalid Time Zone"}}if((null===(n=a)||void 0===n?void 0:n.toLowerCase().indexOf("invalid"))>=0)return{error:Se};a+="."+r.getMilliseconds().toString().padStart(3,"0");const o=new Date(a+"Z"),s=-(o-r);return{originalDate:r,offsetDate:o,offsetMinutes:s/60/1e3,offsetISOString:new Date(o).toISOString(),offsetMilliseconds:s}}const Yt={sameDay:Kt,timeUTC:function(e){const t=new Date(e);return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())},DateHHMM:function(e){const t=new Date(e);return function(e,t){const n=parseInt(e,10),i=Math.floor(n/3600),r=Math.floor((n-3600*i)/60),a=n-3600*i-60*r,o=!t||t&&t.displaySeconds;return(o?i+":"+r+":"+a:i+":"+r).split(":").map(zt).join(":")}(t.getSeconds()+60*t.getMinutes()+3600*t.getHours(),{displaySeconds:!1})},extractTime:jt,extractDate:Bt,ymd2date:function(e){const t=e.split("-");return t&&3===t.length?isNaN(parseInt(t[1]))?new Date(e):new Date(t[0],parseInt(t[1])-1,t[2]):new Date(e)},validDate:function(e,t){if(!e)return!1;const n=Rt(e).split("-");return!isNaN(n.join(""))&&(3===n.length&&(4===n[0].length&&(!(+n[1]>12||+n[1]<1)&&(!(+n[2]>31||+n[2]<1)&&(!(t&&t.start&&xt(e)<xt(t.start))&&(!(t&&t.end&&xt(e)>xt(t.end))&&new Date(e)!==Se))))))},formatDate:Rt,offsetDate:xt,offsetTime:Ot,futureDate:function(e=1){const t=new Date;return t.setDate(t.getDate()+e),t},timeToDate:Gt,convertTime:function(e,t){return t?function(e){const t=Vt(e);return t.ampm&&t.hours&&("pm"===t.ampm.toLowerCase()&&parseInt(t.hours)<12&&(t.hours=(t.hours&&parseInt(t.hours)||0)+12),"am"===t.ampm.toLowerCase()&&"12"===t.hours&&(t.hours="00")),`${t.hours||"12"}:${t.minutes||"00"}`.split(":").map(zt).join(":")}(e):function(e){const t=Vt(e);return t.ampm?e:(t.hours>12?(t.hours-=12,t.ampm="PM"):"12"===t.hours?t.ampm="PM":"00"===t.hours?(t.hours="12",t.ampm="AM"):t.ampm="AM","0"===t.hours[0]&&(t.hours=t.hours.slice(1)),`${t.hours||"12"}:${t.minutes||"00"} ${t.ampm}`)}(e)},getDateByWeek:function(e,t){const n=new Date(t,0,1),i=n.getDay();let r=7*--e;return(0!==i||i>4)&&(r+=7),n.setDate(1-n.getDay()+ ++r),n},currentUTCDate:Mt,getTimeZoneOffset:qt,isTimeString:Zt,isISODateString:Lt,addMinutesToTimeString:Ht};function $t(e){return e.filter(((e,t,n)=>n.lastIndexOf(e)===t))}function Jt(e){return e.map((e=>[Math.random(),e])).sort(((e,t)=>e[0]-t[0])).map((e=>e[1]))}function Qt(e){return e.reduce(((e,t)=>(e[t]||(e[t]=0),e[t]++,e)),{})}function Xt(e,t,n){return n.indexOf(e)===t}function en(e){return Array.isArray(e)&&e.length?e.splice(Math.floor(Math.random()*e.length),1)[0]:void 0}function tn(e){return e[Math.floor(Math.random()*e.length)]}function nn(e,t){return Array.from({length:t-e},((t,n)=>n+e))}function rn(e,t){return t.reduce(((t,n,i)=>(n===e&&t.push(i),t)),[])}function an(e,t){return Array.isArray(e)&&Array.isArray(t)?e.filter((e=>-1!==t.indexOf(e))).filter(((e,t,n)=>n.indexOf(e)===t)):0}function on(e,t){return e.reduce(((e,n,i)=>{const r=Math.floor(i/t);return e[r]=[].concat(e[r]||[],n),e}),[])}function sn(e,t,n){return e.reduce(((e,i,r)=>{const a=!!n&&!!(Math.floor(r/t)%2),o=r%t,s=a?t-1-o:o;return e[s]||(e[s]=[]),e[s].push(i),e}),[])}const cn={tournamentRecords:{},subscriptions:{},notices:[]};const un={devContext:!1,deepCopy:!0};let dn={setSubscriptions:function({subscriptions:e={}}={}){if("object"!=typeof e)return{error:It};Object.keys(e).forEach((t=>{cn.subscriptions[t]=e[t]}))},addNotice:function({topic:e,payload:t}){if("string"!=typeof e||"object"!=typeof t)return;if(!cn.subscriptions[e])return;cn.notices.push({topic:e,payload:t})},getNotices:function({topic:e}){if("string"!=typeof e)return[];const t=cn.notices.filter((t=>t.topic===e)).map((e=>e.payload));return t.length&&t},deleteNotices:function(){cn.notices=[]},getTopics:function(){return{topics:Object.keys(cn.subscriptions)}},callListener:function({topic:e,notices:t}){const n=cn.subscriptions[e];n&&"function"==typeof n&&n(t)},getTournamentRecord:function(e){return cn.tournamentRecords[e]},getTournamentRecords:function(){return cn.tournamentRecords},setTournamentRecord:function(e){const t=null==e?void 0:e.tournamentId;t&&(cn.tournamentRecords[t]=e)},setTournamentRecords:function(e){cn.tournamentRecords=e},removeTournamentRecord:function(e){return"string"!=typeof e?{error:It}:cn.tournamentRecords[e]?delete cn.tournamentRecords[e]:{error:Nt}}};function ln(){return un.devContext}function pn(e){"boolean"==typeof e&&(un.devContext=e)}function fn(e){"boolean"==typeof e&&(un.deepCopy=e)}function mn(e){return dn.addNotice(e)}function hn(e){return dn.getNotices(e)}function vn(){return dn.deleteNotices()}function gn(){return dn.getTopics()}async function yn(e){return dn.callListener(e)}function In(e){return dn.getTournamentRecord(e)}function bn(e){return dn.setTournamentRecord(e)}function wn(e){return dn.removeTournamentRecord(e)}function Sn(e,t,n){if(!un.deepCopy&&!n||"object"!=typeof e||null===e)return e;const i=Array.isArray(e)?[]:{};for(const a in e){const n=e[a];if(t&&"extensions"===a&&Array.isArray(n)){const e=null==(r=n)?void 0:r.map((e=>{const{name:t,value:n}=e;return t&&n&&{[`_${t}`]:n}})).filter((e=>e));Object.assign(i,...e)}else null===n?i[a]=void 0:Et(n)?i[a]=new Date(n).toISOString():i[a]=Sn(n,t)}var r;return i}function Nn(e,t){return e-t}function Pn(){const e=[];for(let a=0;a<256;a++)e[a]=(a<16?"0":"")+a.toString(16);const t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&i|128]+e[i>>8&255]+"-"+e[i>>16&255]+e[i>>24&255]+e[255&r]+e[r>>8&255]+e[r>>16&255]+e[r>>24&255]}function Un({isDecidingSet:e,isTiebreakSet:t,matchUpScoringFormat:n,setObject:i}){if(!i)return;const r=Dn({setObject:i});return function({setObject:e,isDecidingSet:t,isTiebreakSet:n,matchUpScoringFormat:i,ignoreTiebreak:r=!1}){const a=t&&i.finalSetFormat||(null==i?void 0:i.setFormat)||{},{side1Score:o,side2Score:s}=e,{setTo:c,tiebreakAt:u,tiebreakFormat:d}=a,l=null==d?void 0:d.NoAd,p=Dn({setObject:e}),f=Math.abs(o-s),m=o>=c||s>=c,h=n||o>=c&&s>=c||u&&u<c&&(o===u||s===u),v=r||h&&(1===p&&e.side1TiebreakScore>e.side2TiebreakScore||2===p&&e.side2TiebreakScore>e.side1TiebreakScore),g=f>=(h&&(u&&!n||n&&l)?1:2);return(m&&(g||h)||n)&&(!h||v)}({isDecidingSet:e,isTiebreakSet:t,matchUpScoringFormat:n,setObject:i})&&r||void 0}function Dn({setObject:e}){if(e.side1Score||e.side2Score){if(e.side1Score>e.side2Score)return 1;if(e.side2Score>e.side1Score)return 2}else if(e.side1TiebreakScore||e.side2TiebreakScore){if(e.side1TiebreakScore>e.side2TiebreakScore)return 1;if(e.side2TiebreakScore>e.side1TiebreakScore)return 2}}function Tn(e){const{setObject:t,matchUpScoringFormat:n}=e;if(!t)return{error:ve};const{setNumber:i}=t||{},{bestOf:r}=n||{},a=!(!i||i!==r),o=a&&(null==n?void 0:n.finalSetFormat)||(null==n?void 0:n.setFormat),s=!(null==o||!o.tiebreakSet),c=!(null==o||!o.timed),u=!s&&!c,d=!!(i&&r&&i<=r),l=[null==t?void 0:t.side1Score,null==t?void 0:t.side2Score],p=[null==t?void 0:t.side1PointScore,null==t?void 0:t.side2PointScore],f=[null==t?void 0:t.side1TiebreakScore,null==t?void 0:t.side2TiebreakScore],m=l.filter((e=>void 0!==e)).length,h=p.filter((e=>void 0!==e)).length,v=f.filter((e=>void 0!==e)).length,g=null==l?void 0:l.filter((e=>!isNaN(e))).length,y=null==f?void 0:f.filter((e=>!isNaN(e))).length,{tiebreakAt:I}=o||{},b=I&&2===l.filter((e=>e>=I)).length,w=!(!y||g),S=!(!t||null==t||!t.winningSide),{error:N,result:P}=function({setObject:e,setFormat:t,sideGameScores:n,sideTiebreakScores:i}){if(!e)return{result:!1,error:ve};const r=!(null==t||!t.tiebreakSet),a=!(null==t||!t.timed);if(!t||r||a)return{result:!1,error:"not standard set"};if(2!==(null==n?void 0:n.filter((e=>!isNaN(e))).length))return{result:!1,error:Ue};const{setTo:o,tiebreakAt:s,tiebreakFormat:c,NoAD:u}=t||{};if(!o||null==n||!n.find((e=>e>=o)))return{result:!1,error:Ue};const d=[1,2].includes(null==e?void 0:e.winningSide);if(!e||!d)return{result:!1,error:De};const l=(null==e?void 0:e.winningSide)-1,p=1-l,f=n[l],m=n[p],h=f-m;if(!(f>m))return{result:!1,error:"winningSide game scoreString is not high"};const v=s&&c,g=2===(null==i?void 0:i.filter((e=>!isNaN(e))).length),y=i&&i[l],I=i&&i[p],b=s&&2===n.filter((e=>e>=s)).length;if(v){const{NoAD:e,tiebreakTo:t}=c;if(b){if(h>1)return{result:!1,error:"invalid winning game scoreString (5)"};if(!g)return{result:!1,error:"invalid tiebreak scores (1)"};if(isNaN(t))return{result:!1,error:"tiebreakTo error"};if(!!(!t||null==i||!i.find((e=>e>=t))))return{result:!1,error:"invalid tiebreak scores (2)"};if(f>(s<o?o:o+1))return{result:!1,error:"invalid winning game scoreString (1)"};if(!y||!I||y<I)return{result:!1,error:"winningSide tiebreak value is not high"};const n=e?1:2,r=y-I,a=I>=t-1;if(r&&a&&r<n)return{result:!1,error:"invalid tiebreak scores (3)"}}if(f>o&&(!v||!b))return{result:!1,error:"invalid winning game scoreString (2)"}}const w=u?1:2,S=m>=o-1;if(h&&S&&!b&&h<w)return{result:!1,error:"invalid winning game scoreString (3)"};if(h>w&&f>o)return{result:!1,error:"invalid winning game scoreString (4)"};return{result:!0}}({setObject:t,setFormat:o,sideGameScores:l,sideTiebreakScores:f}),{error:U,result:D}=function({setObject:e,setFormat:t,sideTiebreakScores:n}){if(!e)return{result:!1,error:ve};const i=!(null==t||!t.tiebreakSet),r=!(null==t||!t.timed);if(!t||!i||r)return{result:!1,error:"not tiebreak set"};const a=[1,2].includes(null==e?void 0:e.winningSide);if(!e||!a)return{result:!1,error:De};const{tiebreakSet:o}=t||{},{NoAD:s,tiebreakTo:c}=o||{};if(2!==(null==n?void 0:n.filter((e=>!isNaN(e))).length))return{result:!1,error:"invalid tiebreak scores (1)"};if(isNaN(c))return{result:!1,error:"tiebreakTo error"};if(null==n||!n.find((e=>e>=c)))return{result:!1,error:"invalid tiebreak scores (2)"};const u=(null==e?void 0:e.winningSide)-1,d=1-u,l=n[u],p=n[d];if(!l||!p||l<p)return{result:!1,error:"winningSide tiebreak value is not high"};const f=s?1:2,m=l-p,h=p>=c-1;if(m&&h&&m<f)return{result:!1,error:"invalid tiebreak scores (3)"};return{result:!0}}({setObject:t,setFormat:o,sideTiebreakScores:f}),T=u&&!w&&P||s&&w&&D,C={expectTiebreakSet:s,expectTimedSet:c,hasTiebreakCondition:b,isCompletedSet:S,isDecidingSet:a,isTiebreakSet:w,isValidSet:d&&!(s&&!w)&&!(u&&w)&&(!S||T),isValidSetNumber:d,isValidSetOutcome:T,setFormat:o,sideGameScores:l,sideGameScoresCount:m,sidePointScores:p,sidePointScoresCount:h,sideTiebreakScores:f,sideTiebreakScoresCount:v,winningSide:Un({isDecidingSet:a,isTiebreakSet:w,matchUpScoringFormat:n,setObject:t})};return void 0!==(null==t?void 0:t.winningSide)&&(w?(C.isValidTiebreakSetOutcome=D,D||(C.tiebreakSetError=U)):(C.isValidStandardSetOutcome=P,P||(C.standardSetError=N))),C}const Cn="ABANDONED",En="AWAITING_RESULT",An="BYE",Mn="CANCELLED",Rn="COMPLETED",xn="DEAD_RUBBER",On="DEFAULTED",kn="DOUBLE_WALKOVER",Fn="IN_PROGRESS",Ln="INCOMPLETE",Zn="NOT_PLAYED",_n="RETIRED",jn="SUSPENDED",Bn="TO_BE_PLAYED",Vn="WALKOVER",Gn=[En,Rn,On,kn,Fn,Ln,_n,jn,Vn],Hn=[Cn,En,An,Mn,Rn,xn,On,kn,Fn,Ln,Zn,_n,jn,Bn,Vn],Wn=[An,Rn,On,kn,_n,Vn],zn=[Cn,En,Mn,xn,Fn,Ln,Zn,jn,Bn,void 0],Kn=[Mn,Cn,Rn,xn,On,kn,_n,Vn],qn=[Cn,Rn,On,kn,Fn,_n,Vn],Yn=[Fn,Ln,jn,Bn],$n={ABANDONED:Cn,AWAITING_RESULT:En,BYE:An,CANCELLED:Mn,COMPLETED:Rn,DEAD_RUBBER:xn,DEFAULTED:On,DOUBLE_WALKOVER:kn,IN_PROGRESS:Fn,INCOMPLETE:Ln,NOT_PLAYED:Zn,RETIRED:_n,SUSPENDED:jn,TO_BE_PLAYED:Bn,WALKOVER:Vn},Jn="SET3-S:6/TB7";function Qn({score:e,tallyPolicy:t,matchUpStatus:n,matchUpFormat:r=Jn,winningSide:a}){const o=[0,0],{sets:s}=e||{},c=a-1,u=i.matchUpFormatCode.parse(r),d=Xn((null==u?void 0:u.bestOf)||3);return n===On&&null!=t&&t.setsCreditForDefaults||n===Vn&&null!=t&&t.setsCreditForWalkovers?o[c]=d:s&&s.forEach((e=>{const{winningSide:t}=e;t&&(o[t-1]+=1)})),n===_n&&(+o[1-c]===d&&(o[1-c]-=1),o[c]=d),o}function Xn(e){return e&&Math.ceil(e/2)||1}function ei({source:e,template:t}){const n={};return function e(t,n,i){if(!t||!n)return;const r=Object.keys(t),a=Object.keys(n);for(let o=0;o<r.length;o++)if(a.indexOf(r[o])>=0){const a=n[r[o]],s=t[r[o]];a&&"object"==typeof a&&"function"!=typeof s?a.constructor!==Array?(i[r[o]]={},e(s,a,i[r[o]])):a.length&&(i[r[o]]=(s||[]).map((t=>{const n={};return e(t,a[0],n),n}))):n[r[o]]&&(i[r[o]]=t[r[o]])}}(e,t,n),n}function ti({matchUpFormat:e,participantIds:t,tallyPolicy:n,perPlayer:r,matchUps:a}){const o={};function s(e){o[e]||(o[e]={allDefaults:0,defaults:0,retirements:0,walkovers:0,matchUpsWon:0,matchUpsLost:0,victories:[],defeats:[],matchUpsCancelled:0,setsWon:0,setsLost:0,gamesWon:0,gamesLost:0,pointsWon:0,pointsLost:0})}return a.filter((e=>!(null!=t&&t.length)||2===an(t,[ni(e,0),ni(e,1)]).length)).forEach((t=>{const{matchUpStatus:r,score:a,winningSide:c}=t,u=c&&function(e){const t=e.winningSide-1;return ni(e,t)}(t),d=c&&function(e){const t=1-(e.winningSide-1);return ni(e,t)}(t);if(!u||!d){const e=ni(t,0),n=ni(t,1);return e&&(s(e),o[e].matchUpsCancelled+=1),void(n&&(s(n),o[n].matchUpsCancelled+=1))}const l=c&&c-1,p=1-l;s(u),s(d),r===Vn&&(o[d].walkovers+=1),r===On&&(o[d].defaults+=1),r===_n&&(o[d].retirements+=1),[On,_n,Vn].includes(r)&&(o[d].allDefaults+=1),o[u].matchUpsWon+=1,o[d].matchUpsLost+=1,o[d].defeats.push(u),o[u].victories.push(d);const f=Qn({score:a,matchUpStatus:r,matchUpFormat:e,tallyPolicy:n,winningSide:c});o[u].setsWon+=f[l],o[u].setsLost+=f[p],o[d].setsWon+=f[p],o[d].setsLost+=f[l];const m=function({score:e,tallyPolicy:t,matchUpStatus:n,matchUpFormat:r=Jn,winningSide:a}){var o,s;const{sets:c}=e||{},u=a-1,d=i.matchUpFormatCode.parse(r);let l=0,p=0;const f=Xn((null==d?void 0:d.bestOf)||3),m=(null==d||null===(o=d.setFormat)||void 0===o?void 0:o.setTo)||6,h=(null==d||null===(s=d.setFormat)||void 0===s?void 0:s.tiebreakAt)||6;if(!c)return[l,p];const v=f*m,g=[[],[]];if(n===On&&null!=t&&t.gamesCreditForDefaults||n===Vn&&null!=t&&t.gamesCreditForWalkovers?g[u].push(v):c&&c.forEach((e=>{({side1Score:l,side2Score:p}=e),g[0].push(parseInt(l||0)),g[1].push(parseInt(p||0))})),n===_n){const e=Qn({sets:c,winningSide:a,matchUpStatus:n,matchUpFormat:r}),t=e.reduce(((e,t)=>e+t),0);if(g.map((e=>e[u]<=e[1-u])).reduce(((e,t)=>e+t),0)>e[1-u]){const e=g[u].length,t=function(e){if(d&&""!==e)return+e==h-1||+e===h?parseInt(h||0)+1:+e<h?m:h}(g[1-u][e-1]);t&&(g[u][e-1]=t)}t>g[u].length&&g[u].push(m)}const y=[g[0].reduce(((e,t)=>e+t),0),g[1].reduce(((e,t)=>e+t),0)];return[_n,Vn,On].includes(n)&&y[u]<v&&(y[u]=v),y}({score:a,matchUpStatus:r,matchUpFormat:e,tallyPolicy:n,winningSide:c});o[u].gamesWon+=m[l],o[u].gamesLost+=m[p],o[d].gamesWon+=m[p],o[d].gamesLost+=m[l];const h=function({score:e}){var t;const n=[0,0];return null==e||null===(t=e.sets)||void 0===t||t.forEach((e=>{e.side1TiebreakScore&&(n[0]+=parseInt(e.side1TiebreakScore)),e.side2TiebreakScore&&(n[1]+=parseInt(e.side2TiebreakScore))})),n}({score:a,tallyPolicy:n});o[u].pointsWon+=h[l],o[u].pointsLost+=h[p],o[d].pointsWon+=h[p],o[d].pointsLost+=h[l]})),function({participantResults:e,matchUpFormat:t,perPlayer:n}){var r;const a=t&&i.matchUpFormatCode.parse(t)||{},o=a.bestOf,s=o&&Math.ceil(o/2)||1,c=null===(r=a.setFormat)||void 0===r?void 0:r.setTo;Object.keys(e).forEach((t=>{const i=e[t].setsWon,r=e[t].setsLost,a=n*(s||0)||i;let o=Math.round(i/r*1e3)/1e3;(o===1/0||isNaN(o))&&(o=a);const u=e[t].matchUpsWon,d=e[t].matchUpsLost;let l=Math.round(u/d*1e3)/1e3;(l===1/0||isNaN(l))&&(l=u);const p=e[t].gamesWon||0,f=e[t].gamesLost||0,m=(n||0)*(s||0)*(c||0),h=Math.max(m,p+f);let v=Math.round(p/h*1e3)/1e3;(v===1/0||isNaN(v))&&(v=0);let g=Math.round(e[t].pointsWon/e[t].pointsLost*1e3)/1e3;(g===1/0||isNaN(g))&&(g=0),e[t].setsRatio=o,e[t].matchUpsRatio=l,e[t].gamesRatio=v,e[t].pointsRatio=g,e[t].result=`${e[t].matchUpsWon}/${e[t].matchUpsLost}`,e[t].games=`${e[t].gamesWon}/${e[t].gamesLost}`}))}({participantResults:o,perPlayer:r,matchUpFormat:e}),{participantResults:o}}function ni(e,t){if(!e||!e.sides)return console.log("no sides:",{matchUp:e}),"foo";const n=e.sides[t];return n?n.participantId:(console.log("No Side",{matchUp:e,index:t}),"foo")}function ii(e){return Kn.includes(null==e?void 0:e.matchUpStatus)||(null==e?void 0:e.winningSide)}const ri=[{attribute:"matchUpsRatio",idsFilter:!1},{attribute:"allDefaults",reversed:!0,idsFilter:!1},{attribute:"defaults",reversed:!0,idsFilter:!1},{attribute:"walkovers",reversed:!0,idsFilter:!1},{attribute:"retirements",reversed:!0,idsFilter:!1},{attribute:"setsRatio",idsFilter:!1},{attribute:"gamesRatio",idsFilter:!1},{attribute:"pointsRatio",idsFilter:!1},{attribute:"matchUpsRatio",idsFilter:!0},{attribute:"setsRatio",idsFilter:!0},{attribute:"gamesRatio",idsFilter:!0},{attribute:"pointsRatio",idsFilter:!0}];function ai(e){const{participantResults:t,subOrderMap:n}=e;if(!function({participantResults:e,participantsCount:t}){let n=ci({participantResults:e}).filter((e=>t-1===e.results.matchUpsWon+e.results.matchUpsLost+e.results.matchUpsCancelled));return t===n.length}(e))return;const i=si({attribute:"matchUpsWon",participantResults:t}),r=Object.keys(i).map((e=>parseFloat(e))).sort(((e,t)=>t-e)).map((e=>i[e])).map((t=>oi({participantIds:t,...e}))).flat(1/0);let a,o=1;r.forEach(((e,t)=>{t&&(e.resolved||a&&!e.resolved)&&(o+=1),a=e.resolved,e.resolved?(e.position=t+1,o=e.position):e.position=o}));const s=Qt(r.map((({position:e})=>e)));return r.forEach((e=>{const i=t[e.participantId],r=s[e.position];void 0!==e&&void 0!==e.position&&(r>1&&(i.ties=r,n&&(i.subOrder=n[e.participantId])),e.groupOrder=e.position+(i.subOrder||1)-1,i.rankOrder=e.position),i.GEMscore=function(e){return e.matchUpsRatio*Math.pow(10,16)+e.setsRatio*Math.pow(10,12)+e.gamesRatio*Math.pow(10,8)+e.pointsRatio*Math.pow(10,3)}(i)})),r}function oi({participantResults:e,disableHeadToHead:t,participantIds:n,matchUpFormat:i,tallyPolicy:r,matchUps:a}){if(1===n.length)return{resolved:!0,participantId:n[0]};if(2===n.length&&(null==r||!r.headToHead||!r.headToHead.disabled&&!t)){const t=function({participantIds:e,participantResults:t}){if(t[e[0]].victories.includes(e[1]))return e.map((e=>({resolved:!0,participantId:e})));if(t[e[1]].victories.includes(e[0]))return e.reverse().map((e=>({resolved:!0,participantId:e})))}({participantIds:n,participantResults:e});if(t)return t}let o;return((null==r?void 0:r.tallyDirectives)||ri).every((({attribute:e,reversed:t,idsFilter:s,disableHeadToHead:c})=>(o=function({disableHeadToHead:e,participantIds:t,matchUpFormat:n,tallyPolicy:i,attribute:r,idsFilter:a,matchUps:o,reversed:s}){const{participantResults:c,matchUpStatuses:u}=ti({participantIds:a&&t,matchUpFormat:n,tallyPolicy:i,matchUps:o}),d=si({participantResults:c,participantIds:t,attribute:r});if(Object.keys(d).length>1)return Object.keys(d).map((e=>parseFloat(e))).sort(((e,t)=>s?e-t:t-e)).map((e=>d[e])).map((t=>oi({participantResults:c,disableHeadToHead:e,matchUpStatuses:u,participantIds:t,matchUpFormat:n,tallyPolicy:i,matchUps:o}))).flat(1/0)}({disableHeadToHead:c,participantIds:n,matchUpFormat:i,tallyPolicy:r,attribute:e,idsFilter:s,matchUps:a,reversed:t}),!o))),o||n.map((e=>({participantId:e})))}function si({participantResults:e,participantIds:t,attribute:n}){return ci({participantResults:e,participantIds:t}).reduce(((e,t)=>{const{participantId:i,results:r}=t,a=r[n];return e[a]?e[a].push(i):e[a]=[i],e}),{})}function ci({participantResults:e,participantIds:t}){return(t=t||Object.keys(e)).reduce(((t,n,i)=>(t.push({participantId:n,i:i,results:e[n]}),t)),[])}const ui="roundRobinTally",di="positionActions",li="roundNaming",pi="scheduling",fi="avoidance",mi="seeding",hi="scoring";function vi({policyDefinition:e,matchUpFormat:t,matchUps:n=[],subOrderMap:i,perPlayer:r}){if(!Array.isArray(n))return{error:re};const a=n.filter((e=>e&&e.matchUpStatus!==An)),o=a.length&&$t(a.map((({drawPositions:e})=>e)).flat()).length,s=a.filter(ii).length===a.length;s||(r=0);const c=e&&e.roundRobinTally,u=n.filter(ii),{participantResults:d,matchUpStatuses:l}=ti({matchUps:u,matchUpFormat:t,tallyPolicy:c,perPlayer:r}),p=ai({matchUps:u,participantResults:d,participantsCount:o,matchUpStatuses:l,matchUpFormat:t,tallyPolicy:c,subOrderMap:i});return s&&p&&p.forEach((e=>{d[e.participantId].groupOrder=e.groupOrder})),{participantResults:d}}function gi({analysis:e,set:t}){const n=Ii({set:t}),{isDecidingSet:i,isTiebreakSet:r,matchUpScoringFormat:a}=e;return yi({isDecidingSet:i,isTiebreakSet:r,matchUpScoringFormat:a,set:t})&&n}function yi({set:e,isDecidingSet:t,isTiebreakSet:n,matchUpScoringFormat:i,ignoreTiebreak:r=!1}){if(!e)return{error:ye};const a=t&&i.finalSetFormat||(null==i?void 0:i.setFormat),{side1Score:o,side2Score:s}=e,{NoAD:c,setTo:u,tiebreakAt:d,tiebreakFormat:l}=a,p=null==l?void 0:l.NoAd,f=Ii({set:e}),m=Math.abs(o-s),h=o>=u||s>=u,v=n||o>=u&&s>=u||d&&d<u&&(o===d||s===d),g=r||v&&(1===f&&e.side1TiebreakScore>e.side2TiebreakScore||2===f&&e.side2TiebreakScore>e.side1TiebreakScore);return(h&&(m>=(c||v&&(d&&!n||n&&p)?1:2)||v)||n)&&(!v||g)}function Ii({set:e}){if(e.side1Score||e.side2Score){if(e.side1Score>e.side2Score)return 1;if(e.side2Score>e.side1Score)return 2}else if(e.side1TiebreakScore||e.side2TiebreakScore){if(e.side1TiebreakScore>e.side2TiebreakScore)return 1;if(e.side2TiebreakScore>e.side1TiebreakScore)return 2}}const bi=" ",wi="DEF",Si=["RET",wi,"WO","WO/WO","ABN","SUS","INT"],Ni="DEFAULTED",Pi="WALKOVER",Ui="ABANDONED",Di="SUSPENDED",Ti="RETIRED",Ci="INTERRUPTED",Ei=[Ti,Ni,Pi],Ai="()",Mi="[]",Ri=["up","left","shift+tab"],xi=["enter","down","tab","right"],Oi="backspace",ki=["r","d","w","a","s","i"],Fi="space",Li=["[","("],Zi=[...Ri,...xi,Fi,"]"],_i="-",ji="-",Bi=["/"],Vi=["0","1","2","3","4","5","6","7","8","9"].concat(ki),Gi=Vi.map((e=>`shift+${e}`)),Hi=[_i,Oi].concat(Zi,Bi),Wi=[Vi,Gi,Hi].join(",");function zi({scoreString:e,lowSide:t,outcome:n}){if(({scoreString:e}=Ki({scoreString:e})),2===t){return e+((e&&e[e.length-1])!==bi?bi:"")+n}return n+bi+e}function Ki({scoreString:e}){if(!e)return{scoreString:""};let t=!1;for(const i of Si){var n;const r=null===(n=e)||void 0===n?void 0:n.indexOf(i);0===r?e=e.slice(i.length+1).trim()+bi:r>0&&(e=e.slice(0,r)),r>=0&&(t=!0)}return e&&e.trim()||(e=""),{scoreString:e,removed:t}}function qi({analysis:e,scoreString:t,sets:n,lowSide:i}){let r,a;if(!t)return{scoreString:t,sets:n};const{scoreString:o,removed:s}=Ki({scoreString:t});if(t=o,s)return{scoreString:t,sets:n,outcomeRemoved:!0};let c=n[n.length-1]||{};const u=Object.values(c).filter((e=>void 0!==e)).length;c.setNumber&&1===u&&(c=(n=n.slice(0,n.length-1))[n.length-1]||{});const{tiebreakSet:d}=e.setFormat,{tiebreakTo:l,NoAD:p}=d||{},{isTiebreakEntry:f}=Yi({scoreString:t,brackets:Mi}),m=function(e){const t=e.split("");return t.reduce(((e,t,n)=>(t.match(/\d+/g)&&e.push(n),e)),[]).pop()}(t);if(m>=0){r=t.slice(0,m);const{isTiebreakEntry:o}=Yi({scoreString:r,brackets:Ai}),{lastOpenBracketIndex:s,isTiebreakEntry:u}=Yi({scoreString:r,brackets:Mi}),d=r&&r[r.length-1].trim(),S=r&&!isNaN(d);let N=e.isIncompleteSetScore;if(f&&u){const e=r.slice(s+1).split(ji),n=(null==e?void 0:e.length)>0&&void 0!==e[0]&&!isNaN(parseInt(e[0]))&&parseInt(e[0])||void 0,a=(null==e?void 0:e.length)>1&&void 0!==e[1]&&parseInt(e[1])||void 0,o=[n,a];if(a){const e=1===i?1:0;o[e]=o[1-e]+(p?1:2),o[e]<l&&(o[e]=l),r=t.slice(0,s+1),r+=o.join(ji)}else void 0!==n?(r=t.slice(0,s+1),r+=n):(r=t.slice(0,s),N=!0);c.side1TiebreakScore=o[0]||0,c.side2TiebreakScore=o[1]||0}if(r.length||(r=void 0),N){var h;const t=null===(h=c.side1Score)||void 0===h?void 0:h.toString();if(t){const e=null==t?void 0:t.slice(0,t.length-1);c.side1Score=!isNaN(e)&&parseInt(e)||void 0,void 0===c.side1Score&&(c.side2Score=void 0)}var v,g;if(e.isTimedSet)a=c.side1Score?n:(null===(v=n)||void 0===v?void 0:v.slice(0,n.length-1))||[],a[n.length-1]=c;else a=(null===(g=n)||void 0===g?void 0:g.slice(0,n.length-1))||[]}else if(S){var y,I;const t=null===(y=c.side2Score)||void 0===y?void 0:y.toString(),i=null===(I=c.side1Score)||void 0===I?void 0:I.toString();if(!e.isTiebreakEntry&&!e.isMatchTiebreak)if(c.side2Score){const e=null==t?void 0:t.slice(0,t.length-1);c.side2Score=!isNaN(e)&&parseInt(e)||void 0}else{const e=null==i?void 0:i.slice(0,i.length-1);c.side1Score=!isNaN(e)&&parseInt(e)||void 0}var b;if(e.isTimedSet)if(c.side1Score)a=n||[],a[n.length-1]=c;else a=(null===(b=n)||void 0===b?void 0:b.slice(0,n.length-1))||[];else a=n||[],a[n.length-1]=c;a[a.length-1]&&Object.assign(a[a.length-1],{winningSide:void 0})}else if(o)a=n||[],Object.assign(a[a.length-1]||{},{winningSide:void 0,side1TiebreakScore:void 0,side2TiebreakScore:void 0});else{var w;if(f&&!u)a=(null===(w=n)||void 0===w?void 0:w.slice(0,n.length-1))||[];else a=n,a[n.length-1]=c;f||(a[a.length-1].side2Score=0,a[a.length-1].winningSide=void 0)}return{scoreString:r,sets:a}}return{scoreString:t,sets:n}}function Yi({scoreString:e,brackets:t="()"}){if(!e)return!1;const[n,i]=t.split(""),r=e.split(""),a=Math.max(...rn(n,r));return{isTiebreakEntry:a>Math.max(...rn(i,r)),lastOpenBracketIndex:a}}function $i({lowValue:e=0,NoAD:t=!1,tiebreakTo:n}={}){if(e+1>=n)return e+(t?1:2);return parseInt(n)}function Ji({sets:e,winningSide:t,matchUpStatus:n,matchUpFormat:r}){const a=i.matchUpFormatCode.parse(r),{bestOf:o}=a,s=Math.ceil(o/2),c=e&&e.reduce(((e,t)=>{const{winningSide:n}=t;return n&&e[n-1]++,e}),[0,0]);let u=(null==c?void 0:c.indexOf(s))+1||void 0;return Ei.includes(n)&&t&&(u=t),{matchUpWinningSide:u}}function Qi({lowSide:e,value:t,sets:n,scoreString:i,winningSide:r,matchUpStatus:a}){let o;return"r"===t?i?(o=!0,i=zi({scoreString:i,lowSide:e,outcome:"RET"}),r=2===e?1:2,a=Ti):(o=!0,i=zi({scoreString:i,lowSide:e,outcome:wi}),r=2===e?1:2,a=Ni):"d"===t?(o=!0,i=zi({scoreString:i,lowSide:e,outcome:wi}),r=2===e?1:2,a=Ni):"w"===t?(o=!0,n=[],i="WO",r=2===e?1:2,a=Pi):"s"===t&&i?(o=!0,i=zi({scoreString:i,lowSide:e,outcome:"SUS"}),a=Di,r=void 0):"a"===t?(o=!0,i=zi({scoreString:i,lowSide:e,outcome:"ABN"}),a=Ui,r=void 0):"i"===t&&i&&(o=!0,i=zi({scoreString:i,lowSide:e,outcome:"INT"}),a=Ci,r=void 0),{updated:o,sets:n,scoreString:i,matchUpStatus:a,winningSide:r}}function Xi({sets:e,scoreString:t,winningSide:n,matchUpFormat:r,value:a}){var o,s;const c=((null==e||null===(o=e.filter((e=>null==e?void 0:e.winningSide)))||void 0===o?void 0:o.length)||0)+(n?0:1),u=i.matchUpFormatCode.parse(r),d=c===(null==u?void 0:u.bestOf),l=d&&u.finalSetFormat||u.setFormat||{},p=(null==l?void 0:l.timed)||u.timed,f=d&&e[(null==u?void 0:u.bestOf)-1],m=f&&f.winningSide,{isTiebreakEntry:h}=Yi({scoreString:t,brackets:Ai}),{isTiebreakEntry:v}=Yi({scoreString:t,brackets:Mi}),g=h||v,y=!!l.tiebreakSet,I=t&&t[t.length-1].trim(),b=t&&!isNaN(I),w=!g&&I===_i,S=h&&Li.includes(I),N=v&&Li.includes(I),P=v&&I===ji,U=t&&t.split(""),[D]=Mi.split(""),T=U&&Math.max(...rn(D,U)),C=U&&Math.max(...rn(ji,U)),E=U&&C>T,A=null===(s=e[e.length-1])||void 0===s?void 0:s.winningSide,M=(null==e?void 0:e.length)&&!A,R=Si.find((e=>(null==t?void 0:t.indexOf(e))>=0)),x=!isNaN(a),O=a===Fi,k=Zi.includes(a),F=null==t?void 0:t.split("").find((e=>Li.includes(e)));return{isTiebreakSetValue:y&&x,matchUpScoringFormat:u,setNumber:c,setFormat:l,matchTiebreakHasJoiner:E,isGameScoreEntry:M,isSpace:O,isCloser:k,isTiebreakCloser:k&&F&&g&&b,isDecidingSet:d,isTiebreakSet:y,isTimedSet:p,isNumericEnding:b,isNumericValue:x,hasOpener:F,hasOutcome:R,finalSet:f,finalSetIsComplete:m,lastSetIsComplete:A,isInvalidSetTiebreakValue:O&&g&&S,isInvalidMatchTiebreakValue:k&&v&&!N&&(P||!function({scoreString:e}){if(!e)return!1;const t=e&&e[e.length-1].trim(),n=e&&!isNaN(t),[i,r]=Mi.split(""),a=e.split(""),o=Math.max(...rn(i,a)),s=Math.max(...rn(r,a)),c=Math.max(...rn(ji,a));return n&&o>s&&c>o}({scoreString:t})),isTiebreakEntry:g,isSetTiebreakEntry:h,isMatchTiebreakEntry:v,isIncompleteSetScore:w,isIncompleteSetTiebreak:S,isIncompleteMatchTiebreak:N,isPartialMatchTiebreakValue:P}}function er(e){const{sets:t,winningSide:n,autoComplete:i,matchUpStatus:r,reversed:a=!1,winnerFirst:s=!0,addOutcomeString:c}=e;if(!t)return{error:ye};const u=a||!(!s||!n||1===n),d=c?function({matchUpStatus:e}){const t={[_n]:"RET",[Vn]:"WO",[kn]:"WO/WO",[jn]:"SUS",[Cn]:"ABN",[On]:"DEF",[xn]:"DR"};return e&&t[e]||""}({matchUpStatus:r}):"",l=(null==t?void 0:t.sort(tr).map((function(e){const t=(p=e,!(o(null==p?void 0:p.side1Score)||o(null==p?void 0:p.side2Score))&&(e=>o(null==e?void 0:e.side1TiebreakScore)||o(null==e?void 0:e.side2TiebreakScore))(e)),{side1Score:n,side2Score:r,side1TiebreakScore:s,side2TiebreakScore:c}=e,d=s||(o(s)||i?0:""),l=c||(o(c)||i?0:"");var p;if(t){return`[${(a?[l,d]:[d,l]).join("-")}]`}const f=Math.min(d,l),m=f?`(${f})`:"",h=n||(o(n)||i?0:""),v=r||(o(r)||i?0:"");let g=u?`${[v,h].join("-")}${m}`:`${[h,v].join("-")}${m}`;["-"," "].includes(g)&&(g="");return g})).filter((e=>e)).join(" "))||"";return d?2===n?`${d} ${l}`:`${l} ${d}`:l}function tr(e,t){return e.setNumber-t.setNumber}const nr=e=>{var t;const{isSide1:n,lowValue:i,tiebreakTo:r,tiebreakNoAd:a}=e;if(void 0===i)return{error:ye};let o=parseInt(i);(null===(t=o)||void 0===t?void 0:t.toString().length)>2&&(o=parseInt(o.toString().slice(0,2))),a&&o>r-1&&(o=r-1);const s=function(e){const{lowValue:t,NoAD:n,tiebreakTo:i}=e,r=n?1:2;if(t+1>=i)return t+r;return i}({lowValue:o,NoAD:a,tiebreakTo:r});return[n?o:s,n?s:o]};const ir={analyzeSet:Tn,keyValueScore:function(e){let{lowSide:t=1,value:n}=e,{scoreString:i,sets:r,winningSide:a,matchUpStatus:o}=e;const{matchUpFormat:s,shiftFirst:c,auto:u=!0}=e;let d,l;const p=c&&2===t||!c&&1===t;if(!Wi.includes(n))return{updated:!1,message:"invalid key"};c&&(t=3-t);const{matchUpWinningSide:f}=Ji({sets:r,winningSide:a,matchUpStatus:o,matchUpFormat:s});a=f;const m=Xi({value:n,winningSide:a,scoreString:i,sets:r,matchUpFormat:s});if(Bi.includes(n)&&(n=_i),m.hasOpener&&m.isTiebreakEntry&&!m.isTiebreakSet&&p&&0===parseInt(n)&&(m.isTiebreakCloser=!0),Zi.includes(n)&&m.hasOpener&&(n=""),Zi.includes(n)&&(n=Fi),m.lastSetIsComplete){var h;const e=(null===(h=i)||void 0===h?void 0:h.length)&&i[i.length-1];i&&" "!==e&&(i+=" ")}if(m.isTimedSet)({message:l,sets:r,scoreString:i,updated:d,matchUpStatus:o,winningSide:a}=function({analysis:e,lowSide:t,scoreString:n,sets:i,winningSide:r,matchUpStatus:a,message:o,value:s}){var c;let u,d;null!==(c=i)&&void 0!==c&&c.length||s===Oi||(i=[{setNumber:1}]);const l=i.length-1;if(ki.includes(s)){const c=i[i.length-1]||{},{side1Score:d,side2Score:l}=c;d&&!l?o="missing side2Score":e.finalSetIsComplete||r?o="final set is already complete":e.isIncompleteSetScore?o="incomplete set scoreString":e.isIncompleteSetScore||({sets:i,scoreString:n,winningSide:r,matchUpStatus:a,updated:u}=Qi({lowSide:t,value:s,sets:i,scoreString:n,matchUpStatus:a,winningSide:r}))}else if(s===Oi){var p;if(({scoreString:n,sets:i,outcomeRemoved:d}=qi({analysis:e,scoreString:n,sets:i})),""===(null===(p=n)||void 0===p?void 0:p.trim())&&(n=n.trim()),n||(i=[]),d){const e=i[i.length-1]||{},{side1Score:t,side2Score:n}=e;if(t&&n){const r=t>n?1:n>t?2:void 0;r&&(e.winningSide=r,i.push({setNumber:i.length+1}))}}a=void 0,r=void 0,u=!0}else if(e.hasOutcome)o="has outcome";else{if(r)return{sets:i,scoreString:n,winningSide:r,matchUpStatus:a,updated:!1,message:"matchUp is complete"};if(s===Fi){const t=i[i.length-1]||{},{side1Score:a,side2Score:o}=t,s=a>o?1:o>a?2:void 0;!s||r||e.isIncompleteSetScore||(i[i.length-1].winningSide=s,i.push({setNumber:i.length+1}),n+=" ",u=!0)}else if(s===_i&&void 0!==i[l].side1Score&&void 0===i[l].side2Score&&n&&e.isNumericEnding)n+="-",i[l].side2Score=0,a=void 0,r=void 0,u=!0;else if(!isNaN(s)){let e;if(void 0===i[l].side2Score){const t=parseInt((i[l].side1Score||0).toString()+s).toString().slice(0,2);i[l].side1Score=parseInt(t),e=i[l].side1Score.toString(),u=!0}else{const t=parseInt((i[l].side2Score||0).toString()+s).toString().slice(0,2);i[l].side2Score=parseInt(t),e=[i[l].side1Score,i[l].side2Score].join("-"),u=!0}if(u){const t=(i.slice(0,l)||[]).filter((e=>e)).map((e=>{const{side1Score:t,side2Score:n}=e;return[t,n].join("-")})).join(" ");n=t?t+" "+e:e}}}return{sets:i,scoreString:n,winningSide:r,matchUpStatus:a,message:o,updated:u}}({analysis:m,lowSide:t,scoreString:i,sets:r,matchUpStatus:o,winningSide:a,value:n}));else if(ki.includes(n))m.finalSetIsComplete||a?l="final set is already complete":m.isTiebreakEntry||m.isIncompleteSetScore?m.isTiebreakEntry||m.isIncompleteSetScore?l="incomplete set scoreString or tiebreak entry":console.log("handle case",{value:n}):({sets:r,scoreString:i,matchUpStatus:o,winningSide:a,updated:d}=Qi({lowSide:t,sets:r,scoreString:i,matchUpStatus:o,winningSide:a,value:n}));else if(n===Oi)d=!0,({scoreString:i,sets:r}=qi({analysis:m,scoreString:i,sets:r,lowSide:t,auto:u})),i||(r=[]),o=void 0,a=void 0;else if(m.hasOutcome)l="has outcome";else if(n!==_i||m.isMatchTiebreakEntry)if(n===ji&&m.isMatchTiebreakEntry&&!m.isSetTiebreakEntry)m.matchTiebreakHasJoiner?l="existing joiner":m.isNumericEnding&&(d=!0,i+=ji);else if([_i,ji].includes(n))l="invalid location for joiner";else{if(a)return{updated:!1,message:"matchUp is complete"};if(m.isIncompleteSetScore)m.isNumericValue&&({sets:r,scoreString:i,updated:d}=function({analysis:e,scoreString:t,sets:n,value:i}){let r;if(null==n||!n.length)return{sets:[]};const a=n[n.length-1];i=parseInt(i);const{validSide2Score:o,requiresTiebreak:s}=function({analysis:e,set:t={},value:n}){const i=e.isDecidingSet&&e.matchUpScoringFormat.finalSetFormat||e.matchUpScoringFormat.setFormat,{tiebreakAt:r,setTo:a,NoAD:o}=i,{side1Score:s}=t;let c,u;return c=r&&r<a?s===r?n<=a:n<=r:s===a?o?n<a:n<=a+1:s===a-1?o?n<=a:n<=a+1:s===a+1?n===a||n===a-1:n<=a,c&&(u=r&&r<a?s===a&&n===r||s===r&&n===a:s>=a&&n>=a&&s!==n),{validSide2Score:c,requiresTiebreak:u}}({analysis:e,set:a,value:i});if(o){r=!0,t=(t||"")+i,a.side2Score=i;const o=gi({analysis:e,set:n[n.length-1]});a.winningSide=o||void 0,s?t+=Ai.split("")[0]:e.isDecidingSet||(t+=bi)}return{sets:n,scoreString:t,updated:r}}({analysis:m,scoreString:i,sets:r,value:n}));else if(m.isInvalidMatchTiebreakValue)l="invalid matchUp tiebreak character";else if(m.isInvalidSetTiebreakValue)l="invalid set tiebreak character";else if(m.isTiebreakCloser){const e=m.isSetTiebreakEntry?Ai:Mi,t=e.split("").reverse()[0],n=e.split("")[0],a=r[r.length-1],{tiebreakFormat:o}=m.setFormat,{tiebreakTo:s,NoAD:c}=o||{},u=Ii({set:a});if(!m.isTiebreakSet){const e=parseInt(i.split(n).reverse()[0]),t=$i({lowValue:e,tiebreakTo:s,NoAD:c});1===u?(a.side1TiebreakScore=t,a.side2TiebreakScore=e):(a.side1TiebreakScore=e,a.side2TiebreakScore=t)}i=(i||"")+t,m.isDecidingSet||(i+=bi);const l=gi({analysis:m,set:a});a.winningSide=l||void 0,d=!0}else if(m.isTiebreakSetValue)({message:l,scoreString:i,sets:r,updated:d}=function({analysis:e,auto:t,lowSide:n,scoreString:i="",sets:r,value:a}){let o,s;const{tiebreakSet:{tiebreakTo:c,NoAD:u}}=e.setFormat,[d]=Mi.split("");if(e.isMatchTiebreakEntry||(i+=d),r[e.setNumber-1]){var l;const{lastOpenBracketIndex:e}=Yi({scoreString:i,brackets:Mi}),d=(i.slice(e+1)+(t?"":a)).split(ji);if(((null===(l=d[n-1])||void 0===l?void 0:l.length)||0)>=2)s="tiebreak digit limit";else if(t){1===n&&(d[0]=(d[0]||"")+a),2===n&&(d[1]=(d[1]||"")+a);const t=[d[0]||0,d[1]||0].map((e=>parseInt(e))),s=1===n?1:0;t[s]=t[1-s]+(u?1:2),t[s]<c&&(t[s]=c);const l=r[r.length-1];l.side1TiebreakScore=t[0],l.side2TiebreakScore=t[1],i=i.slice(0,e+1),i+=t.join(ji),o=!0}else{const e=[d[0]||0,d[1]||0].map((e=>parseInt(e))),t=r[r.length-1];t.side1TiebreakScore=e[0],t.side2TiebreakScore=e[1],i+=a,o=!0}}else{const e=$i({lowValue:parseInt(a||0),tiebreakTo:c,NoAD:u}),t=[parseInt(a),e];2===n&&t.reverse();const s={side1TiebreakScore:t[0],side2TiebreakScore:t[1],setNumber:(null==r?void 0:r.length)+1||1};r.push(s),i+=t.join(ji),o=!0}return{message:s,scoreString:i,sets:r,updated:o}}({analysis:m,auto:u,lowSide:t,scoreString:i,sets:r,value:n}));else if(m.isSetTiebreakEntry){const[e]=Ai.split(""),t=Math.max(...rn(e,i.split(""))),r=i.slice(t+1),a=r&&0===parseInt(r),o=parseInt(r?r+n:n),{tiebreakFormat:s}=m.setFormat,{tiebreakTo:c,NoAD:u}=s||{};!a&&r.length<2?u&&o>c-1?l="invalid low value for NoAD tiebreak":(d=!0,i=(i||"")+n):l=a?"tiebreak begins with zero":"tiebreak digit limit"}else if(m.isCloser)l=`invalid key: ${n}`;else if(m.isGameScoreEntry)l="game scoreString entry";else if(m.lastSetIsComplete||!r.length){var v,g;d=!0;const{scoreString:e,set:a}=function({analysis:e,lowSide:t,scoreString:n,value:i}){const{setTo:r,tiebreakAt:a,NoAD:o}=e.setFormat,s=i===parseInt(a||r);if(a&&a<r&&i>a)return{scoreString:n};if(o&&i===r||i>r)return{scoreString:n};const c=s?i+1:i+1===r?i+(o?1:2):r,u=[i,c];2===t&&u.reverse();const d=Ai.split("")[0];n=(n||"")+(u.join(_i)+(s?d:bi));const l={side1Score:u[0],side2Score:u[1]},p=gi({analysis:e,set:l});return l.winningSide=p||void 0,{scoreString:n,set:l}}({analysis:m,lowSide:t,scoreString:i,value:parseInt(n)});a&&(a.setNumber=(null===(v=r)||void 0===v?void 0:v.length)+1||1),r=(null===(g=r)||void 0===g?void 0:g.concat(a).filter((e=>e)))||[a],i=e||void 0}else console.log("error: unknown outcome")}else(!m.isSetTiebreakEntry||m.isSetTiebreakEntry&&!m.isNumericEnding)&&(d=!0,({scoreString:i,sets:r}=qi({analysis:m,scoreString:i,sets:r,lowSide:t,auto:u})),o=void 0);if(d){var y;r=null===(y=r)||void 0===y?void 0:y.filter((e=>e));const{matchUpWinningSide:e}=Ji({sets:r,winningSide:a,matchUpStatus:o,matchUpFormat:s});return a=e,!e||o&&![Bn,Ln].includes(o)?!i||a||[Di,Ui,Ci].includes(o)||(o=void 0):(o="COMPLETED",r=r.filter((e=>{const{side1Score:t,side2Score:n,side1TiebreakScore:i,side2TiebreakScore:r}=e;return t||n||i||r}))),{updated:d,scoreString:i,sets:r,winningSide:a,matchUpStatus:o,message:l}}return{updated:d,scoreString:i,sets:r,winningSide:a,matchUpStatus:o,message:l}},analyzeMatchUp:function(e){var t,n,r,a;const{matchUp:o,sideNumber:s,setNumber:c,isTiebreakValue:u,isPointValue:d}=e||{};let{matchUpFormat:l}=e||{};if(!o)return{error:ae};l=l||(null==o?void 0:o.matchUpFormat);const p=null===i.matchUpFormatCode||void 0===i.matchUpFormatCode?void 0:i.matchUpFormatCode.parse(l),f=!(null==o||!o.winningSide),m=null==o||null===(t=o.sets)||void 0===t?void 0:t.length,h=c&&c-1,v=!(null==o||null===(n=o.sets)||void 0===n||!n.find(((e,t)=>e.setNumber===c&&t===h))),g=(null==o||null===(r=o.sets)||void 0===r?void 0:r.filter((e=>null==e?void 0:e.winningSide)))||[],y=(null==g?void 0:g.length)||0,I=c&&(null==o||null===(a=o.sets)||void 0===a?void 0:a.slice(c))||[],b=!!(m&&c&&null!=I&&I.reduce(((e,t)=>(!t||!t.side1Score&&!t.side2Score&&!t.side1TiebreakScore&&!t.side2TiebreakScore&&!t.side1PointScore&&!t.side2PointScore)&&e),!0)),w=c<=m&&(null==o?void 0:o.sets.find((e=>e.setNumber===c))),S=w&&Tn({setObject:w,matchUpScoringFormat:p}),{isCompletedSet:N,sideGameScores:P,sideTiebreakScores:U}=S||{},D=!!(w&&!N&&b||c&&c===m+1&&!f),T=[1,2].includes(s),C=T?s-1:0,E=w&&T&&(!u&&!d&&void 0!==P[C]&&P[C]||u&&void 0!==U[C]&&U[C]),A=!!E,M=g&&g.map((e=>Tn({setObject:e,matchUpScoringFormat:p}).isValidSetOutcome)).reduce(((e,t)=>e&&t),!0),R=g.reduce(((e,t)=>{const{winningSide:n}=t;return e[n-1]++,e}),[0,0]),x=null==o?void 0:o.winningSide,O=x&&x-1,k=1-O,F=R[O],L=R[k],Z=Math.max(...R),_=Qt(R)[Z],{bestOf:j}=p||{},B=Z===(j&&Math.ceil(j/2)||1)&&1===_&&R.indexOf(Z)+1||void 0,V=F>L&&x===B;return{isActiveSet:D,isExistingSet:v,existingValue:E,hasExistingValue:A,isValidSideNumber:T,completedSetsCount:y,isCompletedMatchUp:f,isLastSetWithValues:b,validMatchUpOutcome:M&&V,matchUpScoringFormat:p,calculatedWinningSide:B,validMatchUpWinningSide:V,completedSetsHaveValidOutcomes:M,...S}},getSetComplement:e=>{var t;const{isSide1:n,lowValue:i,setTo:r,tiebreakAt:a,NoAD:o}=e;if(void 0===i)return{error:ye};let s,c=parseInt(i);(null===(t=c)||void 0===t?void 0:t.toString().length)>2&&(c=parseInt(c.toString().slice(0,2))),a&&a<r&&c>a&&(c=a),s=o&&!a?c<r?r:r-1:c+1<r||a&&a<r&&c===a?r:a?r+1:c+2;return[n?c:s,n?s:c]},checkSetIsComplete:yi,generateScoreString:er,getTiebreakComplement:nr,tallyParticipantResults:vi};const rr=[{ioc:"",iso:"",label:"NONE",phone:""},{ioc:"AND",iso:"AD",label:"Andorra",phone:"376"},{ioc:"UAE",iso:"AE",label:"United Arab Emirates",phone:"971"},{ioc:"AFG",iso:"AF",label:"Afghanistan",phone:"93"},{ioc:"ANT",iso:"AG",label:"Antigua and Barbuda",phone:"1-268"},{ioc:"AIA",iso:"AI",label:"Anguilla",phone:"1-264"},{ioc:"ALB",iso:"AL",label:"Albania",phone:"355"},{ioc:"ARM",iso:"AM",label:"Armenia",phone:"374"},{ioc:"ANG",iso:"AO",label:"Angola",phone:"244"},{ioc:"",iso:"AQ",label:"Antarctica",phone:"672"},{ioc:"ARG",iso:"AR",label:"Argentina",phone:"54"},{ioc:"ASA",iso:"AS",label:"American Samoa",phone:"1-684"},{ioc:"AUT",iso:"AT",label:"Austria",phone:"43"},{ioc:"AUS",iso:"AU",label:"Australia",phone:"61",suggested:!0},{ioc:"ARU",iso:"AW",label:"Aruba",phone:"297"},{ioc:"",iso:"AX",label:"Alland Islands",phone:"358"},{ioc:"AZE",iso:"AZ",label:"Azerbaijan",phone:"994"},{ioc:"BIH",iso:"BA",label:"Bosnia and Herzegovina",phone:"387"},{ioc:"BAR",iso:"BB",label:"Barbados",phone:"1-246"},{ioc:"BAN",iso:"BD",label:"Bangladesh",phone:"880"},{ioc:"BEL",iso:"BE",label:"Belgium",phone:"32"},{ioc:"BUR",iso:"BF",label:"Burkina Faso",phone:"226"},{ioc:"BUL",iso:"BG",label:"Bulgaria",phone:"359"},{ioc:"BRN",iso:"BH",label:"Bahrain",phone:"973"},{ioc:"BDI",iso:"BI",label:"Burundi",phone:"257"},{ioc:"BEN",iso:"BJ",label:"Benin",phone:"229"},{ioc:"",iso:"BL",label:"Saint Barthelemy",phone:"590"},{ioc:"BER",iso:"BM",label:"Bermuda",phone:"1-441"},{ioc:"BRU",iso:"BN",label:"Brunei Darussalam",phone:"673"},{ioc:"BOL",iso:"BO",label:"Bolivia",phone:"591"},{ioc:"BRA",iso:"BR",label:"Brazil",phone:"55"},{ioc:"BAH",iso:"BS",label:"Bahamas",phone:"1-242"},{ioc:"BHU",iso:"BT",label:"Bhutan",phone:"975"},{ioc:"",iso:"BV",label:"Bouvet Island",phone:"47"},{ioc:"BOT",iso:"BW",label:"Botswana",phone:"267"},{ioc:"BLR",iso:"BY",label:"Belarus",phone:"375"},{ioc:"BIZ",iso:"BZ",label:"Belize",phone:"501"},{ioc:"CAN",iso:"CA",label:"Canada",phone:"1",suggested:!0},{ioc:"",iso:"CC",label:"Cocos (Keeling) Islands",phone:"61"},{ioc:"CGO",iso:"CD",label:"Congo, Republic of the",phone:"242"},{ioc:"CAF",iso:"CF",label:"Central African Republic",phone:"236"},{ioc:"COD",iso:"CG",label:"Congo, Democratic Republic of the",phone:"243"},{ioc:"SUI",iso:"CH",label:"Switzerland",phone:"41"},{ioc:"CIV",iso:"CI",label:"Cote d'Ivoire",phone:"225"},{ioc:"COK",iso:"CK",label:"Cook Islands",phone:"682"},{ioc:"CHI",iso:"CL",label:"Chile",phone:"56"},{ioc:"CMR",iso:"CM",label:"Cameroon",phone:"237"},{ioc:"CHN",iso:"CN",label:"China",phone:"86"},{ioc:"COL",iso:"CO",label:"Colombia",phone:"57"},{ioc:"CRC",iso:"CR",label:"Costa Rica",phone:"506"},{ioc:"CUB",iso:"CU",label:"Cuba",phone:"53"},{ioc:"CPV",iso:"CV",label:"Cape Verde",phone:"238"},{ioc:"CUW",iso:"CW",label:"Curacao",phone:"599"},{ioc:"CXR",iso:"CX",label:"Christmas Island",phone:"61"},{ioc:"CYP",iso:"CY",label:"Cyprus",phone:"357"},{ioc:"CZE",iso:"CZ",label:"Czech Republic",phone:"420"},{ioc:"GER",iso:"DE",label:"Germany",phone:"49",suggested:!0},{ioc:"DJI",iso:"DJ",label:"Djibouti",phone:"253"},{ioc:"DEN",iso:"DK",label:"Denmark",phone:"45"},{ioc:"DMA",iso:"DM",label:"Dominica",phone:"1-767"},{ioc:"DOM",iso:"DO",label:"Dominican Republic",phone:"1-809"},{ioc:"ALG",iso:"DZ",label:"Algeria",phone:"213"},{ioc:"ECU",iso:"EC",label:"Ecuador",phone:"593"},{ioc:"EST",iso:"EE",label:"Estonia",phone:"372"},{ioc:"EGY",iso:"EG",label:"Egypt",phone:"20"},{ioc:"",iso:"EH",label:"Western Sahara",phone:"212"},{ioc:"ERI",iso:"ER",label:"Eritrea",phone:"291"},{ioc:"ESP",iso:"ES",label:"Spain",phone:"34"},{ioc:"ETH",iso:"ET",label:"Ethiopia",phone:"251"},{ioc:"FIN",iso:"FI",label:"Finland",phone:"358"},{ioc:"FIJ",iso:"FJ",label:"Fiji",phone:"679"},{ioc:"FLK",iso:"FK",label:"Falkland Islands (Malvinas)",phone:"500"},{ioc:"FSM",iso:"FM",label:"Micronesia, Federated States of",phone:"691"},{ioc:"FAR",iso:"FO",label:"Faroe Islands",phone:"298"},{ioc:"FRA",iso:"FR",label:"France",phone:"33",suggested:!0},{ioc:"GAB",iso:"GA",label:"Gabon",phone:"241"},{ioc:"GBR",iso:"GB",label:"United Kingdom",phone:"44"},{ioc:"GRN",iso:"GD",label:"Grenada",phone:"1-473"},{ioc:"GEO",iso:"GE",label:"Georgia",phone:"995"},{ioc:"FGU",iso:"GF",label:"French Guiana",phone:"594"},{ioc:"",iso:"GG",label:"Guernsey",phone:"44"},{ioc:"",iso:"GH",label:"Ghana",phone:"233"},{ioc:"GIB",iso:"GI",label:"Gibraltar",phone:"350"},{ioc:"GRL",iso:"GL",label:"Greenland",phone:"299"},{ioc:"GAM",iso:"GM",label:"Gambia",phone:"220"},{ioc:"GUI",iso:"GN",label:"Guinea",phone:"224"},{ioc:"GUD",iso:"GP",label:"Guadeloupe",phone:"590"},{ioc:"GEQ",iso:"GQ",label:"Equatorial Guinea",phone:"240"},{ioc:"GRE",iso:"GR",label:"Greece",phone:"30"},{ioc:"",iso:"GS",label:"South Georgia and the South Sandwich Islands",phone:"500"},{ioc:"GUA",iso:"GT",label:"Guatemala",phone:"502"},{ioc:"GUM",iso:"GU",label:"Guam",phone:"1-671"},{ioc:"GBS",iso:"GW",label:"Guinea-Bissau",phone:"245"},{ioc:"GUY",iso:"GY",label:"Guyana",phone:"592"},{ioc:"HKG",iso:"HK",label:"Hong Kong",phone:"852"},{ioc:"",iso:"HM",label:"Heard Island and McDonald Islands",phone:"672"},{ioc:"HON",iso:"HN",label:"Honduras",phone:"504"},{ioc:"CRO",iso:"HR",label:"Croatia",phone:"385"},{ioc:"HAI",iso:"HT",label:"Haiti",phone:"509"},{ioc:"HUN",iso:"HU",label:"Hungary",phone:"36"},{ioc:"INA",iso:"ID",label:"Indonesia",phone:"62"},{ioc:"IRL",iso:"IE",label:"Ireland",phone:"353"},{ioc:"ISR",iso:"IL",label:"Israel",phone:"972"},{ioc:"",iso:"IM",label:"Isle of Man",phone:"44"},{ioc:"IND",iso:"IN",label:"India",phone:"91"},{ioc:"",iso:"IO",label:"British Indian Ocean Territory",phone:"246"},{ioc:"IRQ",iso:"IQ",label:"Iraq",phone:"964"},{ioc:"IRI",iso:"IR",label:"Iran, Islamic Republic of",phone:"98"},{ioc:"ISL",iso:"IS",label:"Iceland",phone:"354"},{ioc:"ITA",iso:"IT",label:"Italy",phone:"39"},{ioc:"",iso:"JE",label:"Jersey",phone:"44"},{ioc:"JAM",iso:"JM",label:"Jamaica",phone:"1-876"},{ioc:"JOR",iso:"JO",label:"Jordan",phone:"962"},{ioc:"JPN",iso:"JP",label:"Japan",phone:"81",suggested:!0},{ioc:"KEN",iso:"KE",label:"Kenya",phone:"254"},{ioc:"KGZ",iso:"KG",label:"Kyrgyzstan",phone:"996"},{ioc:"CAM",iso:"KH",label:"Cambodia",phone:"855"},{ioc:"KIR",iso:"KI",label:"Kiribati",phone:"686"},{ioc:"COM",iso:"KM",label:"Comoros",phone:"269"},{ioc:"SKN",iso:"KN",label:"Saint Kitts and Nevis",phone:"1-869"},{ioc:"KOR",iso:"KP",label:"Korea, Democratic People's Republic of",phone:"850"},{ioc:"PRK",iso:"KR",label:"Korea, Republic of",phone:"82"},{ioc:"KUW",iso:"KW",label:"Kuwait",phone:"965"},{ioc:"CAY",iso:"KY",label:"Cayman Islands",phone:"1-345"},{ioc:"KAZ",iso:"KZ",label:"Kazakhstan",phone:"7"},{ioc:"LAO",iso:"LA",label:"Lao People's Democratic Republic",phone:"856"},{ioc:"LIB",iso:"LB",label:"Lebanon",phone:"961"},{ioc:"LCA",iso:"LC",label:"Saint Lucia",phone:"1-758"},{ioc:"LIE",iso:"LI",label:"Liechtenstein",phone:"423"},{ioc:"SRI",iso:"LK",label:"Sri Lanka",phone:"94"},{ioc:"LBR",iso:"LR",label:"Liberia",phone:"231"},{ioc:"LES",iso:"LS",label:"Lesotho",phone:"266"},{ioc:"LTU",iso:"LT",label:"Lithuania",phone:"370"},{ioc:"LUX",iso:"LU",label:"Luxembourg",phone:"352"},{ioc:"LAT",iso:"LV",label:"Latvia",phone:"371"},{ioc:"LBA",iso:"LY",label:"Libya",phone:"218"},{ioc:"MAR",iso:"MA",label:"Morocco",phone:"212"},{ioc:"MON",iso:"MC",label:"Monaco",phone:"377"},{ioc:"MDA",iso:"MD",label:"Moldova, Republic of",phone:"373"},{ioc:"MNE",iso:"ME",label:"Montenegro",phone:"382"},{ioc:"",iso:"MF",label:"Saint Martin (French part)",phone:"590"},{ioc:"MAD",iso:"MG",label:"Madagascar",phone:"261"},{ioc:"MSH",iso:"MH",label:"Marshall Islands",phone:"692"},{ioc:"MKD",iso:"MK",label:"Macedonia, the Former Yugoslav Republic of",phone:"389"},{ioc:"MLI",iso:"ML",label:"Mali",phone:"223"},{ioc:"MYA",iso:"MM",label:"Myanmar",phone:"95"},{ioc:"MGL",iso:"MN",label:"Mongolia",phone:"976"},{ioc:"MAC",iso:"MO",label:"Macao",phone:"853"},{ioc:"NMA",iso:"MP",label:"Northern Mariana Islands",phone:"1-670"},{ioc:"MRT",iso:"MQ",label:"Martinique",phone:"596"},{ioc:"MTN",iso:"MR",label:"Mauritania",phone:"222"},{ioc:"MNT",iso:"MS",label:"Montserrat",phone:"1-664"},{ioc:"MLT",iso:"MT",label:"Malta",phone:"356"},{ioc:"MRI",iso:"MU",label:"Mauritius",phone:"230"},{ioc:"MDV",iso:"MV",label:"Maldives",phone:"960"},{ioc:"MAW",iso:"MW",label:"Malawi",phone:"265"},{ioc:"MEX",iso:"MX",label:"Mexico",phone:"52"},{ioc:"MAS",iso:"MY",label:"Malaysia",phone:"60"},{ioc:"MOZ",iso:"MZ",label:"Mozambique",phone:"258"},{ioc:"NAM",iso:"NA",label:"Namibia",phone:"264"},{ioc:"NCL",iso:"NC",label:"New Caledonia",phone:"687"},{ioc:"NIG",iso:"NE",label:"Niger",phone:"227"},{ioc:"NFI",iso:"NF",label:"Norfolk Island",phone:"672"},{ioc:"NGR",iso:"NG",label:"Nigeria",phone:"234"},{ioc:"NCA",iso:"NI",label:"Nicaragua",phone:"505"},{ioc:"NED",iso:"NL",label:"Netherlands",phone:"31"},{ioc:"NOR",iso:"NO",label:"Norway",phone:"47"},{ioc:"NEP",iso:"NP",label:"Nepal",phone:"977"},{ioc:"NRU",iso:"NR",label:"Nauru",phone:"674"},{ioc:"NIU",iso:"NU",label:"Niue",phone:"683"},{ioc:"NZL",iso:"NZ",label:"New Zealand",phone:"64"},{ioc:"OMA",iso:"OM",label:"Oman",phone:"968"},{ioc:"PAN",iso:"PA",label:"Panama",phone:"507"},{ioc:"PER",iso:"PE",label:"Peru",phone:"51"},{ioc:"FPO",iso:"PF",label:"French Polynesia",phone:"689"},{ioc:"PNG",iso:"PG",label:"Papua New Guinea",phone:"675"},{ioc:"PHI",iso:"PH",label:"Philippines",phone:"63"},{ioc:"PAK",iso:"PK",label:"Pakistan",phone:"92"},{ioc:"POL",iso:"PL",label:"Poland",phone:"48"},{ioc:"SPM",iso:"PM",label:"Saint Pierre and Miquelon",phone:"508"},{ioc:"",iso:"PN",label:"Pitcairn",phone:"870"},{ioc:"PUR",iso:"PR",label:"Puerto Rico",phone:"1"},{ioc:"PLE",iso:"PS",label:"Palestine, State of",phone:"970"},{ioc:"POR",iso:"PT",label:"Portugal",phone:"351"},{ioc:"PlW",iso:"PW",label:"Palau",phone:"680"},{ioc:"PAR",iso:"PY",label:"Paraguay",phone:"595"},{ioc:"QAT",iso:"QA",label:"Qatar",phone:"974"},{ioc:"REU",iso:"RE",label:"Reunion",phone:"262"},{ioc:"ROU",iso:"RO",label:"Romania",phone:"40"},{ioc:"SRB",iso:"RS",label:"Serbia",phone:"381"},{ioc:"RUS",iso:"RU",label:"Russia",phone:"7"},{ioc:"RWA",iso:"RW",label:"Rwanda",phone:"250"},{ioc:"KSA",iso:"SA",label:"Saudi Arabia",phone:"966"},{ioc:"SOL",iso:"SB",label:"Solomon Islands",phone:"677"},{ioc:"SEY",iso:"SC",label:"Seychelles",phone:"248"},{ioc:"SUD",iso:"SD",label:"Sudan",phone:"249"},{ioc:"SWE",iso:"SE",label:"Sweden",phone:"46"},{ioc:"SIN",iso:"SG",label:"Singapore",phone:"65"},{ioc:"HEL",iso:"SH",label:"Saint Helena",phone:"290"},{ioc:"SLO",iso:"SI",label:"Slovenia",phone:"386"},{ioc:"",iso:"SJ",label:"Svalbard and Jan Mayen",phone:"47"},{ioc:"SVK",iso:"SK",label:"Slovakia",phone:"421"},{ioc:"SLE",iso:"SL",label:"Sierra Leone",phone:"232"},{ioc:"SMR",iso:"SM",label:"San Marino",phone:"378"},{ioc:"SEN",iso:"SN",label:"Senegal",phone:"221"},{ioc:"SOM",iso:"SO",label:"Somalia",phone:"252"},{ioc:"SUR",iso:"SR",label:"Suriname",phone:"597"},{ioc:"",iso:"SS",label:"South Sudan",phone:"211"},{ioc:"STP",iso:"ST",label:"Sao Tome and Principe",phone:"239"},{ioc:"ESA",iso:"SV",label:"El Salvador",phone:"503"},{ioc:"",iso:"SX",label:"Sint Maarten",phone:"1-721"},{ioc:"SYR",iso:"SY",label:"Syria",phone:"963"},{ioc:"",iso:"SZ",label:"Swaziland",phone:"268"},{ioc:"TKS",iso:"TC",label:"Turks and Caicos Islands",phone:"1-649"},{ioc:"CHA",iso:"TD",label:"Chad",phone:"235"},{ioc:"",iso:"TF",label:"French Southern Territories",phone:"262"},{ioc:"TOG",iso:"TG",label:"Togo",phone:"228"},{ioc:"THA",iso:"TH",label:"Thailand",phone:"66"},{ioc:"TJK",iso:"TJ",label:"Tajikistan",phone:"992"},{ioc:"",iso:"TK",label:"Tokelau",phone:"690"},{ioc:"TLS",iso:"TL",label:"Timor-Leste",phone:"670"},{ioc:"TKM",iso:"TM",label:"Turkmenistan",phone:"993"},{ioc:"TUN",iso:"TN",label:"Tunisia",phone:"216"},{ioc:"TGA",iso:"TO",label:"Tonga",phone:"676"},{ioc:"TUR",iso:"TR",label:"Turkey",phone:"90"},{ioc:"TTO",iso:"TT",label:"Trinidad and Tobago",phone:"1-868"},{ioc:"TUV",iso:"TV",label:"Tuvalu",phone:"688"},{ioc:"TPE",iso:"TW",label:"Taiwan",phone:"886"},{ioc:"TAN",iso:"TZ",label:"United Republic of Tanzania",phone:"255"},{ioc:"UKR",iso:"UA",label:"Ukraine",phone:"380"},{ioc:"UGA",iso:"UG",label:"Uganda",phone:"256"},{ioc:"USA",iso:"US",label:"United States",phone:"1",suggested:!0},{ioc:"URU",iso:"UY",label:"Uruguay",phone:"598"},{ioc:"UZB",iso:"UZ",label:"Uzbekistan",phone:"998"},{ioc:"",iso:"VA",label:"Holy See (Vatican City State)",phone:"379"},{ioc:"VIN",iso:"VC",label:"Saint Vincent and the Grenadines",phone:"1-784"},{ioc:"VEN",iso:"VE",label:"Venezuela",phone:"58"},{ioc:"IVB",iso:"VG",label:"British Virgin Islands",phone:"1-284"},{ioc:"ISV",iso:"VI",label:"US Virgin Islands",phone:"1-340"},{ioc:"VIE",iso:"VN",label:"Vietnam",phone:"84"},{ioc:"VAN",iso:"VU",label:"Vanuatu",phone:"678"},{ioc:"WAF",iso:"WF",label:"Wallis and Futuna",phone:"681"},{ioc:"SAM",iso:"WS",label:"Samoa",phone:"685"},{ioc:"KOS",iso:"XK",label:"Kosovo",phone:"383"},{ioc:"YEM",iso:"YE",label:"Yemen",phone:"967"},{ioc:"MAY",iso:"YT",label:"Mayotte",phone:"262"},{ioc:"RSA",iso:"ZA",label:"South Africa",phone:"27"},{ioc:"ZAM",iso:"ZM",label:"Zambia",phone:"260"},{ioc:"ZIM",iso:"ZW",label:"Zimbabwe",phone:"263"}],ar="MAIN",or="QUALIFYING",sr="CONSOLATION",cr="VOLUNTARY_CONSOLATION",ur="PLAY_OFF",dr=[ar,or,sr,ur,cr],lr={[or]:1,[ar]:2,[ur]:3,[sr]:3,[cr]:4},pr="CLUSTER",fr="WATERFALL",mr="ITEM",hr="CONTAINER",vr="DRAW",gr="RANDOM",yr="TOP_DOWN",Ir="BOTTOM_UP",br="POSITION",wr="WINNER",Sr="LOSER",Nr="FIRST_MATCHUP",Pr="FEED IN",Ur="COMPASS",Dr="OLYMPIC",Tr="SINGLE_ELIMINATION",Cr="DOUBLE_ELIMINATION",Er="FIRST_MATCH_LOSER_CONSOLATION",Ar="FIRST_ROUND_LOSER_CONSOLATION",Mr="CURTIS_CONSOLATION",Rr="FEED_IN_CHAMPIONSHIP_TO_SF",xr="FEED_IN_CHAMPIONSHIP_TO_SF",Or="FEED_IN_CHAMPIONSHIP_TO_QF",kr="FEED_IN_CHAMPIONSHIP_TO_QF",Fr="FEED_IN_CHAMPIONSHIP_TO_R16",Lr="FEED_IN_CHAMPIONSHIP_TO_R16",Zr="MODIFIED_FEED_IN_CHAMPIONSHIP",_r="MODIFIED_FEED_IN_CHAMPIONSHIP",jr="FEED_IN_CHAMPIONSHIP",Br="ROUND_ROBIN",Vr="ROUND_ROBIN_WITH_PLAYOFF",Gr="DECIDER",Hr="BACKDRAW",Wr={0:{name:"EAST",abbreviation:"E"},"0-1":{name:"WEST",abbreviation:"W"},"0-2":{name:"NORTH",abbreviation:"N"},"0-3":{name:"NORTHEAST",abbreviation:"NE"},"0-1-1":{name:"SOUTH",abbreviation:"S"},"0-1-2":{name:"SOUTHWEST",abbreviation:"SW"},"0-2-1":{name:"NORTHWEST",abbreviation:"NW"},"0-1-1-1":{name:"SOUTHEAST",abbreviation:"SE"}},zr={0:{name:"EAST",abbreviation:"E"},"0-1":{name:"WEST",abbreviation:"W"},"0-2":{name:"NORTH",abbreviation:"N"},"0-1-1":{name:"SOUTH",abbreviation:"S"}},Kr="WIN_RATIO",qr="ROUND_OUTCOME",Yr=[Pr,Ur,ur,Dr,Mr,Rr,Or,Fr,Er,Ar,_r,Lr,kr,xr,jr,Vr],$r={MAIN:ar,QUALIFYING:or,CONSOLATION:sr,ITEM:mr,CONTAINER:hr,FIRST_MATCHUP:Nr,WINNER:wr,LOSER:Sr,FEED_IN:Pr,COMPASS:Ur,PLAY_OFF:ur,OLYMPIC:Dr,KNOCKOUT:"SINGLE_ELIMINATION",SINGLE_ELIMINATION:Tr,DOUBLE_ELIMINATION:Cr,CURTIS:Mr,FICSF:Rr,FICQF:Or,FICR16:Fr,MFIC:Zr,FIRST_MATCH_LOSER_CONSOLATION:Er,FIRST_ROUND_LOSER_CONSOLATION:Ar,MODIFIED_FEED_IN_CHAMPIONSHIP:_r,FEED_IN_CHAMPIONSHIP_TO_R16:Lr,FEED_IN_CHAMPIONSHIP_TO_QF:kr,FEED_IN_CHAMPIONSHIP_TO_SF:xr,FEED_IN_CHAMPIONSHIP:jr,ROUND_ROBIN_WITH_PLAYOFF:Vr,ROUND_ROBIN:Br,DECIDER:Gr,BACKDRAW:Hr,COMPASS_ATTRIBUTES:Wr,OLYMPIC_ATTRIBUTES:zr,DRAW:vr,RANDOM:gr,TOP_DOWN:yr,BOTTOM_UP:Ir,WATERFALL:fr,WIN_RATIO:Kr,ROUND_OUTCOME:qr,MULTI_STRUCTURE_DRAWS:Yr,generatedDrawTypes:[Ur,Mr,Cr,kr,Lr,xr,jr,Pr,Er,Ar,_r,Dr,ur,Br,Vr,Tr]},Jr="removeDrawPositionAssignment",Qr="assignDrawPosition",Xr="addPenalty",ea="ALTERNATE",ta="WITHDRAW",na="ASSIGN",ia="REMOVE",ra="LUCKY",aa="SWAP",oa="NICKNAME",sa="SEED_VALUE",ca="PENALTY",ua="BYE",da={[di]:{policyName:"positionActionsDefault",enabledStructures:[{stages:[or,ar],stageSequences:[1],enabledActions:[],disabledActions:[]},{stages:[],stageSequences:[],enabledActions:[sa,oa,ca],disabledActions:[]}],disbledStructures:[]}},la={[li]:{policyName:"Round Naming Default",roundNamingMap:{1:"F",2:"SF",4:"QF"},affixes:{roundNumber:"R",preFeedRound:"Q"},stageConstants:{[ar]:"",[ur]:"P",[or]:"Q",[sr]:"C"}}},pa="SINGLES",fa="DOUBLES",ma="TEAM",ha={[mi]:{policyName:"USTA",seedingProfile:"SEPARATE",duplicateSeedNumbers:!0,validSeedPositions:{ignore:!0},seedsCountThresholds:[{drawSize:4,minimumParticipantCount:3,seedsCount:2},{drawSize:8,minimumParticipantCount:5,seedsCount:2},{drawSize:16,minimumParticipantCount:9,seedsCount:4},{drawSize:32,minimumParticipantCount:17,seedsCount:8},{drawSize:64,minimumParticipantCount:33,seedsCount:16},{drawSize:128,minimumParticipantCount:65,seedsCount:16},{drawSize:128,minimumParticipantCount:97,seedsCount:32},{drawSize:256,minimumParticipantCount:192,seedsCount:64}]}},va="CHECK_IN",ga="CHECK_OUT",ya="SCHEDULE.ASSIGNMENT.COURT",Ia="SCHEDULE.ASSIGNMENT.VENUE",ba="SCHEDULE.DATE",wa="SCHEDULE.TIME.SCHEDULED",Sa="SCHEDULE.TIME.START",Na="SCHEDULE.TIME.STOP",Pa="SCHEDULE.TIME.RESUME",Ua="SCHEDULE.TIME.END",Da="SCALE",Ta="RATING",Ca="RANKING",Ea="SEEDING",Aa="PUBLIC",Ma="HIDDEN";function Ra({matchUp:e,localTimeZone:t,localPerspective:n}){const i=(null==e?void 0:e.timeItems)||[],r=e=>e.createdAt?new Date(e.createdAt).getTime():0,a=i.filter((e=>(null==e?void 0:e.itemType)===wa)).sort(((e,t)=>r(e)-r(t))).pop(),o=a&&a.itemValue;if(o&&n&&t&&(null==o?void 0:o.indexOf(":"))>=0&&(null==o?void 0:o.indexOf("-"))>=0){const{offsetDate:e,error:n}=qt({date:o,timeZone:t});return n?{error:n}:{scheduledTime:e}}return{scheduledTime:o}}function xa({matchUp:e,localTimeZone:t,localPerspective:n}){const i=(null==e?void 0:e.timeItems)||[],r=e=>e.createdAt?new Date(e.createdAt).getTime():0,a=i.reduce(((e,t)=>{const n=t.itemType===ba&&t;return n&&(!e||r(n)>r(e))?n:e}),void 0),o=a&&a.itemValue;if(o&&n&&t){const{offsetDate:e,error:n}=qt({date:o,timeZone:t});return n?{error:n}:{scheduledTime:e}}return{scheduledDate:o}}function Oa({matchUp:e}){const t=(null==e?void 0:e.timeItems)||[],n=e=>e.createdAt?new Date(e.createdAt).getTime():0,i=t.filter((e=>(null==e?void 0:e.itemType)===ya)).sort(((e,t)=>n(e)-n(t))).pop();return{courtId:i&&i.itemValue}}function ka({matchUp:e}){const t=(null==e?void 0:e.timeItems)||[],n=e=>e.createdAt?new Date(e.createdAt).getTime():0,i=t.filter((e=>(null==e?void 0:e.itemType)===Ia)).sort(((e,t)=>n(e)-n(t))).pop();return{venueId:i&&i.itemValue}}function Fa(e){if(d.test(e)){const t=Mt();return new Date(`${t}T${e}`)}return new Date(e)}function La({matchUp:e}){if(!e)return{error:ae};if(!e.timeItems)return{error:lt};const t=e.timeItems.filter((e=>[Sa,Na,Pa,Ua].includes(null==e?void 0:e.itemType))).sort(((e,t)=>Fa(e.itemValue)-Fa(t.itemValue))),n=t.reduce(((e,t)=>{var n,i;let r;const a=null==t||null===(n=t.itemType)||void 0===n?void 0:n.split("."),o=`SCHEDULE.TIME.${(null==t||null===(i=t.itemType)||void 0===i?void 0:i.startsWith("SCHEDULE.TIME"))&&a[2]}`;switch(o){case Sa:r=0;break;case Ua:if(e.lastValue&&[Sa,Pa].includes(e.lastType)){const n=Fa(t.itemValue)-Fa(e.lastValue);r=e.milliseconds+n}else r=e.milliseconds;break;case Na:if([Sa,"SCHECULE.TIME.RESUME"].includes(e.lastType)){const n=Fa(t.itemValue)-Fa(e.lastValue);r=e.milliseconds+n}else r=e.milliseconds;break;default:r=e.milliseconds}return{milliseconds:r,lastType:o,lastValue:t.itemValue}}),{milliseconds:0,lastType:void 0,lastValue:void 0});if([Sa,Pa].includes(n.lastType)){const e=new Date-Fa(n.lastValue);n.milliseconds+=e}return{milliseconds:n.milliseconds,time:Za(n.milliseconds),relevantTimeItems:t}}function Za(e){const t=(e,t=2)=>("00"+e).slice(-t);return t(e/36e5|0)+":"+t(e%36e5/6e4|0)+":"+t(e%6e4/1e3|0)}function _a({scheduleVisibilityFilters:e,matchUp:t}){if(!t)return{error:ae};e&&console.log({scheduleVisibilityFilters:e});const{milliseconds:n,time:i}=La({matchUp:t});let{scheduledDate:r}=xa({matchUp:t});const{scheduledTime:a}=Ra({matchUp:t}),{startTime:o}=function({matchUp:e}){const t=(null==e?void 0:e.timeItems)||[],n=e=>e.createdAt?new Date(e.createdAt).getTime():0,i=t.reduce(((e,t)=>{const i=t.itemType===Sa&&t;return i&&(!e||n(i)<n(e))?i:e}),void 0);return{startTime:i&&i.itemValue}}({matchUp:t}),{endTime:s}=function({matchUp:e}){const t=(null==e?void 0:e.timeItems)||[],n=e=>e.createdAt?new Date(e.createdAt).getTime():0,i=t.reduce(((e,t)=>{const i=t.itemType===Ua&&t;return i&&(!e||n(i)>n(e))?i:e}),void 0);return{endTime:i&&i.itemValue}}({matchUp:t}),{courtId:c}=Oa({matchUp:t}),{venueId:u}=ka({matchUp:t});!r&&a&&(r=Bt(a));return{schedule:{time:i,courtId:c,venueId:u,startTime:o,endTime:s,milliseconds:n,scheduledDate:r,scheduledTime:a}}}function ja({matchUps:e,matchUpId:t}){return{matchUp:(e||[]).find((e=>e.matchUpId===t))}}const Ba="appliedPolicies",Va="delegatedOutcome",Ga="disableLinks",Ha="flightProfile",Wa="groupingAttribute",za="linkedTournamentsIds",Ka="participantRepresentatives",qa="personRequests",Ya="scheduleLimits",$a="scheduleTiming",Ja="schedulingProfile",Qa="subOrder",Xa={APPLIED_POLICIES:Ba,DELEGATED_OUTCOME:Va,DISABLE_LINKS:Ga,DRAW_PROFILE:"drawProfile",FLIGHT_PROFILE:Ha,GROUPING_ATTRIBUTE:Wa,LINKED_TOURNAMENTS:za,PARTICIPANT_REPRESENTATIVES:Ka,PERSON_REQUESTS:qa,SCHEDULE_LIMITS:Ya,SCHEDULE_TIMING:$a,SCHEDULING_PROFILE:Ja,SUB_ORDER:Qa};function eo({drawDefinition:e}){if(!e)return{error:g};const t=(e.extensions||[]).find((e=>e.name===Ba));return{appliedPolicies:(null==t?void 0:t.value)||{}}}function to({matchUps:e=[]}){const t=e.reduce(((e,t)=>!t.roundNumber||e.includes(t.roundNumber)?e:e.concat(parseInt(t.roundNumber))),[]).sort(Nn).map((t=>({[t]:e.filter((e=>e.roundNumber===t)).sort(((e,t)=>Nn(e.roundPosition,t.roundPosition)))}))),n=e.reduce(((e,t)=>(e[t.roundNumber]||(e[t.roundNumber]=t.finishingRound),e)),{}),i=Object.assign({},...t),r=Object.assign({},...Object.keys(i).map((e=>{var t;return{[e]:{matchUpsCount:null===(t=i[e])||void 0===t?void 0:t.length}}})));let a=0,o=0;return Object.keys(i).map((e=>parseInt(e))).filter((e=>!isNaN(e))).forEach((e=>{const t=i[e].sort(((e,t)=>e.roundPosition-t.roundPosition)),s=t.map((e=>(null==e?void 0:e.drawPositions)||[])).flat();if(1!==e&&r[e-1]){const n=r[e-1].drawPositions,i=n.length/s.length,a=on(n,i),o=t.map((t=>{const{roundPosition:i,drawPositions:r}=t;if(!i)return r;const o=(null==r?void 0:r.filter((e=>e)))||[];if(null==o||!o.length)return[void 0,void 0];if(e<3&&2===(null==o?void 0:o.length))return null==r?void 0:r.slice().sort(Nn);if(null!=o&&o.length&&an(n,o).length!==(null==o?void 0:o.length))return 1===(null==o?void 0:o.length)?[o[0],void 0]:null==r?void 0:r.slice().sort(Nn);const s=2*(i-1);return a.slice(s,s+2).map((e=>null==r?void 0:r.find((t=>e.includes(t)))))}));r[e].drawPositions=null==o?void 0:o.flat(),r[e].pairedDrawPositions=o}else{const t=s.sort(Nn),n=on(t,2);r[e].drawPositions=t,r[e].pairedDrawPositions=n}r[e].finishingRound=n[e],r[e].finishingPositionRange=i[e][0].finishingPositionRange,r[e+1]&&r[e+1].matchUpsCount===r[e].matchUpsCount&&(r[e+1].feedRound=!0,r[e+1].feedRoundIndex=o,r[e].preFeedRound=!0,o+=1),r[e]&&!r[e].feedRound&&(r[e].roundIndex=a,a+=1)})),{roundMatchUps:i,roundProfile:r}}const no="INDIVIDUAL",io="TEAM",ro="PAIR",ao="GROUP",oo={INDIVIDUAL:no,TEAM:io,PAIR:ro,GROUP:ao};function so({drawDefinition:e,structure:t}){const n={},i=[];return((null==e?void 0:e.structures)||[t]).filter((e=>e&&"object"==typeof e)).forEach((e=>{const{structureId:t,matchUps:r,structures:a}=e,o=Array.isArray(a);if(o)o&&a.forEach((e=>{const{structureName:r}=e,a=e.matchUps;n[e.structureId]={matchUps:a,structureName:r},i.push(...a),a.forEach((e=>{i.push(e),e.tieMatchUps&&i.push(...e.tieMatchUps)})),n[t]||(n[t]={}),n[t].itemStructureIds||(n[t].itemStructureIds=[]),n[t].itemStructureIds.push(e.structureId)}));else{const e=r;n[t]={matchUps:e},e.forEach((e=>{i.push(e),e.tieMatchUps&&i.push(...e.tieMatchUps)}))}})),{mappedMatchUps:n,drawMatchUps:i}}function co({mappedMatchUps:e,matchUpsMap:t,structureId:n,inContext:i}){let r=(e=(null==t?void 0:t.mappedMatchUps)||e)[n];const a=((null==r?void 0:r.itemStructureIds)||[]).map((t=>{const{matchUps:n,structureName:r}=e[t];return i?n.map((e=>Object.assign(Sn(e,!0),{structureId:t,structureName:r}))):n})).flat();return((null==r?void 0:r.matchUps)||[]).concat(...a)}function uo(e,t){var n,i;return(lr[null==e?void 0:e.stage]||0)-(lr[null==t?void 0:t.stage]||0)||((null==t||null===(n=t.positionAssignments)||void 0===n?void 0:n.length)||9999)-((null==e||null===(i=e.positionAssignments)||void 0===i?void 0:i.length)||9999)||((null==e?void 0:e.stageSequence)||0)-((null==t?void 0:t.stageSequence)||0)}function lo({drawDefinition:e,structureId:t}){if(!e)return{error:g};if(!t)return{error:F};const{structures:n}=po({drawDefinition:e}),i=n.map((e=>e.structures?[].concat(...e.structures,e):e)).flat().find((e=>e.structureId===t));return i?{structure:i}:{error:L}}function po({stage:e,stageSequence:t,drawDefinition:n}){var i;const r=n?n.structures?void 0:Z:g;if(r)return{error:r};return{structures:null===(i=n.structures)||void 0===i?void 0:i.filter((function(t){return!e||t.stage===e})).filter((function(e){return!t||e.stageSequence===t})).sort(uo)}}function fo(e){if(!e||"object"!=typeof e)return!1;const t=Object.keys(e),n=["name","value"];return n.filter((e=>t.includes(e))).length===n.length}function mo({tournamentParticipants:e=[],policyDefinition:t={},participantId:n,personId:i}){const r=e.find((e=>n&&e.participantId===n||i&&e.person&&e.person.personId===i)),a=t.participant;if(null!=a&&a.participant){return Sn(ei({source:r,template:a.participant}))}return Sn(r)}const ho={success:!0};function vo({element:e,extension:t}){if(!e)return{error:ye};if(!fo(t))return{error:It};e.extensions||(e.extensions=[]);const n=(new Date).toISOString();Object.assign(t,{createdAt:n});const i=e.extensions.find((({name:e})=>e===t.name));return i?i.value=t.value:t.value&&e.extensions.push(t),ho}function go({element:e,name:t}){return e?t?e.extensions?(e.extensions=e.extensions.filter((e=>(null==e?void 0:e.name)!==t)),ho):Object.assign({},ho,{message:Nt}):{error:ye,message:"Missing name"}:{error:ye}}function yo({tournamentRecord:e,extension:t}){return e?vo({element:e,extension:t}):{error:m}}function Io({drawDefinition:e,extension:t}){return e?vo({element:e,extension:t}):{error:y}}function bo({event:e,extension:t}){return e?vo({element:e,extension:t}):{error:V}}function wo({tournamentRecord:e,name:t}){return e?go({element:e,name:t}):{error:m}}function So({event:e,name:t}){return e?go({element:e,name:t}):{error:V}}function No({tournamentRecord:e,participantId:t}){return{participant:(e.participants||[]).reduce(((e,n)=>n.participantId===t?n:e),void 0)}}function Po({element:e,name:t}){if(!e||!t)return{error:ye};if(!Array.isArray(e.extensions))return{message:Nt};const n=e.extensions.find((e=>(null==e?void 0:e.name)===t));return{extension:n,message:!n&&Nt}}function Uo({tournamentRecord:e,name:t}){return Po({element:e,name:t})}function Do({event:e,name:t}){return e?Po({element:e,name:t}):{error:B}}function To({drawDefinition:e,name:t}){return e?Po({element:e,name:t}):{error:g}}function Co({drawDefinition:e,attributes:t}){var n;let{extension:i}=To({drawDefinition:e,name:"entryProfile"});const r=(null===(n=i)||void 0===n?void 0:n.value)||e.entryProfile||{};t.forEach((e=>{Object.keys(e).forEach((t=>{r[t]?Object.assign(r[t],e[t]):r[t]=e[t]}))})),i={name:"entryProfile",value:r},Io({drawDefinition:e,extension:i})}var Eo;!function(e){e.CONFIRMED="CONFIRMED",e.DIRECT_ACCEPTANCE="DIRECT_ACCEPTANCE",e.ORGANISER_ACCEPTANCE="ORGANISER_ACCEPTANCE",e.ALTERNATE="ALTERNATE",e.WITHDRAWN="WITHDRAWN",e.UNPAIRED="UNPAIRED",e.LUCKY_LOSER="LUCKY_LOSER",e.FEED_IN="FEED_IN",e.QUALIFIER="QUALIFIER",e.WILDCARD="WILDCARD"}(Eo||(Eo={}));const Ao=Eo.ALTERNATE,Mo=Eo.FEED_IN,Ro=Eo.QUALIFIER,xo=Eo.WILDCARD,Oo=Eo.DIRECT_ACCEPTANCE,ko=Eo.CONFIRMED,Fo=Eo.LUCKY_LOSER,Lo=Eo.ORGANISER_ACCEPTANCE,Zo=Eo.WITHDRAWN,_o=Eo.UNPAIRED,jo=[Mo,Ro,xo,Oo,ko,Lo],Bo=[Ao,Zo,Mo,_o,Ro,xo,Oo,ko,Fo,Lo];function Vo({drawDefinition:e}){let{extension:t}=To({drawDefinition:e,name:"entryProfile"});return{entryProfile:(null==t?void 0:t.value)||e.entryProfile||{}}}function Go({stage:e,drawDefinition:t}){return Boolean(Ho({stage:e,drawDefinition:t})&&Wo({stage:e,drawDefinition:t}))}function Ho({stage:e,drawDefinition:t}){const{entryProfile:n}=Vo({drawDefinition:t}),i=Object.keys(n).includes(e);if(!i&&dr.includes(e)){return Co({drawDefinition:t,attributes:[{[e]:{drawSize:void 0,alternates:!0}}]}),!0}return i}function Wo({stage:e,drawDefinition:t}){var n;const{entryProfile:i}=Vo({drawDefinition:t});return i&&(null===(n=i[e])||void 0===n?void 0:n.drawSize)||0}function zo({stage:e,drawDefinition:t}){var n;const{entryProfile:i}=Vo({drawDefinition:t});return i&&(null===(n=i[e])||void 0===n?void 0:n.qualifiersCount)||0}function Ko({stage:e,drawDefinition:t,entryStatus:n}){return t.entries.reduce(((t,i)=>i.entryStage===e&&i.entryStatus===n?t+1:t),0)}function qo({drawDefinition:e,stageSequence:t,structureId:n,entryTypes:i,stages:r,stage:a}){var o;const s=(null===(o=e.entries)||void 0===o?void 0:o.reduce(((e,n)=>{const o=a&&n.entryStage===a||(null==r?void 0:r.length)&&r.includes(n.entryStage),s=!i||i.includes(n.entryStatus),c=n.stageSequence||1;return o&&(!t||c===t)&&s?e.concat(n):e}),[]))||[];return n&&!s.length?function({drawDefinition:e,structureId:t}){const n=[],i=(e.links||[]).find((e=>e.linkType===br&&e.target.structureId===t));if(i){const{finishingPositions:t,structureId:r}=i.source,{structure:a}=lo({drawDefinition:e,structureId:r});if(a.structureType===hr){(a.structures||[]).forEach((e=>{const{positionAssignments:i}=e,{structureId:r}=e,a=r,o=Object.assign({},...i.map((e=>{var t;const{participantId:n}=e,i=null===(t=Po({element:e,name:"tally"}).extension)||void 0===t?void 0:t.value;return i?{[n]:i}:void 0})).filter((e=>e)));Object.keys(o).filter((e=>{const n=o[e];return t.includes(n.groupOrder)})).forEach((e=>{const i=o[e],{groupOrder:r,GEMscore:s}=i,c=t.sort().indexOf(r)+1;n.push({GEMscore:s,groupingValue:a,participantId:e,placementGroup:c,entryStage:ur,entryStatus:Mo})}))}))}}return n}({drawDefinition:e,structureId:n}):s}function Yo({stage:e,drawDefinition:t}){return Ko({stage:e,drawDefinition:t,entryStatus:Oo})}function $o({stage:e,drawDefinition:t}){return Ko({stage:e,drawDefinition:t,entryStatus:xo})}function Jo({stage:e,drawDefinition:t,entryStatus:n=Oo}){if(n===Ao)return function({stage:e,drawDefinition:t}){var n;const{entryProfile:i}=Vo({drawDefinition:t});return(null===(n=i[e])||void 0===n?void 0:n.alternates)||0}({stage:e,drawDefinition:t})?Object.assign({positionsAvailable:1/0},ho):{error:"Alternates not allowed in stage"};const i=function({stage:e,drawDefinition:t}){const n=Wo({stage:e,drawDefinition:t}),i=zo({stage:e,drawDefinition:t});return n&&n-i}({stage:e,drawDefinition:t}),r=function({stage:e,drawDefinition:t}){const{entryProfile:n}=Vo({drawDefinition:t});return n[e].wildcardsCount||0}({stage:e,drawDefinition:t}),a=Ko({stage:e,drawDefinition:t,entryStatus:xo}),o=a+Ko({stage:e,drawDefinition:t,entryStatus:Oo}),s=i-o;return o>=i?{error:"No Space Available"}:n===xo?a<r?ho:{error:"No Wildcard space available"}:Object.assign({positionsAvailable:s},ho)}function Qo({drawDefinition:e,structureId:t,structure:n}){var i,r;let a,o=[];if(n||({structure:n,error:a}=lo({drawDefinition:e,structureId:t})),!n)return{seedAssignments:[],error:L};t||(t=n.structureId);const{stage:s,stageSequence:c}=n;if(!a){if(s===ur&&e){o=qo({drawDefinition:e,stageSequence:c,structureId:t,stage:s}).filter((e=>1===e.placementGroup)).sort(((e,t)=>e.GEMscore<t.GEMscore?1:e.GEMscore>t.GEMscore?-1:0)).map(((e,t)=>({participantId:e.participantId,seedNumber:t+1,seedValue:t+1,seedProxy:!0})))}else n.seedAssignments?o=n.seedAssignments:a=R}return{seedAssignments:o,seedLimit:n.seedLimit||(null===(i=n)||void 0===i||null===(r=i.positionAssignments)||void 0===r?void 0:r.length),stage:s,stageSequence:c,error:a}}function Xo({groupedOrder:e,roundPositionsCount:t}){if(!e||(null==e?void 0:e.length)<=t)return e;const n=on(e,e.length/t).map((e=>e.reduce(((e,t)=>e+t)))),i=n.slice().sort(Nn);return n.map((e=>i.indexOf(e)+1))}function es(e){if(!Array.isArray(e))return"";const t=e.filter(o);if(!t.length)return"";return $t([Math.min(...t),Math.max(...t)]).join("-")}function ts({structure:e,drawDefinition:t,structureId:n}){let i,r=[];if(!e){if(!t)return{positionAssignments:r,error:g};if(({structure:e,error:i}=lo({drawDefinition:t,structureId:n})),i)return{positionAssignments:r,error:i}}return e.structures?r=[].concat(...e.structures.map((e=>ts({structure:e}).positionAssignments))):e.positionAssignments?r=e.positionAssignments:i=$,{positionAssignments:r,error:i}}function ns({structure:e,drawDefinition:t,structureId:n}){const{positionAssignments:i}=ts({structure:e,drawDefinition:t,structureId:n}),r=i.filter((e=>e.participantId||e.bye||e.qualifier)),a=i.length===r.length,o=i.filter((e=>!e.participantId&&!e.bye&&!e.qualifier));return{byePositions:i.filter((e=>!e.participantId&&e.bye)),assignedPositions:r,qualifierPositions:i.filter((e=>!e.participantId&&e.qualifier)),unassignedPositions:o,positionAssignments:i,allPositionsAssigned:a}}function is({drawPositions:e,roundProfile:t,roundNumber:n}){const i=[void 0,void 0];if(e.reduce(((e,t)=>isNaN(parseInt(t))&&e),!0))return{orderedDrawPositions:i,displayOrder:i};const r=t[n],a=(null==r?void 0:r.pairedDrawPositions.find((t=>an(t||[],e.filter((e=>e))).length)))||i,o=null==r?void 0:r.feedRound;if(function(e){return e.reduce(((e,t)=>!isNaN(parseInt(t))&&e),!0)}(e)){const t=e.sort(Nn);return{orderedDrawPositions:t,displayOrder:o?t:a}}if(o){const t=[e.find((e=>!isNaN(parseInt(e)))),void 0];return{orderedDrawPositions:t,displayOrder:t}}return{orderedDrawPositions:a,displayOrder:a}}function rs({matchUp:e}){let t,n=[],i=[],r=[];if(e||(t=ae),e&&!e.sides&&(t=oe),e&&!e.hasContext&&(t=pt),!t){n=e.sides.map((e=>e.participantId));const t=e.sides.filter((e=>e.participantType===no)).map((e=>e.participantId));r=e.sides.map((e=>e.participant&&e.participant.individualParticipants)).filter((e=>e)).map((e=>e.filter((e=>e)).map((e=>e.participantId)))),i=[].concat(...t,...r.flat())}return{error:t,sideParticipantIds:n,nestedIndividualParticipantIds:r,individualParticipantIds:i}}function as({matchUp:e}){if(!e)return{error:ae};if(!e.hasContext)return{error:pt};if(!e)return{error:ae};if(!e.sides||2!==e.sides.filter((e=>e)).length)return{error:oe};const{sideParticipantIds:t,nestedIndividualParticipantIds:n}=rs({matchUp:e}),i=(e.timeItems||[]).filter((e=>[va,ga].includes(null==e?void 0:e.itemType))).sort(((e,t)=>new Date(e.createdAt)-new Date(t.createdAt))),r=i.map((e=>e.itemValue)).filter((e=>i.filter((t=>(null==t?void 0:t.itemValue)===e)).reverse()[0].itemType===va));n.forEach(((e,n)=>{const i=t[n],a=(null==e?void 0:e.length)&&e.reduce(((e,t)=>e&&t&&r.includes(t)),!0);i&&a&&!r.includes(i)&&r.push(i)})),t.forEach(((e,t)=>{r.includes(e)&&(n[t]||[]).forEach((e=>{e&&!r.includes(e)&&r.push(e)}))}));return{allParticipantsCheckedIn:t.reduce(((e,t)=>r.includes(t)&&e),!0),checkedInParticipantIds:r}}function os(e){const{stages:t,venueIds:n,courtIds:i,matchUps:r,matchUpTypes:a,roundNumbers:o,matchUpFormat:s,collectionIds:c,scheduledDate:u,scheduledDates:d,isMatchUpTie:l,localTimeZone:p,matchUpFormats:f,matchUpStatuses:m,localPerspective:h,isCollectionMatchUp:v,processContext:g,tournamentIds:y,eventIds:I,drawIds:b,structureIds:w,filterMatchUpTypes:S=!0}=e,N=Array.isArray(m)?m.filter((e=>e)):[],P=Array.isArray(t)?t.filter((e=>e)):[],U=Array.isArray(c)?c.filter((e=>e)):[],D=Array.isArray(o)?o.filter((e=>e)):[],T=Array.isArray(a)&&S?a.filter((e=>e)):[],C=Array.isArray(i)?i.filter((e=>e)):[],E=Array.isArray(n)?n.filter((e=>e)):[],A=Array.isArray(f)?f.filter((e=>e)):"string"==typeof s?[s]:[],M=Array.isArray(d)?d.filter((e=>e)):"string"==typeof u&&u.length?[u]:[],R=Array.isArray(y)?y.filter((e=>e)):[],x=Array.isArray(I)?I.filter((e=>e)):[],O=Array.isArray(b)?b.filter((e=>e)):[],k=Array.isArray(w)?w.filter((e=>e)):[];return r.filter((e=>{if(void 0!==l){var t;if(l&&!e.tieFormat)return!1;if(!l&&e.tieFormat&&null!==(t=Object.keys(e.tieFormat))&&void 0!==t&&t.length)return!1}if(void 0!==v){if(v&&!e.collectionId)return!1;if(!v&&e.collectionId)return!1}if(P.length&&!P.includes(e.stage))return!1;if(U.length&&!U.includes(e.collectionId))return!1;if(D.length&&!o.includes(e.roundNumber))return!1;if(N.length&&!N.includes(e.matchUpStatus))return!1;if(T.length&&!T.includes(e.matchUpType))return!1;if(A.length&&!A.includes(e.matchUpFormat))return!1;if(null!=M&&M.length){const{scheduledTime:t}=Ra({matchUp:e,localTimeZone:p,localPerspective:h}),{scheduledDate:n}=xa({matchUp:e,localTimeZone:p,localPerspective:h}),i=Bt(t)||n;if(!M.find((e=>Kt(e,i))))return!1}if(C.length){const{courtId:t}=Oa({matchUp:e});if(!i.filter((e=>e)).includes(t))return!1}if(E.length){const{venueId:t}=ka({matchUp:e});if(!n.filter((e=>e)).includes(t))return!1}if(g){if(R.length&&!R.includes(e.tournamentId))return!1;if(x.length&&!x.includes(e.eventId))return!1;if(O.length&&!O.includes(e.drawId))return!1;if(k.length&&!k.includes(e.structureId))return!1}return!0}))}function ss({drawPositionCollectionAssignment:e,positionAssignments:t,displaySideNumber:n,seedAssignments:i,drawPosition:r,isFeedRound:a,sideNumber:o}){const s=t.find((e=>e.drawPosition===r)),c=e?e[r]:null==s?void 0:s.participantId,u=s?function({displaySideNumber:e,seedAssignments:t,participantId:n,assignment:i,sideNumber:r}){const a={drawPosition:i.drawPosition,displaySideNumber:e,sideNumber:r};if(n){const e=function({seedAssignments:e,participantId:t}){return e.find((e=>!e.seedProxy&&e.participantId===t))}({seedAssignments:t,participantId:n});Object.assign(a,e,{participantId:n})}else i.bye?Object.assign(a,{bye:!0}):i.qualifier&&Object.assign(a,{qualifier:!0});return a}({displaySideNumber:n,seedAssignments:i,participantId:c,assignment:s,sideNumber:o}):{};return a&&(1===o?Object.assign(u,{participantFed:!0}):Object.assign(u,{participantAdvanced:!0})),u}function cs({structure:e,inContext:t,roundFilter:n,context:i={},drawDefinition:r,contextFilters:a,matchUpFilters:o,seedAssignments:s,policyDefinition:c,tournamentParticipants:u,tournamentAppliedPolicies:d,scheduleVisibilityFilters:l,matchUpsMap:p}){var f,m,h,v,y;let I={},b={};if(!e)return{matchUps:[],collectionPositionMatchUps:I,roundMatchUps:b,error:_};const w=Array.isArray(null==o?void 0:o.eventIds)?o.eventIds.filter((e=>e)):[],S=Array.isArray(null==o?void 0:o.structureIds)?o.structureIds.filter((e=>e)):[],N=Array.isArray(null==o?void 0:o.drawIds)?o.drawIds.filter((e=>e)):[],P=!(null!=i&&i.eventId)||!w.length&&!(null!=a&&null!==(f=a.eventIds)&&void 0!==f&&f.filter((e=>e)).length)||w.includes(i.eventId)||(null==a||null===(m=a.eventIds)||void 0===m?void 0:m.includes(i.eventId)),U=!S.length||S.includes(e.structureId),D=!r||!N.length||N.includes(r.drawId);if(!P||!U||!D)return{matchUps:[],collectionPositionMatchUps:I,roundMatchUps:b};const{appliedPolicies:T}=eo({drawDefinition:r}),C=Object.assign({},d,T,c),E=null==C||null===(h=C.scoring)||void 0===h?void 0:h.structures,A=(null==E?void 0:E.stage)&&(null==E?void 0:E.stage[e.stage]),M=(null==A?void 0:A.stageSequence)&&A.stageSequence[e.stageSequence],R=(null==C||null===(v=C.scoring)||void 0===v?void 0:v.requireAllPositionsAssigned)||(null==A?void 0:A.requireAllPositionsAssigned)||(null==M?void 0:M.requireAllPositionsAssigned);p||(p=so({drawDefinition:r,structure:e}));const{positionAssignments:x,allPositionsAssigned:O}=ns({structure:e}),k=!R||O,{seedAssignments:L}=Qo({drawDefinition:r,matchUpsMap:p,structure:e});s=s||L;const{structureId:Z,structureName:j,stage:B,stageSequence:V}=e,{drawId:G,drawName:H}=r||{},W=e.tieFormat||(null==r?void 0:r.tieFormat),z=W&&W.collectionDefinitions,K=e.structures;let q=co({matchUpsMap:p,structureId:Z,inContext:t});const Y=C&&C.roundNaming,{roundNamingProfile:$,roundProfile:J}=function({roundNamingPolicy:e,structure:t,matchUps:n}){const i={},r=t.structures,{roundProfile:a}=to({matchUps:n}),{structureAbbreviation:o,stage:s}=t,c=la.roundNaming,u=(null==e?void 0:e.roundNamingMap)||c.roundNamingMap,d=(null==e?void 0:e.affixes)||c.affixes,l=s&&s!==ar&&s[0],p=null==e?void 0:e.stageConstants,f=p&&p[s]||l;return r?Object.assign(i,...Object.keys(a).map((e=>({[e]:`R${e}`})))):Object.assign(i,...Object.keys(a).map((e=>{const{matchUpsCount:t,preFeedRound:n}=a[e],i=2*t,r=u[t]||`${d.roundNumber}${i}`;r||console.log({roundNamingMap:u,matchUpsCount:t});const s=n?`-${d.preFeedRound}`:"";return{[e]:[f,o,`${r}${s}`].filter((e=>e)).join("-")}}))),{roundNamingProfile:i,roundProfile:a}}({roundNamingPolicy:Y,drawDefinition:r,structure:e,matchUps:q});if(o&&(q=os({matchUps:q,...o,filterMatchUpTypes:!1})),t){var Q;const{sourceDrawPositionRanges:e}=function({drawDefinition:e,structureId:t,matchUpsMap:n}){if(!e)return{error:g};if(!t)return{error:F};const{structure:i}=lo({drawDefinition:e,structureId:t});if(i.stage!==sr)return{message:"Structure is not CONSOLATION stage"};const{links:r}=e,a=(null==r?void 0:r.filter((e=>e.target.structureId===t)))||[],o=(null==a?void 0:a.reduce(((e,t)=>{const{structureId:n}=t.source;return e.includes(n)?e:e.concat(n)}),[]))||[],s=Object.assign({},...o.map((e=>{const t=co({matchUpsMap:n,structureId:e}),{roundProfile:i}=to({matchUps:t});return{[e]:i}}))),c=co({matchUpsMap:n,structureId:t}),{roundProfile:u}=to({matchUps:c}),d={};return null==a||a.forEach((e=>{const{structureId:t,roundNumber:n}=e.source,{feedProfile:i,groupedOrder:r,positionInterleave:a,roundNumber:o}=e.target,c=s[t],l=c[1]&&c[1].drawPositions,p=c[n],f=null==p?void 0:p.matchUpsCount;if(!f)return;const m=f?l.length/f:0,h=l.length/m;let v=l.slice();const g=Xo({groupedOrder:r,roundPositionsCount:v.length}),y=(null==g?void 0:g.length)||1;if(y<=h){const e=on(v,l.length/y);i===Ir&&e.forEach((e=>e.reverse())),v=(null==g?void 0:g.length)&&(null==g?void 0:g.map((t=>e[t-1])).flat())||v}let I=on(v,m);if(null!=g&&g.length||i===Ir&&I.reverse(),a){const e=nn(0,a.interleave).map((()=>{})),t=nn(0,a.offset).map((()=>{}));I=I.map((t=>[t,...e])),I.unshift(t),I=I.flat(1);const n=I.length-a.offset;I=I.slice(0,n)}d[o]||(d[o]={});const b=u[o],w=null!=b&&b.feedRound?2:1;I.forEach(((e,t)=>{const n=1+t*w;d[o][n]||(d[o][n]=es(e))}))})),{sourceDrawPositionRanges:d}}({matchUpsMap:p,drawDefinition:r,structureId:Z}),{drawPositionsRanges:t}=function({drawDefinition:e,structureId:t,matchUpsMap:n}){var i;if(!e)return{error:g};if(!t)return{error:F};const r=co({matchUpsMap:n,structureId:t}),{roundProfile:a}=to({matchUps:r}),o=(Math.min(...(null===(i=a[1])||void 0===i?void 0:i.drawPositions)||[])||1)-1,s=Object.keys(a);return{drawPositionsRanges:Object.assign({},...(s||[]).map((e=>{var t;const{matchUpsCount:n}=a[e],i=(null===(t=a[1])||void 0===t?void 0:t.drawPositions)||[],r=on(i,i.length/n),c=r.map(es),u=r.map((e=>e.map((e=>e-o)))).map(es),d=s.map((t=>{if(t>e)return;const{drawPositions:i}=a[t];return on(i,i.length/n)})).filter((e=>e)),l=nn(0,n).map((e=>d.map((t=>t[e])).flat().filter((e=>e)).sort(Nn))).map((e=>$t(e))),p=l.map((e=>{return(t=e,t.reduce(((e,t)=>{const n=e[e.length-1];return n&&n[n.length-1]===t-1||e.push([]),e[e.length-1].push(t),e}),[])).map(es).join(", ");var t})),f=Object.assign({},...nn(0,n).map((e=>({[e+1]:{firstRoundDrawPositionsRange:c[e],firstRoundOffsetDrawPositionsRange:u[e],possibleDrawPositions:l[e],drawPositionsRange:p[e]}}))));return{[e]:f}})))}}({matchUpsMap:p,drawDefinition:r,structureId:Z});q=q.map((n=>ee({matchUp:n,isRoundRobin:K,roundProfile:J,appliedPolicies:C,roundNamingProfile:$,drawPositionsRanges:t,sourceDrawPositionRanges:e,scheduleVisibilityFilters:l})));(null===(Q=q)||void 0===Q?void 0:Q.filter((e=>Array.isArray(e.tieMatchUps)))).forEach((e=>{const t=e.tieMatchUps;q=q.concat(...t)})),a&&(q=os({matchUps:q,...a}))}else{var X;(null===(X=q)||void 0===X?void 0:X.filter((e=>Array.isArray(e.tieMatchUps)))).forEach((e=>{const t=e.tieMatchUps;q=q.concat(...t)}))}return null!=o&&o.matchUpTypes&&(q=os({matchUps:q,matchUpTypes:o.matchUpTypes})),({roundMatchUps:b}=to({matchUps:q})),({collectionPositionMatchUps:I}=function({matchUps:e}){const t=e.reduce(((e,t)=>!t.collectionPosition||e.includes(t.collectionPosition)?e:e.concat(t.collectionPosition)),[]).map((t=>({[t]:e.filter((e=>e.collectionPosition===t))})));return{collectionPositionMatchUps:Object.assign({},...t)}}({matchUps:q})),n&&(q=null===(y=q)||void 0===y?void 0:y.filter((e=>e.roundNumber===n))),{matchUps:q,roundMatchUps:b,collectionPositionMatchUps:I};function ee({matchUp:t,sideLineUps:n,matchUpTieId:a,isRoundRobin:o,roundProfile:c,appliedPolicies:d,isCollectionBye:l,tieDrawPositions:p,roundNamingProfile:f,drawPositionsRanges:m,scheduleVisibilityFilters:h,sourceDrawPositionRanges:v}){const g=l?An:t.matchUpStatus,{schedule:y}=_a({scheduleVisibilityFilters:h,matchUp:t}),I=t.drawPositions||p,{collectionPosition:b,collectionId:w,roundNumber:S,roundPosition:N}=t,P=function({collectionId:e,collectionPosition:t,drawPositions:n=[],sideLineUps:i}){if(!e||!t)return;const r=null==n?void 0:n.map((n=>{var r;const a=null==i||null===(r=i.find((e=>e.drawPosition===n)))||void 0===r?void 0:r.lineUp,o=null==a?void 0:a.find((n=>{const i=n.collectionAssignments.find((t=>t.collectionId===e));return(null==i?void 0:i.collectionPosition)===t})),s=null==o?void 0:o.participantId;return s&&{[n]:s}})).filter((e=>e));return Object.assign({},...r)}({sideLineUps:n,collectionId:w,collectionPosition:b,drawPositions:I}),U=f&&f[S],D=c&&c[S]&&c[S].feedRound,T=m&&m[S],C=T&&T[N],E=v&&v[S],A=Object.assign({stage:B,drawId:G,drawName:H,schedule:y,feedRound:D,roundName:U,structureId:Z,matchUpTieId:a,matchUpStatus:g,structureName:j,stageSequence:V,drawPositions:I,drawPositionsRange:C},i,Sn(t,!0));if(A.tieMatchUps){var M;const e=A.matchUpStatus===An,n=null===(M=t.sides)||void 0===M?void 0:M.map((({sideNumber:e,lineUp:t,drawPosition:n})=>({drawPosition:n,sideNumber:e,lineUp:t})));A.tieMatchUps=A.tieMatchUps.map((t=>ee({matchUp:t,matchUpTieId:A.matchUpId,isRoundRobin:o,roundProfile:c,appliedPolicies:d,isCollectionBye:e,roundNamingProfile:f,drawPositionsRanges:m,sideLineUps:n,sourceDrawPositionRanges:v,scheduleVisibilityFilters:h,tieDrawPositions:I})))}if(Array.isArray(I)){const{orderedDrawPositions:e,displayOrder:n}=is({drawPositions:I,roundProfile:c,roundPosition:N,roundNumber:S}),i=c[S]&&c[S].feedRound,r=n[0]!==e[0],a=e.map(((e,n)=>{var a;const o=n+1,c=ss({drawPositionCollectionAssignment:P,positionAssignments:x,displaySideNumber:r?3-o:o,seedAssignments:s,drawPosition:e,sideNumber:o,isFeedRound:i}),u=null===(a=t.sides)||void 0===a?void 0:a.find((e=>e.sideNumber===o)),d=E&&E[2*(N-1)+n+1];return Object.assign({},c,u,{sourceDrawPositionRange:d})}));Object.assign(A,Sn({sides:a},!0))}if(t.collectionId){const e=z.find((e=>e.collectionId===t.collectionId)),n=e&&e.matchUpFormat;!t.matchUpFormat&&n&&Object.assign(A,{matchUpFormat:n});const i=e&&e.matchUpType;i&&Object.assign(A,{matchUpType:i})}else{if(!t.matchUpFormat){const t=e.matchUpFormat||(null==r?void 0:r.matchUpFormat);t&&Object.assign(A,{matchUpFormat:t})}if(!t.matchUpType){const t=e.matchUpType||(null==r?void 0:r.matchUpType);t&&Object.assign(A,{matchUpType:t})}}if(u&&A.sides&&(A.sides.filter((e=>e)).forEach((e=>{if(e.participantId){const t=mo({tournamentParticipants:u,policyDefinition:d,participantId:e.participantId});t&&Object.assign(e,{participant:t})}if(e.participant&&e.participant.individualParticipantIds){const t=e.participant.individualParticipantIds.map((e=>mo({policyDefinition:d,tournamentParticipants:u,participantId:e})));Object.assign(e.participant,{individualParticipants:t})}})),!A.matchUpType)){const e=function({matchUp:e}){if(e.matchUpType)return e.matchUpType;if(e.sides&&e.sides.filter((e=>e)).length){const t=e.sides[0],n=t&&t.participant,i=n&&n.participantType;if(i===no)return pa;if(i===ro)return fa;if(i===io)return io}}({matchUp:A});e&&Object.assign(A,{matchUpType:e})}const R=A.sides&&2===A.sides.filter((e=>e&&e.participantId)).length,O=!A.winningSide,F=k&&R&&O;if(Object.assign(A,{readyToScore:F,hasContext:!0}),R){const{allParticipantsCheckedIn:e,checkedInParticipantIds:t}=as({matchUp:A});Object.assign(A,{allParticipantsCheckedIn:e,checkedInParticipantIds:t})}return A}}function us({drawDefinition:e,tournamentParticipants:t,matchUpId:n,inContext:i,matchUpsMap:r}){if(!e)return{error:g};if(!n)return{error:te};if("string"!=typeof n)return{error:It};const{structures:a}=po({drawDefinition:e});for(const o of a){const{matchUps:a}=cs({tournamentParticipants:t,drawDefinition:e,inContext:i,structure:o,matchUpsMap:r}),{matchUp:s}=ja({matchUps:a,matchUpId:n});if(s)return{matchUp:s,structure:o}}return{error:ie}}function ds({tournamentRecord:e}){if(!e)return{error:m};return ps({extensions:e.extensions||[]})}function ls({event:e}){if(!e)return{error:B};return ps({extensions:e.extensions||[]})}function ps({extensions:e}){const t=e.find((e=>e.name===Ba));return{appliedPolicies:(null==t?void 0:t.value)||{}}}function fs({context:e,inContext:t,structure:n,roundFilter:i,structureId:r,drawDefinition:a,matchUpFilters:o,contextFilters:s,policyDefinition:c,tournamentParticipants:u,tournamentAppliedPolicies:d,requireParticipants:l=!0,scheduleVisibilityFilters:p,matchUpsMap:f}){!n&&r&&({structure:n}=lo({drawDefinition:a,structureId:r}));const{matchUps:m,error:h}=cs({context:e,structure:n,inContext:t,drawDefinition:a,matchUpFilters:o,contextFilters:s,policyDefinition:c,tournamentParticipants:u,tournamentAppliedPolicies:d,scheduleVisibilityFilters:p,matchUpsMap:f});if(h)return{error:h};const{assignedPositions:v}=ns({structure:n}),g=v.filter((e=>e.participantId)).map((e=>e.drawPosition)),y=[],I=[],b=[],w=[],S=[];return m.filter((e=>{var t;const n=1===(null==o||null===(t=o.matchUpTypes)||void 0===t?void 0:t.length)&&o.matchUpTypes[0]===ma;return e.matchUpType===ma||!n})).forEach((e=>{var t,n,r;if(e.matchUpStatus===Cn)return void w.push(e);const a=e.collectionId,o=a&&e.sides.reduce(((e,t)=>t.participantId&&e),!0),s=e.roundNumber===i,c=!a&&2===(null===(t=e.drawPositions)||void 0===t?void 0:t.filter((e=>e)).length),u=!a&&(null===(n=e.drawPositions)||void 0===n?void 0:n.reduce(((e,t)=>g.includes(t)&&e),!0)),d=v.filter((e=>e.bye)).map((e=>e.drawPosition)),p=!a&&(null===(r=e.drawPositions)||void 0===r?void 0:r.reduce(((e,t)=>d.includes(t)||e),!1)),f=Yn.includes(e.matchUpStatus)&&(o||c&&(!i||s)&&(!l||u));return p?y.push(e):ii(e)?S.push(e):f?b.push(e):I.push(e)})),{completedMatchUps:S,upcomingMatchUps:b,pendingMatchUps:I,abandonedMatchUps:w,byeMatchUps:y,structure:n}}function ms({source:e,linkType:t,finishingPositions:n}){return e.reduce(((e,i)=>{var r,a;return(!(null!==(r=i.source)&&void 0!==r&&r.finishingPositions)||!n||an(n,null===(a=i.source)||void 0===a?void 0:a.finishingPositions).length)&&i.linkType===t?i:e}),void 0)}function hs({drawDefinition:e,structureId:t,roundNumber:n}){if(!e)return{error:g};if(!t)return{error:F};return{links:(e.links||[]).filter((e=>e)).reduce(((e,i)=>{var r,a;return(null===(r=i.source)||void 0===r?void 0:r.structureId)!==t||n&&i.source.roundNumber!==n||(e.source=e.source.concat(i)),(null===(a=i.target)||void 0===a?void 0:a.structureId)!==t||n&&i.target.roundNumber!==n||(e.target=e.target.concat(i)),e}),{source:[],target:[]})}}function vs({drawDefinition:e,inContextDrawMatchUps:t,targetLink:n,sourceRoundPosition:i,sourceRoundMatchUpCount:r}){if(!n)return{error:k};const{target:{structureId:a,feedProfile:o,groupedOrder:s,roundNumber:c,positionInterleave:u}}=n,{structure:d}=lo({drawDefinition:e,structureId:a}),{positionAssignments:l}=ts({structure:d}),p=(null==t?void 0:t.filter((e=>e.structureId===d.structureId))).filter((e=>e.roundNumber===c)),f=p.length,m=nn(1,f+1),h=f/r;let v=Math.ceil(h*i),g=1-i%2;if(null!=u&&u.interleave&&.5!==h){const e=i+(u.offset+(i-1)*u.interleave);v=Math.ceil(e/2),g=1-e%2}let y=m,I=m[v-1];const b=Xo({groupedOrder:s,roundPositionsCount:m.length}),w=(null==b?void 0:b.length)||1;if(w<=m.length){const e=on(m,f/w);o===Ir&&e.forEach((e=>e.reverse())),y=(null==b?void 0:b.length)&&(null==b?void 0:b.map((t=>e[t-1])).flat())||y}o===yr?I=y[v-1]:o===Ir?((null==b||!b.length||w>m.length)&&(v=p.length+1-v),I=y[v-1]):o===gr?ln()&&console.log("not implemented:",{feedProfile:o}):o===vr&&ln()&&console.log("not implemented:",{feedProfile:o});const S=I&&p.reduce(((e,t)=>t.roundPosition===I?t:e),void 0);let N;var P;null!=S&&S.feedRound?(g=0,N=Math.min(...(S.drawPositions||[]).filter((e=>e)))):N=2===(null==S||null===(P=S.drawPositions)||void 0===P?void 0:P.length)&&(null==S?void 0:S.drawPositions[g]);const U=l.find((({drawPosition:e})=>e===N));if(U){const{extension:e}=Po({element:U,name:Ga});if(null!=e&&e.value)return{disabledDrawPosition:N}}return{matchUp:S,targetDrawPosition:N,matchUpDrawPositionIndex:g}}function gs({matchUpId:e,structure:t,drawDefinition:n,inContextDrawMatchUps:i=[],inContextMatchUp:r}){let a=r;i.length&&!a&&(a=i.find((t=>t.matchUpId===e)));const{finishingPosition:o}=t;return o===qr?function({matchUp:e,structure:t,drawDefinition:n,inContextDrawMatchUps:i}){const{links:{source:r}}=function({drawDefinition:e,roundNumber:t,structureId:n}){if(!e)return{error:g};if(!n)return{error:F};const{links:i}=hs({drawDefinition:e,structureId:n});return{links:{source:i.source.reduce(((e,n)=>n.source.roundNumber&&n.source.roundNumber!==t?e:e.concat(n)),[]),target:i.target.reduce(((e,n)=>n.target.roundNumber&&n.target.roundNumber!==t?e:e.concat(n)),[])}}}({drawDefinition:n,roundNumber:e.roundNumber,structureId:t.structureId}),a=i.filter((e=>e.structureId===t.structureId)),o=a.reduce(((t,n)=>n.roundNumber===e.roundNumber?t+1:t),0),{roundPosition:s}=e,c=ms({source:r,linkType:Sr}),{matchUp:u,matchUpDrawPositionIndex:d,targetDrawPosition:l}=vs({drawDefinition:n,inContextDrawMatchUps:i,sourceRoundPosition:s,sourceRoundMatchUpCount:o,targetLink:c});let p,f,m;const h=ms({source:r,linkType:wr});h?({matchUp:p,matchUpDrawPositionIndex:m,targetDrawPosition:f}=vs({drawDefinition:n,inContextDrawMatchUps:i,sourceRoundPosition:s,sourceRoundMatchUpCount:o,targetLink:h})):({matchUp:p}=function({structureMatchUps:e,matchUp:t}){const{roundNumber:n,roundPosition:i}=t,r=e.filter((e=>e.roundNumber===n)),a=e.filter((e=>e.roundNumber===n+1));if(a.length){let e;return a.length===r.length?e=a.find((e=>e.roundPosition===i)):a.length===r.length/2&&(e=a.find((e=>e.roundPosition===Math.ceil(i/2)))),{matchUp:e}}return{error:"no progression found"}}({structureMatchUps:a,matchUp:e}));return{matchUp:e,targetLinks:{loserTargetLink:c,winnerTargetLink:h},targetMatchUps:{loserMatchUp:u,winnerMatchUp:p,loserTargetDrawPosition:l,winnerTargetDrawPosition:f,loserMatchUpDrawPositionIndex:d,winnerMatchUpDrawPositionIndex:m}}}({drawDefinition:n,inContextDrawMatchUps:i,structure:t,matchUp:a}):function({matchUp:e}){return{matchUp:e,targetLinks:{loserTargetLink:void 0,winnerTargetLink:void 0},targetMatchUps:{loserMatchUp:void 0,winnerMatchUp:void 0}}}({drawDefinition:n,matchUp:a,structure:t})}function ys({drawDefinition:e,inContextDrawMatchUps:t}){const n=t.find((({winnerMatchUpId:e,loserMatchUpId:t})=>e||t));t.forEach((i=>{const{matchUpId:r,structureId:a,drawPositions:o=[]}=i,{structure:s}=lo({drawDefinition:e,structureId:a});if((null==s?void 0:s.finishingPosition)===Kr){const{roundNumber:e}=i,t=e&&parseInt(e)+1,n=s.matchUps||[],{roundMatchUps:r}=to({matchUps:n});if(t&&r[t]){const e=o.sort().map(((e,n)=>{const i=r[t].find((t=>t.drawPositions.includes(e)));return{matchUpId:null==i?void 0:i.matchUpId,roundNumber:t,schedule:null==i?void 0:i.schedule,sideNumber:n+1,structureName:s.structureName}}));Object.assign(i,{sidesTo:e})}}else{var c;let a,o;if(n)a=i.winnerMatchUpId&&t.find((({matchUpId:e})=>e===i.winnerMatchUpId)),o=i.loserMatchUpId&&t.find((({matchUpId:e})=>e===i.loserMatchUpId));else{const n=gs({matchUpId:r,structure:s,drawDefinition:e,inContextDrawMatchUps:t});({winnerMatchUp:a,loserMatchUp:o}=n.targetMatchUps)}const u=ws({upcomingMatchUp:a});let d=ws({upcomingMatchUp:o});if(i.matchUpStatus!==An&&(null===(c=o)||void 0===c?void 0:c.matchUpStatus)===An){const{matchUp:n}=bs({matchUp:o,drawDefinition:e,inContextDrawMatchUps:t})||{};d=n&&ws({upcomingMatchUp:n})||d}if(Object.assign(i,{winnerTo:u,loserTo:d}),i.drawPositions.filter((e=>e)).length){const e=function(e){var t;return(null==e||null===(t=e.sides)||void 0===t?void 0:t.map((({participant:e})=>e)).filter((e=>e)))||[]}(i);if(e.length){const t=Is(a),n=Is(o),i=!e.find((({participantId:e})=>t.includes(e)))&&e,r=!e.find((({participantId:e})=>n.includes(e)))&&e;i&&a&&(a.potentialParticipants||(a.potentialParticipants=[]),a.potentialParticipants.push(i)),r&&o&&(o.potentialParticipants||(o.potentialParticipants=[]),o.potentialParticipants.push(r))}}}}))}function Is(e){var t;return(null==e||null===(t=e.sides)||void 0===t?void 0:t.map((({participantId:e})=>e)).filter((e=>e)))||[]}function bs({matchUp:e,drawDefinition:t,inContextDrawMatchUps:n}){const{matchUpId:i,matchUpStatus:r,structureId:a}=e||{};if(!e||!a||(null==e?void 0:e.matchUpStatus)===Bn)return{matchUp:e};if(r===An){let r;if(e.winnerMatchUpId)r=n.find((({matchUpId:t})=>t===e.winnerMatchUpId));else{const{structure:e}=lo({drawDefinition:t,structureId:a}),o=e&&gs({matchUpId:i,structure:e,drawDefinition:t,inContextDrawMatchUps:n});({winnerMatchUp:r}=(null==o?void 0:o.targetMatchUps)||{})}return bs({matchUp:r,drawDefinition:t,inContextDrawMatchUps:n})}return{matchUp:void 0}}function ws({upcomingMatchUp:e}={}){if(e)return(({matchUpId:e,structureId:t,schedule:n,roundNumber:i,roundPosition:r,structureName:a})=>({matchUpId:e,structureId:t,schedule:n,roundNumber:i,roundPosition:r,structureName:a}))(e)}function Ss(e){if(!e.drawDefinition)return{error:g};Object.assign(e,{requireParticipants:!1});const{abandonedMatchUps:t,completedMatchUps:n,upcomingMatchUps:i,pendingMatchUps:r,byeMatchUps:a,matchUpsMap:o}=Ns(e);return{matchUps:[].concat(...t,...n,...i,...r,...a),matchUpsMap:o}}function Ns({context:e,inContext:t,roundFilter:n,nextMatchUps:i,drawDefinition:r,matchUpFilters:a,contextFilters:o,policyDefinition:s,tournamentRecord:c,includeByeMatchUps:u,requireParticipants:d,tournamentParticipants:l,tournamentAppliedPolicies:p,scheduleVisibilityFilters:f,matchUpsMap:m}){var h;if(!r)return{error:g};let v=[],y=[],I=[],b=[],w=[];l=(null===(h=l)||void 0===h?void 0:h.length)&&l||(null==c?void 0:c.participants);const{structures:S}=po({drawDefinition:r});m||(m=so({drawDefinition:r})),S.forEach((c=>{const{byeMatchUps:h=[],pendingMatchUps:g,upcomingMatchUps:S,completedMatchUps:N,abandonedMatchUps:P}=fs({context:e,structure:c,roundFilter:n,drawDefinition:r,matchUpFilters:a,contextFilters:o,policyDefinition:s,includeByeMatchUps:u,requireParticipants:d,tournamentParticipants:l,tournamentAppliedPolicies:p,scheduleVisibilityFilters:f,inContext:t||i,matchUpsMap:m});v=v.concat(...h),y=y.concat(...g),I=I.concat(...S),b=b.concat(...P),w=w.concat(...N)}));const N={matchUpsMap:m,byeMatchUps:v,pendingMatchUps:y,upcomingMatchUps:I,abandonedMatchUps:b,completedMatchUps:w,...ho};if(i){const e="object"==typeof i&&i||{abandoned:!0,completed:!0,upcoming:!0,pending:!0,bye:!0},{abandoned:t,completed:n,upcoming:a,pending:o,bye:s}=e,c=[].concat(...t&&N.abandonedMatchUps||[],...n&&N.completedMatchUps||[],...a&&N.upcomingMatchUps||[],...o&&N.pendingMatchUps||[],...s&&N.byeMatchUps||[]);ys({drawDefinition:r,inContextDrawMatchUps:c})}return N}function Ps({tournamentRecord:e,inContext:t=!0,nextMatchUps:n,matchUpFilters:i,contextFilters:r,policyDefinition:a,scheduleVisibilityFilters:o}){var s;if(!e)return{error:m};const c=(null===(s=e.unifiedTournamentId)||void 0===s?void 0:s.tournamentId)||e.tournamentId,u=(null==e?void 0:e.events)||[],d=Es({tournamentRecord:e}),{appliedPolicies:l}=ds({tournamentRecord:e}),p={tournamentId:c,contextEndDate:e.endDate};return{matchUps:u.map((e=>Ds({event:e,context:p,inContext:t,nextMatchUps:n,participants:d,matchUpFilters:i,contextFilters:r,policyDefinition:a,scheduleVisibilityFilters:o,tournamentAppliedPolicies:l}).matchUps)).flat(1/0)}}function Us({event:e,context:t,inContext:n,participants:i,nextMatchUps:r,matchUpFilters:a,contextFilters:o,drawDefinition:s,tournamentRecord:c,policyDefinition:u,scheduleVisibilityFilters:d,tournamentAppliedPolicies:l}){if(!e)return{error:B};const{eventId:p,eventName:f,category:m,gender:h,matchUpFormat:v}=e,g=Object.assign({},t,{eventId:p,eventName:f,category:m,gender:h,matchUpFormat:v}),y=i||c&&Es({tournamentRecord:c})||[],{matchUps:I}=Ss({drawDefinition:s,context:g,inContext:n,matchUpFilters:a,contextFilters:o,nextMatchUps:r,tournamentRecord:c,policyDefinition:u,tournamentParticipants:y,tournamentAppliedPolicies:l,scheduleVisibilityFilters:d});return{matchUps:I}}function Ds({event:e,context:t,inContext:n,nextMatchUps:i,matchUpFilters:r,contextFilters:a,participants:o=[],tournamentRecord:s,policyDefinition:c,scheduleVisibilityFilters:u,tournamentAppliedPolicies:d}){if(!e)return{error:B};const{eventId:l,eventName:p,endDate:f,category:m,gender:h,matchUpFormat:v}=e,g=Object.assign({},t,{eventId:l,eventName:p,category:m,gender:h,matchUpFormat:v});f&&(g.contextEndDate=f),o=o||s&&Es({tournamentRecord:s});return{matchUps:(e.drawDefinitions||[]).map((e=>{const{matchUps:t}=Ss({drawDefinition:e,context:g,inContext:n,matchUpFilters:r,contextFilters:a,nextMatchUps:i,tournamentRecord:s,policyDefinition:c,tournamentAppliedPolicies:d,scheduleVisibilityFilters:u,tournamentParticipants:o});return t})).flat(1/0)}}function Ts({tournamentRecord:e,matchUpFilters:t,contextFilters:n,inContext:i=!0,nextMatchUps:r,policyDefinition:a,scheduleVisibilityFilters:o}){var s;if(!e)return{error:m};const c=(null===(s=e.unifiedTournamentId)||void 0===s?void 0:s.tournamentId)||e.tournamentId,u=e&&e.events||[],d=Es({tournamentRecord:e}),{appliedPolicies:l}=ds({tournamentRecord:e}),p=n&&n.eventIds||[];return u.filter((e=>!p.includes(e.eventId))).map((e=>Cs({event:e,inContext:i,participants:d,tournamentId:c,matchUpFilters:t,contextFilters:n,nextMatchUps:r,policyDefinition:a,tournamentAppliedPolicies:l,scheduleVisibilityFilters:o}))).reduce(((e,t)=>(Object.keys(t).filter((e=>"success"!==e)).forEach((n=>{e[n]||(e[n]=[]),e[n]=e[n].concat(t[n]),e.matchUpsCount+=t[n].length})),e)),{matchUpsCount:0})}function Cs({event:e,inContext:t,nextMatchUps:n,participants:i,tournamentId:r,matchUpFilters:a,contextFilters:o,tournamentRecord:s,policyDefinition:c,tournamentAppliedPolicies:u,scheduleVisibilityFilters:d}){if(!e)return{error:B};const{eventId:l,eventName:p,endDate:f}=e,m={eventId:l,eventName:p};f&&(m.contextEndDate=f),r&&(m.tournamentId=r);const h=i||s&&Es({tournamentRecord:s});return(e.drawDefinitions||[]).reduce(((e,i)=>{const r=Ns({context:m,inContext:t,nextMatchUps:n,drawDefinition:i,matchUpFilters:a,contextFilters:o,tournamentRecord:s,policyDefinition:c,tournamentAppliedPolicies:u,tournamentParticipants:h,scheduleVisibilityFilters:d});return Object.keys(r).forEach((t=>{e[t]||(e[t]=[]),e[t]=e[t].concat(r[t])})),e}),{})}function Es({tournamentRecord:e}){return e&&e.participants||[]}function As({tournamentRecord:e,drawDefinition:t,drawId:n,matchUpId:i,inContext:r,nextMatchUps:a}){if(!e)return{error:m};if("string"!=typeof i)return{error:te};if(!n){const{matchUps:r}=Ps({tournamentRecord:e});n=r.reduce(((e,t)=>t.matchUpId===i?t.drawId:e),void 0);t=(e.events||[]).map((e=>e.drawDefinitions||[])).flat(1/0).find((e=>e.drawId===n))}if(n){const n=e.participants||[],{matchUp:o,structure:s}=us({drawDefinition:t,matchUpId:i,nextMatchUps:a,tournamentParticipants:n,inContext:r});return{matchUp:o,structure:s,drawDefinition:t}}return{error:ie}}function Ms({tournamentRecord:e,eventId:t,drawId:n}){if(!e)return{error:m};const i=(null==e?void 0:e.events)||[];if(n){const{event:e,drawDefinition:t}=i.reduce(((e,t)=>{const i=(t&&t.drawDefinitions||[]).reduce(((e,t)=>t.drawId===n?t:e),void 0);return i?{event:t,drawDefinition:i}:e}),{});return{event:e,drawDefinition:t}}if(t){return{event:i.reduce(((e,n)=>n.eventId===t?n:e),void 0)}}return{error:ye}}function Rs({tournamentRecord:e,drawId:t}){if(!e)return{error:m};if(!t)return{error:C};const n=(e.events||[]).reduce(((e,n)=>{const i=(n.drawDefinitions||[]).reduce(((e,n)=>n.drawId===t?n:e),void 0);return i&&i.drawId===t?{event:n,drawDefinition:i}:e}),void 0);return n?{...n,SUCCESS:ho}:{error:y}}function xs({element:e,itemType:t,itemSubTypes:n,returnPreviousValues:i}){if(!e)return{error:ye};if(!Array.isArray(e.timeItems))return{error:lt};const r=e.timeItems.filter((e=>(null==e?void 0:e.itemType)===t)).filter((e=>{var t;return!(null!=n&&n.length)||(null==e||null===(t=e.itemSubTypes)||void 0===t?void 0:t.includes(n))})).sort(((e,t)=>new Date(e.createdAt||void 0)-new Date(t.createdAt||void 0))),a=r.pop();if(a){const e={timeItem:a,...ho};return i&&Object.assign(e,{previousItems:r}),e}return{message:Nt}}function Os({event:e,itemType:t,itemSubTypes:n,returnPreviousValues:i}){if(!e)return{error:B};if(!e.timeItems)return{message:Nt};const{timeItem:r,previousItems:a,message:o}=xs({element:e,itemType:t,itemSubTypes:n,returnPreviousValues:i});return r&&{timeItem:r,previousItems:a}||{message:o}}function ks({element:e,timeItem:t,duplicateValues:n=!0}){if(!e)return{error:ye};if(!t)return{error:dt};const i=t&&Object.keys(t),r=["itemType","itemValue"];if(!(r.filter((e=>i.includes(e))).length===r.length))return{error:ut};if(e.timeItems){const{itemType:i,itemSubTypes:r,itemValue:a}=t,{timeItem:o}=xs({element:e,itemType:i,itemSubTypes:r});if(JSON.stringify(null==o?void 0:o.itemValue)===JSON.stringify(a)&&!n)return ho}else e.timeItems=[];t.itemSubTypes&&!t.itemSubTypes.length&&delete t.itemSubTypes;const a=(new Date).toISOString();return Object.assign(t,{createdAt:a}),e.timeItems.push(t),ho}function Fs({tournamentRecord:e,duplicateValues:t,participantId:n,timeItem:i}){if(!e)return{error:m};if(!n)return{error:Oe};const r=No({tournamentRecord:e,participantId:n});return r.error?r:ks({element:r.participant,duplicateValues:t,timeItem:i})}function Ls({tournamentRecord:e,duplicateValues:t,timeItem:n}){return e?ks({element:e,timeItem:n,duplicateValues:t}):{error:m}}function Zs({event:e,timeItem:t,duplicateValues:n}){return e?ks({element:e,timeItem:t,duplicateValues:n}):{error:V}}const _s="addMatchUps",js="addParticipants",Bs="addVenue",Vs="audit",Gs="deletedMatchUpIds",Hs="deleteParticipants",Ws="deleteVenue",zs="modifyMatchUp",Ks="modifyParticipants",qs="modifyVenue",Ys="publishEvent";function $s({drawDefinition:e,matchUpId:t,timeItem:n,duplicateValues:i,disableNotice:r}){const{matchUp:a}=us({drawDefinition:e,matchUpId:t});if(!a)return{error:ie};const o=ks({element:a,timeItem:n,duplicateValues:i});return r||mn({topic:zs,payload:{matchUp:a}}),o}function Js({tournamentRecord:e}){if(!e)return{error:m};return{venues:Sn(e.venues||[])}}function Qs({tournamentRecord:e,venueId:t}){if(!e)return{error:m};if(!t)return{error:rt};const n=(e.venues||[]).reduce(((e,n)=>n.venueId===t?n:e),void 0);return n&&{venue:n}||{error:it}}function Xs({tournamentRecord:e,drawDefinition:t,matchUpId:n,venueId:i,disableNotice:r}){if(!e)return{error:m};if(!n)return{error:te};if(i){const{error:t}=Qs({tournamentRecord:e,venueId:i});if(t)return{error:t}}return $s({drawDefinition:t,matchUpId:n,timeItem:{itemType:Ia,itemValue:i},disableNotice:r,duplicateValues:!1})}function ec({tournamentRecord:e,courtId:t}){if(!e)return{error:m};if(!t)return{error:ge};let n,i;return(e.venues||[]).forEach((e=>{(e.courts||[]).forEach((r=>{r.courtId===t&&(n=r,i=e)}))})),n&&{court:n,venue:i}||{error:et}}function tc({tournamentRecord:e,venueId:t,venueIds:n}){if(!e)return{error:m};return{courts:(e.venues||[]).filter((e=>t?e.venueId===t:n?n.includes(e.venueId):!t&&!n)).map((e=>{const{venueId:t}=e,n=Sn(e.courts||[]);return n.forEach((e=>Object.assign(e,{venueId:t}))),n})).flat()}}function nc({tournamentRecord:e,drawDefinition:t,courtDayDate:n,matchUpId:i,courtId:r,disableNotice:a}){if(!e)return{error:m};if(!i)return{error:te};if(r){const{venue:n,error:o}=ec({tournamentRecord:e,courtId:r});if(o)return{error:o};const{venueId:s}=n||{};if(s){const n=Xs({tournamentRecord:e,drawDefinition:t,matchUpId:i,venueId:s,disableNotice:a});if(n.error)return n}}return $s({drawDefinition:t,matchUpId:i,timeItem:{itemType:ya,itemDate:n,itemValue:r},disableNotice:a,duplicateValues:!1})}function ic(e){if(d.test(e)){const t=Rt(new Date);return new Date(`${t}T${e}`)}return new Date(e)}function rc(e){return!(void 0!==e&&!p.test(e))}function ac({tournamentRecord:e,drawDefinition:t,matchUpId:n,disableNotice:i,schedule:r}){if(!t)return{error:g};if(!n)return{error:te};if(!r)return{error:ye};const{scheduledDate:a,scheduledTime:o,startTime:s,endTime:c,courtId:u,venueId:d}=r;if(void 0!==a){const e=oc({drawDefinition:t,matchUpId:n,scheduledDate:a,disableNotice:!0});if(null!=e&&e.error)return e}if(void 0!==o){const e=sc({drawDefinition:t,matchUpId:n,scheduledTime:o,disableNotice:!0});if(null!=e&&e.error)return e}if(void 0!==s){const e=uc({drawDefinition:t,matchUpId:n,startTime:s,disableNotice:!0});if(null!=e&&e.error)return e}if(void 0!==c){const e=dc({drawDefinition:t,matchUpId:n,endTime:c,disableNotice:!0});if(null!=e&&e.error)return e}if(void 0!==u&&void 0!==a){const i=nc({tournamentRecord:e,drawDefinition:t,matchUpId:n,courtDayDate:a,courtId:u,disableNotice:!0});if(null!=i&&i.error)return i}else if(void 0!==d){const i=Xs({tournamentRecord:e,drawDefinition:t,matchUpId:n,venueId:d,disableNotice:!0});if(null!=i&&i.error)return i}if(!i){const{matchUp:e}=us({drawDefinition:t,matchUpId:n});if(!e)return{error:ie};mn({topic:zs,payload:{matchUp:e}})}return ho}function oc({drawDefinition:e,matchUpId:t,disableNotice:n,scheduledDate:i}){if(!t)return{error:te};const r=l.test(i);if(i&&!r)return{error:Se};return $s({drawDefinition:e,matchUpId:t,timeItem:{itemType:ba,itemValue:i},disableNotice:n,duplicateValues:!1})}function sc({drawDefinition:e,matchUpId:t,disableNotice:n,scheduledTime:i}){if(!t)return{error:te};if(!rc(i))return{error:Ne};return $s({drawDefinition:e,matchUpId:t,timeItem:{itemType:wa,itemValue:i},disableNotice:n,duplicateValues:!1})}function cc({drawDefinition:e,matchUpId:t,disableNotice:n,participantId:i,officialType:r}){if(!t)return{error:te};return $s({drawDefinition:e,matchUpId:t,timeItem:{itemType:"SCHEDULE.ASSIGNMENT.OFFICIAL",itemSubTypes:[r],itemValue:i},disableNotice:n,duplicateValues:!1})}function uc({drawDefinition:e,matchUpId:t,startTime:n,disableNotice:i}){if(!t)return{error:te};if(!rc(n))return{error:Ne};const{matchUp:r}=us({drawDefinition:e,matchUpId:t}),a=(r.timeItems||[]).filter((e=>[Na,Pa,Ua].includes(null==e?void 0:e.itemType))).map((e=>ic(e.itemValue))).reduce(((e,t)=>!e||t<e?t:e),void 0);if(!a||ic(n)<a){r.timeItems&&(r.timeItems=r.timeItems.filter((e=>e.itemType!==Sa)));return $s({drawDefinition:e,matchUpId:t,timeItem:{itemType:Sa,itemValue:n},disableNotice:i,duplicateValues:!1})}return{error:ct}}function dc({drawDefinition:e,matchUpId:t,endTime:n,disableNotice:i}){if(!t)return{error:te};if(!rc(n))return{error:Ne};const{matchUp:r}=us({drawDefinition:e,matchUpId:t}),a=(r.timeItems||[]).filter((e=>[Sa,Pa,Na].includes(null==e?void 0:e.itemType))).map((e=>ic(e.itemValue))).reduce(((e,t)=>!e||t>e?t:e),void 0);if(!a||ic(n)>a){r.timeItems&&(r.timeItems=r.timeItems.filter((e=>e.itemType!==Ua)));return $s({drawDefinition:e,matchUpId:t,timeItem:{itemType:Ua,itemValue:n},disableNotice:i,duplicateValues:!1})}return{error:at}}function lc({drawDefinition:e,matchUpId:t,stopTime:n,disableNotice:i}){if(!t)return{error:te};if(!rc(n))return{error:Ne};const{matchUp:r}=us({drawDefinition:e,matchUpId:t}),a=r.timeItems||[];if(a.reduce(((e,t)=>t.itemType===Ua||e),void 0))return{error:ot};const o=a.filter((e=>[Sa,Pa,Na].includes(null==e?void 0:e.itemType))).sort(((e,t)=>ic(e.itemValue)-ic(t.itemValue))),s=o[o.length-1],c=s&&s.itemType===Na,u=o.filter((e=>!c||e.createdAt!==s.createdAt)).map((e=>ic(e.itemValue))).reduce(((e,t)=>!e||t>e?t:e),void 0);if(ic(n)>u){if(r.timeItems&&c){const e=s.createdAt;r.timeItems=r.timeItems.filter((t=>t.createdAt!==e))}return $s({drawDefinition:e,matchUpId:t,timeItem:{itemType:Na,itemValue:n},disableNotice:i,duplicateValues:!0})}return{error:st}}function pc({drawDefinition:e,matchUpId:t,disableNotice:n,resumeTime:i}){if(!t)return{error:te};if(!rc(i))return{error:Ne};const{matchUp:r}=us({drawDefinition:e,matchUpId:t}),a=r.timeItems||[];if(a.reduce(((e,t)=>t.itemType===Ua||e),void 0))return{error:ot};const o=a.filter((e=>[Sa,Pa,Na].includes(null==e?void 0:e.itemType))).sort(((e,t)=>ic(e.itemValue)-ic(t.itemValue))),s=o[o.length-1],c=s&&s.itemType===Pa,u=o.filter((e=>!c||e.createdAt!==s.createdAt)).map((e=>ic(e.itemValue))).reduce(((e,t)=>!e||t>e?t:e),void 0);if(ic(i)>u){if(r.timeItems&&c){const e=s.createdAt;r.timeItems=r.timeItems.filter((t=>t.createdAt!==e))}return $s({drawDefinition:e,matchUpId:t,timeItem:{itemType:Pa,itemValue:i},disableNotice:n,duplicateValues:!0})}return{error:"Invalid resumeTime"}}function fc({tournamentRecord:e,matchUpIds:t,schedule:n}){if(!e)return{error:m};if(!t||!Array.isArray(t))return{error:ne};if(!n||"object"!=typeof n)return{error:ft};const{matchUps:i,error:r}=Ps({tournamentRecord:e});if(r)return{error:r};const a=i.reduce(((e,t)=>{const{matchUpId:n,drawId:i}=t;return e[i]?e[i].push(n):e[i]=[n],e}),{}),{venueId:o,scheduledDate:s,scheduledTime:c}=n,u=[];return Object.keys(a).forEach((n=>{const{drawDefinition:i,error:r}=Rs({tournamentRecord:e,drawId:n});if(!r){a[n].filter((e=>t.includes(e))).forEach((t=>{if(void 0!==c){const e=sc({drawDefinition:i,matchUpId:t,scheduledTime:c});e.error&&u.push({error:e.error,scheduledTime:c})}if(void 0!==s){const e=oc({drawDefinition:i,matchUpId:t,scheduledDate:s});e.error&&u.push({error:e.error,scheduledDate:s})}if(void 0!==o){const n=Xs({tournamentRecord:e,drawDefinition:i,matchUpId:t,venueId:o});n.error&&u.push({error:n.error,venueId:o})}}))}})),u.length?{error:It,errors:u}:ho}function mc(e){if("string"!=typeof e)return!1;const t=i.matchUpFormatCode.parse(e);return i.matchUpFormatCode.stringify(t)===e}function hc(e){const t=[],{drawDefinition:n,structureId:i,matchUpId:r,matchUpType:a,matchUpFormat:o,tieFormat:s}=e;if(!n)return{error:g};if(!o&&!s)return{error:ee};if(o&&!mc(o))return{error:Q};if(r){const{matchUp:e,error:i}=us({drawDefinition:n,matchUpId:r});i&&t.push(i),e?(a&&(e.matchUpType=a),!o||a&&a===io?s&&(e.tieFormat=s):e.matchUpFormat=o,mn({topic:zs,payload:{matchUp:e}})):t.push({error:ie})}else if(i){const{structure:e,error:r}=lo({drawDefinition:n,structureId:i});r&&t.push(r),e?(a&&(e.matchUpType=a),!o||a&&a===io?s&&(e.tieFormat=s):e.matchUpFormat=o):t.push({error:L})}else n&&(a&&(n.matchUpType=a),!o||a&&a===io?s&&(n.tieFormat=s):n.matchUpFormat=o);return t.length?{errors:t}:ho}function vc({matchUp:e,tieFormat:t,separator:n="-",sideAdjustments:i=[0,0]}){var r;if(!Array.isArray(i)||2!==i.length||isNaN(i.reduce(((e,t)=>e+t))))return{error:It};if(!e)return{error:ae};const a=[0,0],o=(null==e?void 0:e.tieMatchUps)||[];((null==e||null===(r=e.tieFormat)||void 0===r?void 0:r.collectionDefinitions)||[]).forEach((e=>{const t=o.filter((t=>t.collectionId===e.collectionId));if(e.matchUpValue){const n=e.matchUpValue;t.forEach((e=>{e.winningSide&&(a[e.winningSide-1]+=n)}))}else if(e.collectionValue){const n=[0,0],i=Math.floor(e.matchUpCount/2).floor+1;t.forEach((e=>{e.winningSide&&(n[e.winningSide-1]+=1)}));const r=n.reduce(((e,t)=>t>=i?t+1:e),void 0);r&&(a[r]+=e.collectionValue)}else e.collectionValueProfile&&t.forEach((t=>{if(t.winningSide){const n=t.collectionPosition,i=function({collectionDefinition:e,collectionPosition:t}){const n=e.collectionValueProfile||[];return n.reduce(((e,n)=>n.collectionPosition===t?n.matchUpValue:e),0)}({collectionDefinition:e,collectionPosition:n});a[t.winningSide-1]+=i}}))}));const s=a.map(((e,t)=>e+i[t])),c={side1Score:s[0],side2Score:s[1]},u=s.join(n),d=s.slice().reverse().join(n);let l;const p=e.tieFormat||t;if(p){var f;const e=null===(f=p.winCriteria)||void 0===f?void 0:f.valueGoal;if(e){const t=s.map(((e,t)=>({sideNumber:t+1,points:e}))).find((({points:t})=>t>=e));l=null==t?void 0:t.sideNumber}}return{set:c,winningSide:l,scoreStringSide1:u,scoreStringSide2:d}}function gc({element:e,notes:t}){return e&&t?"string"!=typeof t?{error:It}:(Object.assign(e,{notes:t}),ho):{error:ye}}function yc({tournamentRecord:e,drawDefinition:t,policyType:n,event:i}){if(!n)return{error:se};if(t){const{appliedPolicies:e}=eo({drawDefinition:t})||{},i=e[n],r=i&&{[n]:i};if(r)return{policyDefinition:r}}if(i){const{appliedPolicies:e}=ls({event:i})||{},t=e[n],r=t&&{[n]:t};if(r)return{policyDefinition:r}}if(e){const{appliedPolicies:t}=ds({tournamentRecord:e})||{},i=t[n],r=i&&{[n]:i};if(r)return{policyDefinition:r}}return{error:me}}function Ic({tournamentRecord:e,drawDefinition:t,event:n,positionAssignments:i,matchUpFormat:r,matchUps:a}){if(!Array.isArray(a))return{error:It};if(!i)return{error:It};const{policyDefinition:o}=yc({tournamentRecord:e,drawDefinition:t,event:n,policyType:ui}),{subOrderMap:s}=function({positionAssignments:e}){const t=(e||[]).filter((({participantId:e})=>e)).map((e=>{const{extension:t}=Po({element:e,name:"subOrder"}),n=parseInt(null==t?void 0:t.value),i=!isNaN(n)&&n;return i&&{participantId:e.participantId,subOrder:i}})).filter((e=>e)),n=Qt(t.map((({subOrder:e})=>e)));return{subOrderMap:Object.assign({},...t.filter((({subOrder:e})=>1===n[e])).map((({participantId:e,subOrder:t})=>({[e]:t}))))}}({positionAssignments:i}),{participantResults:c}=vi({policyDefinition:o,matchUpFormat:r,subOrderMap:s,matchUps:a}),u=Object.keys(c);return i.forEach((e=>{const{participantId:t}=e;if(u.includes(t)){vo({element:e,extension:{name:"tally",value:c[t]}}),c[t].ties||go({element:e,name:"subOrder"})}else go({element:e,name:"tally"}),go({element:e,name:"subOrder"})})),ho}const bc={matchUpStatus:Bn,matchUpStatusCodes:[],score:{scoreStringSide1:"",scoreStringSide2:"",sets:void 0},matchUpFormat:void 0,winningSide:void 0};function wc({tournamentRecord:e,drawDefinition:t,event:n,matchUpStatus:i,matchUpStatusCodes:r,matchUpFormat:a,winningSide:o,matchUpId:s,matchUp:c,score:u,notes:d,removeScore:l,removeWinningSide:p}){c.matchUpType===ma?s&&c.matchUpId!==s&&({matchUp:c}=us({drawDefinition:t,matchUpId:s})):c.matchUpId!==s&&console.log("!!!!!"),l?Object.assign(c,bc):u&&(c.score=u),a&&(c.matchUpFormat=a),i&&(c.matchUpStatus=i),r&&(c.matchUpStatusCodes=r),o&&(c.winningSide=o),p&&(c.winningSide=void 0);const{structure:f}=us({drawDefinition:t,matchUpId:s});if((null==f?void 0:f.structureType)===hr){a=a||c.matchUpFormat||(null==f?void 0:f.matchUpFormat)||t.matchUpFormat;const i=f.structures.find((e=>null==e?void 0:e.matchUps.find((e=>e.matchUpId===s)))),{matchUps:r}=cs({structure:i,inContext:!0});Ic({tournamentRecord:e,drawDefinition:t,event:n,positionAssignments:i.positionAssignments,matchUpFormat:a,matchUps:r})}return d&&gc({element:c,notes:d}),mn({topic:zs,payload:{matchUp:c}}),ho}function Sc(e){const{targetMatchUps:{winnerMatchUp:t}}=e.targetData;if((null==t?void 0:t.matchUpStatus)===kn){const{tournamentRecord:n,event:i,drawDefinition:r,matchUpId:a,matchUpsMap:o}=e,s=null==o?void 0:o.drawMatchUps.find((e=>e.matchUpId===t.matchUpId));if(!s)return{error:ae};wc({matchUpId:a,drawDefinition:r,removeScore:!0,matchUpStatus:Bn,matchUp:s,tournamentRecord:n,event:i})}return ho}function Nc({matchUpStatus:e}){return Wn.includes(e)}function Pc({matchUpStatus:e}){return zn.includes(e)}function Uc({score:e,winningSide:t,matchUpStatus:n}){return(null==e?void 0:e.scoreStringSide1)||t||function({matchUpStatus:e}){return qn.includes(e)}({matchUpStatus:n})}function Dc({drawDefinition:e,structureId:t}){const{structure:n}=lo({drawDefinition:e,structureId:t}),{matchUps:i}=cs({drawDefinition:e,structure:n,matchUpFilters:{isCollectionMatchUp:!1}}),r=i.filter(Uc),{positionAssignments:a}=ts({structure:n,drawDefinition:e}),o=$t([].concat(...i.map((e=>e.drawPositions||[]))).filter((e=>e))).sort(Nn),s=a.filter((e=>e.bye)).map((e=>e.drawPosition)),c=$t([].concat(...r.map((e=>e.drawPositions||[]))).filter((e=>e)).sort(Nn));if(n.structureType===hr){const e=o.filter((e=>!c.includes(e)));return{activeDrawPositions:c,inactiveDrawPositions:e,byeDrawPositions:s,structure:n}}{const e=[],{roundMatchUps:t}=to({matchUps:i});r.forEach((n=>{const{roundNumber:i,drawPositions:r}=n;e.push(...r);nn(1,i).reverse().forEach((n=>{t[n].forEach((t=>{an(e,t.drawPositions).length&&e.push(...t.drawPositions)}))}))}));const c=$t(e).sort(Nn),u=o.filter((e=>!c.includes(e)));return{allDrawPositions:o,positionAssignments:a,activeDrawPositions:c,inactiveDrawPositions:u,byeDrawPositions:s,structure:n}}}function Tc({positionAssignments:e,drawDefinition:t,structure:n}){const{matchUps:i}=cs({drawDefinition:t,structure:n});i.forEach((t=>{const n=e.filter((({drawPosition:e})=>t.drawPositions.includes(e))).filter((e=>e.bye)).length;if(!t.winningSide){const e=n?An:Bn;Object.assign(t,{matchUpStatus:e}),mn({topic:zs,payload:{matchUp:t}})}}))}function Cc({drawPosition:e,matchUps:t=[]}){return{initialRoundNumber:t.filter((({drawPositions:t})=>e&&(null==t?void 0:t.includes(e)))).map((({roundNumber:e})=>parseInt(e))).sort(Nn)[0]}}function Ec({drawDefinition:e,inContextDrawMatchUps:t,structureId:n,drawPosition:i,matchUpsMap:r}){const{structure:a}=lo({drawDefinition:e,structureId:n}),{positionAssignments:o}=ns({drawDefinition:e,structure:a}),s=o.some((e=>{if(e.drawPosition===i)return delete e.participantId,delete e.qualifier,delete e.bye,!0}));if(a.structureType===hr)return Tc({positionAssignments:o,drawDefinition:e,structure:a}),{drawPositionCleared:s};const{matchUps:c}=cs({drawDefinition:e,matchUpFilters:{isCollectionMatchUp:!1},structure:a,matchUpsMap:r}),{roundProfile:u,roundMatchUps:d}=to({matchUps:c}),l=Object.keys(u).map((e=>parseInt(e)));let p=i;const f=l.map((e=>{const t=u[e].pairedDrawPositions.find((e=>e.includes(p))),n=null==t?void 0:t.find((e=>e!==p)),i=o.find((e=>e.drawPosition===n)),r=u[e+1],a=null==i?void 0:i.bye,s=r&&r.pairedDrawPositions.find((e=>e.includes(n))),c=a&&s&&r&&r.drawPositions.includes(n),d=t&&{roundNumber:e,relevantPair:t,pairedDrawPosition:n,pairedDrawPositionByeAdvancedPair:!c&&s,targetDrawPosition:p};return c&&(p=n),d})).filter((e=>null==e?void 0:e.targetDrawPosition)).reduce(((e,t)=>{const{roundNumber:n,relevantPair:i,targetDrawPosition:r,pairedDrawPosition:a,pairedDrawPositionByeAdvancedPair:o}=t,s=[{roundNumber:n,targetDrawPosition:r,relevantPair:i},o&&{roundNumber:n+1,targetDrawPosition:a,relevantPair:o,subsequentRoundRemoval:!0}].filter((e=>e));return e.concat(...s)}),[]);return f.forEach((({roundNumber:o,targetDrawPosition:s,relevantPair:c})=>{const u=d[o].find((e=>an(e.drawPositions.filter((e=>e)),c.filter((e=>e))).length));u&&(!function({drawDefinition:e,structureId:t,roundNumber:n,inContextDrawMatchUps:i,targetDrawPosition:r,matchUpsMap:a}){var o;const{structure:s}=lo({drawDefinition:e,structureId:t});if(s.structureType===hr)return;a||(a=so({drawDefinition:e}));const c=((null===(o=a)||void 0===o?void 0:o.mappedMatchUps)||{})[t].matchUps,{initialRoundNumber:u}=Cc({drawPosition:r,matchUps:c}),d=null==c?void 0:c.filter((e=>e.roundNumber>=n&&e.roundNumber!==u&&e.drawPositions.includes(r)));null==d||d.forEach((t=>Ac({drawDefinition:e,structure:s,inContextDrawMatchUps:i,targetMatchUp:t,drawPosition:r,matchUpsMap:a})))}({drawDefinition:e,inContextDrawMatchUps:t,structureId:n,roundNumber:o,targetDrawPosition:s,matchUpsMap:r}),Ac({drawDefinition:e,structure:a,inContextDrawMatchUps:t,targetMatchUp:u,drawPosition:i,matchUpsMap:r}))})),{tasks:f,drawPositionCleared:s}}function Ac({drawDefinition:e,structure:t,inContextDrawMatchUps:n,targetMatchUp:i,drawPosition:r,matchUpsMap:a}){a||(a=so({drawDefinition:e}));const o=a.mappedMatchUps[t.structureId].matchUps,{initialRoundNumber:s}=Cc({drawPosition:r,matchUps:o});i.roundNumber>s&&(i.drawPositions=(i.drawPositions||[]).map((e=>e===r?void 0:e)));const c=gs({matchUpId:i.matchUpId,structure:t,drawDefinition:e,inContextDrawMatchUps:n}),{targetLinks:{winnerTargetLink:u},targetMatchUps:{loserMatchUp:d,winnerMatchUp:l,loserMatchUpDrawPositionIndex:p,winnerMatchUpDrawPositionIndex:f}}=c,{positionAssignments:m}=ts({structure:t}),h=m.filter((({drawPosition:e})=>i.drawPositions.includes(e))).filter((e=>e.bye)).length,v=h?An:Bn;if(Object.assign(i,{matchUpStatus:v}),mn({topic:zs,payload:{matchUp:i}}),d&&d.structureId!==c.matchUp.structureId&&!h){const{drawPositions:t,roundNumber:i}=d;if(1===i){const i=t[p];Ec({inContextDrawMatchUps:n,drawDefinition:e,structureId:d.structureId,drawPosition:i,matchUpsMap:a})}else{var g;const r=Math.min(...t.filter((e=>e))),o=((null===(g=a)||void 0===g?void 0:g.mappedMatchUps)||{})[d.structureId].matchUps,{initialRoundNumber:s}=Cc({drawPosition:r,matchUps:o});s===i&&Ec({inContextDrawMatchUps:n,drawDefinition:e,structureId:d.structureId,drawPosition:r,matchUpsMap:a})}}l&&l.structureId!==c.matchUp.structureId&&console.log("linked structure winnerMatchUp removal",{winnerTargetLink:u,winnerMatchUpDrawPositionIndex:f})}function Mc({drawDefinition:e,drawPosition:t,participantId:n,structureId:i,matchUpsMap:r}){const{structure:a}=lo({drawDefinition:e,structureId:i}),{positionAssignments:o}=ns({drawDefinition:e,structure:a}),s=o.find((e=>n&&e.participantId===n||t&&e.drawPosition===t));if(n&&!t&&(t=null==s?void 0:s.drawPosition),!t)return{error:U};n||(n=null==s?void 0:s.participantId);const{activeDrawPositions:c}=Dc({drawDefinition:e,structureId:i});if(c.includes(t))return{error:N};const{matchUps:u}=Ss({drawDefinition:e,inContext:!0,includeByeMatchUps:!0,matchUpsMap:r}),{drawPositionCleared:d,error:l}=Ec({inContextDrawMatchUps:u,drawDefinition:e,structureId:i,drawPosition:t,matchUpsMap:r});return l?{error:l}:d?Object.assign({},ho,{participantId:n}):{error:w}}function Rc(e){const{tournamentRecord:t,drawDefinition:n,structure:i,matchUp:r,matchUpId:a,matchUpStatus:o,matchUpFormat:s,matchUpStatusCodes:c,targetData:u,removeScore:d=!0,score:l,event:p,matchUpsMap:f}=e,{targetLinks:{loserTargetLink:m,winnerTargetLink:h},targetMatchUps:{loserMatchUp:v,winnerMatchUp:g}}=u,{positionAssignments:y}=ns({structure:i});if(!r.drawPositions)return{errors:[{error:"matchUp missing drawPositions"}]};{const u=r.winningSide-1,I=1-u,b=r.drawPositions[u],w=r.drawPositions[I],{winnerParticipantId:S,loserParticipantId:N}=y.reduce(((e,t)=>(t.drawPosition===w&&(e.loserParticipantId=t.participantId),t.drawPosition===b&&(e.winnerParticipantId=t.participantId),e)),{winnerParticipantId:void 0,loserParticipantId:void 0});wc({matchUpStatus:o||Bn,drawDefinition:e.drawDefinition,removeWinningSide:!0,matchUpStatusCodes:c,tournamentRecord:t,matchUpFormat:s,removeScore:d,matchUpId:a,matchUp:r,score:l,event:p});const{matchUps:P}=cs({inContext:!0,drawDefinition:n,structure:i,matchUpsMap:f}),U=P.filter((e=>e.drawPositions.includes(w)));if(g){const{error:e}=xc({winnerMatchUp:g,drawDefinition:n,winnerTargetLink:h,winnerParticipantId:S,winningDrawPosition:b,matchUpsMap:f});if(e)return{errors:[e]}}if(v){const{winnerHadMatchUpStatus:e}=function({sourceMatchUps:e,loserDrawPosition:t,drawPositionMatchUps:n,matchUpStatuses:i=[An,Vn,On]}){const r=n.reduce(((e,t)=>!e||t.roundNumber>e.roundNumber?t:e),void 0),a=r.drawPositions.find((e=>e!==t)),o=e.filter((e=>e.drawPositions.includes(a))).map((e=>e.matchUpStatus)),s=e.filter((e=>e.drawPositions.includes(t))).map((e=>e.matchUpStatus));return{sourceMatchUp:r,winnerHadMatchUpStatus:!!an(o,i).length,winnerMatchUpStatuses:o,loserHadMatchUpStatus:!!an(s,i).length,loserMatchUpStatuses:s}}({sourceMatchUps:P,loserDrawPosition:w,drawPositionMatchUps:U}),t=m.linkCondition===Nr;if(e&&t){const e=Math.min(...v.drawPositions),{error:t}=Oc({drawDefinition:n,drawPosition:e,targetLink:m,matchUpsMap:f});if(t)return{errors:[t]}}const{error:i}=function({drawDefinition:e,loserTargetLink:t,loserParticipantId:n}){let i;const r=t.target.structureId,{structure:a}=lo({drawDefinition:e,structureId:r}),{positionAssignments:o}=ns({structure:a});return o.forEach((e=>{e.participantId===n&&delete e.participantId})),{error:i}}({loserMatchUp:v,drawDefinition:n,loserTargetLink:m,loserParticipantId:N,matchUpsMap:f});if(i)return{errors:[i]}}}return ho}function xc({winnerMatchUp:e,drawDefinition:t,winnerTargetLink:n,winnerParticipantId:i,winningDrawPosition:r,matchUpsMap:a}){const{structureId:o,roundNumber:s}=e;if(n){const e=n.target.structureId,{structure:r}=lo({drawDefinition:t,structureId:e}),{positionAssignments:a}=ns({structure:r}),o=a.find((e=>e.participantId===i)),s=null==o?void 0:o.drawPosition,{matchUps:c}=cs({drawDefinition:t,structure:r});1===Qt(c.map((e=>e.drawPositions)).flat(1/0).filter((e=>e)))[s]?a.forEach((e=>{e.participantId===i&&delete e.participantId})):console.log("not removing from position assignments since instances > 1")}return function({drawDefinition:e,structureId:t,roundNumber:n,targetDrawPosition:i,matchUpsMap:r}){var a;if(!r&&!e)return void console.log("ERROR: missing params");r||(r=so({drawDefinition:e}));const o=(null===(a=r)||void 0===a?void 0:a.mappedMatchUps)[t].matchUps,s=o.filter((({drawPositions:e})=>i&&e.includes(i))).map((({roundNumber:e})=>parseInt(e))).sort(Nn)[0],c=o.filter((e=>e.roundNumber>1&&e.roundNumber>=n&&e.roundNumber!==s&&e.drawPositions.includes(i))),{positionAssignments:u}=ts({drawDefinition:e,structureId:t});c.forEach((e=>{e.drawPositions=(e.drawPositions||[]).map((e=>e===i?void 0:e));const t=u.filter((({drawPosition:t})=>e.drawPositions.includes(t))).filter((e=>e.bye)).length;e.matchUpStatus=t?An:Bn,mn({topic:zs,payload:{matchUp:e}})}))}({drawDefinition:t,structureId:o,roundNumber:s,targetDrawPosition:r,matchUpsMap:a}),{error:undefined}}function Oc({targetLink:e,drawPosition:t,drawDefinition:n,inContextDrawMatchUps:i,matchUpsMap:r}){return Mc({drawDefinition:n,inContextDrawMatchUps:i,structureId:e.target.structureId,drawPosition:t,matchUpsMap:r}),{error:undefined}}function kc({drawDefinition:e,structureId:t,drawPosition:n,iterative:i,matchUpsMap:r}){if(!e)return{error:g};const{structure:a}=lo({drawDefinition:e,structureId:t});if(!a)return{error:L};r||(r=so({drawDefinition:e}));const{positionAssignments:o}=ts({structure:a}),{activeDrawPositions:s}=Dc({drawDefinition:e,structureId:t});if(o.find((e=>e.drawPosition===n)).bye)return ho;if(s.includes(n))return{error:N};const c=o.find((e=>e.drawPosition===n));if(!c)return{error:P};const{filled:u,containsBye:d}=function(e){const t=e.bye,n=e.qualifier,i=e.participantId;return{containsBye:t,containsQualifier:n,containsParticipant:i,filled:t||n||i}}(c);if(d)return ho;if(u&&!d)return console.log("assignDrawPositionBye ##"),{error:b};const{matchUps:l}=Ss({drawDefinition:e,inContext:!0,includeByeMatchUps:!0,matchUpsMap:r}),{matchUps:p}=cs({drawDefinition:e,matchUpFilters:{isCollectionMatchUp:!1},structure:a,matchUpsMap:r});if(o.forEach((e=>{e.drawPosition===n&&(e.bye=!0)})),a.structureType===hr)return function({matchUps:e,drawPosition:t}){e.forEach((e=>{e.drawPositions.includes(t)&&Fc({matchUp:e})}))}({matchUps:p,drawPosition:n}),ho;const{roundProfile:f,roundMatchUps:m}=to({matchUps:p}),h=Object.keys(f).map((e=>parseInt(e))).reverse(),v=m[h.find((e=>f[e].drawPositions.includes(n)))].find((({drawPositions:e})=>e.includes(n)));Fc({matchUp:v});const y=v.drawPositions.find((e=>e!==n));if(y){const t=Lc({sourceDrawPositions:v.drawPositions,matchUpId:v.matchUpId,inContextDrawMatchUps:l,drawPositionToAdvance:y,drawDefinition:e,matchUpsMap:r});if(t.error)return t}return ho}function Fc({matchUp:e}){Object.assign(e,{matchUpStatus:An,score:void 0,winningSide:void 0}),mn({topic:zs,payload:{matchUp:e}})}function Lc({sourceDrawPositions:e,drawPositionToAdvance:t,inContextDrawMatchUps:n,drawDefinition:i,matchUpId:r,iterative:a,matchUpsMap:o}){const s=o.drawMatchUps.find((e=>e.matchUpId===r)),c=n.find((e=>e.matchUpId===r)),u=null==c?void 0:c.structureId,{structure:d}=lo({drawDefinition:i,structureId:u}),{positionAssignments:l}=ts({structure:d}),p=l.filter((e=>e.bye)).map((e=>e.drawPosition)),f=s.drawPositions.find((e=>e!==t)),m=p.includes(f),{targetLinks:{loserTargetLink:h},targetMatchUps:{loserMatchUp:v,winnerMatchUp:g,loserTargetDrawPosition:y}}=gs({matchUpId:r,structure:d,drawDefinition:i,inContextDrawMatchUps:n});if(g&&g.structureId===d.structureId&&function({drawDefinition:e,winnerMatchUp:t,drawPositionToAdvance:n,sourceDrawPositions:i,inContextDrawMatchUps:r,matchUpsMap:a}){var o,s;const c=a.drawMatchUps.find((e=>e.matchUpId===t.matchUpId)),u=r.find((e=>e.matchUpId===t.matchUpId)),d=null==u?void 0:u.structureId,{structure:l}=lo({drawDefinition:e,structureId:d}),{positionAssignments:p}=ts({structure:l}),f=p.find((({drawPosition:e})=>e===n)).bye,m=c.drawPositions.filter((e=>e)),h=p.filter((e=>m.includes(e.drawPosition))),v=p.find((({drawPosition:e})=>e===n)),g=null==i?void 0:i.find((e=>e!==n)),y=g&&h.find((({drawPosition:e})=>e===g)),I=null==y?void 0:y.bye,w=f&&I;if(m.length>1&&f&&!I)return{error:b};const S=m.find((e=>e!==n));let N=w;const P=[].concat(...(c.drawPositions||[]).filter((e=>e)),void 0,void 0).slice(0,2).map((e=>e||N?e===n?(N=!0,n):e:(N=!0,n)));if(!N)return console.log("@@@@@@@",{advancingAssignmentIsBye:v,drawPositionToAdvance:n,existingAssignments:h}),{error:b};const U=null===(o=p.find((({drawPosition:e})=>e===S)))||void 0===o?void 0:o.bye,D=null===(s=p.find((({drawPosition:e})=>e===n)))||void 0===s?void 0:s.bye,T=D||U?An:Bn;if(Object.assign(c,{matchUpStatus:T,score:void 0,winningSide:void 0,drawPositions:P}),mn({topic:zs,payload:{matchUp:c}}),U||D){const i=U?n:S;if(i)Lc({drawPositionToAdvance:i,matchUpId:t.matchUpId,inContextDrawMatchUps:r,drawDefinition:e,iterative:"brightmagenta",matchUpsMap:a});else if(D){const{targetLinks:{loserTargetLink:n},targetMatchUps:{loserMatchUp:i,loserTargetDrawPosition:o}}=gs({matchUpId:t.matchUpId,structure:l,drawDefinition:e,inContextDrawMatchUps:r});if(n&&i)if(i.feedRound)Zc({drawDefinition:e,loserMatchUp:i,loserTargetLink:n,loserTargetDrawPosition:o,matchUpsMap:a});else{const r=1-t.roundPosition%2,a=i.drawPositions[r],s=kc({drawDefinition:e,structureId:n.target.structureId,drawPosition:a,loserTargetDrawPosition:o,iterative:"brightgreen"});if(s.error);}}}}({drawDefinition:i,winnerMatchUp:g,drawPositionToAdvance:t,sourceDrawPositions:e,inContextDrawMatchUps:n,matchUpsMap:o}),v&&m&&v.structureId!==d.structureId){const{roundNumber:e}=v;if(1===e){const e=kc({drawDefinition:i,structureId:h.target.structureId,drawPosition:y,iterative:"brightyellow"});if(e.error)return e}else Zc({drawDefinition:i,loserMatchUp:v,loserTargetLink:h,loserTargetDrawPosition:y,matchUpsMap:o})}return ho}function Zc({drawDefinition:e,loserMatchUp:t,loserTargetLink:n,loserTargetDrawPosition:i,matchUpsMap:r}){const{roundNumber:a}=t,o=((null==r?void 0:r.mappedMatchUps)||{})[t.structureId].matchUps,{initialRoundNumber:s}=Cc({drawPosition:i,matchUps:o});if(s===a){const t=kc({drawDefinition:e,structureId:n.target.structureId,drawPosition:i,iterative:"red"});if(t.error)return t}}function _c({drawDefinition:e,matchUpId:t,drawPosition:n,iterative:i,matchUpsMap:r,inContextDrawMatchUps:a}){var o,s,c;r||(r=so({drawDefinition:e})),a||({matchUps:a}=Ss({drawDefinition:e,inContext:!0,includeByeMatchUps:!0,matchUpsMap:r}));const u=a.find((e=>e.matchUpId===t)),d=null==u?void 0:u.structureId,l=null==e||null===(o=e.structures)||void 0===o?void 0:o.find((e=>e.structureId===d)),p=null===(s=r)||void 0===s||null===(c=s.drawMatchUps)||void 0===c?void 0:c.find((e=>e.matchUpId===t));let f=!1;const m=p.drawPositions||[];let h=m.includes(n);const v=h?m:[].concat(...m,void 0,void 0).slice(0,2).map((e=>e||h?e:(h=!0,f=!0,n))).sort(Nn),{positionAssignments:g}=ts({drawDefinition:e,structure:l}),y=g.filter((e=>v.includes(e.drawPosition))).find((({bye:e})=>e)),I=y?An:Bn;p.drawPositions=v,Object.assign(p,{drawPositions:v,matchUpStatus:I}),f&&mn({topic:zs,payload:{matchUp:p}});const w=gs({matchUpId:t,structure:l,drawDefinition:e,inContextDrawMatchUps:a,inContextMatchUp:u}),{targetMatchUps:{winnerMatchUp:S,loserMatchUp:N,loserTargetDrawPosition:P},targetLinks:{loserTargetLink:U}}=w;if(h&&y){if(S)if([An,kn].includes(I)){const t=_c({drawDefinition:e,drawPosition:n,matchUpId:S.matchUpId,iterative:"brightmagenta",inContextDrawMatchUps:a});if(t.error)return t}else{const{structureId:e}=S;e!==l.structureId&&console.log("winnerMatchUp in different structure... participant is in different targetDrawPosition")}}else{const t=p.roundNumber>1&&p.roundNumber-1;if(t&&S){const i=co({structureId:l.structureId,matchUpsMap:r}),o=i.find((({drawPositions:e,roundNumber:i})=>i===t&&e.includes(n))),s=null==o?void 0:o.roundPosition,c=s+(s%2?1:-1),u=i.find((({roundPosition:e,roundNumber:n})=>e===c&&n===t));if((null==u?void 0:u.matchUpStatus)===kn){const t=_c({drawDefinition:e,drawPosition:n,matchUpId:S.matchUpId,iterative:"brightred",inContextDrawMatchUps:a});if(t.error)return t}}}if((null==U?void 0:U.linkCondition)===Nr&&2===v.filter((e=>e)).length&&!y){if(co({structureId:l.structureId,matchUpsMap:r}).filter((({drawPositions:e,roundNumber:t})=>1===t&&an(e,v).length)).every((({matchUpStatus:e})=>[Rn,_n].includes(e)))&&N){const{structureId:t}=N,n=kc({drawDefinition:e,structureId:t,drawPosition:P,matchUpsMap:r});if(n.error)return n}}return h?ho:{error:b,drawPosition:n}}function jc({drawDefinition:e,structure:t,targetData:n,matchUpsMap:i}){i||(i=so({drawDefinition:e}));const{matchUp:r,targetMatchUps:a,targetLinks:o}=n;if(t.structureType===hr)return ho;const{loserMatchUp:s,winnerMatchUp:c,loserTargetDrawPosition:u}=a,{matchUps:d}=Ss({drawDefinition:e,inContext:!0,includeByeMatchUps:!0,matchUpsMap:i});if(s){const{loserTargetLink:t}=o,n=Bc({drawDefinition:e,loserMatchUp:s,loserTargetLink:t,loserTargetDrawPosition:u,matchUpsMap:i});if(n.error)return n}if(c){const n=function({drawDefinition:e,structure:t,matchUpId:n,sourceMatchUp:i,winnerMatchUp:r,inContextDrawMatchUps:a,matchUpsMap:o}){const s=o.drawMatchUps.find((e=>e.matchUpId===r.matchUpId));if(!s)return{error:ae};const c=(null==i?void 0:i.drawPositions)||[];let u=s.drawPositions.filter((e=>e));an(c,u).length&&(u=u.filter((e=>!c.includes(e))));if(u.length>1)return{error:b};const d=u[0],l=gs({matchUpId:r.matchUpId,structure:t,drawDefinition:e,inContextDrawMatchUps:a}),{targetMatchUps:p,targetLinks:f}=l,{winnerMatchUp:m,loserMatchUp:h,loserTargetDrawPosition:v}=p;if(m&&d){const t=_c({drawDefinition:e,matchUpId:m.matchUpId,drawPosition:d});t.error&&console.log(t.error)}else{const a=r.roundNumber>1&&r.roundNumber-1;if(a&&r){const s=null==i?void 0:i.roundPosition,c=s+(s%2?1:-1),u=co({structureId:t.structureId,matchUpsMap:o}).find((({roundNumber:e,roundPosition:t})=>e===a&&t===c));if((null==u?void 0:u.matchUpStatus)===kn){const i=o.drawMatchUps.find((e=>e.matchUpId===r.matchUpId));if(!i)return{error:ae};wc({matchUpId:i.matchUpId,matchUp:i,drawDefinition:e,matchUpStatus:kn,matchUpStatusCodes:[],removeScore:!0}),jc({drawDefinition:e,structure:t,targetData:l,matchUpId:n,matchUpsMap:o})}}}if(h){const{loserTargetLink:t}=f,n=Bc({drawDefinition:e,loserMatchUp:h,loserTargetLink:t,loserTargetDrawPosition:v,matchUpsMap:o});if(n.error)return n}return ho}({drawDefinition:e,structure:t,matchUpId:c.matchUpId,sourceMatchUp:r,winnerMatchUp:c,inContextDrawMatchUps:d,matchUpsMap:i});if(n.error)return n}return ho}function Bc(e){var t;const{drawDefinition:n,loserTargetLink:i,loserTargetDrawPosition:r,matchUpsMap:a}=e,o=null==i||null===(t=i.target)||void 0===t?void 0:t.structureId,{structure:s}=lo({drawDefinition:n,structureId:o});return s?kc({drawDefinition:n,structureId:o,drawPosition:r,matchUpsMap:a}):{error:_}}function Vc(e){const{notes:t,matchUp:n,matchUpId:i,structure:r,targetData:a,matchUpStatus:o,matchUpFormat:s,drawDefinition:c,matchUpStatusCodes:u,tournamentRecord:d,event:l,matchUpsMap:p}=e;if(n.winningSide){if(o===An)return{error:X,matchUpStatus:o};if(Nc({matchUpStatus:o})){if(o===kn){const{errors:t}=Rc(e);if(t)return{error:t};const n=Sc({drawDefinition:c,matchUpsMap:p,targetData:a});if(n.error)return n}wc({notes:t,matchUp:n,matchUpId:i,matchUpStatus:o,matchUpFormat:s,drawDefinition:c,matchUpStatusCodes:u,tournamentRecord:d,event:l})}else{if(!Pc({matchUpStatus:o}))return{error:J};{const{errors:r}=Rc(e);if(r)return{error:r};wc({notes:t,matchUp:n,matchUpId:i,matchUpFormat:s,drawDefinition:c,matchUpStatus:o||Bn,matchUpStatusCodes:u,tournamentRecord:d,event:l})}}}else if(Pc({matchUpStatus:o})){wc({notes:t,matchUp:n,matchUpId:i,removeScore:[Mn,Vn].includes(o),matchUpFormat:s,drawDefinition:c,matchUpStatusCodes:u,matchUpStatus:o||Bn,tournamentRecord:d,event:l})}else if(o===An){const e=function({matchUp:e,structure:t}){var n;if(!t)return{error:_};if(!e)return{error:ae};if(null!=e&&e.winningSide)return{error:X,matchUpStatus:An};const{positionAssignments:i}=ns({structure:t}),r=i.filter((e=>e.bye)).map((e=>e.drawPosition));return(null===(n=e.drawPositions)||void 0===n?void 0:n.some((e=>r.includes(e))))?(e.matchUpStatus=An,e.matchUpStatusCodes=[],mn({topic:zs,payload:{matchUp:e}}),ho):{error:"Cannot Assign BYE status if no assignment: { bye: true }"}}({matchUp:n,structure:r});if(e.error)return e}else{if(!Nc({matchUpStatus:o}))return{error:J};if(o!==kn)return{error:X,matchUpStatus:o};wc({notes:t,matchUp:n,matchUpId:i,matchUpStatus:o,matchUpFormat:s,drawDefinition:c,removeScore:!0,matchUpStatusCodes:u,tournamentRecord:d,event:l}),jc(e)}return ho}function Gc({drawDefinition:e,structureId:t}){if(!e)return{error:g};const{structure:n}=lo({drawDefinition:e,structureId:t}),i=((null==e?void 0:e.links)||[]).filter((e=>{var n;return(null===(n=e.source)||void 0===n?void 0:n.structureId)===t})).map((e=>{var t;return null===(t=e.target)||void 0===t?void 0:t.structureId}));return{playoffStructures:((null==e?void 0:e.structures)||[]).filter((e=>i.includes(e.structureId)&&e.stage===ur)),structure:n}}function Hc(e){if(null==e||!e.drawDefinition)return{error:g};const t=fs(e),{completedMatchUps:n,pendingMatchUps:i,upcomingMatchUps:r}=t||{};return!!((null==n?void 0:n.length)&&!(null!=i&&i.length)&&!r.length)}function Wc(e){var t,n;const{drawDefinition:i,structureId:r}=e;if(!i)return{error:g};const{playoffStructures:a}=Gc({drawDefinition:i,structureId:r});if(null==a||!a.length)return!1;const o=(null==i||null===(t=i.entries)||void 0===t||null===(n=t.filter((e=>jo.includes(null==e?void 0:e.entryStatus))))||void 0===n?void 0:n.length)||0;let s=0;return(a||[]).reduce(((e,t)=>{var n;return!(null!=t&&null!==(n=t.positionAssignments)&&void 0!==n&&n.filter((e=>(e.participantId&&s++,!(null!=e&&e.bye||null!=e&&e.participantId)))).length)&&e}),!0)||s===o}function zc({drawDefinition:e,structure:t,matchUp:n}){if(t.finishingPosition===Kr){if(Hc({drawDefinition:e,structure:t})){const{structureIds:i}=function({drawDefinition:e,structure:t,matchUp:n}){const{drawPositions:i}=n,{positionAssignments:r}=ts({drawDefinition:e,structure:t}),a=r.filter((({drawPosition:e})=>i.includes(e))).map((e=>{var t;const{extension:n}=Po({element:e,name:"tally"});return null==n||null===(t=n.value)||void 0===t?void 0:t.groupOrder})),{links:{source:o}}=hs({drawDefinition:e,structureId:t.structureId});return{structureIds:null==o?void 0:o.filter((e=>{var t;return an(a,(null===(t=e.source)||void 0===t?void 0:t.finishingPositions)||[]).length})).map((e=>e.source.structureId))}}({drawDefinition:e,structure:t,matchUp:n});return null!=i&&i.length&&ln()&&console.log("affects:",{structureIds:i}),i}}}function Kc({drawPositions:e,structure:t}){if([or,ar].includes(t.stage)&&1===t.stageSequence)return;const{positionAssignments:n}=ts({structure:t});n.filter((({drawPosition:t})=>e.includes(t))).forEach((e=>{vo({element:e,extension:{name:Ga,value:!0}})}))}function qc({drawDefinition:e,positionAction:t}){const{extension:n}=Po({element:e,name:"positionActions"});vo({element:e,extension:{name:"positionActions",value:Array.isArray(null==n?void 0:n.value)?n.value.concat(t):[t]}})}function Yc({participantsCount:e,cluster:t}){const n=s(e),i=nn(1,n+1);let r=[],a=n/2;for(;a>1;){const e=on(i,a),n=e.length;e.forEach(((e,i)=>{let a;const o=i<n/2,s=i%2==0,c=e[0],u=e[e.length-1];a=t&&n>4?8===n?o?u:c:s?c:u:o?c:u,an(e,r).length||r.push(a)})),a/=2}const o=i.filter((e=>!r.includes(e)));for(;o.length;)o.length%2==0?r.push(o.pop()):r.push(o.shift());const c=nn(0,20).map((e=>Math.pow(2,e)));c.unshift(1);const u=c.indexOf(n);let d=0;const l=[];return nn(0,u).forEach((e=>{l.push(r.slice(d,d+c[e])),d+=c[e]})),{seedBlocks:l}}function $c({structure:e,drawDefinition:t,appliedPolicies:n,allPositions:i}){var a;let o,s,c,u=0,d=[];if(!e)return[{error:_}];const{roundMatchUps:l}=cs({structure:e,roundFilter:1}),{seedAssignments:p}=Qo({drawDefinition:t,structure:e}),{positionAssignments:f}=ns({structure:e}),m=f.length,h=(null==p?void 0:p.length)||0;let v=[];const g=Object.keys(l).sort(((e,t)=>e-t)).map((e=>{const t=l[e].map((e=>e.drawPositions)).flat(1/0).filter((e=>e)),n=t.filter((e=>!v.includes(e)));return v=v.concat(...t),n})).filter((e=>e.length)).reverse(),y=g.pop(),I=y&&Math.min(...y)-1||0,b=null==n||null===(a=n.seeding)||void 0===a?void 0:a.seedingProfile,w=(null==y?void 0:y.length)||0,S=g.filter((e=>e.filter((e=>e<=h)).length)),N=i?m:h;if(e.structureType===hr)c=!0,({validSeedBlocks:d}=function({seedingProfile:e,structure:t,seedBlocks:n}){const i=[],a=(t.structures||[]).map((t=>{const{positionAssignments:a}=ns({structure:t}),o=Math.min(...a.map((e=>e.drawPosition)))-1,s=a.length;let c,u;return r(s)?({blocks:c,error:u}=Jc({seedBlocks:n,baseDrawSize:s,seedingProfile:e,drawPositionOffset:o,seedCountGoal:s})):({blocks:c,error:u}=function({baseDrawSize:e,seedCountGoal:t,drawPositionOffset:n=0}){let i=1;const r=[],a=nn(n+1,n+e+1);return[[1],[2],[3,4],[5,6,7,8],nn(9,17),nn(17,33),nn(33,65)].forEach((e=>{const n=e.map((()=>a.reverse().pop())).filter((e=>e)),o={seedNumbers:e=e.slice(0,n.length),drawPositions:n};i<=t&&r.push(o),i+=n.length})),{blocks:r}}({baseDrawSize:s,drawPositionOffset:o,seedCountGoal:s})),u&&i.push({seedBlockError:u}),c})),o=a.map((e=>e.map((e=>e.seedNumbers.map(((t,n)=>({seedNumber:t,drawPosition:e.drawPositions[n]}))))))).flat(1/0).sort(((e,t)=>e.seedNumber-t.seedNumber)).reduce(((e,t)=>{const n=t.seedNumber;return e[n]||(e[n]=[]),e[n].push(t.drawPosition),e}),{});let s=1,c=[];o[1]&&o[1].forEach(((e,t)=>{c.push({seedNumbers:[t+1],drawPositions:[e]}),s++}));[[2],[3,4],[5,6,7,8],nn(9,17)].forEach((e=>{const t=[].concat(...e.map((e=>o[e]||[]))),n=t.map(((e,t)=>s+t)),i={seedNumbers:n,drawPositions:t};c.push(i),s+=n.length}));const u=(e,t)=>e-t,d=(e,t)=>t-e,l=Object.keys(o).map(((e,t)=>o[e].sort(t%2?d:u))).flat().map(((e,t)=>({seedNumbers:[t+1],drawPositions:[e]})));t.seedingProfile===fr&&(c=l);return{validSeedBlocks:c,errors:i}}({seedingProfile:b,structure:e}));else if(g.length){s=!0,d=S.map((e=>({seedNumbers:e,drawPositions:e})));const e=S.flat(1/0);o=e.length<N?N-e.length:0,u=e.length}else o=N;if(!c){const{blocks:e,error:t}=Jc({baseDrawSize:w,seedingProfile:b,seedCountGoal:o,seedNumberOffset:u,drawPositionOffset:I});if(t)return{error:t,validSeedBlocks:[],isContainer:c,isFeedIn:s};e.forEach((e=>d.push(e)))}const P=[].concat(...d.map((e=>e.drawPositions))).reduce(((e,t)=>(null==y?void 0:y.includes(t))&&e),!0);return s||c||P?{validSeedBlocks:d,isFeedIn:s,isContainer:c}:{error:O,validSeedBlocks:[],isContainer:c,isFeedIn:s}}function Jc({baseDrawSize:e,seedCountGoal:t,seedingProfile:n,drawPositionOffset:i=0,seedNumberOffset:r=0}){let a=1;const o=[],{seedBlocks:s}=Yc({participantsCount:e,cluster:n===pr});a=0;for(const u of s){if(a+1>t)break;const e=u.map((e=>e+i)),n=c(a+1,u.length).map((e=>+e+r));a+=u.length,o.push({drawPositions:e,seedNumbers:n})}return{blocks:o};function c(e,t){return Array.from(new Array(t),((t,n)=>n+e))}}function Qc({seedNumber:e,drawDefinition:t,structureId:n,drawPosition:i}){var r,a,o,s;const{structure:c}=lo({drawDefinition:t,structureId:n}),{appliedPolicies:u}=eo({drawDefinition:t}),{validSeedBlocks:d}=$c({structure:c,drawDefinition:t,appliedPolicies:u});if(null!=u&&null!==(r=u.seeding)&&void 0!==r&&null!==(a=r.validSeedPositions)&&void 0!==a&&a.ignore)return!0;if(null!=u&&null!==(o=u.seeding)&&void 0!==o&&null!==(s=o.validSeedPositions)&&void 0!==s&&s.strict){const t=d.find((t=>t.seedNumbers.includes(e)));return((null==t?void 0:t.drawPositions)||[]).includes(i)}return[].concat(...d.map((e=>e.drawPositions))).includes(i)}function Xc({drawDefinition:e,structureId:t,randomize:n}){var i;const{structure:r}=lo({drawDefinition:e,structureId:t}),{seedAssignments:a}=Qo({drawDefinition:e,structure:r}),{positionAssignments:o}=ns({structure:r}),s=o.filter((e=>e.participantId||e.bye||e.qualifier)).map((e=>e.drawPosition)).filter((e=>e)),{appliedPolicies:c}=eo({drawDefinition:e}),{validSeedBlocks:u}=$c({structure:r,drawDefinition:e,appliedPolicies:c}),d=(u||[]).filter((e=>e.drawPositions.filter((e=>!s.includes(e))).length))[0],l=a.map((e=>e.participantId)).filter((e=>e)),p=o.map((e=>e.participantId)).filter((e=>e)),f=l.filter((e=>p.includes(e))),m=l.filter((e=>!p.includes(e))),h=a.filter((e=>m.includes(e.participantId))),v=a.filter((e=>!e.participantId)),g=(h.length||v.length)&&(null==d?void 0:d.drawPositions.filter((e=>!s.includes(e))))||[],y=n?Jt(g):g,I=[],b=y.map((()=>{const e=function(e,t){const n=e.filter((e=>!t.includes(e.participantId))),i=Math.min(...n.map((e=>e.seedValue))),r=n.filter((e=>e.seedValue===i));return Jt(r).pop()}(h,I),t=e&&e.participantId;return t&&I.push(t),t})).filter((e=>e)),w=a.filter((e=>f.includes(e.participantId))).map((e=>e.seedNumber)),S=(d&&d.seedNumbers||[]).filter((e=>!w.includes(e))),N=a.filter((e=>S.includes(e.seedNumber))).map((e=>e.participantId)),P=null==c||null===(i=c.seeding)||void 0===i?void 0:i.duplicateSeedNumbers;return{nextSeedBlock:d,unplacedSeedParticipantIds:void 0===P||P?b:N,unplacedSeedNumbers:S,unfilledPositions:y,unplacedSeedAssignments:h}}function eu({drawDefinition:e,structureId:t,drawPosition:n,participantId:i,automaticPlacement:r,matchUpsMap:a,inContextDrawMatchUps:o}){const{structure:s}=lo({drawDefinition:e,structureId:t}),{positionAssignments:c}=ns({structure:s}),{seedAssignments:u}=Qo({drawDefinition:e,structure:s}),d=u.find((e=>e.participantId===i)),l=null==d?void 0:d.seedNumber;if(l){if(!Qc({structureId:t,drawPosition:n,drawDefinition:e,seedNumber:l}))return{error:I}}const p=c.find((e=>e.drawPosition===n));if(!p)return{error:P};if(c.map((e=>e.participantId)).includes(i))return{error:He};const{containsParticipant:f,containsBye:m}=function(e){const t=e.bye,n=e.qualifier,i=e.participantId;return{containsBye:t,containsQualifier:n,containsParticipant:i,filled:t||n||i}}(p);if(f&&p.participantId!==i){const{activeDrawPositions:i}=Dc({drawDefinition:e,structureId:t});if(i.includes(n))return{error:N}}if(m){let i=Mc({drawDefinition:e,drawPosition:n,structureId:t});if(i.error)return i}if(p.participantId=i,s.structureType!==hr?function({drawDefinition:e,structure:t,drawPosition:n,automaticPlacement:i,matchUpsMap:r,inContextDrawMatchUps:a}){const o={isCollectionMatchUp:!1},{matchUps:s}=cs({drawDefinition:e,matchUpFilters:o,structure:t,matchUpsMap:r}),{roundMatchUps:c}=to({matchUps:s}),{initialRoundNumber:u}=Cc({drawPosition:n,matchUps:s}),d=c[u].find((e=>e.drawPositions.includes(n)));if(d){const t=_c({drawDefinition:e,drawPosition:n,automaticPlacement:i,matchUpId:d.matchUpId,matchUpsMap:r,inContextDrawMatchUps:a});if(t.error);}}({drawDefinition:e,structure:s,drawPosition:n,positionAssignments:c,automaticPlacement:r,matchUpsMap:a,inContextDrawMatchUps:o}):Tc({positionAssignments:c,drawDefinition:e,structure:s}),!r){Kc({structure:s,drawPositions:[n]});qc({drawDefinition:e,positionAction:{name:"positionAssignment",drawPosition:n,structureId:t,participantId:i}})}return Object.assign({positionAssignments:c},ho)}function tu(e){const{loserMatchUp:t,drawDefinition:n,loserTargetLink:i,loserDrawPosition:r,loserMatchUpDrawPositionIndex:a}=e,o=i.linkCondition,s=t.drawPositions||[],c=o===Nr&&2===t.roundNumber&&Math.min(...s.filter((e=>e))),u=c||s[a],d=c||s[1-a],l=i.source.structureId,{structure:p}=lo({drawDefinition:n,structureId:l}),{matchUps:f}=cs({inContext:!0,drawDefinition:n,structure:p}),m=f.filter((e=>e.drawPositions.includes(r))).filter((e=>{var t;const n=e.sides.find((e=>e.drawPosition===r)),i=e.matchUpStatus===Vn||e.matchUpStatus===On&&!(null===(t=e.score)||void 0===t||!t.scoreStringSide1);return(null==n?void 0:n.sideNumber)===e.winningSide&&!i})),h=o===Nr&&0===m.length,{positionAssignments:v}=ns({drawDefinition:n,structureId:l}),g=v.find((e=>e.drawPosition===r)),y=null==g?void 0:g.participantId,I=i.target.structureId,{positionAssignments:b}=ns({drawDefinition:n,structureId:I}),w=b.filter((({drawPosition:e})=>s.includes(e)));if(w.some((e=>e.participantId===y)))return ho;const S=w.filter((e=>{const t=s.includes(e.drawPosition),n=!e.participantId&&!e.bye&&!e.qualifier;return t&&n})).map((e=>e.drawPosition)),N=S.includes(u),U=i.target.roundNumber>1&&S.length,D=1===i.target.roundNumber&&N;if(c)return h?T():kc({drawDefinition:n,structureId:I,drawPosition:d});if(D)return T();if(U){const e=S.sort(Nn)[0];return eu({drawDefinition:n,structureId:I,participantId:y,drawPosition:e,automaticPlacement:!0})}return{error:P};function T(){return eu({drawDefinition:n,participantId:y,structureId:I,drawPosition:u,automaticPlacement:!0})}}function nu(e){const{tournamentRecord:t,event:n,drawDefinition:i,matchUpStatus:r,matchUpStatusCodes:a,structure:o,matchUp:s,matchUpId:c,matchUpFormat:u,winningSide:d,targetData:l,score:p}=e,f=[],m=Boolean(s.collectionId);if(!(m||function({structure:e,matchUp:t}){const{drawPositions:n}=t,{positionAssignments:i}=ns({structure:e});return 2===i.filter((e=>n.includes(e.drawPosition)&&e.participantId)).length}({structure:o,matchUp:s})))return f.push({error:"drawPositions are not all assigned participantIds"}),{errors:f};const h=Nc({matchUpStatus:r}),v=[Vn].includes(r);if(wc({drawDefinition:i,matchUpFormat:u,matchUpStatus:h&&r||Rn,matchUpStatusCodes:h&&a||[],tournamentRecord:t,winningSide:d,removeScore:v,matchUpId:c,matchUp:s,score:p,event:n}),m){const{matchUpTieId:t}=e;return function({drawDefinition:e,matchUpId:t}){if(!e)return{error:g};if(!t)return{error:ae};const{matchUp:n,error:i}=us({drawDefinition:e,matchUpId:t});if(i)return{error:i};if(!n)return{error:ie};const{winningSide:r,set:a,scoreStringSide1:o,scoreStringSide2:s}=vc({matchUp:n});wc({drawDefinition:e,matchUp:n,score:{sets:[a],winningSide:r,scoreStringSide1:o,scoreStringSide2:s}})}({drawDefinition:i,matchUpId:t}),ho}if(s.drawPositions){const e=d-1,t=1-e,n=s.drawPositions[e],a=s.drawPositions[t],{targetLinks:{loserTargetLink:o,winnerTargetLink:c},targetMatchUps:{loserMatchUp:u,winnerMatchUp:p,loserMatchUpDrawPositionIndex:m,winnerMatchUpDrawPositionIndex:h}}=l;if(p){const{error:e}=function({drawDefinition:e,winnerTargetLink:t,winningDrawPosition:n,winnerMatchUp:i,winnerMatchUpDrawPositionIndex:r}){let a;if(t){const o=i.drawPositions||[],s=o[r],c=t.source.structureId,{positionAssignments:u}=ns({drawDefinition:e,structureId:c}),d=u.find((e=>e.drawPosition===n)),l=null==d?void 0:d.participantId,p=t.target.structureId,{positionAssignments:f}=ns({drawDefinition:e,structureId:p}),m=f.find((e=>e.participantId===l)),h=null==m?void 0:m.drawPosition,v=f.filter((e=>{const t=o.includes(e.drawPosition),n=!e.participantId&&!e.bye&&!e.qualifier;return t&&n})).map((e=>e.drawPosition)),g=v.includes(s);if(1===t.target.roundNumber&&g)eu({drawDefinition:e,structureId:p,participantId:l,drawPosition:s});else if(v.length){const t=v.pop();eu({drawDefinition:e,structureId:p,participantId:l,drawPosition:t})}else h?({error:a}=_c({drawDefinition:e,matchUpId:i.matchUpId,drawPosition:h})):(a="winner target position unavaiallble",console.log(a))}else({error:a}=_c({drawDefinition:e,matchUpId:i.matchUpId,drawPosition:n}));return{error:a}}({drawDefinition:i,winnerTargetLink:c,winningDrawPosition:n,winnerMatchUp:p,winnerMatchUpDrawPositionIndex:h});e&&f.push(e)}if(u){const{error:e}=tu({drawDefinition:i,loserTargetLink:o,loserDrawPosition:a,loserMatchUp:u,loserMatchUpDrawPositionIndex:m,matchUpStatus:r});e&&f.push(e)}}else f.push({error:"machUp is missing drawPositions "});return f.length?{errors:f}:ho}function iu({drawDefinition:e,inContextDrawMatchUps:t,targetData:n,structure:i,matchUp:r,matchUpsMap:a}){const{targetLinks:{loserTargetLink:o},targetMatchUps:{loserMatchUp:s,winnerMatchUp:c,loserTargetDrawPosition:u}}=n;return s&&Oc({targetLink:o,drawPosition:u,drawDefinition:e,inContextDrawMatchUps:t,matchUpsMap:a}),c&&function({drawDefinition:e,structure:t,sourceMatchUp:n,winnerMatchUp:i,inContextDrawMatchUps:r,matchUpsMap:a}){const o=gs({matchUpId:i.matchUpId,structure:t,drawDefinition:e,inContextDrawMatchUps:r}),{targetMatchUps:s,targetLinks:{loserTargetLink:c}}=o,{winnerMatchUp:u,loserMatchUp:d,loserTargetDrawPosition:l}=s;if(u){const{pairedPreviousMatchUp:i}=function({matchUp:e,structureId:t,matchUpsMap:n}){const i=null==e?void 0:e.roundPosition,r=i+(i%2?1:-1);return{pairedPreviousMatchUp:co({matchUpsMap:n,structureId:t}).find((({roundNumber:t,roundPosition:n})=>t===e.roundNumber&&n===r))}}({matchUp:n,structureId:t.structureId,matchUpsMap:a});if(Kn.includes(null==i?void 0:i.matchUpStatus)||(null==i?void 0:i.winningSide)){const i=(null==n?void 0:n.drawPositions)||[];let o=u.drawPositions.filter((e=>e));if(an(i,o).length&&(o=o.filter((e=>!i.includes(e)))),o.length>1)return{error:b};const s=o[0];if(s){const n=gs({matchUpId:u.matchUpId,structure:t,drawDefinition:e,inContextDrawMatchUps:r}),{targetMatchUps:{winnerMatchUp:i}}=n,o=xc({winnerMatchUp:(null==i?void 0:i.drawPositions.includes(s))&&i||u,drawDefinition:e,winningDrawPosition:s,matchUpsMap:a});if(o.error)return o}}}d&&Oc({targetLink:c,drawPosition:l,drawDefinition:e,inContextDrawMatchUps:r,matchUpsMap:a})}({drawDefinition:e,structure:i,sourceMatchUp:r,winnerMatchUp:c,inContextDrawMatchUps:t,matchUpsMap:a}),ho}function ru({score:e}){if(!e)return!1;const{sets:t,scoreStringSide1:n,scoreStringSide2:i}=e||{};if(n||i)return!0;if(null!=t&&t.length){Object.values(t[0]);const{side1TiebreakScore:e,side2TiebreakScore:n,side1Score:i,side2Score:r}=t[0];if(e||n||i||r)return!0}return!1}function au(e){const{matchUp:t,matchUpId:n,matchUpFormat:i,score:r,winningSide:a,tournamentRecord:o,event:s}=e;let{matchUpStatus:c}=e;if((null==t?void 0:t.matchUpStatus)===kn&&c!==kn){const t=iu(e);if(t.error)return t}const u=c===kn,d=({removeScore:n}={})=>{const{structure:i,drawDefinition:r}=e;zc({drawDefinition:r,structure:i,matchUp:t}),Object.assign(e,{removeScore:n});const{errors:a}=Rc(e);return{errors:a}};if(a){const{errors:t}=function(e){const{drawDefinition:t,winningSide:n,structure:i,matchUp:r}=e;let a=[];if([An].includes(r.matchUpStatus))return{errors:[{error:"Cannot set winningSide for BYE matchUpStatus"}]};if(r.winningSide&&r.winningSide!==n){zc({drawDefinition:t,structure:i,matchUp:r});const{errors:n}=Rc(e);if(n)return a=a.concat(n),{errors:a}}const{errors:o}=nu(e);return o&&(a=a.concat(o)),{errors:a}}(e);if(null!=t&&t.length)return{errors:t}}else if(a||!ru({score:r})||u)if(c&&c!==Bn){const{error:t}=Vc(e);if(t)return{errors:[t]}}else if(a||!t.winningSide||ru({score:r}))if(t){if(t.matchUpStatus===kn){const t=Sc(e);if(t.error)return t}wc({drawDefinition:e.drawDefinition,removeScore:!0,matchUpFormat:i,matchUpId:n,matchUp:t,tournamentRecord:o,event:s})}else console.log("unknown condition");else{const{errors:e}=d();if(e)return e}else{c||(c=Ln);const e=![Ln,Cn].includes(c),{errors:t}=d({removeScore:e});if(t)return t}return ho}function ou(e){var t,n,i,r;let a=[];const{drawDefinition:o,matchUpId:s,matchUpStatus:c,tournamentRecord:u,winningSide:d}=e;if(!o)return{error:g};if([Mn,Ln,Cn,Bn].includes(c)&&d)return{error:It,winningSide:d,matchUpStatus:c};if(![void 0,...Hn].includes(c))return{error:X};const l=so({drawDefinition:o}),p=l.drawMatchUps.find((e=>e.matchUpId===s));if(p.matchUpType===ma)return{error:"DIRECT SCORING of TEAM matchUp not implemented"};if(!p)return{error:ie};const{schedule:f}=e;if(f){const e=ac({tournamentRecord:u,disableNotice:!0,drawDefinition:o,matchUpId:s,schedule:f});if(e.error)return e}const{matchUps:m}=Ss({drawDefinition:o,inContext:!0,includeByeMatchUps:!0,matchUpsMap:l}),h=m.find((e=>e.matchUpId===s)),v=null==h||null===(t=h.drawPositions)||void 0===t?void 0:t.filter((e=>e));if(c&&Gn.includes(c)&&(!v||(null==v?void 0:v.length)<2))return{error:X};const y=h.matchUpTieId,I=h.structureId,{structure:b}=lo({drawDefinition:o,structureId:I}),w=gs({matchUpId:y||s,structure:b,drawDefinition:o,inContextDrawMatchUps:m});if(y){const{matchUp:e}=us({drawDefinition:o,matchUpId:y,matchUpsMap:l}),t=p.winningSide;let n=[0,0];1===d&&2===t?n=[-1,1]:2===d&&1===t?n=[1,-1]:d&&!t&&(n=1===d?[1,0]:[0,1]);const i=e.winningSide,r=e.tieFormat||o.tieFormat,{winningSide:a}=vc({matchUp:e,tieFormat:r,sideAdjustments:n});a!==i&&console.log("teamMatchUp",{projectedWinningSide:a})}Object.assign(e,{matchUp:p,inContextDrawMatchUps:m,matchUpTieId:y,structure:b,targetData:w,matchUpsMap:l});const{targetMatchUps:{loserMatchUp:S,winnerMatchUp:N}}=w,P=(null==h||null===(n=h.sides)||void 0===n?void 0:n.map((({participantId:e})=>e)))||[],U=null==S?void 0:S.winningSide,D=(null==S||null===(i=S.sides)||void 0===i?void 0:i.map((({participantId:e})=>e)))||[],T=!!an(P,D).length,C=null==N?void 0:N.winningSide,E=(null==N||null===(r=N.sides)||void 0===r?void 0:r.map((({participantId:e})=>e)))||[],A=!!an(P,E).length;if(U&&T||C&&A)if(d){const{errors:t}=function(e){const{matchUp:t,matchUpStatus:n,winningSide:i,notes:r,matchUpId:a,tournamentRecord:o,event:s}=e;if(i!==t.winningSide)return{errors:[{error:"Cannot change winner with advanced participants"}]};if(n){if(!Nc({matchUpStatus:n})||n===An)return{errors:[{error:"Cannot change matchUpStatus to nonDirecting outcome with winningSide"}]};su(e)}else{const{drawDefinition:n,score:i,matchUpFormat:c,matchUpTieId:u}=e;wc({tournamentRecord:o,drawDefinition:n,matchUpFormat:c,matchUpId:a,matchUp:t,score:i,notes:r,event:s,matchUpTieId:u})}return ho}(e);if(t)return{error:{errors:t}}}else{if(!c)return ln()&&console.log("no valid actions",{props:e,loserMatchUpParticipantIds:D,winnerMatchUpParticipantIds:E}),{error:bt};{const{errors:t,message:n}=function(e){const{matchUp:t,matchUpStatus:n}=e;if(!Object.values($n).includes(n))return{errors:[{error:X,matchUpStatus:n}]};if(Nc({matchUpStatus:n})){if(!t.winningSide||n===An)return{errors:[{error:"matchUp with winningSide cannot have matchUpStatus: BYE"}]};su(e)}else if(Pc({matchUpStatus:n}))return{errors:[{error:"matchUp has winner; cannot apply non-directing matchUpStatus"}]};return ho}(e);if(n&&a.push(n),t)return{error:{errors:t}}}}else{const{errors:t,message:n}=au(e);if(n&&a.push(n),t)return{error:t[0]}}return ln()?Object.assign({},ho,{matchUp:Sn(p),messages:a}):ho}function su(e){const{tournamentRecord:t,drawDefinition:n,matchUpStatusCodes:i,matchUpStatus:r,matchUpFormat:a,matchUpId:o,matchUp:s,event:c,score:u,notes:d}=e;wc({tournamentRecord:t,drawDefinition:n,matchUpStatus:r||Rn,matchUpStatusCodes:i,matchUpFormat:a,matchUpId:o,matchUp:s,event:c,score:u,notes:d,matchUpTieId:e.matchUpTieId})}function cu(e){var t;const{drawDefinition:n,matchUpId:i,matchUpFormat:r,schedule:a,tournamentRecord:o,event:s,notes:c}=e;if(!n)return{error:C};if(!i)return{error:te};let{outcome:u}=e;if(r){const e=hc({drawDefinition:n,matchUpFormat:r,matchUpId:i});if(e.error)return e}if(null!=u&&null!==(t=u.score)&&void 0!==t&&t.sets&&!u.score.scoreStringSide1){const{score:e}=function({score:e,winningSide:t,matchUpStatus:n}={}){if(!e)return{sets:[]};const i=e.sets||[];let r,a;const o=er({sets:i,matchUpStatus:n}),s=er({matchUpStatus:n,reversed:!0,sets:i});return t?(r=1===t?o:s,a=2===t?o:s):(r=o,a=s),{score:{sets:i,scoreStringSide1:r,scoreStringSide2:a}}}(u);u.score=e,u.score.sets=u.score.sets.filter((e=>e.side1Score||e.side2Score||e.side1TiebreakScore||e.side2TiebreakScore))}const{error:d,matchUp:l}=ou({tournamentRecord:o,drawDefinition:n,matchUpId:i,matchUpFormat:r,matchUpStatus:null==u?void 0:u.matchUpStatus,matchUpStatusCodes:null==u?void 0:u.matchUpStatusCodes,winningSide:null==u?void 0:u.winningSide,score:null==u?void 0:u.score,schedule:a,notes:c,event:s});return d?{error:d}:l&&ln()?Object.assign({},ho,{matchUp:Sn(l)}):ho}function uu(e){if(!e.tournamentRecord)return{error:m};const{tournamentRecord:t,outcomes:n}=e,i={};n.forEach((e=>{const{eventId:t}=e;i[t]||(i[t]=[]),i[t].push(e)}));for(const r of Object.keys(i)){const{event:e}=Ms({tournamentRecord:t,eventId:r});for(const n of i[r]){const{drawId:i}=n,r=e.drawDefinitions.find((e=>e.drawId===i));if(r){const{matchUpFormat:a,matchUpId:o}=n,s=cu({tournamentRecord:t,drawDefinition:r,event:e,drawId:i,matchUpFormat:a,matchUpId:o,schedule:null==n?void 0:n.schedule,outcome:n});if(s.error)return s}}}return ho}function du({matchUps:e=[],schedulingProfile:t}){const n={},i=({eventId:e,drawId:t,structureId:n,roundNumber:i})=>`${e}|${t}|${n}${i}`;if(null!=t&&t.length){t.map((({venues:e})=>e.map((({rounds:e})=>e)))).flat().forEach((e=>{e.sort(((e,t)=>(e.sortOrder||0)-(t.sortOrder||0))).forEach((({eventId:e,drawId:t,structureId:r,roundNumber:a},o)=>{const s=i({eventId:e,drawId:t,structureId:r,roundNumber:a});n[s]=o}))}))}const r=[],a={noScheduledDate:[]};for(const s of e){const e=s.schedule||{},t=e.scheduledDate&&Bt(e.scheduledDate)||e.scheduledTime&&Bt(e.scheduledTime)||"noScheduledDate";a[t]||(a[t]=[]),a[t].push(s)}const o=Object.keys(a).sort();for(const s of o){const e=a[s],t={noScheduledTime:[]};for(const n of e){const e=n.schedule||{},i=e.scheduledTime&&jt(e.scheduledTime)||"noScheduledTime";t[i]||(t[i]=[]),t[i].push(n)}const o=Object.keys(t).sort();for(const a of o){const e=t[a];e.sort(((e,t)=>(n[i(e)]||0)-(n[i(t)]||0))),r.push(...e)}}return r}function lu({venueIds:e,schedulingProfile:t}){if(!Array.isArray(t))return!1;return t.every((t=>{const{scheduleDate:n,venues:i}=t;if(!At(n))return!1;return i.every((t=>{const{venueId:n,rounds:i}=t;return"string"==typeof n&&(!!Array.isArray(i)&&!!e.includes(n))}))}))}function pu({schedulingProfile:e,venueIds:t,eventIds:n,drawIds:i}){let r=[];return{updatedSchedulingProfile:e.map((e=>{const a=Bt(null==e?void 0:e.scheduleDate);if(!a)return void r.push(`Invalid date: ${null==e?void 0:e.scheduledDate}`);const o=((null==e?void 0:e.venues)||[]).map((e=>{const{rounds:a,venueId:o}=e;if(!t.includes(o))return void r.push(`Missing venueId: ${o}`);const s=a.filter((e=>{const t=n.includes(e.eventId)&&i.includes(e.drawId);return t||r.push(`Invalid eventId: ${e.eventId} or drawId: ${e.drawId}`),t}));return s.length?{venueId:o,rounds:s}:void 0})).filter((e=>e));return o.length&&a&&{...e,venues:o}})).filter((e=>e)),modifications:r.length,issues:r}}function fu({tournamentRecord:e,schedulingProfile:t}){if(!e)return{error:m};if(!Array.isArray(t))return{error:It};return yo({tournamentRecord:e,extension:{name:Ja,value:t}})}function mu({tournamentRecord:e}){if(!e)return{error:m};const{extension:t}=Uo({tournamentRecord:e,name:Ja});return{schedulingProfile:(null==t?void 0:t.value)||[]}}function hu({tournamentRecord:e}){const{schedulingProfile:t}=mu({tournamentRecord:e});if(t){const n=(e.venues||[]).map((({venueId:e})=>e)),i=e.events||[],r=i.map((({eventId:e})=>e)),a=i.map((e=>(e.drawDefinitions||[]).map((({drawId:e})=>e)))).flat(),{updatedSchedulingProfile:o,modified:s}=pu({schedulingProfile:t,venueIds:n,eventIds:r,drawIds:a});if(s)return fu({tournamentRecord:e,schedulingProfile:o})}return ho}function vu({tournamentRecord:e,courtId:t,scheduleVisibilityFilters:n,matchUpFilters:i}){if(!e)return{error:m};if(!t)return{error:ge};const{schedulingProfile:r}=mu({tournamentRecord:e}),{matchUps:a}=Ps({tournamentRecord:e,scheduleVisibilityFilters:n,matchUpFilters:i});return{matchUps:function({matchUps:e,courtId:t}){return du({matchUps:e.filter((e=>{var n;return(null===(n=e.schedule)||void 0===n?void 0:n.courtId)===t})),schedulingProfile:r})}({matchUps:a,courtId:t})}}function gu({matchUpsCount:e=0}){const t=`Schedule would be deleted from ${e} ${1===e?"matchUp":"matchUps"}; use { force: true }`;return{message:t,error:t}}function yu({tournamentRecord:e,dateAvailability:t,disableNotice:n,courtId:i,force:r}){if(!e)return{error:m};if(!i)return{error:ge};const{court:a,venue:o,error:s}=ec({tournamentRecord:e,courtId:i});return s?{error:s}:(a.dateAvailability=t,n||mn({topic:qs,payload:{venue:o}}),ho)}function Iu({tournamentRecord:e,modifications:t,disableNotice:n,courtId:i,force:r}){if(!e)return{error:m};if(!i)return{error:ge};if(!t||"object"!=typeof t)return{error:yt};const{court:a,venue:o,error:s}=ec({tournamentRecord:e,courtId:i});if(s)return{error:s};const c=Object.keys({altitude:void 0,courtId:void 0,courtName:"",courtDimensions:void 0,latitude:void 0,longitude:void 0,surfaceCategory:void 0,surfaceType:void 0,surfaceDate:void 0,dateAvailability:[],onlineResources:[],pace:void 0,notes:void 0}).filter((e=>"courtId"!==e));if(!Object.keys(t).filter((e=>c.includes(e))).length)return{error:wt};const u=c.filter((e=>!["dateAvailability"].includes(e)));if(Object.keys(t).filter((e=>u.includes(e))).forEach((e=>Object.assign(a,{[e]:t[e]}))),t.dateAvailability){yu({tournamentRecord:e,dateAvailability:t.dateAvailability,disableNotice:n,courtId:i,force:r})}return n||mn({topic:qs,payload:{venue:o}}),Object.assign({},ho,{court:Sn(a)})}function bu({startTime:e,endTime:t}){if(!p.test(e)||!p.test(t))return!1;const[n,i]=e.split(":"),[r,a]=t.split(":");return!(r<n)&&!(n===r&&a<i)}function wu({dateAvailability:e}){if(!e)return{error:we};if(!Array.isArray(e))return{error:be};const t=[],n="Times must be 24 hour => 00:00";return e.filter((e=>e)).forEach((i=>{if("object"!=typeof i)return void t.push({error:be});const{date:r,startTime:a,endTime:o,bookings:s=[]}=i;r&&a&&o?(l.test(r)||(t.push({error:Se,dateAvailability:{date:r},message:"Dates must be formated => YYYY-MM-DD"}),console.log({dateAvailability:e})),p.test(a)||t.push({error:Ne,dateAvailability:{startTime:a},message:n}),p.test(o)||t.push({error:Ne,dateAvailability:{endTime:o},message:n}),a===o&&t.push({error:Ne,dateAvailability:{startTime:a,endTime:o},message:"startTime and endTime are equivalent"}),bu({startTime:a,endTime:o})||t.push({error:Ne,dateAvailability:{startTime:a,endTime:o},message:"endTime must be after startTime"}),Array.isArray(s)||t.push({error:Ie}),s&&s.forEach((e=>{if("object"!=typeof e)return void t.push({error:be});const{startTime:r,endTime:a}=e;p.test(r)||t.push({error:Ne,booking:{startTime:r},message:n}),p.test(i.endTime)||t.push({error:Ne,booking:{endTime:a},message:n}),r===a&&t.push({error:Ne,dateAvailability:{startTime:r,endTime:a},message:"startTime and endTime are equivalent"}),bu({startTime:r,endTime:a})||t.push({error:Ne,dateAvailability:{startTime:r,endTime:a},message:"endTime must be after startTime"})}))):t.push({error:be})})),t.length?{error:{errors:t}}:{valid:!0}}function Su({tournamentRecord:e,venueId:t,court:n,disableNotice:i,returnDetails:r}){const{venue:a}=Qs({tournamentRecord:e,venueId:t});if(!a)return{error:it};a.courts||(a.courts=[]);const o=Object.assign({},{altitude:void 0,courtId:void 0,courtName:"",courtDimensions:void 0,latitude:void 0,longitude:void 0,surfaceCategory:void 0,surfaceType:void 0,surfaceDate:void 0,dateAvailability:[],onlineResources:[],pace:void 0,notes:void 0},{venueId:t});o.courtId||(o.courtId=Pn());if(a.courts.reduce(((e,t)=>e||t.courtId===o.courtId),void 0))return{error:tt};{const e=((null==n?void 0:n.dateAvailability)||[]).map((e=>{var t;return{...e,date:Bt(e.date),startTime:jt(e.startTime),endTime:jt(e.endTime),bookings:null===(t=e.bookings)||void 0===t?void 0:t.map((({startTime:e,endTime:t,bookingType:n})=>({startTime:jt(e),endTime:jt(t),bookingType:n})))}}));for(const t of Object.keys(o))if(n[t])if("dateAvailability"===t){const t=wu({dateAvailability:e}),{valid:n,error:i}=t;if(n)o.dateAvailability=e;else if(i)return{error:i}}else o[t]=n[t];return a.courts.push(o),i||mn({topic:qs,payload:{venue:a}}),ln()||r?Object.assign({},ho,{court:Sn(o),venueId:t}):ho}}function Nu({tournamentRecord:e,venueId:t,courtsCount:n,courtNames:i=[],dateAvailability:r=[]}){if(!t)return{error:rt};if(!n||!i)return{error:Xe};const a=nn(0,n=n||i.length).map((e=>({courtName:i[e]||`Court ${e+1}`,dateAvailability:r}))).map((n=>Su({tournamentRecord:e,venueId:t,court:n,disableNotice:!0,returnDetails:!0}))),o=a.map((e=>e.court)).filter((e=>e));if(o.length===n){const{venue:n}=Qs({tournamentRecord:e,venueId:t});return mn({topic:qs,payload:{venue:n}}),Object.assign({},{courts:Sn(o)},ho)}return Object.assign({},{courts:Sn(o)},{error:a})}function Pu({tournamentRecord:e,modifications:t,venueId:n,force:i}){var r,a;if(!e)return{error:m};if(!t||"object"!=typeof t)return{error:yt};if(!n)return{error:rt};const{venue:o,error:s}=Qs({tournamentRecord:e,venueId:n});if(s)return{error:s};const c=Object.keys({venueId:void 0,venueName:"",venueAbbreviation:"",onlineResources:[],venueType:void 0,addresses:[],contacts:[],courts:[],roles:[]}).filter((e=>"venueId"!==e));if(!Object.keys(t).filter((e=>c.includes(e))).length)return{error:wt};const u=c.filter((e=>!["courts"].includes(e)));Object.keys(t).filter((e=>u.includes(e))).forEach((e=>Object.assign(o,{[e]:t[e]})));const d=[],l=(null==o||null===(r=o.courts)||void 0===r?void 0:r.map((e=>e.courtId)))||[],p=(null===(a=t.courts)||void 0===a?void 0:a.map((e=>e.courtId)))||[],f=l.filter((e=>!p.includes(e)));if(f.length){const t=o.courts.filter((e=>f.includes(e.courtId))).map((t=>{const{matchUps:n}=vu({tournamentRecord:e,courtId:t.courtId});return n.length})).reduce(((e,t)=>e+t));if(!t||i)o.courts=o.courts.filter((e=>p.includes(e.courtId)));else{const e=gu({matchUpsCount:t});d.push(e)}}return t.courts&&t.courts.forEach((t=>{const{courtId:r}=t||{};let a=Iu({tournamentRecord:e,modifications:t,disableNotice:!0,courtId:r,force:i});a.error===et&&(a=Su({tournamentRecord:e,venueId:n,court:t,disableNotice:!0})),a.error&&(a.error.errors?a.error.errors.forEach((e=>d.push(e))):d.push(a))})),d.length?{error:{errors:d}}:(mn({topic:qs,payload:{venue:o}}),Object.assign({},ho,{venue:Sn(o)}))}function Uu({tournamentRecord:e,drawDefinition:t,matchUpId:n,drawId:i}){if(!e)return{error:m};if(!n)return{error:te};if(!i)return{error:C};let r;if(t)({matchUp:r}=us({drawDefinition:t,matchUpId:n}));else{const{matchUps:t}=Ts({tournamentRecord:e});({matchUp:r}=ja({matchUps:t,matchUpId:n}))}if(!r)return{error:ie};if(r.timeItems){if(r.timeItems.reduce(((e,t)=>t.itemType===ya||e),void 0)){const e={itemType:ya,itemValue:"",itemDate:""};r.timeItems.push(e)}}return ho}function Du({tournamentRecord:e,drawDefinition:t,venueId:n,force:i}){if(!e)return{error:m};if(!e.venues)return{error:it};const{courts:r}=tc({tournamentRecord:e,venueId:n}),a={courtIds:r.map((e=>e.courtId))},{matchUps:o}=Ps({tournamentRecord:e,contextFilters:a});if(o.length&&!i)return gu({matchUpsCount:o.length});let s;return o.forEach((n=>{Uu({tournamentRecord:e,drawDefinition:t,matchUpId:n.matchUpId})})),e.venues=e.venues.filter((e=>{if(e.venueId!==n)return!0;s=!0})),s&&mn({topic:Ws,payload:{venueId:n}}),ho}function Tu({event:e,eventId:t}){if(!e)return{error:B};const{extension:n}=Do({event:e,name:Ha}),i=t?Sn(null==n?void 0:n.value,!1,!0):null==n?void 0:n.value;var r;t&&(null===(r=e.drawDefinitions)||void 0===r||r.forEach((e=>{var t;null==i||null===(t=i.flights)||void 0===t||t.forEach((t=>{t.drawId===e.drawId&&Object.assign(t,{drawDefinition:e})}))})));return{flightProfile:i}}function Cu({drawDefinition:e,event:t}){var n,i,r,a;if(!e)return{error:C};if(!t)return{error:B};t.drawDefinitions||(t.drawDefinitions=[]);const{drawId:o,drawName:s,entries:c}=e;if(t.drawDefinitions.reduce(((e,t)=>t.drawId===o||e),void 0))return{error:E};const u=(null===(n=t.drawDefinitions.map((({drawOrder:e})=>!isNaN(e)&&parseInt(e))))||void 0===n?void 0:n.filter((e=>e)))||[],{flightProfile:d}=Tu({event:t}),l=null==d||null===(i=d.flights)||void 0===i?void 0:i.find((e=>e.drawId===o)),p=(null==d||null===(r=d.flights)||void 0===r||null===(a=r.map((({flightNumber:e})=>!isNaN(e)&&parseInt(e))))||void 0===a?void 0:a.filter((e=>e)))||[];let f,m=Math.max(0,...u,...p)+1;if(l){l.drawName=e.drawName,f={name:Ha,value:{...d,flights:d.flights}};const t=l.flightNumber;t&&!u.includes(t)?m=t:l.flightNumber=m}else{const e=(null==d?void 0:d.flights)||[];e.push({manuallyAdded:!0,flightNumber:m,drawEntries:c,drawName:s,drawId:o}),f={name:Ha,value:{...d||{},flights:e}}}bo({event:t,extension:f}),Object.assign(e,{drawOrder:m}),t.drawDefinitions.push(e);const{topics:h}=gn();if(h.includes(_s)){const{matchUps:n}=Us({drawDefinition:e,event:t});mn({topic:_s,payload:{matchUps:n}})}return ho}function Eu({tournamentRecord:e,returnDetails:t,disableNotice:n,venue:i}){if(!e)return{error:m};if(!i)return{error:ye};e.venues||(e.venues=[]),i.venueId||(i.venueId=Pn());return e.venues.reduce(((e,t)=>e||t.venueId===i.venueId),void 0)?{error:nt}:(e.venues.push(i),n||mn({topic:Bs,payload:{venue:i}}),ln()?Object.assign({},{venue:Sn(i)},ho):t?i:ho)}function Au({tournamentRecord:e,participant:t,disableNotice:n,allowDuplicateParticipantIdPairs:i}){if(!e)return{error:m};if(!t)return{error:Re};t.participantId||(t.participantId=Pn()),e.participants||(e.participants=[]);const{participantId:r}=t;if(e.participants.reduce(((e,t)=>t.participantId===r||e),!1))return{error:Fe};const{participantType:a,participantRole:o}=t;if(!Object.keys(oo).includes(a))return{error:Ae,participantType:a};if(!o)return{error:Me};const s=e.participants||[],c=s.filter((e=>e.participantType===no)).map((e=>e.participantId)),u=[];if(a===ro){if(t.person)return{error:It,person:t.person};if(!t.individualParticipantIds)return{error:Ze};if(2!==t.individualParticipantIds.length)return{error:Ee,message:"PAIR must be 2 individualParticipantIds"};{const e=s.filter((e=>e.participantType===no)).map((e=>e.participantId));if(!t.individualParticipantIds.reduce(((t,n)=>e.includes(n)&&t),!0))return{error:Ee}}const e=s.filter((e=>e.participantType===ro)).map((e=>e.individualParticipantIds));if(t.participantType===ro&&e.find((e=>2===an(e,t.individualParticipantIds).length))&&!i)return Object.assign({},ho);if(!t.participantName){const e=s.filter((e=>t.individualParticipantIds.includes(e.participantId))).map((e=>{var t;return null===(t=e.person)||void 0===t?void 0:t.standardFamilyName})).filter((e=>e)).join("/");t.participantName=e}}else if(a===no){if(!t.person||!t.person.standardFamilyName||!t.person.standardGivenName)return{error:Ge};if(!t.participantName){const e=`${t.person.standardFamilyName.toUpperCase()}, ${t.person.standardGivenName}`;t.participantName=e,t.name=e}}else{if(t.person)return{error:It,person:t.person};const{individualParticipantIds:e}=t;(e||[]).forEach((e=>{"string"==typeof e?c.includes(e)||u.push({error:ke,participantId:e}):u.push({error:It,participantId:e})}))}if(u.length)return{error:u};e.participants.push(t),n||mn({topic:js,payload:{participants:[t]}});return Object.assign({},ho,{participant:Sn(t)})}function Mu({tournamentRecord:e,participants:t=[],allowDuplicateParticipantIdPairs:n}){if(!e)return{error:m};e.participants||(e.participants=[]);const i=e.participants.map((e=>e.participantId))||[];t.forEach((e=>{e.participantId||(e.participantId=Pn())}));const r=t.filter((e=>!i.includes(e.participantId))),a=t.filter((e=>i.includes(e.participantId))),o=r.filter((e=>e.participantType===no)),s=r.filter((e=>e.participantType!==no)),c=o.concat(...s);if(c.length){const t=[],i=[];if(c.forEach((r=>{const a=Au({tournamentRecord:e,participant:r,disableNotice:!0,allowDuplicateParticipantIdPairs:n}),{success:o,error:s,participant:c}=a;o&&i.push(c),s&&t.push(s)})),t.length)return{error:t};{mn({topic:js,payload:{participants:i}});const e=Object.assign({},ho,{participants:Sn(i)});return a.length&&Object.assign(e,{notAdded:a,message:We}),e}}return Object.assign({},ho,{message:"No new participants to add"})}function Ru({element:e,accessor:t}){const n=Sn(e),i=t.split(".");let r,a=[];!function e({targetElement:t,attributes:n=[],significantCharacters:i}){for(const[r,a]of n.entries())if(t&&t[a])if(Array.isArray(t[a])){const i=t[a],o=n.slice(r);i.forEach((t=>e({targetElement:t,attributes:o})))}else o({targetElement:t=t[a],index:r});function o({targetElement:e,index:t}){if(e&&t===n.length-1&&["string","number"].includes(typeof e)){const t=i?e.slice(0,i):e;r?a.includes(t)||a.push(t):(r=t,a.push(t))}}}({targetElement:n,attributes:i});const o={value:r};return a.length&&(o.values=a),o}const xu="SINGLES",Ou="DOUBLES",ku="SIGN_IN_STATUS";var Fu;!function(e){e.INDIVIDUAL="INDIVIDUAL",e.PAIR="PAIR",e.TEAM="TEAM"}(Fu||(Fu={}));Fu.INDIVIDUAL,Fu.PAIR,Fu.TEAM;var Lu;!function(e){e.SIGNED_IN="SIGNED_IN",e.SIGNED_OUT="SIGNED_OUT"}(Lu||(Lu={}));const Zu=Lu.SIGNED_IN,_u=Lu.SIGNED_OUT;function ju({tournamentRecord:e,participantFilters:t,participants:n}){var i;let{eventIds:r}=t;const{accessorValues:a,eventEntriesOnly:o,participantRoles:s,participantTypes:c,signInStatus:u}=t;var d;null!==(i=r)&&void 0!==i&&i.length||!o||(r=null===(d=e.events)||void 0===d?void 0:d.map((({eventId:e})=>e)));n=n.filter((e=>{const t=xs({element:e,itemType:ku});return(!u||t===u)&&(!c||Bu(c)&&c.includes(e.participantType))&&(!s||Bu(s)&&s.includes(e.participantRole))&&(!a||Bu(a)&&(e=>a.reduce(((t,n)=>{const{accessor:i,value:r}=n,{values:a}=Ru({element:e,accessor:i});return t&&(null==a?void 0:a.includes(r))}),!0))(e))}));const l=Bu(r)&&e.events.filter((e=>r.includes(e.eventId)))||e.events||[];if(l.length&&r){const t=l.filter((e=>r.includes(e.eventId))).map((t=>{const n=t.entries.map((e=>e.participantId));if(t.eventType===xu)return n;const i=e.participants.filter((e=>n.includes(e.participantId))).map((e=>e.individualParticipantIds)).flat(1);return n.concat(...i)})).flat(1);n=n.filter((e=>t.includes(e.participantId)))}return n}function Bu(e){return e&&Array.isArray(e)&&e.length}function Vu({tournamentRecord:e,participantFilters:t={},policyDefinition:n,inContext:i,convertExtensions:r,withStatistics:a,withOpponents:o,withMatchUps:s,withEvents:c,withDraws:u}){if(!e)return{error:m};if(!e.participants)return{error:xe};let d=function({participants:e,policyDefinition:t,convertExtensions:n}){const i=null==t?void 0:t.participant;return e.map((e=>null!=i&&i.participant?Sn(ei({source:e,template:i.participant}),n):Sn(e,n)))}({participants:e.participants,policyDefinition:n,convertExtensions:r});return"object"!=typeof t?{error:yt,participantFilters:t}:(t&&(d=ju({tournamentRecord:e,participantFilters:t,participants:d})),i&&d.forEach((t=>{[ro,io].includes(t.participantType)&&(t.individualParticipants=t.individualParticipantIds.map((t=>Sn(e.participants.find((e=>e.participantId===t)),r,!0))))})),(s||a||o)&&function({tournamentParticipants:e=[],tournamentEvents:t,withMatchUps:n,withStatistics:i,withOpponents:r,withEvents:a=!0,withDraws:o=!0}){const s={},c=e=>{s[e]={opponents:{},matchUps:{},events:{},draws:{},wins:0,losses:0}},u=Object.assign({},...e.map((({participantId:e,participantType:t,individualParticipantIds:n})=>({[e]:(n||[]).map((e=>({relevantParticipantId:e,participantType:no}))).concat({relevantParticipantId:e,participantType:t})}))));t.forEach((t=>{var d,l,p;const f=Sn(t,!0,!0),{eventId:m,eventName:h,eventType:v,category:g}=f,y={eventId:m,eventName:h,eventType:v,category:g};Object.keys(f).filter((e=>"_"===e[0])).forEach((e=>y[e]=f[e]));const I=f.entries||[],b=[].concat(...Object.values(Xa)).map((e=>`_${e}`)),w={...Object.keys(y).filter((e=>!b.includes(e))).reduce(((e,t)=>(e[t]=y[t],e)),{}),drawIds:[]};I.filter((e=>null==e?void 0:e.participantId)).forEach((e=>{const{participantId:t,entryStage:n,entryStatus:i,entryPosition:r}=e;u[t].forEach((({relevantParticipantId:e})=>{s[e]||c(e),s[e].events[m]={...w,entryStage:n,entryStatus:i,entryPosition:r}}))}));const S=({drawId:e,drawEntry:t,drawName:n,drawType:i})=>{const{participantId:r,entryStage:a,entryStatus:o,entryPosition:d}=t;u[r].forEach((({relevantParticipantId:t})=>{s[t]||c(t),s[t].events[m]||(s[t].events[m]={...w,entryStage:a,entryStatus:o,entryPosition:d});const r=s[t].events[m].drawIds;!r||null!=r&&r.includes(e)||(r.push(e),s[t].draws[e]={drawId:e,eventId:m,drawName:n,drawType:i,entryStage:a,entryStatus:o,entryPosition:d})}))};null===(d=y._flightProfile)||void 0===d||null===(l=d.flights)||void 0===l||l.forEach((e=>{const{drawId:t,drawEntries:n}=e;n.forEach((e=>S({drawId:t,drawEntry:e})))}));const{matchUps:N}=Ds({event:f,inContext:!0,nextMatchUps:!0}),P=Object.assign({},...(f.drawDefinitions||[]).map((e=>({[e.drawId]:{drawType:e.drawType,drawEntries:e.entries}}))));N.forEach((e=>{const{drawId:t,drawName:n,eventId:i,finishingPositionRange:r,loserTo:a,matchUpId:o,matchUpStatus:d,roundName:l,roundNumber:p,score:f,sides:m,structureName:h,winnerTo:g,winningSide:y}=e,{winner:I,loser:b}=r||{};m.forEach((({participantId:r,sideNumber:m}={})=>{if(!r)return;const{drawType:w,drawEntries:S}=P[t],N=1===m?null==f?void 0:f.scoreStringSide1:null==f?void 0:f.scoreStringSide2,U=y&&m===y,D=e.sides.find((({sideNumber:e}={})=>e===3-m)),T=(null==D?void 0:D.participantId)&&u[r]||[],C=y&&(U?I:b),E=r&&u[r]||[],A=S.find((e=>e.participantId===r));E.forEach((({relevantParticipantId:e,participantType:r})=>{const{entryStage:u,entryStatus:m,entryPosition:I}=A||{};let b;if(s[e]||c(e),s[e].draws[t]={drawName:n,drawType:w,entryStage:u,entryStatus:m,entryPosition:I,eventId:i,drawId:t},r===no){const t=E.find((t=>t.relevantParticipantId!==e&&t.participantType!==ro));b=null==t?void 0:t.relevantParticipantId}T.filter((e=>r===no||e.participantType===r)).forEach((({relevantParticipantId:n,participantType:r})=>{s[e].opponents[n]?s[e].opponents[n].push({eventId:i,drawId:t,matchUpId:o,participantType:r,participantId:n}):s[e].opponents[n]=[{eventId:i,drawId:t,matchUpId:o,participantType:r,participantId:n}]}));const S=T.map((({relevantParticipantId:e,participantType:t})=>({participantId:e,participantType:t})));s[e].matchUps[o]={drawId:t,eventId:i,finishingPositionRange:C,loserTo:a,matchUpId:o,matchUpStatus:d,opponentParticipantInfo:S,participantWon:U,partnerParticipantId:b,perspectiveScoreString:N,roundName:l,roundNumber:p,score:f,structureName:h,winnerTo:g,winningSide:y},b&&v===fa&&(s[e].events[i].partnerParticipantId=b),y&&(U?s[e].wins++:s[e].losses++)}))}))})),null===(p=f.drawDefinitions)||void 0===p||p.forEach((({drawId:e,drawName:t,drawType:n,entries:i,structures:r})=>{i.forEach((t=>S({drawId:e,drawEntry:t})));const a=null==r?void 0:r.map((e=>{const{positionAssignments:t}=ts({structure:e});return t.map((({participantId:e})=>e))})).flat().filter((t=>{var n,i,r;return t&&!(null!==(n=s[t])&&void 0!==n&&null!==(i=n.events[m])&&void 0!==i&&null!==(r=i.drawIds)&&void 0!==r&&r.includes(e))}));I.filter((({participantId:e})=>a.includes(e))).forEach((i=>S({drawId:e,drawEntry:i,drawName:t,drawType:n})))})),null==e||e.forEach((e=>{const t=null==e?void 0:e.participantId;if(!t||!s[t])return;const{wins:c,losses:u,matchUps:d,events:l,draws:p,opponents:f}=s[t],m=c+u,h={statCode:"winRatio",numerator:c,denominator:m,statValue:m&&c/m},v=Object.values(p),g=Object.values(l);o&&(e.draws=v),a&&(e.events=g),r&&(e.opponents=Object.values(f).flat(),v.forEach((e=>{e.opponents=Object.values(f).flat().filter((t=>t.drawId===e.drawId))}))),n&&(e.matchUps=Object.values(d),v.forEach((e=>{var t;const n=(null===(t=Object.values(d))||void 0===t?void 0:t.filter((t=>t.drawId===e.drawId)))||[],i=e=>Math.abs(e[0]-e[1]),r=n.reduce(((e,t)=>e?e&&t.finishingPositionRange&&i(e)>i(t.finishingPositionRange)?t.finishingPositionRange:e:t.finishingPositionRange),void 0);e.finishingPositionRange=r}))),i&&(e.statistics=[h])}))}))}({tournamentRecord:e,tournamentEvents:e.events,tournamentParticipants:d,withStatistics:a,withOpponents:o,withMatchUps:s,withEvents:c,withDraws:u}),{tournamentParticipants:d})}const Gu=({penaltyId:e=Pn()}={})=>({refereeParticipantId:void 0,penaltyCode:void 0,penaltyType:void 0,extensions:void 0,matchUpId:void 0,createdAt:void 0,issuedAt:void 0,notes:void 0,penaltyId:e});function Hu({tournamentRecord:e,participantIds:t,penaltyCode:n,penaltyType:i,penaltyId:r,matchUpId:a,notes:o,extensions:s,issuedAt:c,refereeParticipantId:u}){if(!e)return{error:m};if(!t)return{error:Oe};if(!i)return{error:$e};const d=((null==e?void 0:e.participants)||[]).filter((e=>t.includes(e.participantId)));if(!d.length)return{error:ke};const l=(new Date).toISOString(),p=Object.assign(Gu({penaltyId:r}),{refereeParticipantId:u,penaltyCode:n,penaltyType:i,matchUpId:a,notes:o,issuedAt:c,createdAt:l});return Array.isArray(s)&&s.forEach((e=>vo({element:p,extension:e}))),d.forEach((e=>{e.penalties||(e.penalties=[]),e.penalties.push(p)})),mn({topic:Ks,payload:{participants:d}}),Object.assign({},ho,{penaltyId:p.penaltyId})}function Wu({tournamentRecord:e,penaltyId:t}){if(!e)return{error:m};if(!t)return{error:Je};const n=(null==e?void 0:e.participants)||[],i=[];let r,a=!1;return n.forEach((e=>{let n=!1;e.penalties=(e.penalties||[]).filter((o=>(o.penaltyId===t&&(n=!0,a||(r=o,a=!0)),n&&i.push(e),o.penaltyId!==t)))})),r&&mn({topic:Ks,payload:{participants:i}}),r?Object.assign({},ho,{penalty:r}):{error:Qe}}function zu({tournamentRecord:e}){if(!e)return{error:m};const t=((null==e?void 0:e.participants)||[]).reduce(((e,t)=>{const{participantId:n}=t;return(t.penalties||[]).forEach((t=>{const{penaltyId:i}=t||{};e[i]?e[i].participants.push(n):e[i]=Object.assign({},t,{participantIds:[n]})})),e}),{});return{penalties:Object.values(t)}}function Ku({tournamentRecord:e,penaltyId:t,modifications:n}){if(!e)return{error:m};if(!n)return{error:It,modifications:n};if(!t)return{error:Je};const i=(null==e?void 0:e.participants)||[],r=Object.keys(Gu()).filter((e=>"penaltyId"!==e)),a=Object.keys(n).filter((e=>r.includes(e)));if(!a.length)return{error:wt};let o;const s=[];return i.forEach((e=>{let i=!1;e.penalties=(e.penalties||[]).map((e=>(e.penaltyId===t&&(i=!0,a.forEach((t=>Object.assign(e,{[t]:n[t]}))),o||(o=e)),e))),i&&s.push(e)})),o&&mn({topic:Ks,payload:{participants:s}}),o?Object.assign({},ho,{penalty:o}):{error:Qe}}function qu(){const{topics:e}=gn();for(const t of e){const e=hn({topic:t});e&&yn({topic:t,notices:e})}}function Yu({matchUpAverageTimes:e,matchUpFormat:t}={}){const n=(null==e?void 0:e.map((({matchUpFormatCodes:e})=>null==e?void 0:e.filter((e=>e===t)))).flat().filter((e=>e)).sort(((e,t)=>((null==e?void 0:e.length)||0)-((null==t?void 0:t.length)||0))))||[],i=n.includes(t)?t:n[0],r=null==e?void 0:e.find((({matchUpFormatCodes:e,averageTimes:t})=>(null==e?void 0:e.find((e=>i===e)))&&t));return null==r?void 0:r.averageTimes}function $u({matchUpRecoveryTimes:e,averageMinutes:t,matchUpFormat:n}={}){var i;return null==e||null===(i=e.find((({matchUpFormatCodes:e,averageTimes:i,recoveryTimes:r})=>{if(i&&t){const{greaterThan:e=0,lessThan:n=360}=i;if(t>e&&t<n)return!0}return(null==e?void 0:e.find((e=>e===n)))&&r})))||void 0===i?void 0:i.recoveryTimes}function Ju({tournamentRecord:e,matchUpFormat:t,event:n}){if(!e)return{error:m};if(!mc(t))return{error:Q};const{extension:i}=Do({event:n,name:$a}),r=null==i?void 0:i.value,{extension:a}=Uo({tournamentRecord:e,name:$a}),o=null==a?void 0:a.value;return{matchUpFormat:t,averageTimes:[(null==r?void 0:r.matchUpAverageTimes)&&Yu({...r,matchUpFormat:t}),(null==o?void 0:o.matchUpAverageTimes)&&Yu({...o,matchUpFormat:t})].find((e=>e)),recoveryTimes:[(null==r?void 0:r.matchUpRecoveryTimes)&&$u({...r,matchUpFormat:t}),(null==o?void 0:o.matchUpRecoveryTimes)&&$u({...o,matchUpFormat:t})].find((e=>e))}}function Qu({tournamentRecord:e,matchUpFormat:t,averageTimes:n,recoveryTimes:i,event:r}){if(!e)return{error:m};if(n&&!Array.isArray(n))return{error:It};if(i&&!Array.isArray(i))return{error:It};const a=$a;if(r){const{extension:e}=Do({event:r,name:a});bo({event:r,extension:{name:a,value:Xu({...(null==e?void 0:e.value)||{},matchUpFormat:t,averageTimes:n,recoveryTimes:i})}})}else{const{extension:r}=Uo({tournamentRecord:e,name:a});yo({tournamentRecord:e,extension:{name:a,value:Xu({...(null==r?void 0:r.value)||{},matchUpFormat:t,averageTimes:n,recoveryTimes:i})}})}return ho}function Xu({matchUpAverageTimes:e=[],matchUpRecoveryTimes:t=[],averageTimes:n,recoveryTimes:i,matchUpFormat:r}){var a,o;const s=(null===(a=n=(n||[]).filter((e=>{var t,n;return(null==e||null===(t=e.categoryNames)||void 0===t?void 0:t.length)||(null==e||null===(n=e.categoryTypes)||void 0===n?void 0:n.length)})))||void 0===a?void 0:a.length)&&e.map((e=>{var t;return null!=e&&e.matchUpFormatCodes.includes(r)?{...e,matchUpFormatCodes:null===(t=e.matchUpFormatCodes)||void 0===t?void 0:t.filter((e=>e!==r))}:e})).filter((({matchUpFormatCodes:e})=>null==e?void 0:e.length)).concat({matchUpFormatCodes:[r],averageTimes:n}),c=(null===(o=i=(i||[]).filter((e=>{var t,n;return(null==e||null===(t=e.categoryNames)||void 0===t?void 0:t.length)||(null==e||null===(n=e.categoryTypes)||void 0===n?void 0:n.length)})))||void 0===o?void 0:o.length)&&t.map((e=>{var t;return null!=e&&e.matchUpFormatCodes.includes(r)?{...e,matchUpFormatCodes:null===(t=e.matchUpFormatCodes)||void 0===t?void 0:t.filter((e=>e!==r))}:e})).filter((({matchUpFormatCodes:e,averageTimes:t})=>(null==e?void 0:e.length)||t)).concat({matchUpFormatCodes:[r],recoveryTimes:i});return{matchUpAverageTimes:(null==s?void 0:s.length)&&s||e,matchUpRecoveryTimes:(null==c?void 0:c.length)&&c||t}}function ed({tournamentRecord:e,event:t,categoryType:n,matchUpFormat:i,averageMinutes:r,recoveryMinutes:a}){if(!e)return{error:m};if(!mc(i))return{error:It};if(!t)return{error:B};const{averageTimes:o=[],recoveryTimes:s=[]}=Ju({tournamentRecord:e,matchUpFormat:i,event:t}),c=t.category,u=(null==c?void 0:c.categoryName)||(null==c?void 0:c.ageCategoryCode),d="DOUBLES"===t.eventType;let l={categoryNames:[u],minutes:{}},p={categoryNames:[u],minutes:{}};const f=e=>{var t,i;if(null!==(t=e.categoryTypes)&&void 0!==t&&t.includes(n)&&console.log("encountered:",{categoryType:n}),null===(i=e.categoryNames)||void 0===i||!i.includes(u)||(e.categoryNames=e.categoryNames.filter((e=>e!==u)),l={minutes:e.minutes,categoryNames:[u]},e.categoryNames.length))return e},h=!isNaN(parseInt(r)),v=!isNaN(parseInt(a)),g=o.map(f).filter((e=>{var t;return null==e||null===(t=e.categoryNames)||void 0===t?void 0:t.length})),y=s.map(f).filter((e=>{var t;return null==e||null===(t=e.categoryNames)||void 0===t?void 0:t.length}));return h&&(Object.assign(l.minutes,{[d?Ou:pa]:r}),g.push(l)),v&&(Object.assign(p.minutes,{[d?Ou:pa]:a}),y.push(p)),h||v?Qu({tournamentRecord:e,event:t,matchUpFormat:i,averageTimes:h&&g,recoveryTimes:v&&y}):{error:It}}function td({tournamentRecord:e}){if(!e)return{error:m};const t=[],{extension:n}=Uo({tournamentRecord:e,name:$a});n&&t.push({method:"addTournamentExtension",params:{extension:n}});const i=e.events||[];for(const r of i){const{eventId:e}=r,{extension:n}=Do({event:r,name:$a});n&&t.push({method:"addEventExtension",params:{eventId:e,extension:n}})}return{methods:t}}function nd({categoryName:e,categoryType:t,timesBlockArray:n}){return n.filter((e=>Array.isArray(e))).map((n=>n.sort(((e,t)=>{var n,i;return((null===(n=t.categoryNames)||void 0===n?void 0:n.length)||0)-((null===(i=e.categoryNames)||void 0===i?void 0:i.length)||0)})).find((({categoryTypes:n,categoryNames:i})=>!(null!=i&&i.length)&&!(null!=n&&n.length)||(null==i?void 0:i.includes(e))||(null==n?void 0:n.includes(t)))))).find((e=>e))}function id({tournamentRecord:e,event:t,policyType:n}){if(!e)return{error:m};if(t){const{appliedPolicies:e}=ls({event:t});if(e&&e[n])return{policy:e[n]}}const{appliedPolicies:i}=ds({tournamentRecord:e});return i?{policy:i[n]}:{error:me}}function rd({defaultAverageMinutes:e,defaultRecoveryMinutes:t,tournamentRecord:n,matchUpFormat:i,categoryName:r,categoryType:a,eventType:o,event:s}){var c,u,d;if(!n)return{error:m};o=o||(null==s?void 0:s.eventType),r=r||(null==s||null===(c=s.category)||void 0===c?void 0:c.categoryName)||(null==s||null===(u=s.category)||void 0===u?void 0:u.ageCategoryCode);const{policy:l}=id({tournamentRecord:n,event:s,policyType:pi}),p={averageTimes:[{minutes:{default:e}}],recoveryTimes:[{minutes:{default:t}}]},{extension:f}=Uo({tournamentRecord:n,name:$a}),h=null==f?void 0:f.value,{extension:v}=Do({event:s,name:$a}),g={matchUpFormat:i,categoryName:r,categoryType:a,eventScheduling:null==v?void 0:v.value,tournamentScheduling:h,defaultTiming:p,policy:l},y=function({matchUpFormat:e,categoryName:t,categoryType:n,defaultTiming:i,tournamentScheduling:r,eventScheduling:a,policy:o}){var s;return nd({categoryName:t,categoryType:n,timesBlockArray:[(null==a?void 0:a.matchUpAverageTimes)&&Yu({...a,matchUpFormat:e}),(null==r?void 0:r.matchUpAverageTimes)&&Yu({...r,matchUpFormat:e}),(null==o?void 0:o.matchUpAverageTimes)&&Yu({...o,matchUpFormat:e}),null==o||null===(s=o.defaultTimes)||void 0===s?void 0:s.averageTimes,null==i?void 0:i.averageTimes]})}(g),I=Object.keys((null==y?void 0:y.minutes)||{}),b=(null==I?void 0:I.includes(o))&&y.minutes[o]||(null==y||null===(d=y.minutes)||void 0===d?void 0:d.default),w=function({matchUpFormat:e,categoryName:t,categoryType:n,averageMinutes:i,defaultTiming:r,tournamentScheduling:a,eventScheduling:o,policy:s}){var c;return nd({categoryName:t,categoryType:n,timesBlockArray:[(null==o?void 0:o.matchUpRecoveryTimes)&&$u({...o,averageMinutes:i,matchUpFormat:e}),(null==a?void 0:a.matchUpRecoveryTimes)&&$u({...a,averageMinutes:i,matchUpFormat:e}),(null==s?void 0:s.matchUpRecoveryTimes)&&$u({...s,averageMinutes:i,matchUpFormat:e}),null==s||null===(c=s.defaultTimes)||void 0===c?void 0:c.recoveryTimes,null==r?void 0:r.recoveryTimes]})}({...g,averageMinutes:b}),S=Object.keys((null==w?void 0:w.minutes)||{});return{averageMinutes:b,recoveryMinutes:(null==S?void 0:S.includes(o))&&w.minutes[o]||w.minutes.default}}function ad({tournamentRecord:e,matchUpFormats:t,categoryType:n,event:i}){if(!e)return{error:m};if(!i)return{error:B};let r=[];if(null!=t&&t.length){const e=[];r=t.map((t=>{let n="string"==typeof t?{matchUpFormat:t}:t;if(!e.includes(null==n?void 0:n.matchUpFormat)&&mc(null==n?void 0:n.matchUpFormat))return e.push(n.matchUpFormat),n})).filter((e=>e))}else{const{policy:t}=id({policyType:hi,tournamentRecord:e,event:i});if(null!=t&&t.matchUpFormats)r=null==t?void 0:t.matchUpFormats;else{const{extension:e}=Do({event:i,name:$a});if(null==e||!e.value)return{error:he};r=$t([...(e.value.matchUpAverageTimes||[]).map((e=>e.matchUpFormatCodes)),...(e.value.matchUpRecoveryTimes||[]).map((e=>e.matchUpFormatCodes))].flat()).map((e=>({matchUpFormat:e})))}}const{eventType:a,eventId:o,category:s}=i,c=null==s?void 0:s.categoryName;if(!o)return{error:B};return{eventMatchUpFormatTiming:r.map((({matchUpFormat:t,description:r})=>{const o=rd({tournamentRecord:e,matchUpFormat:t,categoryName:c,categoryType:n,eventType:a,event:i});return Object.assign({},{...o,description:r,matchUpFormat:t})}))}}function od({tournamentRecord:e,drawId:t,drawDefinition:n,event:i,structureId:r,matchUpId:a}){var o,s,c;if(!e)return{error:m};if(!(t||i||r||a))return{error:ye};const u=As({tournamentRecord:e,drawDefinition:n,drawId:t,matchUpId:a});if(a&&null!=u&&u.error)return u;!n&&null!=u&&u.drawDefinition&&(n=null==u?void 0:u.drawDefinition);let d=null==u?void 0:u.structure;if(!d&&r&&!a){if(!n)return{error:C};const e=lo({drawDefinition:n,structureId:r});if(e.error)return e;d=e.structure}const l=null===(o=d)||void 0===o?void 0:o.matchUpFormat,p=null===(s=n)||void 0===s?void 0:s.matchUpFormat,f=null==i?void 0:i.matchUpFormat;return{matchUpFormat:(null==u||null===(c=u.matchUp)||void 0===c?void 0:c.matchUpFormat)||l||p||f,structureDefaultMatchUpFormat:l,drawDefaultMatchUpFormat:p,eventDefaultMatchUpFormat:f}}function sd({tournamentRecord:e}){var t;if(!e)return{error:m};const{policy:n}=id({policyType:pi,tournamentRecord:e}),{extension:i}=Uo({tournamentRecord:e,name:Ya}),r=null==i||null===(t=i.value)||void 0===t?void 0:t.dailyLimits,a=null==n?void 0:n.defaultDailyLimits;return{matchUpDailyLimits:r||a}}function cd({event:e}){return e?So({event:e,name:$a}):{error:B}}function ud({drawDefinition:e,tournamentParticipants:t,matchUpId:n,participantId:i}){if(!i)return{error:Oe};if(!n)return{error:ae};if(t&&t.length){const{matchUp:r}=us({drawDefinition:e,tournamentParticipants:t,matchUpId:n,inContext:!0});if(!r)return{error:ie};const{error:a,checkedInParticipantIds:o}=as({matchUp:r});if(a)return{error:a};if(o.includes(i))return{error:Be}}return $s({drawDefinition:e,matchUpId:n,timeItem:{itemType:va,itemValue:i}})}function dd({drawDefinition:e,tournamentParticipants:t,matchUpId:n,participantId:i}){if(!i)return{error:Oe};if(!n)return{error:te};if(t&&t.length){const{matchUp:r}=us({drawDefinition:e,tournamentParticipants:t,matchUpId:n,inContext:!0}),{checkedInParticipantIds:a}=as({matchUp:r});if(!a.includes(i))return{error:je};const{sideParticipantIds:o,nestedIndividualParticipantIds:s}=rs({matchUp:r}),c=o.indexOf(i);[0,1].includes(c)&&(s[c]||[]).forEach((t=>{$s({drawDefinition:e,matchUpId:n,timeItem:{itemType:ga,itemValue:t}})}))}return $s({drawDefinition:e,matchUpId:n,timeItem:{itemType:ga,itemValue:i}})}function ld(e){if(null==e||!e.tournamentRecord)return{error:m};const{tournamentRecord:t,participantId:n,matchUpId:i,drawDefinition:r}=e,a=t.participants||[],{matchUp:o}=As({tournamentRecord:t,drawDefinition:r,matchUpId:i,inContext:!0});if(!o)return{error:ie};const{error:s,checkedInParticipantIds:c}=as({matchUp:o});return s?{error:s}:c.includes(n)?dd({drawDefinition:r,tournamentParticipants:a,matchUpId:i,participantId:n}):ud({drawDefinition:r,tournamentParticipants:a,matchUpId:i,participantId:n})}function pd(e){const{tournamentRecords:t}=e;if(!t)return{error:f};const{tournamentId:n,drawId:i,matchUpId:r,courtDayDate:a}=e,o=t[n];if(!o)return{error:m};const{drawDefinition:s}=Rs({tournamentRecord:o,drawId:i});return nc({tournamentRecord:o,drawDefinition:s,matchUpId:r,courtId:"",courtDayDate:a})}function fd({tournamentRecord:e}){if(!e)return{error:m};const t=[],{extension:n}=Uo({tournamentRecord:e,name:Ya});n&&t.push({method:"addTournamentExtension",params:{extension:n}});const i=e.events||[];for(const r of i){const{eventId:e}=r,{extension:n}=Do({event:r,name:Ya});n&&t.push({method:"addEventExtension",params:{eventId:e,extension:n}})}return{methods:t}}function md({tournamentRecord:e,dailyLimits:t}){if(!e)return{error:m};if("object"!=typeof t)return{error:yt};return yo({tournamentRecord:e,extension:{name:Ya,value:{dailyLimits:t}}})}const hd="OTHER",vd="OFFICIAL",gd="COMPETITOR",yd={OTHER:hd,COACH:"COACH",MEDIA:"MEDIA",CAPTAIN:"CAPTAIN",MEDICAL:"MEDICAL",OFFICIAL:vd,SECURITY:"SECURITY",COMPETITOR:gd,ADMINISTRATION:"ADMINISTRATION"};function Id(e){return ac(e)}function bd({drawDefinition:e,matchUpId:t,disableNotice:n,scheduledDate:i}){return oc({drawDefinition:e,matchUpId:t,disableNotice:n,scheduledDate:i})}function wd({drawDefinition:e,scheduledTime:t,matchUpId:n,disableNotice:i}){return sc({drawDefinition:e,matchUpId:n,scheduledTime:t,disableNotice:i})}function Sd({drawDefinition:e,matchUpId:t,startTime:n,disableNotice:i}){return uc({drawDefinition:e,matchUpId:t,startTime:n,disableNotice:i})}function Nd({drawDefinition:e,matchUpId:t,endTime:n,disableNotice:i}){return dc({drawDefinition:e,matchUpId:t,endTime:n,disableNotice:i})}function Pd({drawDefinition:e,matchUpId:t,stopTime:n,disableNotice:i}){return lc({drawDefinition:e,matchUpId:t,stopTime:n,disableNotice:i})}function Ud({drawDefinition:e,matchUpId:t,resumeTime:n,disableNotice:i}){return pc({drawDefinition:e,matchUpId:t,resumeTime:n,disableNotice:i})}function Dd({tournamentRecord:e,drawDefinition:t,participantId:n,officialType:i,matchUpId:r,disableNotice:a}){if(!n)return{error:Oe};const{tournamentParticipants:o}=Vu({tournamentRecord:e,participantFilters:{participantTypes:[no],participantRoles:[vd]}});if(!mo({tournamentParticipants:o,participantId:n}))return{error:ke};return cc({drawDefinition:t,participantId:n,officialType:i,matchUpId:r,disableNotice:a})}function Td({tournamentRecord:e,policyDefinition:t,allowReplacement:n}){if(!e)return{error:m};if(!t||"object"!=typeof t)return{error:ce};e.extensions||(e.extensions=[]);const{appliedPolicies:i}=ds({tournamentRecord:e}),r=Object.keys(t).map((e=>{if(!i[e]||n)return i[e]=t[e],e})).filter((e=>e));if(null!=r&&r.length){const t=yo({tournamentRecord:e,extension:{name:Ba,value:i}});if(t.error)return t}return null!=r&&r.length?Object.assign({},ho,{applied:r}):{error:pe}}function Cd({tournamentRecord:e}){if(!e)return{error:m};const t=(({tournamentId:e,tournamentRank:t,formalName:n,tournamentName:i,promotionalName:r,onlineResources:a,localTimeZone:o,startDate:s,endDate:c,hostCountryCode:u,tournamentContacts:d,tournamentAddresses:l})=>({tournamentId:e,tournamentRank:t,formalName:n,tournamentName:i,promotionalName:r,onlineResources:a,localTimeZone:o,startDate:s,endDate:c,hostCountryCode:u,tournamentContacts:d,tournamentAddresses:l}))(e);return Object.assign({},ho,{tournamentInfo:Sn(t)})}function Ed(){return"\n    This project would not have been possible without the generous input and patience\n    of tournament organizers and directors who worked with early versions of CourtHive/TMX.\n\n    Thanks to Pavel, Ivan, Mladen, Zdenko, Antoina, Jakov, Kreso, Barry, Jeff, Bobby... to name just a few. \n\n    The project would not have even begun without the support of Miro, or the introduction by Sretchko.\n    The project would not have succeeded without the enthusiasm of Randy and Bruce.\n    Thanks to serendipity and Luca and the ensuing TODS conversations with ITF.\n    Thanks to Scott and Jake for sanity checks, suggestions, and challenging me.\n    Thanks to Zoran for inspiring the async support and getting into the weeds with subscriptions.\n    Thanks to Dave for backing the conversion of TMX 1.x source into the factory repository.\n    Thanks to Vuk and Pavle and Rich and Chris and Deepa for the direct engagement with the APIs.\n    Thanks to Shannon for the validation of the approach from his deep domain experience.\n    Thanks to Nikola for the ongoing camaraderie and explorations of what we can do with TODS.\n\n    And a special thanks to my family for putting up with the long days and weeks and months of coding\n    and conversations at all hours.\n  "}const Ad="REFEREE",Md="SCHEDULE",Rd="SCORE",xd="START",Od="STATUS";function kd({drawDefinition:e,matchUpId:t}){var n;if(!e)return{error:g};if(!t)return{error:te};const{matchUp:i,structure:r}=us({drawDefinition:e,matchUpId:t}),{assignedPositions:a,allPositionsAssigned:o}=ns({structure:r}),{drawPositions:s}=i||{},{structureId:c}=r||{},u=[];if(!c)return{validActions:u};const d=Hc({drawDefinition:e,structure:r}),l=a.filter((e=>e.participantId)).map((e=>e.drawPosition)),p=a.filter((e=>e.bye)).map((e=>e.drawPosition)),f=i.collectionId,m=i.matchUpStatus===An||!f&&(null===(n=i.drawPositions)||void 0===n?void 0:n.reduce(((e,t)=>p.includes(t)||e),!1)),h=null==s?void 0:s.reduce(((e,t)=>l.includes(t)&&e),2===(null==s?void 0:s.length));if(m)return{validActions:u,isByeMatchUp:m};{var v,y;u.push({type:Ad});const n=!Nc({matchUpStatus:i.matchUpStatus}),{appliedPolicies:a}=eo({drawDefinition:e}),s=null==a||null===(v=a.scoring)||void 0===v?void 0:v.structures,c=(null==s?void 0:s.stage)&&(null==s?void 0:s.stage[r.stage]),d=(null==c?void 0:c.stageSequence)&&c.stageSequence[r.stageSequence],l=!((null==a||null===(y=a.scoring)||void 0===y?void 0:y.requireAllPositionsAssigned)||(null==c?void 0:c.requireAllPositionsAssigned)||(null==d?void 0:d.requireAllPositionsAssigned))||o,p=i.sides&&2===i.sides.filter((e=>e&&e.participantId)).length,f=h||p,{drawId:g}=e,I={type:ca,method:Xr,payload:{drawId:g,matchUpId:t,penaltyCode:void 0,penaltyType:void 0,participantIds:[],notes:void 0}};if(n&&!m&&u.push({type:Md}),f&&!m&&u.push(I),n&&f&&!m&&u.push({type:Od}),l&&f&&!m){const{matchUpId:e,matchUpFormat:t}=i,n={drawId:g,matchUpId:e,matchUpFormat:t,outcome:{scoreStringSide1:void 0,scoreStringSide2:void 0,sets:[]},winningSide:void 0};u.push({type:Rd,method:"setMatchUpStatus",message:"set outcome and winningSide",payload:n}),u.push({type:xd}),u.push({type:"END"})}}return{isByeMatchUp:m,validActions:u,structureIsComplete:d}}function Fd({tournamentRecord:e,drawDefinition:t,matchUpId:n,drawId:i}){if(!e)return{error:m};if(!i){const{matchUps:r}=Ps({tournamentRecord:e});i=r.reduce(((e,t)=>t.matchUpId===n?t.drawId:e),void 0);t=(e.events||[]).map((e=>e.drawDefinitions||[])).flat().reduce(((e,t)=>t.drawId===i?t:e),void 0)}return i?kd({drawDefinition:t,matchUpId:n}):{error:y}}function Ld(e={}){return e.tournamentId||Object.assign(e,{tournamentId:Pn()}),(!e.startDate||Lt(e.startDate)||u.test(e.startDate))&&(!e.endDate||Lt(e.endDate)||u.test(e.endDate))?Object.assign({},e):{error:Se}}function Zd(e,t){var n;if("object"!=typeof e)return{error:yt};if(!((null===(n=e.unifiedTournamentId)||void 0===n?void 0:n.tournamentId)||e.tournamentId))return{error:h};const i=!1!==t?Sn(e):e;return bn(i),i}function _d({convertExtensions:e,tournamentId:t}={}){if("string"!=typeof t)return{};return{tournamentRecord:Sn(In(t),e)}}function jd(e,t){if(t){const{drawId:n}=t||t.matchUp&&t.matchUp.drawId;if(n){const{event:i,drawDefinition:r}=Ms({tournamentRecord:e,drawId:n});t=Object.assign({},t,{event:i,drawDefinition:r})}if(t.eventId&&!t.event){const{event:n}=Ms({tournamentRecord:e,eventId:t.eventId});n&&(t=Object.assign({},t,{event:n}))}}return t}function Bd({tournamentParticipants:e,drawDefinition:t}){if(!t)return{error:g};const n=Sn(Ss({tournamentParticipants:e,drawDefinition:t,inContext:!0}).matchUps),i=$t(n.reduce(((e,t)=>e.concat(...t.sides.map((e=>e.participantId)).filter((e=>e)))),[])),r=Object.assign({},...i.map((e=>{const t=n.filter((t=>t.sides.map((e=>e.participantId)).filter((e=>e)).includes(e)));return{[e]:t}})));return{participantIds:i,participantIdMatchUps:r}}function Vd({drawDefinition:e,tournamentParticipants:t,byeAdvancements:n=!1}){if(!e)return{error:g};const{participantIds:i,participantIdMatchUps:r}=Bd({drawDefinition:e,tournamentParticipants:t}),a=i.map((e=>{const t=r[e].filter((e=>[Rn,An].includes(e.matchUpStatus)||e.winningSide)),i=t.map((t=>{const i=t.sides.find((e=>e.bye)),r=t.sides.find((t=>t.participantId===e)).sideNumber;return(t.winningSide||n&&i&&r)===r?t.finishingPositionRange.winner:t.finishingPositionRange.loser})),a=e=>Math.abs(e[0]-e[1]),o=i.reduce(((e,t)=>e&&a(e)<a(t)?e:t),void 0);return{[e]:{relevantMatchUps:t,finishingPositionRanges:i,finishingPositionRange:o}}}));return Object.assign({},...a)}function Gd({tournamentRecord:e,participantIds:t}){if(!e)return{error:m};if(!t||t.length<2)return{error:Ze};if(t.length>2)return{error:Ee};const n=(e.participants||[]).filter((e=>e.participantType===ro&&2===an(t,e.individualParticipantIds).length)),i=n[0];return i?Object.assign({},ho,{participant:Sn(i),duplicatedPairParticipants:Sn(n)}):{error:ke}}function Hd({tournamentRecord:e,groupingParticipantId:t,individualParticipantIds:n}){if(!e)return{error:m};if(!t||!n)return{error:ye};const i=(e.participants||[]).find((e=>e.participantId===t));if(!i)return{error:ke};if(![io,ao].includes(i.participantType))return{error:Ae,participantType:i.participantType};const{removed:r,error:a}=Wd({groupingParticipant:i,individualParticipantIds:n});return r&&mn({topic:Ks,payload:{participants:[i]}}),a?{error:a}:Object.assign({},ho,{removed:r})}function Wd({groupingParticipant:e,individualParticipantIds:t=[]}){let n=0,i=[];return e?(e.individualParticipantIds||(e.individualParticipantIds=[]),e.individualParticipantIds=e.individualParticipantIds.filter((e=>{const i=null==t?void 0:t.includes(e);return i&&n++,!i})),i.length?{error:"Participants not removed",notRemoved:i}:{groupingParticipant:e,removed:n}):{removed:n}}function zd({groupingType:e=io,tournamentRecord:t,individualParticipantIds:n=[]}){if(!t)return{error:m};const i=t.participants||[];let r=0;return i.filter((t=>(t.participantRole===gd||!t.participantRole)&&t.participantType===e)).forEach((e=>{const{removed:t}=Wd({groupingParticipant:e,individualParticipantIds:n});t&&r++})),r?ho:{error:Le}}function Kd({tournamentRecord:e,groupingParticipantId:t,individualParticipantIds:n,removeFromOtherTeams:i}){if(!e)return{error:m};if(!t||!n)return{error:ye};const r=e.participants||[],a=r.find((e=>e.participantId===t));if(!a)return{error:ke};if(![io,ao].includes(a.participantType))return{error:Ae,participantType:a.participantType};const o=n.filter((e=>{const t=r.find((t=>t.participantId===e));return(null==t?void 0:t.participantType)!==no}));if(o.length)return{error:Ee,invalidParticipantIds:o};a.individualParticipantIds||(a.individualParticipantIds=[]);const s=a.individualParticipantIds,c=n.filter((e=>!s.includes(e)));c.length&&(i&&zd({tournamentRecord:e,individualParticipantIds:c}),a.individualParticipantIds=a.individualParticipantIds.concat(...c));const{topics:u}=gn();if(u.includes(Ks)){const e=r.find((({participantId:e})=>e===t));mn({topic:Ks,payload:{participants:[e]}})}return Object.assign({},ho,{groupingParticipant:Sn(a),added:c.length})}const qd="SCALE",Yd="RATING",$d="RANKING",Jd="SEEDING";function Qd({participant:e,scaleAttributes:t,requireTimeStamp:n}){if(!e)return{error:Re};if("object"!=typeof t)return{error:It};if(e.timeItems||(e.timeItems=[]),e&&Array.isArray(e.timeItems)){const{accessor:i,scaleType:r,eventType:a,scaleName:o}=t,s=[qd,r,a,o].join("."),c=e.timeItems.filter((e=>(null==e?void 0:e.itemType)===s)).filter((e=>!n||(null==e?void 0:e.itemDate))).sort(((e,t)=>new Date(e.createdAt||void 0)-new Date(t.createdAt||void 0))).pop();if(c){const[e,t,n,r]=c.itemType.split(".");if(e!==qd)return{error:mt};const a=i&&Ru({element:c.itemValue,accessor:i}),o=i?a.value:c.itemValue;return{scaleItem:{scaleDate:c.itemDate,scaleName:r,scaleType:t,eventType:n,scaleValue:o}}}return{error:ht}}return{error:Re}}function Xd({participant:e,scaleItem:t}){if(!e)return{error:Re};const n=t&&Object.keys(t),i=["scaleType","eventType","scaleName"];if(!(i.filter((e=>n.includes(e))).length===i.length))return{error:mt};const r=(new Date).toISOString();e.timeItems||(e.timeItems=[]);const{scaleItem:a}=Qd({participant:e,scaleAttributes:t});if(!a&&t.scaleValue||(null==a?void 0:a.scaleValue)!==t.scaleValue){const{scaleType:n,eventType:i,scaleName:a}=t,o={itemType:[qd,n,i,a].join("."),itemValue:t.scaleValue,itemDate:t.scaleDate,createdAt:r};t.scaleId&&(o.itemSubTypes=[t.scaleId]),e.timeItems.push(o)}return Object.assign({newValue:t.scaleValue},ho)}const el="MALE",tl="FEMALE",nl={ANY:"ANY",MALE:el,FEMALE:tl,MIXED:"MIXED",OTHER:"OTHER"};const il={addPenalty:Hu,modifyPenalty:Ku,removePenalty:Wu,getTournamentPenalties:zu,addParticipant:Au,addParticipants:Mu,deleteParticipants:function({tournamentRecord:e,participantIds:t}){var n;if(!e)return{error:m};if(null==t||!t.length)return{error:Ze};e.participants||(e.participants=[]);const i=null===(n=e.participants)||void 0===n?void 0:n.length;if(!i)return{error:"Tournament has no participants"};e.participants=e.participants.filter((e=>!t.includes(e.participantId)));const r=i-e.participants.length;return zd({tournamentRecord:e,individualParticipantIds:t}),r&&mn({topic:Hs,payload:{participantIds:t}}),r?ho:{error:Te}},createGroupParticipant:function({tournamentRecord:e,groupName:t,participantId:n,individualParticipantIds:i=[],participantRole:r="OTHER"}){if(!e)return{error:m};if(!t)return{error:ye,message:"Missing groupName"};if(!Array.isArray(i))return{error:It,message:"Invalid individualParticipantIds"};const{tournamentParticipants:a}=Vu({tournamentRecord:e,participantFilters:{participantTypes:[no]}}),o=a.map((e=>e.participantId)),s=[];if(i.forEach((e=>{o.includes(e)||s.push({error:Ae,participantId:e})})),s.length)return{error:s};const c={participantId:n||Pn(),participantType:ao,participantRole:r,participantName:t,name:t,individualParticipantIds:i},u=Au({tournamentRecord:e,participant:c});if(u.error)return u;const{topics:d}=gn();return d.includes(js)&&mn({topic:js,payload:{participants:[c]}}),Object.assign({},ho,{participant:Sn(c)})},addIndividualParticipantIds:Kd,removeIndividualParticipantIds:Hd,modifyIndividualParticipantIds:function({tournamentRecord:e,groupingParticipantId:t,individualParticipantIds:n}){if(!e)return{error:m};if(!t||!n)return{error:ye};const i=e.participants||[],r=i.find((e=>e.participantId===t));if(!r)return{error:ke};if(![io,ao].includes(r.participantType))return{error:Ae,participantType:r.participantType};const a=n.filter((e=>{const t=i.find((t=>t.participantId===e));return(null==t?void 0:t.participantType)!==no}));if(a.length)return{error:Ee,invalidParticipantIds:a};const o=r.individualParticipantIds||[],s=n.filter((e=>!o.includes(e))),c=o.filter((e=>!n.includes(e))),u=Kd({tournamentRecord:e,groupingParticipantId:t,individualParticipantIds:s});if(u.error)return u;const d=Hd({tournamentRecord:e,groupingParticipantId:t,individualParticipantIds:c});if(d.error)return d;const{topics:l}=gn();if(l.includes(Ks)){const e=i.find((({participantId:e})=>e===t));mn({topic:Ks,payload:{participants:[e]}})}return Object.assign({},u,d)},removeParticipantIdsFromAllTeams:zd,getParticipantMembership:function({tournamentRecord:e,participantId:t}){if(!e)return{error:m};if(!t)return{error:Oe};const{tournamentParticipants:n}=Vu({tournamentRecord:e,participantFilters:{participantTypes:[io,ro,ao]}});return(n||[]).filter((e=>{var n;return null===(n=e.individualParticipantIds)||void 0===n?void 0:n.includes(t)})).reduce(((e,t)=>{const{participantType:n}=t;return e[n]||(e[n]=[]),e[n].push(t),e}),{})},generateTeamsFromParticipantAttribute:function(e){if(null==e||!e.tournamentRecord)return{error:m};const{tournamentRecord:t,participantAttribute:n,personAttribute:i,uuids:r}=e,a={},o=t.participants||[];o.forEach((e=>{if(!e.person)return;if(e.participantRole!==gd)return;const t=i?e.person[i]:e[n];if(t){if(!Object.keys(a).includes(t)){a[t]={participantName:t,participantId:(null==r?void 0:r.pop())||Pn(),participantType:io,participantRole:gd,individualParticipantIds:[]};const e={name:Wa,value:i||n};vo({element:a[t],extension:e})}a[t].individualParticipantIds.push(e.participantId)}}));const s=Object.keys(a),c=o.map((e=>{if(e.participantType!==io)return;if(e.participantRole!==gd)return;const{extension:t}=Po({element:e,name:Wa}),n=null==t?void 0:t.value;return s.includes(n)?e.participantId:void 0})).filter((e=>e)),u=[];let d=0;return Object.keys(a).forEach((e=>{const n=a[e],{participantId:i}=n;c.includes(i)||(t.participants.push(n),u.push(n),d++)})),d&&mn({topic:js,payload:{participants:u}}),d?Object.assign({},ho,{participantsAdded:d}):{error:"No matching participants found"}},rankByRatings:function({tournamentRecord:e,participantIds:t,category:n,eventType:i}){if(!e)return{error:m};const r=(e.participants||[]).filter((e=>t.includes(e.participantId))),a=e=>{const t={scaleType:Yd,scaleName:n,eventType:i},{scaleItem:r}=Qd({participant:e,scaleAttributes:t});return r&&r.scaleValue},o=r.map((e=>({participantId:e.participantId,rating:a(e)}))).filter((e=>e.rating)).sort(((e,t)=>(t.rating||0)-(e.rating||0))).map(((e,t)=>({[e.participantId]:t+1}))),s=Object.assign({},...o);let c=[];r.forEach((e=>{const t=Xd({participant:e,scaleItem:{scaleValue:s[e.participantId],scaleName:n,scaleType:$d,eventType:i}});t&&t.success&&c.push(e)}));const{topics:u}=gn();return c.length&&u.includes(Ks)&&mn({topic:Ks,payload:{participants:c}}),c.length?ho:void 0},getParticipantIdFinishingPositions:function({tournamentRecord:e,drawDefinition:t,byeAdvancements:n=!1}){return e?Vd({tournamentParticipants:e.participants,byeAdvancements:n,drawDefinition:t}):{error:m}},modifyParticipant:function({tournamentRecord:e,groupingParticipantId:t,removeFromOtherTeams:n,updateParticipantName:i=!0,participant:r}){if(!e)return{error:m};if(!r)return{error:Re};if(!r.participantId)return Au({tournamentRecord:e,participant:r});const{participant:a}=No({tournamentRecord:e,participantId:r.participantId});if(!a)return Au({tournamentRecord:e,participant:r});const{participantName:o,onlineProfiles:s,individualParticipantIds:c,participantRole:u,participantType:d,person:l}=r,p={};if(s&&(p.onlineProfiles=s),o&&"string"==typeof o&&(p.participantName=o),Array.isArray(c)){const{tournamentParticipants:t}=Vu({tournamentRecord:e,participantFilters:{participantTypes:[oo.INDIVIDUAL]}}),n=null==t?void 0:t.map((({participantId:e})=>e));if(n){const e=c.filter((e=>"string"==typeof e&&n.includes(e)));([ao,ma].includes(d)||d===ro&&2===e.length)&&(p.individualParticipantIds=e),a.participantType===oo.PAIR&&i&&(p.participantName=function({individualParticipants:e,newValues:t}){const n=t.individualParticipantIds;return e.filter((({participantId:e})=>n.includes(e))).map((({person:e})=>null==e?void 0:e.standardFamilyName)).filter((e=>e)).sort().join("/")}({individualParticipants:t,newValues:p}))}}return Object.keys(yd).includes(u)&&(p.participantRole=u),Object.keys(oo).includes(d)&&(p.participantType=d),a.participantType===oo.INDIVIDUAL&&l&&function({updateParticipantName:e,existingParticipant:t,newValues:n,person:i}){const r={},{sex:a,personId:o,nationalityCode:s,standardFamilyName:c,standardGivenName:u}=i;a&&Object.keys(nl).includes(a)&&(r.sex=a);let d;o&&"string"==typeof o&&(r.personId=o);s&&"string"==typeof s&&s.length<4&&(r.nationalityCode=s);c&&"string"==typeof c&&c.length>1&&(r.standardFamilyName=c,d=!0);u&&"string"==typeof u&&u.length>1&&(r.standardGivenName=u,d=!0);if(d&&e){const e=`${r.standardGivenName} ${r.standardFamilyName}`;n.participantName=e}Object.assign(t.person,r)}({updateParticipantName:i,existingParticipant:a,newValues:p,person:l}),Object.assign(a,p),t&&Kd({tournamentRecord:e,groupingParticipantId:t,individualParticipantIds:[a.participantId],removeFromOtherTeams:n}),mn({topic:Ks,payload:{participants:[a]}}),ln()?Object.assign({},ho,{participant:Sn(a)}):ho},modifyParticipantName:function({tournamentRecord:e,participantId:t,participantName:n}){if(!e)return{error:m};if(!t)return{error:Oe};if(!n)return{error:ye,message:"Missing participantName"};const{participant:i}=No({tournamentRecord:e,participantId:t});if(!i)return{error:ke};i.participantName=n;const{topics:r}=gn();return r.includes(Ks)&&mn({topic:Ks,payload:{participants:[i]}}),ho},modifyParticipantOtherName:function({tournamentRecord:e,participantId:t,participantOtherName:n}){if(!e)return{error:m};if(!t)return{error:Oe};const{participant:i}=No({tournamentRecord:e,participantId:t});if(!i)return{error:ke};i.participantOtherName=n;const{topics:r}=gn();return r.includes(Ks)&&mn({topic:Ks,payload:{participants:[i]}}),ho},mergeParticipants:function({tournamentRecord:e,participants:t=[]}){if(!e)return{error:m};e.participants||(e.participants=[]),t=t.filter((e=>e.participantId));const n=Object.assign(...t.map((e=>({[e.participantId]:e})))),i=[];e.participants.forEach((e=>{n[e.participantId]&&(Object.assign(e,n[e.participantId]),i.push(e))}));const r=e.participants.map((e=>e.participantId)),a=t.filter((e=>r.includes(e.participantId))),{topics:o}=gn();return a.length&&(e.participants=e.participants.concat(...a),o.includes(js)&&mn({topic:js,payload:{participants:a}})),i.length&&o.includes(Ks)&&mn({topic:Ks,payload:{participants:i}}),a.length||i.length?ho:void 0},getPairedParticipant:Gd,setParticipantScaleItem:function({tournamentRecord:e,participantId:t,scaleItem:n}){let i,r;const a=n&&Object.keys(n)||[],o=["scaleType","eventType","scaleName"],s=o.filter((e=>a.includes(e))).length===o.length;if(!s)return{error:mt};if(t&&s&&Array.isArray(e.participants)&&(r=e.participants.find((e=>e.participantId===t)),r)){const{newValue:e,error:t}=Xd({participant:r,scaleItem:n});if(t)return{error:t};i=n.scaleValue===e;const{topics:a}=gn();a.includes(Ks)&&mn({topic:Ks,payload:{participants:[r]}})}return i?{...ho,message:St,value:n.scaleValue}:r?{...ho,value:n.scaleValue}:{error:ke}},setParticipantScaleItems:function({tournamentRecord:e,scaleItemsWithParticipantIds:t=[]}){if(!e)return{error:m};if(!e.participants)return{error:xe};let n=0;const i={},r=[],a=[];t.forEach((e=>{const t=null==e?void 0:e.participantId;Array.isArray(null==e?void 0:e.scaleItems)&&e.scaleItems.forEach((e=>{!function({scaleItem:e}){const t=e&&Object.keys(e),n=["scaleType","eventType","scaleName"];return!(n.filter((e=>t.includes(e))).length!==n.length)}({scaleItem:e})?r.push({error:mt}):(Array.isArray(i[t])||(i[t]=[]),i[t].push(e))}))})),e.participants.forEach((e=>{const{participantId:t}=e||{};Array.isArray(i[t])&&i[t].forEach((t=>{Xd({participant:e,scaleItem:t}),a.push(e),n++}))}));const o=!n&&vt,{topics:s}=gn();return s.includes(Ks)&&n&&!r.length&&mn({topic:Ks,payload:{participants:a}}),r.length?{error:r}:Object.assign({},ho,{modificationsApplied:n,message:o})},modifyParticipantsSignInStatus:function({tournamentRecord:e,participantIds:t,signInState:n}){if(!e)return{error:m};if(!Array.isArray(t))return{error:ye};if(![Zu,_u].includes(n))return{error:It,signInState:n};const i=e.participants||[];if(!i.length)return{error:xe};const r=[],a=[],o=(new Date).toISOString();i.forEach((i=>{const{participantId:s}=i;if(t.includes(s)){const t=Fs({tournamentRecord:e,duplicateValues:!1,participantId:s,timeItem:{itemType:ku,itemValue:n,createdAt:o}});t.error&&r.push(t.error),a.push(i)}}));const{topics:s}=gn();return a.length&&s.includes(Ks)&&mn({topic:Ks,payload:{participants:a}}),r.length?{error:r}:ho},getParticipantEventDetails:function({tournamentRecord:e,participantId:t}){if(!e)return{error:m};if(!t)return{error:Oe};const n=[t].concat((e.participants||[]).filter((e=>{var n;return[io,ro].includes(e.participantType)&&(null===(n=e.individualParticipantIds)||void 0===n?void 0:n.includes(t))})).map((e=>e.participantId)));return{eventDetails:(e.events||[]).filter((e=>!!an(((null==e?void 0:e.entries)||[]).map((e=>e.participantId)),n).length)).map((e=>({eventName:e.eventName,eventId:e.eventId})))}},findParticipant:function({tournamentRecord:e,participantId:t,personId:n,policyDefinition:i,inContext:r}){return e?"string"!=typeof t&&"string"!=typeof n?{error:ye}:{participant:Sn(mo({tournamentParticipants:e.participants||[],participantId:t,personId:n,inContext:r,policyDefinition:i}))}:{error:m}},getTournamentParticipants:Vu,getTournamentPersons:function({tournamentRecord:e,participantFilters:t}){if(!e)return{error:m};let n=e.participants||[];t&&(n=ju({tournamentRecord:e,participantFilters:t,participants:n}));const i={},r=e=>{if(e.person){const{personId:t}=e.person;i[t]?i[t].participantIds.push(e.participantId):i[t]=Object.assign({},e.person,{participantIds:[e.participantId]})}};return n.forEach((e=>{e.person&&r(e),e.individualParticipants&&e.individualParticipants.forEach(r)})),{tournamentPersons:Object.values(i)}}};function rl({tournamentRecord:e,courtId:t}){if(!e)return{error:m};if(!t)return{error:ge};const{court:n,error:i}=ec({tournamentRecord:e,courtId:t});if(i)return{error:i};const r=(({altitude:e,courtId:t,courtName:n,courtDimensions:i,latitude:r,longitude:a,surfaceCategory:o,surfaceType:s,surfaceDate:c,pace:u,notes:d})=>({altitude:e,courtId:t,courtName:n,courtDimensions:i,latitude:r,longitude:a,surfaceCategory:o,surfaceType:s,surfaceDate:c,pace:u,notes:d}))(n);return Object.assign({},ho,{courtInfo:Sn(r)})}function al({tournamentParticipants:e=[],policyDefinition:t,inContext:n=!0,drawDefinition:i,context:r}){if(!i)return{error:g};const a=(({drawId:e,drawName:t,matchUpFormat:n})=>({drawId:e,drawName:t,matchUpFormat:n}))(i);let o,s;const{structureGroups:c}=function({drawDefinition:e}){let t=(e.links||[]).map((e=>[e.source.structureId,e.target.structureId]));const n=t.length;nn(0,Math.ceil(n/2)).forEach((()=>{t=nn(0,n).map((e=>{const n=t[e],i=t.reduce(((e,t)=>an(n,t).length?e.concat(...t):e),[])||[];return $t(n.concat(...i))}))}));const i=t[0],r=(e,t)=>an(e,t).length===e.length,a=t.slice(1).reduce(((e,t)=>e&&r(t,i)),!0),o=[i].filter((e=>e));(e.structures||[]).forEach((e=>{const{structureId:t}=e;o.find((e=>e.includes(t)))||o.push([t])}));const s=a&&1===o.length;return{structureGroups:o,allStructuresLinked:s}}({drawDefinition:i});let u=!1,d=!1;const l=c.map((c=>{const l=c.map((e=>{const{structure:t}=lo({drawDefinition:i,structureId:e}),{seedAssignments:n}=Qo({drawDefinition:i,structure:t});return t.stage===ar&&1===t.stageSequence&&(o=n),t.stage===or&&1===t.stageSequence&&(s=n),t})).sort(uo).map((c=>{const{structureId:l}=c;let p=[];[ar,sr,ur].includes(c.stage)&&(p=o),c.stage===or&&(p=s);const{matchUps:f,roundMatchUps:m}=cs({context:{drawId:a.drawId,...r},tournamentParticipants:e,policyDefinition:t,seedAssignments:p,drawDefinition:i,structure:c,inContext:n}),{positionAssignments:h}=ts({structure:c}),v=h.filter((({participantId:e})=>e)).map((e=>{d=!0;const{drawPosition:t,participantId:n}=e,{extension:i}=Po({element:e,name:"tally"});return i&&{drawPosition:t,participantId:n,participantResult:i.value}})).filter((e=>null==e?void 0:e.participantResult)),g=(({stage:e,stageSequence:t,structureName:n,structureType:i,matchUpFormat:r,positionAssignments:a})=>({stage:e,stageSequence:t,structureName:n,structureType:i,matchUpFormat:r,positionAssignments:a}))(c);return g.structureActive=f.reduce(((e,t)=>{var n;const i=[Rn,Mn,On,_n,Vn,Fn,kn].includes(t.matchUpStatus);return e||i||!!t.winningSide||!(null===(n=t.score)||void 0===n||!n.scoreStringSide1)}),!1),g.structureCompleted=f.reduce(((e,t)=>e&&[An,Rn,_n,Vn,On,Cn].includes(t.matchUpStatus)),!0),g.structureActive&&(u=!0),{...g,structureId:l,roundMatchUps:m,seedAssignments:p,participantResults:v}}));return l.forEach((e=>delete e.positionAssignments)),l}));if(l.length>1){const e={error:"drawDefinition contains unlinked structures"};return ln()&&console.log(e),e}const p=l.flat();return a.drawActive=u,a.participantPlacements=d,a.drawGenerated=null==p?void 0:p.reduce(((e,t)=>e||!(null==t||!t.roundMatchUps)),!1),a.drawCompleted=null==p?void 0:p.reduce(((e,t)=>e&&t.structureCompleted),!0),Object.assign({},ho,{drawInfo:Sn(a),structures:Sn(p)})}function ol({tournamentRecord:e,venueId:t}){if(!e)return{error:m};if(!t)return{error:rt};const{venue:n,error:i}=Qs({tournamentRecord:e,venueId:t});if(i)return{error:i};const r=(n.courts||[]).map((t=>(({courtInfo:e})=>({...e}))(rl({tournamentRecord:e,courtId:t.courtId})))),a=(({venueId:e,venueName:t,venueAbbreviation:n})=>({venueId:e,venueName:t,venueAbbreviation:n}))(n),o=Object.assign({},a,{courtsInfo:r});return Object.assign({},ho,{venueData:Sn(o)})}function sl({tournamentRecord:e,event:t,policyDefinition:n}){if(!e)return{error:m};if(!t)return{error:B};const{eventId:i}=t,r=(null==e?void 0:e.participants)||[],a=(t.drawDefinitions||[]).map((e=>(({drawInfo:e,structures:t})=>({...e,structures:t}))(al({tournamentParticipants:r,policyDefinition:n,drawDefinition:e,context:{eventId:i}})))),{tournamentInfo:o}=Cd({tournamentRecord:e}),s=(e.venues||[]).map((t=>(({venueData:e})=>({...e}))(ol({tournamentRecord:e,venueId:t.venueId})))),c={eventInfo:(({eventId:e,eventName:t,eventType:n,eventLevel:i,surfaceCategory:r,matchUpFormat:a,category:o,gender:s,startDate:c,endDate:u,ballType:d,discipline:l})=>({eventId:e,eventName:t,eventType:n,eventLevel:i,surfaceCategory:r,matchUpFormat:a,category:o,gender:s,startDate:c,endDate:u,ballType:d,discipline:l}))(t),drawsData:a,venuesData:s,tournamentInfo:o},{timeItem:u}=Os({event:t,itemType:"PUBLISH.STATUS"});return c.eventInfo.publish={state:null==u?void 0:u.itemValue,createdAt:null==u?void 0:u.createdAt},Object.assign({},ho,{eventData:Sn(c)})}const cl={getTournamentInfo:Cd,getVenueData:ol,getCourtInfo:rl,getAllEventData:function({tournamentRecord:e,policyDefinition:t}){if(!e)return{error:m};const n=e.events||[],i=(null==e?void 0:e.participants)||[],{tournamentInfo:r}=Cd({tournamentRecord:e}),{venues:a}=Js({tournamentRecord:e});return{allEventData:{tournamentInfo:r,venuesData:a,eventsData:n.map((n=>{const{eventId:r}=n,a=(({eventId:e,eventName:t,eventType:n,eventLevel:i,surfaceCategory:r,matchUpFormat:a,category:o,gender:s,startDate:c,endDate:u,ballType:d,discipline:l})=>({eventId:e,eventName:t,eventType:n,eventLevel:i,surfaceCategory:r,matchUpFormat:a,category:o,gender:s,startDate:c,endDate:u,ballType:d,discipline:l}))(n),o=(n.drawDefinitions||[]).map((n=>{const a=(({drawId:e,drawName:t,matchUpFormat:n})=>({drawId:e,drawName:t,matchUpFormat:n}))(n),{pendingMatchUps:o,completedMatchUps:s,upcomingMatchUps:c,abandonedMatchUps:u}=Ns({context:{eventId:r},inContext:!0,drawDefinition:n,policyDefinition:t,tournamentRecord:e,includeByeMatchUps:!1,requireParticipants:!0,tournamentParticipants:i});return{drawInfo:a,matchUps:{abandonedMatchUps:u,completedMatchUps:s,upcomingMatchUps:c,pendingMatchUps:o}}})),{timeItem:s}=Os({event:n,itemType:"PUBLISH.STATUS"});return Object.assign(a,{publish:null==s?void 0:s.itemValue,drawsData:o}),a}))}}},getEventData:sl,getDrawData:al,publishEvent:function({tournamentRecord:e,policyDefinition:t,status:n=Aa,structureIds:i=[],drawIdsToRemove:r,drawIdsToAdd:a,drawIds:o,event:s}){var c,u,d;if(!e)return{error:m};if(!s)return{error:B};if(o||a||r){if(!o&&(null!=a&&a.length||null!=r&&r.length)){var l,p;const{timeItem:e}=Os({event:s,itemType:f});o=(null==e||null===(l=e.itemValue)||void 0===l||null===(p=l.PUBLIC)||void 0===p?void 0:p.drawIds)||[]}}else o=(null===(d=s.drawDefinitions)||void 0===d?void 0:d.map((({drawId:e})=>e)))||[];o=(o||[]).filter((e=>!(null!=r&&r.length&&r.includes(e)))),null!=a&&a.length&&(o=o.concat(...a));const f="PUBLISH.STATUS",h=Zs({event:s,timeItem:{itemType:f,itemValue:{[n]:{drawIds:o,structureIds:i}}}});if(h.error)return{error:h.error};const{eventData:v}=sl({tournamentRecord:e,policyDefinition:t,event:s}),g=null==v||null===(c=v.eventInfo)||void 0===c||null===(u=c.publish)||void 0===u?void 0:u.state;return v.drawsData=v.drawsData.filter((({drawId:e})=>{var t;return null==g||null===(t=g.PUBLIC)||void 0===t?void 0:t.drawIds.includes(e)})),mn({topic:Ys,payload:{eventData:v}}),Object.assign({},ho,{eventData:v})},unPublishEvent:function({tournamentRecord:e,event:t}){if(!e)return{error:m};if(!t)return{error:B};const n=Zs({event:t,timeItem:{itemType:"PUBLISH.STATUS",itemValue:Ma}});return n.error?{error:n.error}:(mn({topic:"unPublishEvent",payload:{eventId:t.eventId}}),Object.assign({eventId:t.eventId},ho))}};const ul={addNotes:gc,removeNotes:function({element:e}){return e?(e.notes&&delete e.notes,ho):{error:ye}},setTournamentName:function({tournamentRecord:e,tournamentName:t,promotionalName:n,formalName:i}){return e?(t&&(e.tournamentName=t),n&&(e.promotionalName=n),i&&(e.formalName=i),e.promotionalName===e.tournamentName&&delete e.promotionalName,e.formalName===e.tournamentName&&delete e.formalName,ho):{error:m}},setTournamentNotes:function({tournamentRecord:e,notes:t}){return e?(e.notes=t,ho):{error:m}},setTournamentEndDate:function({tournamentRecord:e,endDate:t}){return e?l.test(t)?(e.endDate&&new Date(t)<new Date(e.endDate)&&console.log("TODO: check for events to be unscheduled"),e.endDate=t,ho):{error:Se}:{error:m}},setTournamentStartDate:function({tournamentRecord:e,startDate:t}){return e?l.test(t)?(e.startDate&&new Date(t)>new Date(e.startDate)&&console.log("TODO: check for events to be unscheduled"),e.startDate=t,ho):{error:Se}:{error:m}},setTournamentCategories:function({tournamentRecord:e,categories:t}){return e?(t=(t||[]).filter((e=>e.categoryName&&e.type)),e.tournamentCategories=t,ho):{error:m}},addEventTimeItem:Zs,addTournamentTimeItem:Ls,addParticipantTimeItem:Fs,addEventExtension:bo,removeEventExtension:So,addTournamentExtension:yo,removeTournamentExtension:wo,addParticipantExtension:function({tournamentRecord:e,participantId:t,extension:n}){if(!t)return{error:Oe};const i=e.participants||[],{participant:r}=mo({tournamentParticipants:i,participantId:t});return r?vo({element:r,extension:n}):{error:ke}},removeParticipantExtension:function({tournamentRecord:e,participantId:t,name:n}){if(!t)return{error:Oe};const i=e.participants||[],{participant:r}=mo({tournamentParticipants:i,participantId:t});return r?go({element:r,name:n}):{error:ke}},addDrawDefinitionExtension:Io,removeDrawDefinitionExtension:function({drawDefinition:e,name:t}){return e?go({element:e,name:t}):{error:y}}};const dl={assignMatchUpCourt:nc,assignMatchUpVenue:Xs,addMatchUpScheduleItems:Id,addMatchUpScheduledDate:bd,addMatchUpScheduledTime:wd,addMatchUpStartTime:Sd,addMatchUpEndTime:Nd,addMatchUpStopTime:Pd,addMatchUpResumeTime:Ud,addMatchUpOfficial:Dd,getMatchUpFormatTiming:rd,modifyMatchUpFormatTiming:Qu,getModifiedMatchUpFormatTiming:Ju,getEventMatchUpFormatTiming:ad,modifyEventMatchUpFormatTiming:ed,removeEventMatchUpFormatTiming:cd,getMatchUpFormatTimingUpdate:td,getMatchUpDailyLimits:sd,setMatchUpDailyLimits:md,getMatchUpDailyLimitsUpdate:fd,isValidSchedulingProfile:function({tournamentRecord:e,schedulingProfile:t}){const{venues:n}=Js({tournamentRecord:e});return lu({venueIds:null==n?void 0:n.map((({venueId:e})=>e)),schedulingProfile:t})},setSchedulingProfile:fu,getSchedulingProfile:mu,removeMatchUpCourtAssignment:function({drawDefinition:e,matchUpId:t,courtDayDate:n}){return pd({drawDefinition:e,matchUpId:t,courtDayDate:n})},bulkScheduleMatchUps:fc};function ll({tournamentRecord:e,categoryName:t,categoryType:n}){if(!e)return{error:m};const{appliedPolicies:i}=ds({tournamentRecord:e}),r=i&&i.draws;return((null==r?void 0:r.allowedDrawTypes)||[]).filter((({categoryNames:e,categoryTypes:i})=>!t&&!i||t&&(null==e?void 0:e.includes(t))||n&&(null==i?void 0:i.includes(n))))}function pl({participantCount:e}){if(isNaN(e))return{error:It};return{drawSize:[0,2,4,8,16,32,64,128,256,512,1024].find((t=>t>=e))||0}}function fl({requireParticipantCount:e=!0,drawSizeProgression:t=!1,policyDefinition:n,participantCount:i,drawSize:r}={}){if(!n)return{error:ce};if(i&&isNaN(i))return{error:It};if(e&&!i)return{error:_e};if(!r){if(!i)return{error:T};({drawSize:r}=pl({participantCount:i}))}if((e&&i||r)>r)return{error:ze};const a=n.seeding;if(!a)return{error:le};const o=a.seedsCountThresholds;if(!o)return{error:M};a.drawSizeProgression&&(t=!0);return{seedsCount:o.filter((e=>t?e.drawSize<=r:r===e.drawSize)).reduce(((e,t)=>i>=t.minimumParticipantCount?t.seedsCount:e),0)}}function ml({drawDefinition:e,drawId:t,event:n,policyDefinition:i,drawSize:r,stage:a}){if(!n)return{error:B};let o=n.entries;if(t){var s;const{flightProfile:i}=Tu({event:n}),r=null==i||null===(s=i.flights)||void 0===s?void 0:s.find((e=>e.drawId===t));o=r?r.drawEntries:null==e?void 0:e.entries}const c=o.filter((e=>(!a||!e.entryStage||e.entryStage===a)&&jo.includes(e.entryStatus))),u=c.length,{drawSize:d}=pl({participantCount:u}),{seedsCount:l,error:p}=fl({policyDefinition:i,participantCount:u,drawSize:r||d});return p?{error:p}:{entries:o,seedsCount:l,stageEntries:c}}const hl={attachPolicy:Td,attachEventPolicy:function({tournamentRecord:e,policyDefinition:t,event:n}){if(!e)return{error:m};if(!n)return{error:B};if(!t)return{error:ce};let i=0;n.extensions||(n.extensions=[]);const{appliedPolicies:r}=ls({event:n});if(Object.keys(t).forEach((e=>{r[e]=t[e],i++})),i){bo({event:n,extension:{name:Ba,value:r}})}return i?ho:{error:fe}},removeEventPolicy:function({tournamentRecord:e,event:t,policyType:n}){if(!e)return{error:m};if(!n)return{error:ye};if(!t)return{error:B};let i;if(t.extensions){const{appliedPolicies:e}=ls({event:t});if(e&&e[n])if(delete e[n],i=!0,Object.keys(e).length){bo({event:t,extension:{name:Ba,value:e}})}else So({event:t,name:Ba})}return i?ho:{error:me}},findPolicy:id,getSeedsCount:fl,getEntriesAndSeedsCount:ml,getAllowedDrawTypes:ll,getAllowedMatchUpFormats:function({tournamentRecord:e,categoryName:t,categoryType:n}){if(!e)return{error:m};const{appliedPolicies:i}=ds({tournamentRecord:e}),r=i&&i.scoring;return((null==r?void 0:r.matchUpFormats)||[]).filter((({categoryNames:e,categoryTypes:i})=>!t&&!i||t&&(null==e?void 0:e.includes(t))||n&&(null==i?void 0:i.includes(n))))},getEventAppliedPolicies:ls};const vl="deleteEvents",gl="deleteDrawDefinitions";function yl({entries:e=[]}={}){const t=e.reduce(((e,t)=>{const{entryStage:n,entryStatus:i}=t,r=`_${n||ar}${i||""}`;return e[r]||(e[r]=[]),e[r].push(t),e}),{});return Object.keys(t).map((e=>t[e].sort(((e,t)=>(e.entryPosition||99999)-(t.entryPosition||99999))).map(((e,t)=>{const n=t+1;return Object.assign(e,{entryPosition:n})})))).flat()}function Il({participantId:e,drawDefinition:t,entryStatus:n,entryStage:i}){var r;if(!t)return{error:g};const a=null===(r=t.entries)||void 0===r?void 0:r.find((t=>!(t.participantId!==e||n&&n!==t.entryStatus||i&&i!==t.entryStage)));return e&&a}function bl({drawDefinition:e,participantIds:t,entryStatus:n=Oo,stage:i=ar,autoEntryPositions:r=!0}){if(!i)return{error:K};if(!e)return{error:g};if(!Array.isArray(t))return{error:Ee};if(!Go({stage:i,drawDefinition:e}))return{error:q};const a=Jo({stage:i,drawDefinition:e,entryStatus:n});if(!a.success)return{error:a.error};if((a.positionsAvailable||0)<t.length)return{error:Ke};const o=t.reduce(((t,r)=>{const a=n===Fo&&Il({participantId:r,drawDefinition:e,entryStatus:n}),o=i===cr&&Il({participantId:r,drawDefinition:e,entryStage:i});return n!==Fo&&i!==cr&&Il({drawDefinition:e,participantId:r})||a||o?t.concat({participantId:r,error:We}):t}),[]);return o.length?{error:W,invalidParticipantIds:o}:(t.forEach((t=>{const r=Object.assign({participantId:t},{entryStage:i,entryStatus:n});e.entries.push(r)})),r&&(e.entries=yl({entries:e.entries})),ho)}function wl({drawDefinition:e,participantIds:t,entryStatus:n,entryStage:i,drawId:r,event:a,autoEntryPositions:o=!0}){if(!r)return{error:C};if(!a)return{error:V};a.entries||(a.entries=[]);const s=a.entries.map((({participantId:e})=>e));if(t.filter((e=>!s.includes(e))).length)return{error:H};if(e){const r=bl({drawDefinition:e,participantIds:t,entryStatus:n,stage:i,autoEntryPositions:o});if(r.error)return r}const{flightProfile:c}=Tu({event:a}),u=null==c?void 0:c.flights.find((e=>e.drawId===r));if(null!=u&&u.drawEntries){const e=u.drawEntries.map((({participantId:e})=>e));t.forEach((t=>{e.includes(t)||u.drawEntries.push({participantId:t,entryStatus:n,entryStage:i})})),o&&(u.drawEntries=yl({entries:u.drawEntries}))}return ho}function Sl({drawDefinition:e,stages:t}){return((null==e?void 0:e.structures)||[]).filter((e=>!(null!=t&&t.length)||t.includes(e.stage))).map((e=>{const{positionAssignments:t}=ts({structure:e});return t.map((({participantId:e})=>e)).filter((e=>e))})).flat()}function Nl({participantIds:e,drawDefinition:t,drawId:n,event:i,autoEntryPositions:r=!0}){var a;if(!i)return{error:B};if(!n)return{error:C};if(!e||!e.length)return{error:Ze};if(!i||!i.eventId)return{error:V};i.entries||(i.entries=[]);const o=Sl({drawDefinition:t});if(an(e,o).length)return{error:He};const s=t=>{const n=t.participantId;return!e.includes(n)},{flightProfile:c}=Tu({event:i}),u=null==c||null===(a=c.flights)||void 0===a?void 0:a.find((e=>e.drawId===n));return null!=u&&u.drawEntries&&(u.drawEntries=u.drawEntries.filter(s),r&&(u.drawEntries=yl({entries:u.drawEntries}))),null!=t&&t.entries&&(t.entries=t.entries.filter(s),r&&(t.entries=yl({entries:t.entries}))),ho}function Pl({participantIds:e,drawId:t,drawDefinition:n,event:i,autoEntryPositions:r=!0}){if(!i)return{error:B};if(!e||!e.length)return{error:Ze};if(!i||!i.eventId)return{error:V};i.entries||(i.entries=[]);const a=Sl({drawDefinition:n});return an(e,a).length?{error:He}:(i.entries=i.entries.filter((t=>{const n=t.participantId||t.participant&&t.participant.participantId;return!e.includes(n)})),r&&(i.entries=yl({entries:i.entries})),t&&Nl({participantIds:e,drawId:t,drawDefinition:n,event:i}),ho)}function Ul(e){var t;const{tournamentRecord:n,drawDefinition:i,drawId:r,event:a,participantIds:o=[],entryStatus:s=Oo,entryStage:c=ar,autoEntryPositions:u=!0}=e;if(!a)return{error:B};if(!o||!o.length)return{error:Ze};if(!a||!a.eventId)return{error:V};const d=null==n||null===(t=n.participants)||void 0===t?void 0:t.filter((e=>a.eventType===pa&&e.participantType===no||(a.eventType===fa&&e.participantType===ro||(a.eventType===fa&&e.participantType===no&&s===_o||a.eventType===io&&e.participantType===io)))).map((e=>e.participantId)),l=o.filter((e=>d.includes(e)));a.entries||(a.entries=[]);const p=a.entries.map((e=>e.participantId||e.participant&&e.participant.participantId));if(l.forEach((e=>{p.includes(e)||a.entries.push({participantId:e,entryStatus:s,entryStage:c})})),r){const e=wl({participantIds:l,autoEntryPositions:u,drawDefinition:i,entryStatus:s,entryStage:c,drawId:r,event:a});if(e.error)return e}if(a.eventType===fa){const e=a.entries.map((e=>e.participantId)),t=a.entries.filter((e=>e.entryStatus===_o)).map((e=>e.participantId)),i=(n.participants||[]).filter((t=>e.includes(t.participantId)&&t.participantType===ro)).map((e=>e.individualParticipantIds)).flat(1/0),r=t.filter((e=>i.includes(e)));r.length&&Pl({participantIds:r,autoEntryPositions:!1,event:a})}const f=!(l.length===o.length);return u&&(a.entries=yl({entries:a.entries})),f?{error:Ee}:ho}function Dl({tournamentRecord:e,drawDefinition:t,participantIds:n,entryStatus:i,drawId:r,stage:a,event:o,eventSync:s,autoEntryPositions:c=!0}){var u,d,l,p,f,m,h;if(!n||!Array.isArray(n))return{error:Ce,method:"modifyEntriesStatus",participantIds:n};if(!Bo.includes(i))return{error:qe};if(!t&&!o)return{error:B};const v=[];var g;[Zo,_o].includes(i)&&(null===(g=o.drawDefinitions)||void 0===g||g.forEach((e=>{const t=Sl({drawDefinition:e});v.push(...t)})));const y=(null==e?void 0:e.participants)||[];if(!n.every((e=>{const{participantType:t}=mo({tournamentParticipants:y,participantId:e});return!(t===ro&&i===_o)})))return{error:qe};const I=(e=[])=>{const t=e.filter((e=>!a||!e.entryStage||a===e.entryStage)).filter((({participantId:e})=>n.includes(e)));return t.every((e=>!(e=>v.includes(e.participantId))(e)&&(e.entryStatus=i,delete e.entryPosition,!0)))?ho:{error:Ve}},{flightProfile:b}=Tu({event:o}),w=null==b||null===(u=b.flights)||void 0===u?void 0:u.find((e=>e.drawId===r)),S=()=>{o.entries=yl({entries:o.entries}),w&&(w.drawEntries=yl({entries:w.drawEntries})),t&&(t.entries=yl({entries:t.entries}))},N=(null===(d=o.entries)||void 0===d?void 0:d.find((({entryPosition:e})=>e)))||(null==w||null===(l=w.drawEntries)||void 0===l?void 0:l.find((({entryPosition:e})=>e)))||(null==t||null===(p=t.entries)||void 0===p?void 0:p.find((({entryPosition:e})=>e)));c&&!N&&S();(w||t)&&(({flight:e,drawDefinition:t})=>{if(e){const t=I(e.drawEntries);if(t.error)return t}if(t){const e=I(t.entries);if(e.error);}})({flight:w,drawDefinition:t});const P=1===(null==b||null===(f=b.flights)||void 0===f?void 0:f.length)&&(null===(m=o.drawDefinitions)||void 0===m?void 0:m.length)<=(null==b||null===(h=b.flights)||void 0===h?void 0:h.length);if(!w&&!t||i===Zo||s&&P){const e=I(o.entries);if(e.error)return e;let t;var U,D;if(i===Zo)null==b||null===(U=b.flights)||void 0===U||U.every((({drawEntries:e})=>{const n=I(e);return!n.error||(t=n.error,!1)})),null===(D=o.drawDefinitions)||void 0===D||D.every((({entries:e})=>{const n=I(e);return!n.error||(t=n.error,!1)}));if(t)return{error:t}}return c&&S(),ho}function Tl({tournamentRecord:e,drawDefinition:t,participantId:n,entryStatus:i,drawId:r,event:a}){if(!e)return{error:m};if(!n)return{error:Oe};if(!a)return{error:B};if(a.eventType!==fa)return{error:j};const o=(e.participants||[]).find((e=>e.participantId===n));if(!o)return{error:ke};if(o.participantType!==ro)return{error:Ae};const s=(a.entries||[]).find((e=>e.participantId===n));if(!s)return{error:Ye};let c=Pl({event:a,drawId:r,drawDefinition:t,tournamentRecord:e,participantIds:[n]});if(c.error)return c;const u=o.individualParticipantIds;return c=Ul({event:a,drawId:r,drawDefinition:t,tournamentRecord:e,entryStatus:_o,entryStage:s.entryStage,participantIds:u}),c.error?c:i?Dl({tournamentRecord:e,drawDefinition:t,participantIds:u,event:a,entryStatus:i}):ho}function Cl({element:e,participantId:t,stage:n,stageSequence:i}){const r=e.entries.filter((e=>e.entryStatus===Ao)),a=(e.entries||[]).find((e=>e.participantId===t))||r.reduce(((e,t)=>{const{entryPosition:n}=t;return n&&(!e||n<e.entryPosition)?t:e}),void 0);if(!a)return{error:Ye};if(a.entryStatus!==Ao)return{error:qe};if(a.stage&&a.entryStage!==n)return{error:"Participant not entered in stage"};if(i&&a.stageSequence!==i)return{error:"Participant not found in stageSequence"};a.entryStatus=Oo;const o=null==a?void 0:a.entryPosition;o&&e.entries.forEach((e=>{e.entryStatus===Ao&&e.entryPosition>o&&(e.entryPosition=e.entryPosition-1)}));let s=Math.max(...e.entries.filter((e=>e.entryStatus===Oo&&!isNaN(e.entryPosition))).map((({entryPosition:e})=>parseInt(e||0))),0);return a.entryPosition=(s||0)+1,ho}function El({event:e,participants:t,ignoreGender:n}){if(!e)return{error:B};if(!t)return{error:xe};const{eventType:i,gender:r}=e;if(![ma,pa,fa].includes(i))return{error:"Unrecognized eventType"};const a=i===pa?no:i===fa?ro:ma,o=Object.assign({},...e.entries.map((e=>({[e.participantId]:e.entryStatus})))),s=Object.keys(o),c=t.filter((e=>s.includes(e.participantId))).filter((e=>{const t=i===fa&&e.participantType===no&&[_o,Zo].includes(o[e.participantId]),s=e.participantType!==a&&!t,c=!n&&i===no&&[el,tl].includes(r)&&e.sex!==r;return s||c}));if(c.length){const e=c.map((e=>e.participantId));return{error:W,invalidParticipantIds:e}}return ho}function Al({drawDefinition:e,participantId:t,structureId:n,seedNumber:i,seedValue:r}){const{structure:a}=lo({drawDefinition:e,structureId:n}),{positionAssignments:o}=ns({structure:a}),{seedAssignments:s}=Qo({drawDefinition:e,structure:a}),c=s.map((e=>e.seedNumber)),u=Il({drawDefinition:e,participantId:t});if(t&&!u)return{error:Ce,participantId:t,method:"assignSeed"};const d=o.find((e=>e.participantId===t)),l=null==d?void 0:d.drawPosition;if(l){if(!Qc({seedNumber:i,drawDefinition:e,structureId:n,drawPosition:l}))return{error:I}}if(c.includes(i)){const e={};return s.forEach((n=>{n.participantId===t&&n.seedNumber!==i&&(n.participantId=void 0),n.seedNumber===i&&(n.participantId=t,n.seedValue=r||i,Object.assign(e,ho))})),e}return{error:x}}function Ml({participants:e,idCollections:t,policyAttributes:n,targetParticipantIds:i}){if(!Array.isArray(n))return{error:de};if(!Array.isArray(e))return{error:xe};const r={};return i.forEach((i=>{const a=e.find((e=>e.participantId===i)),{values:o}=Rl({participant:a,participants:e,idCollections:t,policyAttributes:n});o&&o.forEach((e=>{r[e]||(r[e]=[]),r[e].includes(i)||r[e].push(i)}))})),r}function Rl({participant:e,participants:t,idCollections:n,policyAttributes:i}){if(!Array.isArray(i))return{error:de};if(!e)return{error:Re};const r=[];i.forEach((i=>{const o=e,{directive:s,groupings:c,key:u,significantCharacters:d}=i||{};if(u){a({value:o,keys:u.split("."),significantCharacters:d})}else if(s){const a=null==i?void 0:i.includeIds,o=(n&&n[s]||[]).filter((e=>!a||a.includes(e)));null!=o&&o.length&&null!=t&&t.length&&o.forEach((n=>{var i;const a=t.find((e=>e.participantId===n));if(null!=a&&null!==(i=a.individualParticipantIds)&&void 0!==i&&i.includes(e.participantId)){const e=null==a?void 0:a.participantId;r.push(e)}}))}else c&&Object.keys(c).forEach((t=>{c[t].includes(e.participantId)&&r.push(t)}))}));return{values:$t(r)};function a({value:e,keys:t=[],significantCharacters:n}){for(const[r,o]of t.entries())if(e&&e[o])if(Array.isArray(e[o])){const i=e[o],s=t.slice(r);i.forEach((e=>a({value:e,keys:s,significantCharacters:n})))}else i({value:e=e[o],index:r});function i({value:e,index:i}){if(e&&i===t.length-1&&["string","number"].includes(typeof e)){const t=n?e.slice(0,n):e;r.push(t)}}}}function xl({drawPositions:e}){const t=[].concat(...e.map((t=>e.filter((e=>e!==t)).map((e=>[t,e]))))),n=$t(t.map(Ol)).map((e=>e.split("|").map((e=>+e))));return{groupMatchUps:t,uniqueMatchUpGroupings:n}}function Ol(e){return e.sort(Nn).join("|")}function kl({isRoundRobin:e,groupedParticipants:t}){const n=[];return e?t.forEach((e=>{const t=e.map((e=>e.drawPosition)),{uniqueMatchUpGroupings:i}=xl({drawPositions:t}),r=Object.assign({},...e.map((e=>({[e.drawPosition]:e}))));i.forEach((t=>{an(r[t[0]].values||[],r[t[1]].values||[]).length&&(n.push(t),e.conflict=!0)}))})):t.forEach((e=>{an(e[0].values||[],e[1].values||[]).length&&(n.push(e),e.conflict=!0)})),n}function Fl({isRoundRobin:e,avoidanceConflicts:t,drawPositionGroups:n,positionedParticipants:i,potentialDrawPositions:r}){return t.map((t=>{const a=t.map((e=>e.drawPosition));return t.filter((e=>r.includes(e.drawPosition))).map((t=>{const o=r.filter((e=>!a.includes(e))).filter((r=>{const a=n.find((e=>e.includes(r))).find((e=>e!==r)),o=i.find((e=>e.drawPosition===a)),s=kl({isRoundRobin:e,groupedParticipants:[[t,o]]}),c=i.find((e=>e.drawPosition===r)),u=kl({isRoundRobin:e,groupedParticipants:[[c,o]]});return!s.length&&!u.length}));if(o.length)return{drawPosition:t.drawPosition,possibleDrawPositions:o}})).filter((e=>e))})).flat(1)}function Ll({allGroups:e,groupsToAvoid:t,positionAssignments:n}){return Object.assign({},...n.filter((e=>null==e?void 0:e.participantId)).map((n=>{const{drawPosition:i,participantId:r}=n,a=jl({allGroups:e,participantId:r});return{[i]:{participantGroups:a,includesGroupsToAvoid:!!an(t,a).length}}})))}function Zl(e){const{unfilledPositions:t,chunkedDrawPositions:n}=e,i=Ll(e);return n.map((e=>{const n=t.filter((t=>e.includes(t))),r=function(e){return e.filter((e=>!t(e)));function t(t){const n=_l(t);return!e.includes(n)}}(n),a=n.filter((e=>!r.includes(e))).filter((e=>{var t;const n=_l(e);return!(null!==(t=i[n])&&void 0!==t&&t.includesGroupsToAvoid)}));return{unassigned:n,unpaired:r,pairedNoConflict:a}}))}function _l(e){return e%2?e+1:e-1}function jl({allGroups:e,participantId:t}){return Object.keys(e).filter((n=>e[n].includes(t)))}function Bl({allGroups:e,isRoundRobin:t,unfilledPositions:n,drawPositionChunks:i,positionAssignments:r,selectedParticipantGroups:a}){const o=i.map((i=>t?function(e){const{unfilledPositions:t,chunkedDrawPositions:n}=e,i=Ll(e);return n.map((e=>{const n=t.filter((t=>e.includes(t))),r=n.length===e.length?n:[],a=e.filter((e=>{var t;return null===(t=i[e])||void 0===t?void 0:t.includesGroupsToAvoid})).length;return{unassigned:n,unpaired:r,pairedNoConflict:a?[]:n,conflictsCount:a}}))}({allGroups:e,unfilledPositions:n,positionAssignments:r,chunkedDrawPositions:i,groupsToAvoid:a}):Zl({allGroups:e,unfilledPositions:n,positionAssignments:r,chunkedDrawPositions:i,groupsToAvoid:a})));if(t){return{unassigned:o.map((e=>e.map((e=>e.unassigned)).filter((e=>null==e?void 0:e.length)))).filter((e=>null==e?void 0:e.length)).sort(((e,t)=>(t.length||0)-(e.length||0))),unpaired:o.map((e=>e.map((e=>e.unpaired)).filter((e=>null==e?void 0:e.length)))).filter((e=>null==e?void 0:e.length)),pairedNoConflict:o.map((e=>e.map((e=>e.pairedNoConflict)).filter((e=>null==e?void 0:e.length)))).filter((e=>null==e?void 0:e.length)).sort(((e,t)=>(t.length||0)-(e.length||0)))}}return{unassigned:o.map((e=>e.map((e=>e.unassigned)).filter((e=>null==e?void 0:e.length)))).filter((e=>null==e?void 0:e.length)),unpaired:o.map((e=>e.map((e=>e.unpaired)).filter((e=>null==e?void 0:e.length)))).filter((e=>null==e?void 0:e.length)),pairedNoConflict:o.map((e=>e.map((e=>e.pairedNoConflict)).filter((e=>null==e?void 0:e.length)))).filter((e=>null==e?void 0:e.length))}}function Vl({participantIds:e,positionAssignments:t}){const n=t.map((e=>e.participantId));return e.filter((e=>!n.includes(e)))}function Gl({groupKey:e,allGroups:t,idCollections:n,pairedPriority:i,policyAttributes:r,drawPositionGroups:a,drawPositionChunks:o,unseededParticipantIds:s,participantsWithContext:c,candidatePositionAssignments:u}){const d=a.reduce(((e,t)=>t.length>e?t.length:e),0),l=!!(d>2),p=Vl({participantIds:s,positionAssignments:u}),f=function({drawPositionGroups:e,positionAssignments:t}){const n=Object.assign({},...t.map((e=>({[e.drawPosition]:e}))));return e.map((e=>e.filter((e=>e)).map((e=>n[e])).filter((e=>!e.participantId&&!e.bye)).map((e=>e.drawPosition)))).flat().filter((e=>e))}({drawPositionGroups:a,positionAssignments:u}),{participantId:m,groupKey:h}=function({participants:e,policyAttributes:t,targetParticipantIds:n,groupKey:i,idCollections:r,largestFirst:a=!0,useSpecifiedGroupKey:o=!1}){var s;const c=Ml({participants:e,idCollections:r,policyAttributes:t,targetParticipantIds:n}),u=Object.keys(c).reduce(((e,t)=>c[t].length>e?c[t].length:e),0),d=Object.keys(c).filter((e=>c[e].length===u)),l=tn(a?d:Object.keys(c));return{participantId:(i=o&&null!==(s=c[i])&&void 0!==s&&s.length?i:l)&&c[i]?tn(c[i]):tn(n),groupKey:i}}({groupKey:e,idCollections:n,policyAttributes:r,targetParticipantIds:p,useSpecifiedGroupKey:l,participants:c}),v=Bl({allGroups:t,largestGroupSize:d,unfilledPositions:f,drawPositionChunks:o,isRoundRobin:l,positionAssignments:u,selectedParticipantGroups:jl({allGroups:t,participantId:m})}),{unassigned:g,unpaired:y,pairedNoConflict:I}=v,b=(null==I?void 0:I.length)&&I[0],w=(null==y?void 0:y.length)&&y[0],S=i&&b?b:w,N=i?w:b,P=(null==S?void 0:S.length)&&S||(null==N?void 0:N.length)&&N;let U;if(null!=P&&P.length){const e=en(P);U=en(e)}else{const e=en(g[0]);U=en(e)}return{newGroupKey:h,selectedParticipantId:m,targetDrawPosition:U}}function Hl({candidatePositionAssignments:e,participantsWithContext:t,policyAttributes:n,idCollections:i}){const r=Object.assign({},...t.map((e=>({[e.participantId]:e}))));return e.map((e=>{const a=r[e.participantId],{values:o}=Rl({participant:a,policyAttributes:n,idCollections:i,participants:t});return Object.assign({},e,{values:o})}))}function Wl(e){const{initialPositionAssignments:t,participantsWithContext:n,opponentsToPlaceCount:i,drawPositionGroups:r,policyAttributes:a}=e,o=[],s={};let c;const u=Math.min(...r.map((e=>e.length))),d=u>2;s.groupParticipants=n.filter((e=>e.participantType===ao)).map((e=>e.participantId)),s.teamParticipants=n.filter((e=>e.participantType===io)).map((e=>e.participantId)),s.pairParticipants=n.filter((e=>e.participantType===ro)).map((e=>e.participantId));const l=Sn(t),p=t.filter((e=>!e.participantId)).map((e=>e.drawPosition));nn(0,i).forEach((()=>{const{newGroupKey:t,selectedParticipantId:n,targetDrawPosition:i}=Gl({...e,groupKey:c,idCollections:s,candidatePositionAssignments:l});c=t,l.forEach((e=>{e.drawPosition===i&&(e.participantId=n)}))}));let f=Hl({candidatePositionAssignments:l,participantsWithContext:n,policyAttributes:a,idCollections:s}),m=on(f,u),h=kl({isRoundRobin:d,groupedParticipants:m}),v=0;for(;v<20&&h.length;){const e=Fl({isRoundRobin:d,avoidanceConflicts:h,drawPositionGroups:r,positionedParticipants:f,potentialDrawPositions:p});e.length?(zl({candidatePositionAssignments:l,swapOptions:e}),f=Hl({candidatePositionAssignments:l,participantsWithContext:n,policyAttributes:a,idCollections:s}),m=on(f,u),h=kl({isRoundRobin:d,groupedParticipants:m}),v++):v=20}return l.forEach((e=>{e.bye&&e.participantId&&o.push({error:"Invalid Assignment",assignment:e})})),{positionAssignments:l,conflicts:h.length,groupedParticipants:m,errors:o}}function zl({candidatePositionAssignments:e,swapOptions:t}){const n=en(t);if(!n)return{error:"No swap options"};const i=n.drawPosition,r=en(n.possibleDrawPositions),a=e.find((e=>e.drawPosition===i)).participantId,o=e.find((e=>e.drawPosition===r)).participantId;return e.forEach((e=>{e.drawPosition===i&&(e.participantId=o),e.drawPosition===r&&(e.participantId=a)})),ho}function Kl({unseededParticipantIds:e,drawDefinition:t,participants:n,structureId:i,avoidance:r,entries:o,matchUpsMap:s,inContextDrawMatchUps:c}){if(!r)return{error:ue};const{policyAttributes:u,roundsToSeparate:d,candidatesCount:l=1}=r,{structure:p}=lo({drawDefinition:t,structureId:i}),{matchUps:f}=cs({structure:p,matchUpsMap:s}),{positionAssignments:m}=ns({structure:p}),h=function({participants:e=[]}){const t=Sn(e,!0,!0),n=t.filter((e=>e.participantType===io)),i=t.filter((e=>e.participantType===ao)),r=t.filter((e=>e.participantType===ro));return t.forEach((e=>{const{participantId:t}=e;e.teamParticipantIds=[],e.groupParticipantIds=[],e.pairParticipantIds=[],e.participantType===no&&(n.forEach((n=>{((null==n?void 0:n.individualParticipants)||[]).forEach((n=>{n.participantId===t&&e.teamParticipantIds.push(n.participantId)}))})),r.forEach((n=>{((null==n?void 0:n.individualParticipants)||[]).forEach((n=>{n.participantId===t&&e.pairParticipantIds.push(n.participantId)}))})),i.forEach((n=>{((null==n?void 0:n.individualParticipants)||[]).forEach((n=>{n.participantId===t&&e.groupParticipantIds.push(n.participantId)}))})))})),t}({participants:n}),v=m.filter((e=>!e.participantId)),g=m.map((e=>e.drawPosition)),y=p.structureType===hr,I=y?{structure:p,matchUps:f,allDrawPositions:g,roundsToSeparate:d}:{matchUps:f,allDrawPositions:g,roundsToSeparate:d},{drawPositionGroups:b,drawPositionChunks:w}=y?function(e){const{structure:{structures:t}}=e,n=t.map((e=>e.positionAssignments.map((e=>e.drawPosition))));return{drawPositionGroups:n,drawPositionChunks:[n]}}(I):function({matchUps:e,allDrawPositions:t,roundsToSeparate:n}){const i=e.filter((e=>1===e.roundNumber)).map((e=>e.drawPositions)),r=i.flat().sort(Nn),o=Math.max(...r),s=t.filter((e=>e>o)),c=nn(2,r.length).filter((e=>e===a(e))),u=c.slice(0,n||c.length).reverse().map((e=>on(r,e)));s.length&&console.log({fedDrawPositions:s});return{drawPositionGroups:i,drawPositionChunks:u}}(I),S=Ml({policyAttributes:u,participants:h,targetParticipantIds:e}),N=Vl({participantIds:e,positionAssignments:m});if(N.length>v.length)return{error:"More participantIds than unpaired positions"};const P=[],U=N.length,D=nn(0,l).map((()=>Wl({initialPositionAssignments:m,participantsWithContext:h,unseededParticipantIds:e,opponentsToPlaceCount:U,drawPositionChunks:w,drawPositionGroups:b,allGroups:S,entries:o,policyAttributes:u,pairedPriority:!0}))),T=nn(0,l).map((()=>Wl({initialPositionAssignments:m,participantsWithContext:h,unseededParticipantIds:e,opponentsToPlaceCount:U,drawPositionChunks:w,drawPositionGroups:b,allGroups:S,policyAttributes:u,pairedPriority:!1}))).concat(...D).filter((e=>{var t;return!(null!==(t=e.errors)&&void 0!==t&&t.length)})).reduce(((e,t)=>!e||(t.conflicts||0)<(e.conflicts||0)?t:e),void 0);if(!T)return{error:"Could not produce candidate"};const C=(p.positionAssignments||[]).filter((e=>e.participantId)).map((e=>e.participantId));return T.positionAssignments.filter((e=>!C.includes(e.participantId))).forEach((e=>{if(e.participantId&&!e.bye){const n=eu({automaticPlacement:!0,drawDefinition:t,structureId:i,matchUpsMap:s,inContextDrawMatchUps:c,...e});null!=n&&n.success||P.push(n)}})),P.length?{error:P,conflicts:T.conflicts}:Object.assign({positionAssignments:T.positionAssignments,conflicts:T.conflicts},ho)}function ql({drawDefinition:e,candidatesCount:t,participants:n,structureId:i,structure:r,matchUpsMap:a,inContextDrawMatchUps:o}){r||({structure:r}=lo({drawDefinition:e,structureId:i})),i||({structureId:i}=r);const{positionAssignments:s}=ns({structure:r}),{seedAssignments:c}=Qo({drawDefinition:e,structure:r}),u=c.map((e=>e.participantId)).filter((e=>e)),{stage:d,stageSequence:l}=r,p=qo({drawDefinition:e,stageSequence:l,structureId:i,entryTypes:[Oo,xo],stage:d}),f=p.filter((e=>!u.includes(e.participantId))).map((e=>e.participantId)),m=s.filter((e=>!e.participantId&&!e.bye&&!e.qualifier)).map((e=>e.drawPosition));if(f.length>m.length)return{error:"Insufficient drawPositions to accommodate entries"};const{appliedPolicies:h}=eo({drawDefinition:e});let{avoidance:v}=h||{};if(r.stage===ur){const e=p.reduce(((e,t)=>(e[t.groupingValue]||(e[t.groupingValue]=[]),e[t.groupingValue].push(t.participantId),e)),{});Object.keys(e).length&&(v||(v={policyName:"Playoff Avoidance"}),v.policyAttributes||(v.policyAttributes=[]),v.policyAttributes.push({groupings:e}))}return v&&n?Kl({unseededParticipantIds:f,candidatesCount:t,drawDefinition:e,participants:n,structureId:i,avoidance:v,entries:p,matchUpsMap:a,inContextDrawMatchUps:o}):function({unseededParticipantIds:e,unfilledDrawPositions:t,drawDefinition:n,structureId:i,matchUpsMap:r,inContextDrawMatchUps:a}){const o=Jt(t);for(const s of e){const e=eu({structureId:i,drawPosition:o.pop(),participantId:s,drawDefinition:n,automaticPlacement:!0,matchUpsMap:r,inContextDrawMatchUps:a});if(e&&e.error)return e}return ho}({unseededParticipantIds:f,unfilledDrawPositions:m,drawDefinition:e,structureId:i,matchUpsMap:a,inContextDrawMatchUps:o})}function Yl({structure:e,drawDefinition:t,appliedPolicies:n,relevantMatchUps:i}){const{validSeedBlocks:r,isFeedIn:a,isContainer:o}=$c({appliedPolicies:n,drawDefinition:t,structure:e}),s=function({drawDefinition:e,structure:t}){const{positionAssignments:n}=ns({structure:t}),{seedAssignments:i}=Qo({drawDefinition:e,structure:t}),r=Object.assign({},...i.filter((e=>e.participantId)).map((e=>({[e.participantId]:e}))));return n.map((e=>r[e.participantId]?Object.assign({},e,{seedNumber:r[e.participantId].seedNumber,seedValue:r[e.participantId].seedValue}):"")).filter((e=>e))}({drawDefinition:t,structure:e}),c=$t([].concat(...i.map((e=>e.drawPositions)))),u=s.filter((e=>c.includes(e.drawPosition))),d=[].concat(...r.map((e=>Jt(e.drawPositions)))).filter((e=>c.includes(e))),l=(e,t)=>e.seedValue-t.seedValue;return{strictSeedOrderByePositions:$l({orderedSeedDrawPositions:r.reduce(((e,t)=>{const n=u.filter((e=>{var n;return null===(n=t.drawPositions)||void 0===n?void 0:n.includes(e.drawPosition)})).sort(l);return e.concat(...n)}),[]).map((e=>e.drawPosition)),relevantMatchUps:i}).slice(0,s.length),blockSeedOrderByePositions:$l({orderedSeedDrawPositions:d,relevantMatchUps:i}).slice(0,s.length),isFeedIn:a,isContainer:o}}function $l({orderedSeedDrawPositions:e,relevantMatchUps:t}){const n=t.map((e=>e.drawPositions)).map((e=>e.sort(((e,t)=>e-t)))).filter((e=>e[0]+1===e[1]));return e.map((e=>n.find((t=>null==t?void 0:t.includes(e))))).filter((e=>e)).map((t=>null==t?void 0:t.reduce(((t,n)=>e.includes(n)?t:n),void 0))).filter((e=>e))}function Jl({blockOrdered:e=!1,drawDefinition:t,structureId:n,structure:i,seedsOnly:r,matchUpsMap:a}){i||({structure:i}=lo({drawDefinition:t,structureId:n})),n||({structureId:n}=i);const{byesCount:o,placedByes:s,relevantMatchUps:c}=function({drawDefinition:e,matchUpsMap:t,structure:n}){var i;const{matchUps:r,roundMatchUps:a}=cs({drawDefinition:e,matchUpFilters:{isCollectionMatchUp:!1},structure:n,matchUpsMap:t}),o=a&&a[1]||[],s=(null==n?void 0:n.structureType)===hr,c=s?r:o,u=s?(null==n||null===(i=n.structures)||void 0===i?void 0:i.length)||0:r.length,{structureId:d,stage:l,stageSequence:p}=n,f=qo({drawDefinition:e,stageSequence:p,structureId:d,entryTypes:[Oo,xo],stage:l}),m=zo({drawDefinition:e,stage:l}),h=f.length+m,{positionAssignments:v,unassignedPositions:g}=ns({structure:n}),y=g.map((e=>e.drawPosition)),I=v.filter((e=>e.bye)).length,b=v.filter((e=>e.bye)).map((e=>e.drawPosition)),w=c.map((e=>e.drawPositions)).filter((e=>e&&(null==e?void 0:e.reduce(((e,t)=>!b.includes(t)&&e),!0)))).flat(1/0).filter((e=>y.includes(e)));let S=v.length-h;return S>u&&1===n.stageSequence&&n.stage!==sr&&(S=u),{placedByes:I,byesCount:S,relevantMatchUps:c,placedByePositions:b,roundMatchUps:a,positionsToAvoidDoubleBye:w}}({drawDefinition:t,structure:i,matchUpsMap:a}),u=o-s;if(u<=0)return ho;const{appliedPolicies:d}=eo({drawDefinition:t}),{isFeedIn:l,strictSeedOrderByePositions:p,blockSeedOrderByePositions:f}=Yl({structure:i,drawDefinition:t,appliedPolicies:d,relevantMatchUps:c}),m=e?f:p,{unseededByePositions:h}=function({structure:e,appliedPolicies:t,isFeedIn:n}){var i;const r=null==t||null===(i=t.seeding)||void 0===i?void 0:i.seedingProfile,{positionAssignments:a}=ns({structure:e}),o=a.filter((e=>e.participantId)).map((e=>e.drawPosition)),{matchUps:s,roundMatchUps:c}=cs({structure:e,matchUpFilters:{isCollectionMatchUp:!1}}),u=c&&c[1]||[],d=e.structureType===hr?s:u,l=$t([].concat(...d.map((e=>e.drawPositions)))),p=Math.min(...l)-1,f=o.filter((e=>l.includes(e))),m=e=>{const t=Math.ceil(e.length/2),n=[e.slice(0,t),e.slice(t)],i=n.map((e=>[].concat(...e.flat(1/0)).length)),r=Math.min(...i.flat(1/0)),a=Math.max(...i.flat(1/0)),o=i.indexOf(a),s=r!==a,c=Jt(n),[u,d]=!r||s?[n[o],n[1-o]]:[c[0],c[1]];return{greaterHalf:u,lesserHalf:d}},h=e=>{const{greaterHalf:t,lesserHalf:n}=m(e),{greaterHalf:i,lesserHalf:r}=m(t),a=Jt(i.flat(1/0)).pop();return{newlyFilteredChunks:[...n,...r,i.flat().filter((e=>e!==a))],drawPosition:a}},v=e=>!f.includes(e),g=e=>{let t=on(e.sort(Nn),Math.ceil(e.length/4)).map((e=>e.filter(v)));const n=[].concat(...t.flat(1/0)).length,i=[];for(let r=0;r<n;r++){const{newlyFilteredChunks:e,drawPosition:n}=h(t);i.push(n),t=e}return i},{validSeedBlocks:y}=$c({structure:e,appliedPolicies:t,allPositions:!0});let I=y.map((e=>{var t;return null===(t=e.drawPositions)||void 0===t?void 0:t.map((e=>e+p))})).map(g).filter((e=>e.length));if(n){const e=l.length,{seedBlocks:t}=Yc({participantsCount:e,cluster:r===pr});I=t.map((e=>e.map((e=>e+p)))).map(g).filter((e=>e.length))}const b=d.map((e=>e.drawPositions)).map((e=>e.sort(((e,t)=>e-t)))).filter((e=>e[0]+1===e[1])),w=e=>b.reduce(((t,n)=>n.includes(e)?n.reduce(((t,n)=>n!==e?n:t),void 0):t),void 0);return{unseededByePositions:I.map((e=>e.map(w))).flat(1/0).filter((e=>e))}}({appliedPolicies:d,structure:i,isFeedIn:l}),v=[].concat(...m,...r?[]:h).slice(0,u);for(const g of v){const e=kc({drawDefinition:t,structureId:n,drawPosition:g,matchUpsMap:a});if(null!=e&&e.error)return e}return ho}function Ql({drawDefinition:e,structure:t,structureId:n}){t||({structure:t}=lo({drawDefinition:e,structureId:n})),n||({structureId:n}=t);const{positionAssignments:i}=ns({structure:t}),r=i.filter((e=>e.qualifier)).map((e=>e.drawPosition)),{stage:a,stageSequence:o}=t,s=zo({drawDefinition:e,stage:a,stageSequence:o}),c=s-r.length;return{positionAssignments:i,qualifiersCount:s,placedQualifiersCount:r.length,unplacedQualifiersCount:c}}function Xl({drawDefinition:e,participants:t,groupsCount:n,structureId:i,structure:r,matchUpsMap:a}){const o=[];let s=0;r||({structure:r}=lo({drawDefinition:e,structureId:i})),i||({structureId:i}=r);const{appliedPolicies:c}=eo({drawDefinition:e}),{validSeedBlocks:u,error:d}=$c({structure:r,drawDefinition:e,appliedPolicies:c});return d&&o.push(d),nn(0,n=n||u.length).forEach((()=>{if(s<n){const n=function({drawDefinition:e,structureId:t,participants:n,matchUpsMap:i}){const{unplacedSeedParticipantIds:r,unfilledPositions:a}=Xc({drawDefinition:e,structureId:t,randomize:!0}),{appliedPolicies:o}=eo({drawDefinition:e});for(const s of r){const n=a.pop();if(!n)return{error:U};const r=eu({drawDefinition:e,structureId:t,drawPosition:n,participantId:s,automaticPlacement:!0,matchUpsMap:i});if(!r.success)return r}return ho}({drawDefinition:e,participants:t,structureId:i,matchUpsMap:a});n&&n.success&&s++,n.error&&o.push({seedPositionError:n.error})}})),{errors:o}}function ep({drawDefinition:e,candidatesCount:t,participants:n,structureId:i,seedsOnly:r,inContextDrawMatchUps:a,matchUpsMap:o}){const{structure:s,error:c}=lo({drawDefinition:e,structureId:i});if(c)return{error:c};const u=[Oo,xo],d=qo({drawDefinition:e,stage:s.stage,stageSequence:s.stageSequence,structureId:i,entryTypes:u});if(null==d||!d.length)return ho;const{seedingProfile:l}=s;let p,f,m=[];l===fr?(({error:p}=Jl({drawDefinition:e,structure:s,seedsOnly:r,matchUpsMap:o})),({errors:f}=Xl({drawDefinition:e,participants:n,structure:s,matchUpsMap:o}))):(({errors:f}=Xl({drawDefinition:e,participants:n,structure:s,matchUpsMap:o})),({error:p}=Jl({drawDefinition:e,structure:s,seedsOnly:r,matchUpsMap:o})));const h={};if(!r){const{error:i,conflicts:r}=ql({candidatesCount:t,drawDefinition:e,participants:n,structure:s,matchUpsMap:o,inContextDrawMatchUps:a});r&&(h.unseededConflicts=r);const{error:c,conflicts:u}=function(e){let{structure:t,structureId:n}=e;if(t||({structure:t}=lo(e)),n||({structureId:n}=t),t.stage===sr)return console.log("Consolation Stage: No Qualifiers"),{error:"Consolation Stage: No Qualifiters"};const{positionAssignments:i,unplacedQualifiersCount:r}=Ql(e),a=i.filter((e=>!e.participantId&&!e.bye&&!e.qualifier)).map((e=>e.drawPosition));return r>a.length?{error:"Insufficient drawPositions to accommodate qualifiers"}:(nn(0,r).forEach((()=>{const e=a.pop();i.forEach((t=>{t.drawPosition===e&&(t.qualifier=!0)}))})),ho)}({drawDefinition:e,participants:n,structure:s,matchUpsMap:o,inContextDrawMatchUps:a});u&&(h.qualifierConflicts=u),f&&(m=m.concat(...f)),p&&m.push(p),c&&m.push(c),i&&m.push(i)}return{errors:m,conflicts:h}}function tp({tournamentRecord:e,eventId:t,drawIds:n}){if(!e)return{error:m};const i=Array.isArray(n)&&n[0],{event:r}=Ms({tournamentRecord:e,eventId:t,drawId:i}),a=[],o=[],s=[];if(r){var c;if(!r.drawDefinitions)return{error:y};r.drawDefinitions=r.drawDefinitions.filter((e=>{if(n.includes(e.drawId)){const t={action:gl,payload:{drawDefinitions:[e]}};a.push(t);const{drawId:n,drawType:i,drawName:c}=e;s.push({drawId:n,drawType:i,drawName:c,eventId:r.eventId});const{matchUps:u}=Us({event:r,drawDefinition:e});u.forEach((({matchUpId:e})=>o.push(e)))}return!n.includes(e.drawId)})),hu({tournamentRecord:e});const t=xs({event:r,itemType:"PUBLISH.STATUS"});if(t&&(null===(c=t.drawIds)||void 0===c?void 0:c.includes(i))){var u;const e=(null===(u=t.drawIds)||void 0===u?void 0:u.filter((e=>e!==i)))||[],n=Zs({event:r,timeItem:{itemType:"PUBLISH.STATUS",itemValue:{[Aa]:{drawIds:e}}}});if(n.error)return{error:n.error}}}if(a.length){mn({topic:Vs,payload:a});const e=Zs({event:r,timeItem:{itemType:gl,itemValue:s}});if(e.error)return{error:e.error}}return o.length&&mn({topic:Gs,payload:{matchUpIds:o}}),ho}function np({tournamentRecord:e,participantId:t,scaleAttributes:n}){if(!e)return{error:m};if(!t)return{error:Oe};const{participant:i}=No({tournamentRecord:e,participantId:t});return i?Qd({participant:i,scaleAttributes:n}):{error:ke}}function ip({tournamentRecord:e,event:t,stage:n,entries:i,scaleAttributes:r,scaleSortMethod:a,sortDescending:o=!1}){if(!e)return{error:m};return{scaledEntries:(i=i||(null==t?void 0:t.entries)||[]).filter((e=>(!n||!e.entryStage||e.entryStage===n)&&jo.includes(e.entryStatus))).map((t=>{const{participantId:n}=t,{scaleItem:i}=np({tournamentRecord:e,participantId:n,scaleAttributes:r});return Object.assign({},t,i)})).filter((e=>{const t=e.scaleValue;return!!(a||!isNaN(t)&&parseFloat(t))&&t})).sort(a||function(e,t){return o?s(t)-s(e):s(e)-s(t)})};function s(e){return parseFloat(e.scaleValue||(o?-1:1e5))}}const rp=({stage:e,structureId:t,matchUps:n=[],structures:i,stageOrder:r,roundLimit:a,roundOffset:o,matchUpFormat:s,structureType:c,structureAbbreviation:u,structureName:d,seedingProfile:l,qualifyingRound:p,stageSequence:f=1,seedAssignments:m=[],finishingPosition:h=qr})=>{const v={structureAbbreviation:u,structureName:d,matchUpFormat:s,stageSequence:f,finishingPosition:h,seedAssignments:m,structureId:t||Pn()};e&&(v.stage=e),r&&(v.stageOrder=r),a&&(v.roundLimit=a),o&&(v.roundOffset=o),c&&(v.structureType=c),l&&(v.seedingProfile=l),p&&(v.qualifyingRound=p);const g=[].concat(...n.map((e=>e.drawPositions))).filter((e=>e));return i?v.structures=i:(v.matchUps=n,v.positionAssignments=$t(g).sort(((e,t)=>e-t)).map((e=>({drawPosition:e})))),v};function ap({drawSize:e,roundLimit:t,matchUpType:n,qualifyingRound:i,qualifyingPositions:a,finishingPositionOffset:o,uuids:s}){if(isNaN(e)||!r(e)||e<2)return{matchUps:[],roundsCount:0};const c=nn(1,parseInt(e)+1).map((e=>({drawPosition:e})));let u,d=[],l=1;for(({roundNodes:u,matchUps:d}=sp({roundNumber:l,matchUpType:n,matchUps:d,nodes:c,uuids:s})),l++,t=t||i;u.length>1;)a&&u.length===a&&(t=l-1),({roundNodes:u,matchUps:d}=sp({roundNumber:l,nodes:u,matchUps:d,uuids:s})),l++;const p=l-1;return d=op({matchUps:d,roundLimit:t,roundsCount:p,finishingPositionOffset:o}),t&&(d=d.filter((e=>e.roundNumber<=t))),{matchUps:d,roundsCount:p,roundLimit:t}}function op({finishingPositionOffset:e=0,positionsFed:t,roundsCount:n,roundLimit:i,matchUps:r,fmlc:a}){const o=r.reduce(((e,t)=>(e[t.roundNumber]=(e[t.roundNumber]||0)+1,e)),{}),s=Object.values(o),c=e=>[Math.min(...e),Math.max(...e)],u=i?n-i:0;return r.forEach((i=>{i.finishingRound=n+1-i.roundNumber-u;const r=a&&1!==i.roundNumber,d=1+e+(r?t:0),l=o[i.roundNumber],p=s.slice(i.roundNumber-1).reduce(((e,t)=>e+t),0),f=nn(d,p+d+1),m=p+1-l,h=c(f.slice(m)),v=c(f.slice(0,m));i.finishingPositionRange={loser:h,winner:v}})),r}function sp({roundNumber:e,nodes:t,matchUps:n,matchUpType:i,uuids:r}){let a=0;const o=[];let s=1;const c=e-1,u=t.length;for(;a<u;){const u=t[a],d=t[a+1];c&&(u.roundNumber=c),d&&c&&(d.roundNumber=c);const l={roundPosition:s,children:[u,d],matchUpId:(null==r?void 0:r.pop())||Pn()};o.push(l),n.push({matchUpId:l.matchUpId,matchUpType:i,roundNumber:e,roundPosition:s,matchUpStatus:Bn,drawPositions:l.children.map((e=>e.drawPosition))}),a+=2,s++}return{roundNodes:o,matchUps:n}}function cp({uuids:e,drawSize:t,matchUpType:n,feedRounds:i=0,skipRounds:r=0,baseDrawSize:o,isConsolation:s,feedsFromFinal:c,feedRoundsProfile:u=[],fmlc:d,finishingPositionOffset:l,linkFedRoundNumbers:p=[],linkFedFinishingRoundNumbers:f=[]}){const m=function({drawSize:e}){return nn(0,Math.ceil(Math.log(e)/Math.log(2))).reverse().map((e=>Math.pow(2,e)))}({drawSize:o=o||function(e){const t=a(e);return t>e?t/2:t}(t)}),h=m.length;let v=0;if(u.length)v=u.reduce(((e,t)=>e+t),0);else if(t){let e=t-o;u=m.filter((t=>t<=e&&(e-=t,!0))),v=u.reduce(((e,t)=>e+t),0),i=u.length}else r>=h&&(i=0),c&&(i=h-c,r=0),u=m.filter(((e,t)=>c&&!i||i&&t>=r+i||t<r?0:e)),v=u.reduce(((e,t)=>e+t),0),t=o+v,i=u.length;const g=[...m,...u].sort(((e,t)=>t-e)),y=g.length,I=[...p.map((e=>e-1)),...f.map((e=>y-e))].map((e=>g[e])).reduce(((e,t)=>e+t),0);v-=I;let b,w=0,S=[],N=1;let P=nn(0,o).map(((e,t)=>({drawPosition:t+1+v}))),U=v+1;for(const a of m){if(({roundNodes:b,matchUps:S}=sp({roundNumber:N,matchUpType:n,matchUps:S,nodes:P,uuids:e})),N++,u.includes(a)){const t=nn(0,Qt(u)[a]),i=y+1-N,r=f.includes(i)||p.includes(N);for(const a of t){const t=!r&&U||void 0;({roundNodes:b,matchUps:S,drawPosition:U}=up({drawPosition:t,nodes:b,roundIteration:a,roundNumber:N,matchUpType:n,matchUps:S,uuids:e,fed:w})),N++,w+=1}}P=b}y!==N-1&&console.log("ERROR");S=op({finishingPositionOffset:s?o-v:l,positionsFed:v,roundsCount:y,matchUps:S,fmlc:d});const D=b&&b.length?b[0]:b;return D&&(D.roundNumber=N-1,D.matchUps=S),{draw:D,matchUps:S,roundsCount:y}}function up({drawPosition:e,matchUpType:t,roundNumber:n,matchUps:i,uuids:r,nodes:a,fed:o}){const s=a.length,c=e?e-s:void 0,u=nn(0,s).map((e=>c?c+e:void 0)),d=[];for(let l=0;l<s;l++){const e=u.shift(),s={feed:!0,fed:o+1,drawPosition:e},c=a[l];c.roundNumber=n-1,i.push({roundNumber:n,matchUpType:t,matchUpId:(null==r?void 0:r.pop())||Pn(),roundPosition:c.roundPosition,drawPositions:[void 0,e]});const p={children:[c,s]};d.push(p)}return{roundNodes:d,matchUps:i,drawPosition:e?e-s:void 0}}function dp({drawDefinition:e,participants:t,event:n,structureName:i=cr,structureAbbreviation:r,structureId:a,automated:o}){const s=cr;if(!e)return{error:g};const c=Wo({stage:s,drawDefinition:e}),{matchUps:u}=ap({drawSize:c}),d=rp({stage:s,matchUps:u,structureName:i,structureAbbreviation:r,structureId:a});return e.structures.push(d),o&&ep({drawDefinition:e,participants:t,event:n,structureId:a||d.structureId}),ho}function lp({drawDefinition:e,stage:t,drawSize:n}){if(!e)return{error:g};if(!Ho({drawDefinition:e,stage:t}))return{error:q};return n<Yo({drawDefinition:e,stage:t})+zo({drawDefinition:e,stage:t})?{error:"Cannot set drawSize to be less than existing entries"}:(Co({drawDefinition:e,attributes:[{[t]:{drawSize:n}}]}),ho)}function pp({drawDefinition:e,drawSize:t}){if(!e)return{error:g};const n=lp({drawDefinition:e,stage:cr,drawSize:t});return n.error?n:ho}function fp({drawDefinition:e,structureId:t}){const{structure:n,error:i}=lo({drawDefinition:e,structureId:t});if(i)return{error:i};const{matchUps:r}=cs({structure:n});return to({matchUps:r})}function mp({drawDefinition:e,structureId:t,finishingPositions:n}){const{roundProfile:i}=fp({drawDefinition:e,structureId:t});return Object.keys(i).reduce(((e,t)=>(hp(i[t]).forEach((i=>{n.forEach((n=>{(function({position:e,rangeDefinition:t}){if(!Array.isArray(t))return!1;if(t.reduce(((e,t)=>e||isNaN(t)),!1))return!1;const[n,i]=t;return nn(n,(i||n)+1).includes(e)})({position:n,rangeDefinition:i})&&(e[n]={roundNumber:t})}))})),e)),{})}function hp(e){var t,n;return[$t((null==e||null===(t=e.finishingPositionRange)||void 0===t?void 0:t.loser)||[]),$t((null==e||null===(n=e.finishingPositionRange)||void 0===n?void 0:n.winner)||[])]}function vp({drawDefinition:e}){if(!e)return{error:g};return{positionsPlayedOff:(e.structures||[]).filter((e=>e.structureType!==or)).map((({structureId:t})=>{const{roundProfile:n}=fp({drawDefinition:e,structureId:t});return Object.values(n).map(hp).flat()})).flat().filter((e=>1===e.length)).sort(Nn).flat()}}function gp({drawDefinition:e,structureId:t,playoffPositions:n=[],excludeRoundNumbers:i=[]}){if(!e)return{error:g};if(!t)return{error:F};if(!n)return{error:ye,message:"missing playoffPositions"};const{positionsPlayedOff:r,error:a}=vp({drawDefinition:e});if(a)return{error:a};const o=mp({drawDefinition:e,structureId:t,finishingPositions:n.filter((e=>!r.includes(e)))}),s=Object.values(o).reduce(((e,t)=>e.includes(t.roundNumber)?e:e.concat(t.roundNumber)),[]).map((e=>parseInt(e))).filter((e=>!i.includes(parseInt(e)))),c=mp({drawDefinition:e,structureId:t,finishingPositions:r}),u=Object.values(c).reduce(((e,t)=>e.includes(t.roundNumber)?e:e.concat(t.roundNumber)),[]).map((e=>parseInt(e))),d=s.filter((e=>!u.includes(e))).sort(Nn),{roundProfile:l}=fp({drawDefinition:e,structureId:t}),p=d.map((e=>{const t=l[e].finishingPositionRange.loser,[n,i]=t;return nn(n,(i||n)+1)})).flat().sort(Nn),f=d.map((e=>{const t=l[e].finishingPositionRange.loser,[n,i]=t;return{roundNumber:e,finishingPositions:nn(n,(i||n)+1),finishingPositionRange:t.join("-")}}));return{sourceRounds:[...d,...u],playoffRoundsRanges:f,playoffSourceRounds:d,playedOffSourceRounds:u,playoffPositionsReturned:p}}function yp({drawDefinition:e,structureId:t}){if(!e)return{error:g};let{structures:n}=po({drawDefinition:e,stage:ar,stageSeqence:1});const i=n&&n[0];if(!i)return{error:L};const r=i.positionAssignments||[],a=null==r?void 0:r.map((e=>e.drawPosition)),{positionsPlayedOff:o}=vp({drawDefinition:e}),s=a.filter((e=>!o.includes(e)));({structures:n}=po({drawDefinition:e}));const c=n.filter((e=>!t||e.structureId===t)),u={};for(const d of c){const t=null==d?void 0:d.structureId,{playoffSourceRounds:n,playoffRoundsRanges:i,error:r}=Ip({drawDefinition:e,playoffPositions:s,structureId:t});if(r)return{error:r};u[t]={structureId:t,playoffRounds:n,playoffRoundsRanges:i}}return t?{positionsPlayedOff:o,...u[t]}:{positionsPlayedOff:o,availablePlayoffRounds:Object.values(u)}}function Ip({drawDefinition:e,playoffPositions:t,structureId:n}){var i;const{structure:r}=lo({drawDefinition:e,structureId:n});if(!r)return{error:L};if(r.structureType===hr)return{playoffSourceRounds:[],playoffRoundsRanges:[]};const{links:a}=hs({drawDefinition:e,structureId:n});return gp({drawDefinition:e,structureId:n,playoffPositions:t,excludeRoundNumbers:(null==a||null===(i=a.source)||void 0===i?void 0:i.filter((e=>e.linkCondition!==Nr)).map((e=>{var t;return null===(t=e.source)||void 0===t?void 0:t.roundNumber})))||[]})}function bp(e){if(e.matchUpStatus===An){return e.sides.reduce(((e,t)=>t.participantId||e),void 0)}if(!e.winningSide)return;return e.sides.reduce(((t,n)=>n.sideNumber===e.winningSide?n.participantId:t),void 0)}function wp(e){const{structure:t,childStructures:n}=Sp(e);return e.drawDefinition.structures.sort(uo),Object.assign({structure:t,childStructures:n},ho)}function Sp({uuids:e,drawSize:t,matchUpType:n,stage:i=ar,sequenceLimit:r,drawDefinition:a,staggeredEntry:o,roundOffset:s=0,roundOffsetLimit:c,playoffAttributes:u,stageSequence:d=1,finishingPositionLimit:l,finishingPositionNaming:p,playoffStructureNameBase:f,finishingPositionOffset:m=0,exitProfileLimit:h,exitProfile:v="0"}){if(!(!u||!h||u&&u[v])||t<2||r&&d>r)return{};const g=m+1,y=`${g}-${m+t}`,I=u&&u[v],b=f&&`${f} `||"",w=p&&p[y],S=(null==w?void 0:w.name)||(null==I?void 0:I.name)||`${b}${y}`,N=(null==w?void 0:w.abbreviation)||(null==I?void 0:I.abbreviation),{matchUps:P}=o?cp({matchUpType:n,drawSize:t,finishingPositionOffset:m,uuids:e}):ap({matchUpType:n,drawSize:t,finishingPositionOffset:m,uuids:e}),U=rp({stage:i,matchUps:P,roundOffset:s,stageSequence:d,structureName:S,structureAbbreviation:N,structureId:null==e?void 0:e.pop()});a.structures.push(U),mn({topic:_s,payload:{matchUps:P}});const D=Math.ceil(Math.log(t)/Math.log(2)),T=nn(1,(c?Math.min(c-s,D):!l||g<l?D:0)+1).map((function(n){const o=t/Math.pow(2,n);if(o<2)return;const g=t/Math.pow(2,n)+m;if(g+1>l)return;const{structure:y,structureName:I,childStructures:b}=Sp({uuids:e,stage:i,sequenceLimit:r,drawDefinition:a,exitProfileLimit:h,roundOffsetLimit:c,playoffAttributes:u,finishingPositionLimit:l,finishingPositionNaming:p,playoffStructureNameBase:f,stageSequence:d+1,drawSize:o,roundOffset:s+n,exitProfile:`${v}-${n}`,finishingPositionOffset:g}),w={linkType:Sr,source:{roundNumber:n,structureName:S,structureId:null==U?void 0:U.structureId},target:{roundNumber:1,feedProfile:yr,structureName:I,structureId:null==y?void 0:y.structureId}};U&&y&&a.links.push(w);return{structure:y,childStructures:b}})).filter((e=>e));return{structure:U,structureName:S,childStructures:T}}function Np({drawDefinition:e,inContextDrawMatchUps:t,matchUpsMap:n}){return t||({matchUps:t}=Ss({drawDefinition:e,inContext:!0,includeByeMatchUps:!0,matchUpsMap:n})),(t||[]).forEach((i=>{const{matchUpId:r,structureId:a}=i,{structure:o}=lo({drawDefinition:e,structureId:a}),s=gs({matchUpId:r,structure:o,drawDefinition:e,inContextDrawMatchUps:t}),{winnerMatchUp:c,loserMatchUp:u}=s.targetMatchUps,d=null==c?void 0:c.matchUpId,l=null==u?void 0:u.matchUpId,p=co({matchUpsMap:n,structureId:a}).find((e=>e.matchUpId===r));d&&Object.assign(p,{winnerMatchUpId:d}),l&&Object.assign(p,{loserMatchUpId:l})})),{inContextDrawMatchUps:t}}function Pp(e){const{playoffRounds:t,playoffRoundsRanges:n,error:i}=yp(e);if(i)return{error:i};const{playoffSourceRounds:r,playoffRoundsRanges:a,playoffPositionsReturned:o,error:s}=gp(e);if(s)return{error:s};const{uuids:c,roundNumbers:u,roundProfiles:d,drawDefinition:l,playoffPositions:p,playoffAttributes:f,exitProfileLimit:m,playoffStructureNameBase:h,structureId:v}=e,g=(null==d?void 0:d.length)&&Object.assign({},...d),y=u||"object"==typeof d&&d.map((e=>Object.keys(e))).flat(),I=y&&y.map((e=>!isNaN(e)&&parseInt(e))).filter((e=>e));if(I){if(!Array.isArray(I))return{error:It,validRoundNumbers:I};I.forEach((e=>{if(!t.includes(e))return{error:It,roundNumber:e}}))}p&&p.forEach((e=>{if(!o.includes(e))return{error:It,playoffPosition:e}}));const{structure:b}=lo({drawDefinition:l,structureId:v}),w=I?n:a,S=[];(I||r).forEach((e=>{const t=w.find((t=>t.roundNumber===e)),n=t.finishingPositions.length,i=Math.min(...t.finishingPositions)-1,r=g&&g[e]&&2+g[e]-1,{structure:a}=wp({uuids:c,drawSize:n,sequenceLimit:r,stageSequence:2,roundOffset:0,drawDefinition:l,stage:ur,exitProfileLimit:m,playoffAttributes:f,playoffStructureNameBase:h,finishingPositionOffset:i,exitProfile:`0-${e}`});if(a){const t={linkType:Sr,source:{roundNumber:e,structureId:v},target:{roundNumber:1,feedProfile:yr,structureId:a.structureId}};ln()&&(t.source.structureName=b.structureName,t.target.structureName=a.structureName),S.push(t)}})),l.links=(l.links||[]).concat(...S);const{matchUps:N,matchUpsMap:P}=Ss({drawDefinition:l,inContext:!0,includeByeMatchUps:!0});return N.filter((e=>ii(e)&&e.structureId===v)).forEach((e=>{const{matchUpId:t,score:n,winningSide:i}=e,r=gs({matchUpId:t,structure:b,drawDefinition:l,inContextDrawMatchUps:N}),a=nu({drawDefinition:l,structure:b,targetData:r,winningSide:i,matchUpId:t,matchUp:e,score:n});a.error&&console.log(a.error)})),e.goesTo&&Np({drawDefinition:l,inContextDrawMatchUps:N,matchUpsMap:P}),ln()?Object.assign({},ho,{drawDefinition:Sn(l)}):ho}function Up({structureName:e,drawDefinition:t,drawSize:n,uuids:i}){const{matchUps:r}=cp({drawSize:n+1,linkFedFinishingRoundNumbers:[1]}),a=rp({structureName:e||ar,structureId:null==i?void 0:i.pop(),stageSequence:1,stage:ar,matchUps:r});t.structures.push(a);const o=n/2,{matchUps:s}=cp({isConsolation:!0,drawSize:n-1,finishingPositionOffset:o,uuids:i}),c=rp({matchUps:s,structureId:null==i?void 0:i.pop(),structureName:Hr,stageSequence:2,stage:ar});t.structures.push(c);const{matchUps:u}=ap({drawSize:2}),d=rp({matchUps:u,structureId:null==i?void 0:i.pop(),structureName:Gr,stageSequence:3,stage:ar});t.structures.push(d);const l=function({mainStructure:e,consolationStructure:t,deciderStructure:n}){const i=t.matchUps.reduce(((e,t)=>(t.drawPositions||[]).filter((e=>e)).length&&!e.includes(t.roundNumber)?e.concat(t.roundNumber):e),[]),r=e.matchUps.reduce(((e,t)=>!e||t.roundNumber>e?t.roundNumber:e),void 0),a=t.matchUps.reduce(((e,t)=>!e||t.roundNumber>e?t.roundNumber:e),void 0);return[...[1,2].map((n=>{const i=n%2?yr:Ir;return{linkType:Sr,source:{roundNumber:n,structureId:e.structureId},target:{feedProfile:i,roundNumber:1,positionInterleave:{offset:n-1,interleave:1},structureId:t.structureId}}})),...i.slice(1).map(((n,r)=>{const a=i.indexOf(n)%2?yr:Ir;return{linkType:Sr,source:{roundNumber:3+r,structureId:e.structureId},target:{feedProfile:a,roundNumber:n,structureId:t.structureId}}})),{linkType:wr,source:{roundNumber:a,structureId:t.structureId},target:{feedProfile:yr,roundNumber:r,structureId:e.structureId}},{linkType:wr,source:{roundNumber:r,structureId:e.structureId},target:{feedProfile:yr,roundNumber:1,structureId:n.structureId}},{linkType:Sr,source:{roundNumber:r,structureId:e.structureId},target:{feedProfile:yr,roundNumber:1,structureId:n.structureId}}]}({mainStructure:a,consolationStructure:c,deciderStructure:d});return t.links=t.links.concat(...l),Object.assign({structures:t.structures,links:t.links},ho)}function Dp({mainStructure:e,consolationStructure:t,roundsCount:n,roundOffset:i=0,feedPolicy:r,fmlc:a}){const o=t.matchUps.reduce(((e,t)=>(t.drawPositions||[]).filter((e=>e)).length&&!e.includes(t.roundNumber)?e.concat(t.roundNumber):e),[]),s=(null==r?void 0:r.roundGroupedOrder)||[],c=null==r?void 0:r.roundFeedProfiles;return nn(1+i,n+1+i).map((n=>{const r=c&&c[n-1]?c[n-1]:n%2?yr:Ir,u=n-i<=2?n-i:2*(n-i-2)+2,d={linkType:Sr,source:{roundNumber:n,structureId:e.structureId},target:{feedProfile:r,roundNumber:u,structureId:t.structureId}},l=s[n-1];return l&&(d.target.groupedOrder=l),ln()&&(d.source.structureName=e.structureName,d.target.structureName=t.structureName),2===n&&a&&(d.linkCondition=Nr,d.target.feedProfile=yr),o.includes(u)?d:void 0})).filter((e=>e))}function Tp({uuids:e,matchUpType:t,staggeredEntry:n,drawDefinition:i,stageSequence:r=1,structureName:a=ar,finishingPositionOffset:o}){const s=Wo({stage:ar,drawDefinition:i}),{matchUps:c,roundsCount:u}=n?cp({matchUpType:t,drawSize:s,finishingPositionOffset:o,uuids:e}):ap({matchUpType:t,drawSize:s,finishingPositionOffset:o,uuids:e}),d=rp({matchUps:c,stage:ar,structureName:a,stageSequence:r,structureId:null==e?void 0:e.pop()});i.structures.push(d);const l=[0,2].slice(0,s/16).map(((t,n)=>{const r=n+1,{consolationStructure:a}=function({drawSize:e,index:t,structureId:n,roundOffset:i=0,stageSequence:r=1,uuids:a}){const o=e/(2*Math.pow(2,i)),{matchUps:s,roundsCount:c}=cp({feedRounds:1,baseDrawSize:o,isConsolation:!0,finishingPositionOffset:o,uuids:a});return{consolationStructure:rp({matchUps:s,stage:sr,structureName:`${sr} ${t+1}`,stageSequence:r,structureId:n}),consolationRoundsCount:c}}({drawSize:s,index:n,roundOffset:t,stageSequence:r,structureId:null==e?void 0:e.pop(),uuids:e});i.structures.push(a);return{consolationStructure:a,links:Dp({mainStructure:d,consolationStructure:a,roundsCount:2,roundOffset:t})}})).map((e=>e.links));if(i.links=i.links.concat(...l),s>=4&&s<=16||s>32){const{matchUps:t}=ap({drawSize:2,finishingPositionOffset:2}),n=rp({structureId:null==e?void 0:e.pop(),matchUps:t,structureName:ur,stageSequence:2,stage:ar}),r={linkType:Sr,source:{roundNumber:u-1,structureId:d.structureId},target:{roundNumber:1,feedProfile:yr,structureId:n.structureId}};i.structures.push(n),i.links.push(r)}return Object.assign({structures:i.structures,links:i.links},ho)}function Cp(e={}){const{uuids:t,feedRounds:n,matchUpType:i,stage:r=ar,structureName:a,drawDefinition:o,feedsFromFinal:s,stageSequence:c=1,finishingPositionOffset:u,staggeredEntry:d,feedPolicy:l,fmlc:p}=e,f=Wo({stage:r,drawDefinition:o}),{matchUps:m}=d?cp({matchUpType:i,drawSize:f,finishingPositionOffset:u,uuids:t}):ap({matchUpType:i,drawSize:f,finishingPositionOffset:u,uuids:t}),h=rp({structureName:a||ar,structureId:null==t?void 0:t.pop(),stageSequence:c,stage:ar,matchUps:m});o.structures.push(h);const v=f/2,{matchUps:g,roundsCount:y}=cp({feedRounds:n,baseDrawSize:v,feedsFromFinal:s,isConsolation:!0,finishingPositionOffset:v,uuids:t,fmlc:p}),I=rp({stageSequence:1,stage:sr,structureId:null==t?void 0:t.pop(),structureName:sr,matchUps:g});o.structures.push(I);const b=Dp({mainStructure:h,consolationStructure:I,roundsCount:y,feedPolicy:l,fmlc:p});return o.links=o.links.concat(...b),Object.assign({mainStructure:h,consolationStructure:I,links:o.links},ho)}function Ep({stage:e,stageSequence:t,drawDefinition:n}={}){if(!n)return{error:g};return{structures:n.structures.filter((function(t){return t.stage===e})).filter((function(e){return!t||e.stageSequence===t}))}}function Ap({uuids:e,matchUpType:t,stage:n=ar,stageSequence:i=1,structureName:r=ar,structureOptions:a,seedingProfile:o,drawDefinition:s}){const c=Kr,u=Wo({stage:n,drawDefinition:s}),{groupCount:d,groupSize:l}=function({structureOptions:e,drawSize:t}){let n=null==e?void 0:e.groupSize;const i=(null==e?void 0:e.groupSizeLimit)||8,r=function({drawSize:e,groupSizeLimit:t=10}){return nn(3,t+1).filter((t=>Math.ceil(e/t)*t-e<t))}({drawSize:t,groupSizeLimit:i}),a=Math.max(...r);n&&r.includes(n)||(n=n&&n>4||!r.includes(4)?a:4);const o=Math.ceil(t/n);return{groupSize:n,groupCount:o}}({structureOptions:a,drawSize:u}),p=nn(1,d+1).map((n=>rp({structureOrder:n,finishingPosition:c,structureType:mr,structureId:null==e?void 0:e.pop(),structureName:`Group ${n}`,matchUps:Rp({matchUpType:t,groupSize:l,structureOrder:n})}))),f=rp({stage:n,structures:p,structureName:r,stageSequence:i,seedingProfile:o,finishingPosition:c,structureType:hr,structureId:null==e?void 0:e.pop()});return s.structures.push(f),Object.assign({structure:f,groupCount:d,groupSize:l},ho)}function Mp({mainStructure:e,playoffStructure:t,finishingPositions:n}){return{linkType:br,source:{finishingPositions:n,structureId:e.structureId},target:{roundNumber:1,feedProfile:vr,structureId:t.structureId}}}function Rp({matchUpType:e,groupSize:t,structureOrder:n,uuids:i}){const r=(n-1)*t,a=nn(1+r,t+1+r),{uniqueMatchUpGroupings:o}=xl({drawPositions:a}),s=function({groupSize:e,drawPositionOffset:t}){const n=e=>[...Array(e)].map(((e,t)=>t)),i=n(2*Math.round(e/2)+1).slice(1),r=n(i.length-1).map((()=>[]));let a=i.slice(0,i.length/2),o=i.slice(i.length/2);i.slice(1).forEach(((e,t)=>{a.forEach(((e,n)=>{r[t].push([a[n],o[n]])}));const n=a.shift(),i=a.pop(),s=o.shift();a=[].concat(n,s,...a),o=[].concat(...o,i)}));const s=a.shift(),c=a.pop(),u=o.shift();a=[].concat(s,u,...a),o=[].concat(...o,c);const d=e=>e[0].reduce(((e,t)=>e+t));return r.reverse().sort(((e,t)=>d(e)-d(t))).map((n=>n.filter((t=>t.every((t=>t<=e)))).map((e=>Ol(e.map((e=>e+t)))))))}({groupSize:t,drawPositionOffset:r});return o.map((function(t){const n=function(e){return s.reduce(((t,n,i)=>n.includes(e)?i+1:t),void 0)}(Ol(t)),r=c(t.slice(1)),a=c(t.slice(0,t.length-1)),o={matchUpType:e,drawPositions:t,matchUpId:(null==i?void 0:i.pop())||Pn(),matchUpStatus:n?Bn:An,finishingPositionRange:{winner:a,loser:r}};n&&(o.roundNumber=n);return o})).sort(((e,t)=>(e.roundNumber||9999)-(t.roundNumber||9999)));function c(e){return[Math.min(...e),Math.max(...e)]}}const xp={getSourceRounds:gp,getDrawStructures:Ep,getPositionsPlayedOff:vp,getStructureQualifiersCount:function({drawDefinition:e,structure:t,structureId:n}){let i,r;if(t||({structure:t,error:i}=lo({drawDefinition:e,structureId:n})),!i)if(t.stage!==or)i="Structure is not Qualifying";else{const{matchUps:n}=cs({drawDefinition:e,structure:t});r=n.reduce(((e,t)=>e+(1===t.finishingRound?1:0)),0)}return{qualifiersCount:r,error:i}},getAvailablePlayoffRounds:yp,addPlayoffStructures:Pp,structureSort:uo,generateDrawType:function(e={}){const{uuids:t,goesTo:n=!0,stage:i=ar,structureName:a,staggeredEntry:o,stageSequence:c=1,drawType:u=Tr,drawDefinition:d}=e;if(!d)return{error:g};const{tieFormat:l,matchUpType:p}=d||{},f=Wo({stage:i,drawDefinition:d});Object.assign(e,{drawSize:f,matchUpType:p,tieFormat:l});const m=r(2*f/3);if(f<2||!o&&u!==Pr&&(u===Br&&f<3||u===Cr&&!m||![Br,Cr,Vr].includes(u)&&!r(f)))return{error:D};const h=Yr.includes(u);if(parseInt(f)<4&&h)return{error:D};const v=1===c?1:void 0,{structures:y}=Ep({stage:i,stageSequence:c,drawDefinition:d});if(y.length>=v)return{error:Y};const I={[Tr]:()=>{const{matchUps:n,roundLimit:r}=ap(e),o=rp({stage:i,matchUps:n,stageSequence:c,qualifyingRound:i===or&&r,structureId:null==t?void 0:t.pop(),roundLimit:r,structureName:a||i});return d.structures.push(o),Object.assign({structure:o},ho)},[Cr]:()=>Up(e),[Ur]:()=>wp(Object.assign(e,{roundOffsetLimit:3,playoffAttributes:Wr})),[Dr]:()=>wp(Object.assign(e,{roundOffsetLimit:2,playoffAttributes:zr})),[ur]:()=>wp(e),[Pr]:()=>{const{matchUps:e}=cp({drawSize:f,uuids:t,matchUpType:p}),n=rp({structureName:a||i,structureId:null==t?void 0:t.pop(),stageSequence:c,matchUps:e,stage:i});return d.structures.push(n),Object.assign({structure:n},ho)},[Ar]:()=>function(e){let{drawSize:t,consolationStructureName:n}=e;const{uuids:i,matchUpType:r,stage:a=ar,structureName:o,drawDefinition:s,staggeredEntry:c,stageSequence:u=1,finishingPositionOffset:d=0}=e;t=t||Wo({stage:a,drawDefinition:s});const{matchUps:l}=c?cp({matchUpType:r,drawSize:t,finishingPositionOffset:d,uuids:i}):ap({matchUpType:r,drawSize:t,finishingPositionOffset:d,uuids:i}),p=rp({stage:a,matchUps:l,stageSequence:u,structureId:null==i?void 0:i.pop(),structureName:o||ar});s&&s.structures.push(p);const f=t/2,{matchUps:m}=ap({drawSize:f,finishingPositionOffset:d+f});n=n||(o?`${o} ${sr}`:sr);const h=rp({stageSequence:1,stage:sr,structureId:null==i?void 0:i.pop(),matchUps:m,structureName:n});s&&s.structures.push(h);const v={linkType:Sr,source:{roundNumber:1,structureId:p.structureId},target:{roundNumber:1,feedProfile:yr,structureId:h.structureId}};return s&&s.links.push(v),Object.assign({link:v,mainStructure:p,consolationStructure:h,links:null==s?void 0:s.links},ho)}(e),[Er]:()=>Cp(Object.assign(e,{feedRounds:1,fmlc:!0})),[Zr]:()=>Cp(Object.assign(e,{feedRounds:1})),[Or]:()=>Cp(Object.assign(e,{feedsFromFinal:2})),[Rr]:()=>Cp(Object.assign(e,{feedsFromFinal:1})),[Fr]:()=>Cp(Object.assign(e,{feedsFromFinal:3})),[jr]:()=>Cp(e),[Mr]:()=>Tp(e),[Br]:()=>Ap(e),[Vr]:()=>function(e){const{uuids:t,matchUpType:n,drawDefinition:i,playoffMatchUpFormat:r,stageSequence:a=1,structureOptions:o}=e,c=Object.assign({structureName:ar},e,{stage:ar}),{structure:u,groupCount:d,groupSize:l}=Ap(c);d<1&&console.log(gt);const p=o&&o.playoffGroups||[{finishingPositions:[1],structureName:ur}];let f=0;const m=p.map(((e,o)=>{const c=o+1,p=nn(1,l+1),m=e.finishingPositions;if(!m.reduce(((e,t)=>p.includes(t)&&e),!0))return;const h=e.drawType||Tr,v=d*m.length,g=s(v);if(h===Tr){const{matchUps:o}=ap({drawSize:g,matchUpType:n,finishingPositionOffset:f}),s=rp({matchUps:o,stageOrder:c,stageSequence:a,stage:ur,structureId:null==t?void 0:t.pop(),structureName:e.structureName,matchUpFormat:r});i.structures.push(s);const d=Mp({mainStructure:u,playoffStructure:s,finishingPositions:m});return i.links.push(d),f+=v,s}if(h===Er){console.log("RRw/PO FIRST_MATCH_LOSER_CONSOLATION");const r=[null==t?void 0:t.pop(),null==t?void 0:t.pop()],{mainStructure:a,consolationStructure:o,link:s}=Cp({drawSize:g,fmlc:!0,matchUpType:n,feedRounds:1,stage:ur,uuids:r,finishingPositionOffset:f,structureName:e.structureName}),c=Mp({mainStructure:u,playoffStructure:a,finishingPositions:m});return i.links.push(c),i.structures.push(a),i.structures.push(o),i.links.push(s),f+=v,a}})).filter((e=>e));return Object.assign({mainStructure:u,playoffStructures:m,links:i.links},ho)}(e)}[u],b=I&&I();if(null==b||!b.success)return{error:S};const{matchUps:w,matchUpsMap:N}=Ss({drawDefinition:d});let P;l&&w.forEach((e=>{const{tieMatchUps:t}=function({tieFormat:e,uuids:t}){const{collectionDefinitions:n}=e||{};return{tieMatchUps:(n||[]).map((e=>{const{matchUpCount:n,matchUpFormat:i,matchUpType:r,collectionId:a}=e||{};return nn(0,n||0).map((e=>({collectionId:a,matchUpType:r,matchUpFormat:i,collectionPosition:e+1,matchUpId:(null==t?void 0:t.pop())||Pn(),sides:[{SideNumber:1},{SideNumber:2}]})))})).filter((e=>e)).flat()}}({tieFormat:l});Object.assign(e,{tieMatchUps:t,tieFormat:l,matchUpType:p})})),n&&({inContextDrawMatchUps:P}=Np({drawDefinition:d,matchUpsMap:N}));const U=Object.assign({},ho,{matchUps:w});return Object.assign(U,b,{matchUpsMap:N,inContextDrawMatchUps:P}),U},addVoluntaryConsolationStage:pp,generateVoluntaryConsolationStructure:dp,buildDrawHierarchy:function({matchUps:e,matchUpType:t}){var n;if(!e)return{error:re};let i=0,r=[],a=[];t&&(e=e.filter((e=>e.matchUpType===t)));const o=$t(e.map((({matchUpType:e})=>e)));if(o.length>1)if(o.includes(ma))e=e.filter((e=>e.matchUpType===ma));else if(o.includes(pa))e=e.filter((e=>e.matchUpType===pa));else{if(!o.includes(fa))return{};e=e.filter((e=>e.matchUpType===fa))}if(!Array.isArray(e)||!e.length)return{};const s=(e,t)=>parseInt(e)-parseInt(t),c=$t(e.map((e=>e.drawPositions)).flat().filter((e=>e))).sort(s),u=nn(1,Math.max(...c)+1).filter((e=>!c.includes(e))).sort(s),{roundMatchUps:d}=to({matchUps:e}),l=d[1],p=d[2]||[],[f]=l||[{}],m=f.drawId,h=f.structureId,v=Math.max(...Object.keys(d)),g=(null===(n=d[v])||void 0===n?void 0:n.length)||0,y=Math.ceil(Math.log(g)/Math.log(2)),I=nn(1,y+1).map((e=>{const t=Math.pow(2,e-1),n=v+y-e+1;return nn(1,t+1).map((t=>({drawId:m,structureId:h,matchUpId:Pn(),drawPositions:[],sides:[],roundNumber:n,roundPosition:t,finishingRound:e})))}));y&&(e=e.concat(...I.flat()));const b=l.map((e=>e.drawPositions)).flat(1/0),w=p.map((e=>e.drawPositions)).flat(1/0).filter((e=>!b.includes(e))).sort(s),S=p.filter((e=>{var t;return null===(t=e.drawPositions)||void 0===t?void 0:t.reduce(((e,t)=>w.includes(t)||e),void 0)})).map((e=>{var t,n;const i=null===(t=e.drawPositions)||void 0===t?void 0:t.reduce(((e,t)=>w.includes(t)?t:e),void 0),r=null===(n=e.drawPositions)||void 0===n?void 0:n.indexOf(i);return{[i]:e.sides[r]}}));if(null!=u&&u.length&&(null==w?void 0:w.length)===(null==u?void 0:u.length)){const t=w.map(((e,t)=>[e,u[t]].sort(s))),n=Object.assign({},...S),i=Sn(l[0].finishingRound),r=Sn(l[0].finishingPositionRange);a=t.map(((e,t)=>{const a=Math.max(...e)/2;return{sides:e.map((e=>n[e]||{bye:!0,drawPosition:e})),drawId:m,structureId:h,roundPosition:a,drawPositions:e,roundNumber:1,finishingRound:i,matchUpId:Pn(),matchUpStatus:"BYE",sideNumber:t+1,finishingPositionRange:r}})),e=e.concat(...a)}const N=v+y;return nn(1,N+1).forEach((t=>{var n,a;const o=[],s=P({matchUps:e,roundNumber:t}),c=P({matchUps:e,roundNumber:t-1}).map(bp).filter((e=>e)),u=(null==s?void 0:s.length)===(null===(n=r)||void 0===n?void 0:n.length),d=(null==s?void 0:s.length)===(null===(a=r)||void 0===a?void 0:a.length)/2;1===t&&s.forEach((e=>{const t=e.drawPositions||[],{matchUpId:n,structureId:i}=e,r=[{...e.sides[0],drawPosition:t[0],matchUpId:n,structureId:i},{...e.sides[1],drawPosition:t[1],matchUpId:n,structureId:i}],a=Object.assign({},e,{children:r});o.push(a)})),u?(i++,s.forEach(((e,t)=>{const n=e.drawPositions||[],{matchUpId:a,structureId:s}=e,u=n.filter((e=>e)).reduce(((e,t)=>b.includes(t)?e:t),void 0),d=[{...e.sides.filter((e=>e)).reduce(((e,t)=>t.participantId&&!c.includes(t.participantId)?t:e),void 0),drawPosition:u,feedRoundNumber:i,sides:e.sides,matchUpId:a,structureId:s},r[t]],l=Object.assign({},e,{children:d});o.push(l)}))):d&&s.forEach(((e,t)=>{const n=[r[2*t],r[2*t+1]],i=Object.assign({},e,{children:n});o.push(i)})),r=o})),{hierarchy:r[0],missingMatchUps:a,maxRound:v,finalRound:N,matchUps:e};function P({matchUps:e,roundNumber:t}){return e.filter((e=>e.roundNumber===t)).sort(((e,t)=>e.roundPosition-t.roundPosition))}}};function Op({participantPreferences:e,drawPositionResolutions:t={}}){const n=Object.keys(e).reduce(((t,n)=>{const i=e[n].preferences[0];return i&&(t[i]||(t[i]=[]),t[i].push(n)),t}),{}),i=Math.min(...Object.values(n).filter((e=>e.length)).map((e=>e.length))),r=Object.keys(n).filter((e=>n[e].length&&i&&n[e].length===i));let a;return r.forEach((i=>{const r=en(n[i]);t[i]=r,delete e[r]})),Object.values(e).forEach((e=>{e.preferences=e.preferences.filter((e=>{const t=!r.includes(e.toString());return t&&(a=!0),t}))})),{drawPositionResolutions:t,remainingPreferences:a,participantPreferences:e}}function kp({participantId:e,drawDefinition:t,drawPosition:n,structureId:i,positionActionName:r,participantIdAttributeName:a="participantId"}){if(!t)return{error:g};const{positionAssignments:o}=ts({drawDefinition:t,structureId:i}),s=o.find((e=>e.drawPosition===n));if(null!=s&&s.participantId){let r=eu({drawDefinition:t,structureId:i,drawPosition:n,participantId:e});return r.success||console.log({result:r}),d({removedParticipantId:s.participantId})}let c=Mc({drawDefinition:t,drawPosition:n,structureId:i});if(c.error)return c;const u=c.participantId;return c=eu({drawDefinition:t,structureId:i,drawPosition:n,participantId:e}),c.success?d({removedParticipantId:u}):c;function d({removedParticipantId:o}){const{structure:s}=lo({drawDefinition:t,structureId:i});Kc({structure:s,drawPositions:[n]});return qc({drawDefinition:t,positionAction:{name:r,drawPosition:n,structureId:i,[a]:e}}),Object.assign({},ho,{removedParticipantId:o})}}function Fp({alternateParticipantId:e,drawDefinition:t,drawPosition:n,structureId:i}){return kp({participantId:e,drawDefinition:t,drawPosition:n,structureId:i,participantIdAttributeName:"alternateParticipantid",positionActionName:"alternateDrawPositionAssignment"})}function Lp(e){const{drawId:t,replaceWithBye:n,destroyPair:i,entryStatus:r}=e,a=Mc(e);if(a.error)return a;const{participantId:o}=a,{drawDefinition:s,drawPosition:c,event:u,structureId:d}=e;if([Ao,Zo].includes(r)&&o){const{tournamentRecord:n}=e,{participant:a}=No({tournamentRecord:n,participantId:o}),{participantType:c,individualParticipantIds:d}=a||{};if(i&&c===ro){const e=Tl({tournamentRecord:n,drawDefinition:s,participantId:o,event:u});if(e.error)return e;Dl({tournamentRecord:n,participantIds:d,entryStatus:r,drawDefinition:s,drawId:t,event:u})}else Dl({tournamentRecord:n,participantIds:[o],entryStatus:r,drawDefinition:s,drawId:t,event:u})}if(n){const{matchUpsMap:t}=e,n=kc({drawDefinition:s,structureId:d,drawPosition:c,matchUpsMap:t});if(n.error)return n}const{structure:l}=lo({drawDefinition:s,structureId:d});Kc({structure:l,drawPositions:[c]});return qc({drawDefinition:s,positionAction:{name:"removeDrawPositionAssignment",replaceWithBye:n,drawPosition:c,entryStatus:r,structureId:d}}),a}function Zp({drawDefinition:e,drawPositions:t,structureId:n}){var i;if(!e)return{error:g};if(!n)return{error:F};if(2!==(null==t?void 0:t.length))return{error:It,drawPositions:t};const r=so({drawDefinition:e}),{structure:a}=lo({drawDefinition:e,structureId:n});if(!a)return{error:L};let o;if(o=a.structureType===hr?function({drawDefinition:e,drawPositions:t,structure:n,matchUpsMap:i}){var r;const a=null===(r=n.structures)||void 0===r?void 0:r.reduce(((e,n)=>{const i=null==n?void 0:n.positionAssignments.filter((e=>t.includes(e.drawPosition)));return i&&e.push(...i),e}),[]);if(2===a.filter((({bye:e})=>e)).length)return ho;if(a.some((({bye:e})=>e)))_p({drawDefinition:e,assignments:a,structure:n,matchUpsMap:i});else{const e=a.map((({participantId:e})=>e));a.forEach(((t,n)=>t.participantId=e[1-n]))}return ho}({drawDefinition:e,structure:a,drawPositions:t,matchUpsMap:r}):function({drawDefinition:e,structure:t,drawPositions:n,matchUpsMap:i}){const r=null==t?void 0:t.positionAssignments.filter((e=>n.includes(e.drawPosition)));if(!r)return{error:It,structure:t,message:"Missing positionAssignments"};if(2===r.filter((({bye:e})=>e)).length)return ho;return r.some((({bye:e})=>e))?_p({drawDefinition:e,structure:t,assignments:r,matchUpsMap:i}):function({structure:e,assignments:t}){const n=Object.assign({},...t.map(((e,n)=>{const{drawPosition:i}=e;return{[i]:Object.assign({},t[1-n],{drawPosition:i})}})));return e.positionAssignments=e.positionAssignments.map((e=>n[e.drawPosition]||e)),ho}({structure:t,assignments:r,matchUpsMap:i})}({drawDefinition:e,structure:a,drawPositions:t,matchUpsMap:r}),null===(i=o)||void 0===i||!i.error){Kc({structure:a,drawPositions:t});qc({drawDefinition:e,positionAction:{name:"swapDrawPositionAssignments",drawPositions:t,structureId:n}})}return o}function _p({drawDefinition:e,structure:t,assignments:n,matchUpsMap:i}){const r=n.find((({bye:e})=>e)),a=n.find((({participantId:e})=>e)),o=r.drawPosition,{participantId:s,drawPosition:c}=a,{structureId:u}=t;let d=Lp({drawDefinition:e,structureId:u,drawPosition:o,matchUpsMap:i});return d.error?d:(d=Lp({drawDefinition:e,structureId:u,drawPosition:c,matchUpsMap:i}),d.error?d:(d=kc({drawDefinition:e,structureId:u,drawPosition:c,matchUpsMap:i}),d=eu({drawDefinition:e,structureId:u,drawPosition:o,participantId:s}),d.error||d.error?d:ho))}function jp({tournamentRecord:e,drawDefinition:t,event:n,structureId:i,drawPosition:r,subOrder:a}){if(!t)return{error:g};if(!i)return{error:F};if(!r)return{error:U};const{structure:o}=lo({drawDefinition:t,structureId:i});let s=o;o.structureType===hr&&(s=o.structures.find((e=>e.positionAssignments.find((e=>e.drawPosition===r)))));const c=s.positionAssignments;let u=vo({element:c.find((e=>e.drawPosition===r)),extension:{name:Qa,value:a}});if(u.error)return u;const{matchUps:d}=cs({structure:s,inContext:!0});return u=Ic({tournamentRecord:e,drawDefinition:t,event:n,positionAssignments:c,matchUps:d,matchUpFormat:(null==o?void 0:o.matchUpFormat)||t.matchUpFormat}),u}const Bp={setSubOrder:jp,clearDrawPosition:Mc,assignDrawPosition:eu,automatedPositioning:ep,assignDrawPositionBye:kc,swapDrawPositionAssignments:Zp,alternateDrawPositionAssignment:Fp,resolveDrawPositions:function({participantFactors:e,positionAssignments:t}){if(!e||!t)return{error:ye};let n=Sn(e,!1,!0);const i=t.map((({drawPosition:e})=>e)),r=t.filter((e=>!e.participantId&&!e.bye&&!e.qualifier)).map((({drawPosition:e})=>e));let a,o=!0;for(;o;)({drawPositionResolutions:a,remainingPreferences:o,participantPreferences:n}=Op({participantPreferences:n,drawPositionResolutions:a}));const s=Object.keys(a).map((e=>parseInt(e)));let c=r.filter((e=>!s.includes(e))),u=Object.keys(n);const d=nn(1,(l=2,p=i.length,Math.log(p)/Math.log(l)+1)).map((e=>Math.pow(2,e)));var l,p;const f={};for(const h of d){const t=on(i,h).filter((e=>an(e,c).length)),n={};u.forEach((i=>{t.forEach((t=>{const r=t.join("|");an(t,e[i].preferences).length&&(n[r]||(n[r]=[]),n[r].push(i))}))}));if(Jt(Object.keys(n)).forEach((e=>{const t=n[e].filter((e=>u.includes(e)));for(;t.length;){const n=en(t),i=e.split("|").map((e=>parseInt(e))).filter((e=>c.includes(parseInt(e))));if(i.length){const t=en(i);c=c.filter((e=>e!==t)),u=u.filter((e=>e!==n)),a[t]=n;const r=e.split("|").length;f[r]||(f[r]=0),f[r]+=1}}})),!c.length)break}const m={chunkResolution:f};return u.length&&(u.forEach((e=>{const t=en(c);t&&(a[t]=e)})),m.randomAssignment=u.length),{drawPositionResolutions:a,report:m}},initializeStructureSeedAssignments:function({requireParticipantCount:e=!0,drawSizeProgression:t=!0,enforcePolicyLimits:n=!0,participantCount:i,drawDefinition:r,structureId:a,seedsCount:o}){const{structure:s}=lo({drawDefinition:r,structureId:a}),{positionAssignments:c}=ns({structure:s}),u=c.length;if(!s)return{error:_};if(o>u)return{error:A};const{policyDefinition:d}=yc({drawDefinition:r,policyType:mi}),{seedsCount:l}=fl({requireParticipantCount:e,drawSizeProgression:t,policyDefinition:d,participantCount:i,drawSize:u});return d&&l&&o>l&&n&&(o=l),s.seedLimit=o,s.seedAssignments=nn(1,o+1).map((e=>({seedNumber:e,seedValue:e,participantId:void 0}))),Object.assign({},ho,{seedLimit:o})},getNextSeedBlock:Xc};function Vp({drawDefinition:e,matchUpId:t}){if(!e)return{error:g};if(!t)return{error:ae};const{matchUp:n}=us({drawDefinition:e,matchUpId:t});return n?go({element:n,name:Va}):{error:ie}}function Gp({drawDefinition:e,matchUp:t,matchUpId:n,outcome:i}){if(!t&&!e)return{error:g};if(!t&&!n)return{error:ae};if(!i)return{error:ye};if(!t){const{error:i,matchUp:r}=us({drawDefinition:e,matchUpId:n});if(i)return{error:i};t=r}const r=vo({element:t,extension:{name:Va,value:i}});return r.error?r:ho}function Hp(e){return null!==e&&(void 0===e||!isNaN(e))}function Wp(e,t){return function(e,t){return(lr[null==e?void 0:e.stage]||0)-(lr[null==t?void 0:t.stage]||0)}(e,t)||((null==e?void 0:e.stageSequence)||0)-((null==t?void 0:t.stageSequence)||0)||(null==e?void 0:e.roundNumber)-(null==t?void 0:t.roundNumber)||((null==e?void 0:e.roundPosition)||0)-((null==t?void 0:t.roundPosition)||0)}const zp={setMatchUpStatus:ou,setMatchUpFormat:hc,isValidMatchUpFormat:mc,addMatchUpTimeItem:$s,resetMatchUpTimeItems:function({drawDefinition:e,matchUpId:t}){const{matchUp:n}=us({drawDefinition:e,matchUpId:t});return n?(n.timeItems=[],mn({topic:zs,payload:{matchUp:n}}),ho):{error:ie}},checkInParticipant:ud,checkOutParticipant:dd,getCheckedInParticipantIds:as,addMatchUpScheduleItems:ac,addMatchUpScheduledDate:oc,addMatchUpScheduledTime:sc,addMatchUpStartTime:uc,addMatchUpEndTime:dc,addMatchUpStopTime:lc,addMatchUpResumeTime:pc,setDelegatedOutcome:Gp,removeDelegatedOutcome:Vp,matchUpSort:Wp,addMatchUpOfficial:cc,findMatchUp:function(e){return Object.assign(e,{inContext:!0}),{matchUp:Sn(us(e).matchUp)}},getRoundMatchUps:to,validDrawPositions:function({matchUps:e}){if(!e)return{error:re};const t=e.map((e=>e.drawPositions)).flat();ln()&&e.forEach((e=>{Array.isArray(e.drawPositions)?e.drawPositions.forEach((t=>{Hp(t)||console.log("invalid drawPosition",e)})):console.log("drawPositions not an array",e)}));const n=t.every(Hp),i=e.find((e=>!Array.isArray(e.drawPositions)));return n&&!i}};const Kp={attachPolicy:function({drawDefinition:e,policyDefinition:t}){if(!e)return{error:g};let n=function({drawDefinition:e,policyDefinition:t}){const n=[];if(!t||"object"!=typeof t)return n.push({error:ce}),{errors:n};e.extensions||(e.extensions=[]);const{appliedPolicies:i}=eo({drawDefinition:e}),r=Object.keys(t).every((e=>!i[e]&&(i[e]=t[e],!0)));if(r){const t=vo({element:e,extension:{name:Ba,value:i}});if(t.error)return t}return r?ho:{error:pe}}({drawDefinition:e,policyDefinition:t});return n&&n.errors?{error:n.errors}:ho}};function qp({drawPosition:e,structureId:t,drawId:n,event:i,structure:r,drawDefinition:a,activeDrawPositions:o,positionAssignments:s,possiblyDisablingAction:c,tournamentParticipants:u=[]}){if(!n)return{error:C,method:"getValidAlternatesAction"};if(o.includes(e))return{};const d=s.map((e=>e.participantId)).filter((e=>e)),l=(i.entries||[]).filter((e=>e.entryStatus===Ao&&function({structure:e,entry:t}){const{stage:n}=e;if(!t.entryStage||t.entryStage===n||t.entryStage===ar&&n===sr)return!0}({structure:r,entry:e})&&!d.includes(e.participantId))).sort(((e,t)=>(e.entryPosition||0)-(t.entryPosition||0))).map((e=>e.participantId)),p=null==u?void 0:u.filter((e=>l.includes(e.participantId)));if(p.forEach((e=>{const t=(a.entries||[]).find((t=>t.participantId===e.participantId));e.entryPosition=null==t?void 0:t.entryPosition})),l.length){return{validAlternatesAction:{type:ea,method:"alternateDrawPositionAssignment",availableAlternates:p,availableAlternatesParticipantIds:l,willDisableLinks:c,payload:{drawId:n,structureId:t,drawPosition:e}}}}return{}}function Yp(e,t){return e.bye||e.seedValue<t.seedValue||e.seedValue&&!t.seedValue?-1:(e.seedNumber||0)-(t.seedNumber||0)}function $p({drawDefinition:e,drawPosition:t,structureId:n,structure:i,drawId:r,isByePosition:a,byeDrawPositions:o,positionAssignments:s,tournamentParticipants:c,onlyAssignedPositions:u=!0,activeDrawPositions:d,inactiveDrawPositions:l,possiblyDisablingAction:p}){if(!r)return{error:C,method:"getValidSwapAction"};if(d.includes(t))return{};const f=null==l?void 0:l.filter((e=>e!==t&&!(a&&o.includes(e)))),m=(null==s?void 0:s.filter((e=>(e=>!u||e.participantId||e.qualifier||e.bye)(e)&&(null==f?void 0:f.includes(e.drawPosition)))))||[],h=m.map((({drawPosition:e})=>e)),{matchUps:v}=cs({drawDefinition:e,structure:i,inContext:!0}),g=v.filter((({drawPositions:e})=>an(e,h).length)),y=Object.assign({},...g.map((e=>{var t;return null===(t=e.sides)||void 0===t?void 0:t.filter((({sourceDrawPositionRange:e})=>e)).map((({drawPosition:e,sourceDrawPositionRange:t})=>({[e]:t})))})).flat()),I=m.map((e=>e.participantId)).filter((e=>e)),b=(c||[]).filter((e=>I.includes(e.participantId))),w=Object.assign({},...b.map((e=>({[e.participantId]:e})))),S=m.map((e=>{const t=w&&w[e.participantId],n=y[e.drawPosition];return Object.assign({},e,{participant:Sn(t),sourceDrawPositionRange:n})}));if(S.length){return{validSwapAction:{type:aa,method:"swapDrawPositionAssignments",availableAssignments:S,willDisableLinks:p,payload:{drawId:r,structureId:n,drawPositions:[t]}}}}return{}}function Jp({action:e,policyActions:t}){var n;return!(null==t||!t.enabledActions||null!=t&&null!==(n=t.disabledActions)&&void 0!==n&&n.length&&t.disabledActions.includes(e))&&!!(0===(null==t?void 0:t.enabledActions.length)||null!=t&&t.enabledActions.includes(e))}function Qp({tournamentParticipants:e=[],policyDefinition:t,tournamentRecord:n,drawDefinition:i,drawPosition:r,structureId:a,event:o}){if(!o)return{error:B};if(!i)return{error:g};if(void 0===r)return{error:U};if(!a)return{error:F};const{activeDrawPositions:s,byeDrawPositions:c,inactiveDrawPositions:u,structure:d}=Dc({drawDefinition:i,structureId:a});if(!d)return{error:L};const{enabledStructures:l,actionsDisabled:p}=function({policyDefinition:e,tournamentRecord:t,drawDefinition:n,structure:i,event:r}){const{policyDefinition:a}=yc({policyType:di,tournamentRecord:t,drawDefinition:n,event:r}),o=(e=e||a||da).positionActions,{enabledStructures:s,disabledStructures:c}=o||{};return{enabledStructures:s,actionsDisabled:null==c?void 0:c.find((e=>{var t,n;return(null===(t=e.stages)||void 0===t?void 0:t.includes(i.stage))&&(!(null!==(n=e.stageSequences)&&void 0!==n&&n.length)||e.stageSequences.includes(i.stageSequence))}))}}({policyDefinition:t,tournamentRecord:n,drawDefinition:i,structure:d,event:o});if(p)return{message:"Actions Disabled for structure"};const{sourceStructureIds:f}=function({drawDefinition:e,structureId:t,finishingPosition:n,linkType:i}){const{links:r}=hs({drawDefinition:e,structureId:t})||{};return{sourceStructureIds:((null==r?void 0:r.target)||[]).filter((({linkType:e})=>e===i)).map((({source:e})=>e.structureId)).map((t=>{const{structure:n}=lo({drawDefinition:e,structureId:t});return{sourceStructureId:t,sourceFinishingPosition:n.finishingPosition}})).filter((({sourceFinishingPosition:e})=>e===n)).map((({sourceStructureId:e})=>e))}}({drawDefinition:i,structureId:a,finishingPosition:Kr,linkType:br})||{};let m;null!=f&&f.length&&(m=f.reduce(((e,t)=>Hc({drawDefinition:i,structureId:t})&&e),!0));const h=f.length,v=f.length&&!m,{policyActions:y}=function({enabledStructures:e,structure:t}){return e?e.length?{policyActions:e.find((e=>{var n,i;const r=!(null!==(n=e.stages)&&void 0!==n&&n.length)||e.stages.includes(t.stage),a=!(null!==(i=e.stageSequences)&&void 0!==i&&i.length)||e.stageSequences.includes(t.stageSequence);if(e&&r&&a)return!0}))}:{policyActions:{enabledActions:[],disabledActions:[]}}:{}}({enabledStructures:l,structure:d}),I=![or,ar].includes(d.stage)||1!==d.stageSequence,b=[],{drawId:w}=i,{assignedPositions:S,positionAssignments:N}=ns({structure:d}),D=S.find((e=>e.drawPosition===r)),T=N.map((e=>e.drawPosition));if(null==T||!T.includes(r))return{error:P};const{stage:E,stageSequence:A}=d,M=[Oo,xo],R=[E];E===sr&&R.push(ar),E===ar&&R.push(sr);const x=qo({drawDefinition:i,stageSequence:A,structureId:a,entryTypes:M,stages:R}),O=Sl({drawDefinition:i,stages:R}),k=x.filter((e=>!O.includes(e.participantId))).map((e=>e.participantId)),Z=c.includes(r),_=s.includes(r);if(Jp({policyActions:y,action:na})&&!_&&!v&&(!D||Z)){const{validAssignmentActions:n}=function({drawDefinition:e,structureId:t,drawPosition:n,isByePosition:i,policyDefinition:r,positionAssignments:a,tournamentParticipants:o,isWinRatioFedStructure:s,possiblyDisablingAction:c,unassignedParticipantIds:u,positionSourceStructureIds:d}){var l,p,f;const{drawId:m}=e,h=[],{structure:v}=lo({drawDefinition:e,structureId:t});let g,y,I=[];const b=null==r||null===(l=r.seeding)||void 0===l||null===(p=l.validSeedPositions)||void 0===p?void 0:p.ignore;if(!b){const n=Xc({drawDefinition:e,structureId:t,randomize:!0});({unplacedSeedParticipantIds:g,unplacedSeedAssignments:y,unfilledPositions:I}=n)}if(null!==(f=I)&&void 0!==f&&f.length||(I=a.filter((e=>!e.participantId&&!e.bye&&!e.qualifier)).map((e=>e.drawPosition))),i||h.push({type:ua,method:"assignDrawPositionBye",willDisableLinks:c,payload:{drawId:m,structureId:t,drawPosition:n}}),s&&b){var w;const i=a.map((e=>e.participantId)).filter((e=>e)),r={structureIds:d},{completedMatchUps:s}=Ns({inContext:!0,matchUpFilters:r,drawDefinition:e}),u=$t(null===(w=s||[])||void 0===w?void 0:w.map((({sides:e})=>e.map((({participantId:e})=>e)))).flat().filter((e=>!i.includes(e)))),l=null==o?void 0:o.filter((e=>null==u?void 0:u.includes(e.participantId)));return null==l||l.forEach((t=>{const n=(e.entries||[]).find((e=>e.participantId===t.participantId));t.entryPosition=null==n?void 0:n.entryPosition})),null!=l&&l.length&&h.push({type:na,method:Qr,availableParticipantIds:u,participantsAvailable:l,willDisableLinks:c,payload:{drawId:m,structureId:t,drawPosition:n}}),{validAssignmentActions:h}}if(I.includes(n)||i){var S;let i;if(null!==(S=y)&&void 0!==S&&S.length){const e=y.filter((e=>{var t;return null===(t=g)||void 0===t?void 0:t.includes(e.participantId)}));e.sort(Yp),i=e.map((e=>e.participantId))}else{i=u;const{unplacedQualifiersCount:t}=Ql({drawDefinition:e,structure:v});t&&console.log({unplacedQualifiersCount:t})}const r=null==o?void 0:o.filter((e=>i.includes(e.participantId)));return null!=r&&r.length&&h.push({type:na,method:Qr,availableParticipantIds:i,participantsAvailable:r,willDisableLinks:c,payload:{drawId:m,structureId:t,drawPosition:n}}),{validAssignmentActions:h}}return{message:"No valid assignment actions"}}({drawDefinition:i,structureId:a,drawPosition:r,isByePosition:Z,policyDefinition:t,activeDrawPositions:s,positionAssignments:N,isWinRatioFedStructure:h,tournamentParticipants:e,possiblyDisablingAction:I,unassignedParticipantIds:k,positionSourceStructureIds:f});null==n||n.forEach((e=>b.push(e)))}const{participantId:j}=D||{},V=j&&e.find((e=>e.participantId===j));if(D){Jp({policyActions:y,action:ia})&&!_&&(b.push({type:ia,method:Jr,payload:{drawId:w,structureId:a,drawPosition:r},willDisableLinks:I}),Z||b.push({type:ta,method:"withdrawParticipantAtDrawPosition",payload:{drawId:w,structureId:a,drawPosition:r},willDisableLinks:I}),Jp({policyActions:y,action:ua})&&!Z&&b.push({type:ua,method:Jr,payload:{drawId:w,structureId:a,drawPosition:r,replaceWithBye:!0},willDisableLinks:I}));const t=d.stage===or||d.stage===ar&&1===d.stageSequence;if(!Z&&Jp({policyActions:y,action:sa})&&Qc({drawDefinition:i,structureId:a,drawPosition:r})&&t){const{seedAssignments:e}=Qo({drawDefinition:i,structure:d}),{seedNumber:t,seedValue:n}=e.find((e=>e.participantId===j))||{};b.push({type:sa,method:"modifySeedAssignment",participant:V,payload:{drawId:w,structureId:a,participantId:j,seedNumber:t,seedValue:n}})}if(!Z&&j){if(Jp({policyActions:y,action:sa})){const e={type:ca,method:Xr,participant:V,payload:{drawId:w,penaltyCode:void 0,penaltyType:void 0,participantIds:[],notes:void 0}};b.push(e)}if(Jp({policyActions:y,action:oa})){const e={type:oa,method:"modifyParticipantOtherName",participant:V,payload:{participantId:j,otherName:void 0}};b.push(e)}}if(Jp({policyActions:y,action:aa})){const{validSwapAction:t}=$p({drawId:w,structure:d,structureId:a,drawPosition:r,isByePosition:Z,drawDefinition:i,byeDrawPositions:c,positionAssignments:N,activeDrawPositions:s,inactiveDrawPositions:u,tournamentParticipants:e,possiblyDisablingAction:I});t&&b.push(t)}}if(Jp({policyActions:y,action:ea})&&!v){const{validAlternatesAction:t}=qp({event:o,drawId:w,structure:d,structureId:a,drawPosition:r,drawDefinition:i,activeDrawPositions:s,positionAssignments:N,tournamentParticipants:e,possiblyDisablingAction:I});t&&b.push(t)}if(Jp({policyActions:y,action:ra})&&!v){const{validLuckyLosersAction:t}=function({drawPosition:e,structureId:t,drawId:n,structure:i,drawDefinition:r,activeDrawPositions:a,positionAssignments:o,isWinRatioFedStructure:s,possiblyDisablingAction:c,tournamentParticipants:u=[]}){var d,l,p,f;if(!n)return{error:C,method:"getValidLuckyLosersAction"};if(a.includes(e)||s)return{};const{sourceStructureIds:m,targetStructureIds:h}=(null===(d=r.links)||void 0===d?void 0:d.reduce(((e,t)=>{var n,i;const r=null===(n=t.source)||void 0===n?void 0:n.structureId,a=null===(i=t.target)||void 0===i?void 0:i.structureId;return e.sourceStructureIds.includes(r)||e.sourceStructureIds.push(r),e.targetStructureIds.includes(a)||e.targetStructureIds.push(a),e}),{sourceStructureIds:[],targetStructureIds:[]}))||{};let v=null===(l=r.links)||void 0===l?void 0:l.find((e=>{var t;return(null===(t=e.target)||void 0===t?void 0:t.structureId)===i.structureId}));const g=null===(p=v)||void 0===p||null===(f=p.source)||void 0===f?void 0:f.structureId,{structure:y}=lo({drawDefinition:r,structureId:g}),I={};if((null==y?void 0:y.finishingPosition)===qr&&(1!==(null==m?void 0:m.length)||1!==(null==h?void 0:h.length))){var b,w,S;const{matchUps:t}=cs({structure:i,drawDefinition:r}),{initialRoundNumber:n}=Cc({matchUps:t,drawPosition:e});v=null===(b=r.links)||void 0===b?void 0:b.find((e=>{var t;return(null===(t=e.target)||void 0===t?void 0:t.structureId)===(null==i?void 0:i.structureId)&&e.target.roundNumber===n}));const a=null===(w=v)||void 0===w||null===(S=w.source)||void 0===S?void 0:S.roundNumber;I.roundNumbers=[a]}const{completedMatchUps:N}=fs({structureId:g,inContext:!0,matchUpFilters:I,drawDefinition:r}),P=o.map((e=>e.participantId)).filter((e=>e)),U=null==N?void 0:N.map((({winningSide:e,sides:t})=>t[1-(e-1)])).map((({participantId:e})=>e)).filter((e=>!P.includes(e))),D=null==u?void 0:u.filter((e=>null==U?void 0:U.includes(e.participantId)));if(null==D||D.forEach((e=>{const t=(r.entries||[]).find((t=>t.participantId===e.participantId));e.entryPosition=null==t?void 0:t.entryPosition})),null!=U&&U.length)return{validLuckyLosersAction:{type:ra,method:"luckyLoserDrawPositionAssignment",availableLuckyLosers:D,availableLuckyLoserParticipantIds:U,willDisableLinks:c,payload:{drawId:n,structureId:t,drawPosition:e}}};return{}}({drawId:w,structure:d,structureId:a,drawPosition:r,drawDefinition:i,activeDrawPositions:s,positionAssignments:N,isWinRatioFedStructure:h,tournamentParticipants:e,possiblyDisablingAction:I});t&&b.push(t)}return{isByePosition:Z,isActiveDrawPosition:_,isDrawPosition:!0,hasPositionAssigned:!!D,validActions:b}}const Xp={allPlayoffPositionsFilled:Wc,isCompletedStructure:Hc,getStructureMatchUps:fs,allStructureMatchUps:function(e){const{structure:t}=lo(e);return Object.assign(e,{structure:t,inContext:!0}),cs(e)},allDrawMatchUps:function(e){return Object.assign(e,{inContext:!0}),Ss(e)},drawMatchUps:function(e){return Object.assign(e,{inContext:!0}),Ns(e)},getEliminationDrawSize:pl,getParticipantIdMatchUps:Bd,getParticipantIdFinishingPositions:Vd,structureActions:function(e){return null!=e&&e.drawDefinition?{actions:[],state:{isComplete:Hc(e),hasPlayoffPositionsFilled:Wc(e)}}:{error:g}},matchUpActions:kd,positionActions:Qp,getStructureSeedAssignments:Qo,getNextUnfilledDrawPositions:function({drawDefinition:e,structureId:t}){if(!e){return{error:g,nextUnfilledDrawPositions:[]}}if(!t){return{error:F,nextUnfilledDrawPositions:[]}}const{structure:n,error:i}=lo({drawDefinition:e,structureId:t});if(i)return{error:i};if(!n)return{error:L};const r=ns({structure:n}),a=(null==r?void 0:r.positionAssignments)||[],{unfilledPositions:o}=Xc({drawDefinition:e,structureId:t,randomize:!0}),s=a.filter((e=>!e.participantId&&!e.bye&&!e.qualifier)).map((e=>e.drawPosition));return null!=o&&o.length?{nextUnfilledDrawPositions:o}:{nextUnfilledDrawPositions:s}},getMatchUpContextIds:function({matchUps:e,matchUpId:t}){if(!Array.isArray(e))return{error:It};const n=e.find((e=>e.matchUpId===t)),{drawId:i,eventId:r,structureId:a,tournamentId:o}=n||{};return{matchUpId:t,drawId:i,eventId:r,structureId:a,tournamentId:o}},getMatchUpParticipantIds:rs,getMatchUpScheduleDetails:_a,generateTieMatchUpScore:vc,matchUpDuration:La,credits:Ed};function ef({drawDefinition:e,participantId:t,structureId:n,seedValue:i}){if(!e)return{error:g};if(!n)return{error:F};const{structure:r}=lo({drawDefinition:e,structureId:n});if(!r)return{error:L};const{seedAssignments:a}=Qo({drawDefinition:e,structure:r}),o=a.map((e=>e.seedNumber)),s=a.find((e=>e.participantId===t));if(s)s.seedValue=i;else{const e=Math.max(0,...o)+1;r.seedAssignments.push({seedNumber:e,seedValue:i,participantId:t})}return ho}const tf={addDrawEntry:function({drawDefinition:e,participantId:t,participant:n,entryStage:i=ar,entryStatus:r=Oo,entryPosition:a}){if(!e)return{error:g};if(!i)return{error:K};if(!Go({stage:i,drawDefinition:e}))return{error:q};const o=Jo({stage:i,drawDefinition:e,entryStatus:r});if(!o.success)return{error:o.error};if(!(t=t||n&&n.participantId))return{error:Oe};const s=r===Fo&&Il({participantId:t,drawDefinition:e,entryStatus:r}),c=i===cr&&Il({participantId:t,drawDefinition:e,entryStage:i});if(r!==Fo&&i!==cr&&Il({drawDefinition:e,participantId:t})||s||c)return{error:We};const u=Object.assign({},n,{participantId:t,entryStage:i,entryStatus:r,entryPosition:a});return e.entries.push(u),ho},addDrawEntries:bl,assignSeed:Al,removeEntry:function({participantId:e,drawDefinition:t,autoEntryPositions:n=!0}){return t?e?Sl({drawDefinition:t}).includes(e)?{error:He}:(null!=t&&t.entries&&(t.entries=t.entries.filter((t=>t.participantId!==e))),n&&(t.entries=yl({entries:t.entries})),ho):{error:Oe}:{error:g}},setStageDrawSize:lp,setStageAlternatesCount:function({drawDefinition:e,stage:t,alternatesCount:n}){return e?Ho({drawDefinition:e,stage:t})?(Co({drawDefinition:e,attributes:[{[t]:{alternates:n}}]}),n||(e.entries=(null===(i=e.entries)||void 0===i?void 0:i.filter((e=>e.entryStatus!==Ao)))||[]),ho):{error:q}:{error:g};var i},setStageWildcardsCount:function({drawDefinition:e,stage:t,wildcardsCount:n=0}){if(!e)return{error:g};if(!Ho({drawDefinition:e,stage:t}))return{error:q};const i=Wo({drawDefinition:e,stage:t}),r=zo({drawDefinition:e,stage:t}),a=$o({drawDefinition:e,stage:t}),o=Yo({drawDefinition:e,stage:t});return n<a?{error:"Number of Wildcards cannot be less than number of Wildcards already entered"}:o+n+r>i?{error:"Total stage Entries cannot be greater than drawPositions"}:(Co({drawDefinition:e,attributes:[{[t]:{wildcardsCount:n}}]}),ho)},setStageQualifiersCount:function({drawDefinition:e,stage:t,qualifiersCount:n=0}){if(!e)return{error:g};if(!Ho({drawDefinition:e,stage:t}))return{error:q};if(t!==ar)return{error:"qualifiersCount can only be set for main stage"};const i=Wo({drawDefinition:e,stage:t}),r=$o({drawDefinition:e,stage:t});return Yo({drawDefinition:e,stage:t})+r+n>i?{error:"Total stage Entries cannot be greater than drawPositions"}:(Co({drawDefinition:e,attributes:[{[t]:{qualifiersCount:n}}]}),ho)},modifySeedAssignment:ef};const nf={generateQualifyingLink:function({qualifyingStructureId:e,mainStructureId:t,qualifyingRound:n,mainEntryRound:i=1,drawDefinition:r}){if(!r)return{error:g};const a={linkType:wr,source:{roundNumber:n,structureId:e},target:{feedProfile:vr,roundNumber:i,structureId:t}};r.links.push(a)}},rf=["drawId","structures"];function af(e,t=!0){return e?"object"!=typeof e?{error:yt}:e.drawId?function(e){const t=Object.keys(e);return rf.reduce(((e,n)=>!!t.includes(n)&&e),!0)}(e)?t?Sn(e):e:{error:v}:{error:C,method:"setState"}:{error:g}}let of,sf=[];const cf=function(){const e={getState:({convertExtensions:e}={})=>({drawDefinition:Sn(of,e)}),version:()=>"0.7.4",reset:()=>(of=void 0,ho),newDrawDefinition:({drawId:e=Pn(),drawType:t,drawProfile:n}={})=>(of=function({drawId:e,drawType:t}={}){const n={drawId:void 0,drawName:void 0,entries:[],links:[],structures:[]};return Object.assign(n,{drawId:e,drawType:t})}({drawId:e,drawType:t,drawProfile:n}),Object.assign({drawId:of.drawId},ho)),setDrawDescription:({description:e}={})=>of?(of.description=e,Object.assign({drawId:of.drawId},ho)):{error:g}};return[nf,Xp,ir,tf,Kp,zp,Bp,xp].forEach((n=>{Object.keys(n).forEach((i=>{e[i]=e=>{if(ln())return t({params:e,governor:n,key:i});try{return t({params:e,governor:n,key:i})}catch(r){console.log("%c ERROR","color: orange",{err:r})}}}))})),e.devContext=t=>(pn(t),e),e.setParticipants=(t=[])=>(sf=t,e),e.setState=(t,n)=>{fn(n);return function(t){return null!=t&&t.error?(e.error=t.error,e.success=!1):(e.error=void 0,e.success=!0,of=t,e.drawId=t.drawId),e}(af(t))},e;function t({params:e,governor:t,key:n}){const i=(null==e?void 0:e.rollBackOnError)&&Sn(of,!1,!0),r=t[n]({tournamentParticipants:sf,drawDefinition:of,...e});null!=r&&r.error&&i&&af(i);const a=(null==r?void 0:r.success)&&!0!==(null==e?void 0:e.delayNotify);return a&&qu(),!a&&null!=r&&r.success||vn(),r}}();function uf({tournamentRecord:e,drawDefinition:t,participantId:n,entryPosition:i,event:r}){return e?n?(0===i&&(i=void 0),void 0!==i&&isNaN(parseInt(i))?{error:It,entryPosition:i}:(((null==r?void 0:r.entries)||[]).forEach((e=>{e.participantId===n&&(e.entryPosition=i)})),((null==t?void 0:t.entries)||[]).forEach((e=>{e.participantId===n&&(e.entryPosition=i)})),ho)):{error:Oe}:{error:m}}function df({scaledEntries:e,seedsCount:t,scaleAttributes:n,scaleName:i,stageEntries:r}){if(!n)return{error:ye};const a=Object.assign({},...(e||[]).slice(0,t).map((({participantId:e},t)=>({[e]:t+1}))));i=i||n.scaleName;const o=(new Date).toISOString();return{scaleItemsWithParticipantIds:r.map((({participantId:e})=>({participantId:e,scaleItems:[{scaleValue:a[e],eventType:n.eventType,scaleType:Jd,scaleName:i,scaleDate:o}]})))}}function lf({tournamentRecord:e,drawDefinition:t,scaleAttributes:n,drawId:i,event:r,stage:a}){if(!r)return{error:B};let o=r.entries;if(i){var s;const{flightProfile:e}=Tu({event:r}),n=null==e||null===(s=e.flights)||void 0===s?void 0:s.find((e=>e.drawId===i));o=n?n.drawEntries:null==t?void 0:t.entries}return function({tournamentRecord:e,participantIds:t,scaleAttributes:n}){var i;if(!e)return{error:m};if(!t)return{error:Ze};if(!n)return{error:ye,message:"scaleAttributes required"};const{scaleType:r,eventType:a,scaleName:o}=n,s=[Da,r,a,o].join(".");return null===(i=e.participants)||void 0===i||i.forEach((e=>{t.includes(e.participantId)&&e.timeItems&&(e.timeItems=e.timeItems.filter((e=>e&&(null==e?void 0:e.itemType)!==s)))})),ho}({tournamentRecord:e,participantIds:o.filter((e=>(!a||!e.entryStage||e.entryStage===a)&&jo.includes(e.entryStatus))).map((({participantId:e})=>e)),scaleAttributes:n})}const pf="splitWaterfall",ff="splitShuttle";function mf({tournamentRecord:e,event:t,startDate:n}){if(!e)return{error:m};if(!t)return{error:B};if(!l.test(n))return{error:Se};const{tournamentStartDate:i,tournamentEndDate:r,error:a}=vf(e);if(a)return{error:a};const o=new Date(Bt(n));if(o<i||o>r)return{error:Se};const s=t.endDate&&new Date(Bt(t.endDate));return s&&o>s&&(t.endDate=n),t.startDate=n,ho}function hf({tournamentRecord:e,event:t,endDate:n}){if(!e)return{error:m};if(!t)return{error:B};if(!l.test(n))return{error:Se};const{tournamentStartDate:i,tournamentEndDate:r,error:a}=vf(e);if(a)return{error:a};const o=new Date(Bt(n));if(o<i||o>r)return{error:Se};const s=t.startDate&&new Date(Bt(t.startDate));return s&&o<s&&(t.startDate=n),t.endDate=n,ho}function vf(e){const{startDate:t,endDate:n}=e;return l.test(t)&&l.test(n)?{tournamentStartDate:new Date(Bt(t)),tournamentEndDate:new Date(Bt(n))}:{error:Pe}}const gf={addEvent:function({tournamentRecord:e,event:t}){if(!e)return{error:m};e.events||(e.events=[]);const{startDate:n,endDate:i}=e,r=Object.assign({},{eventId:void 0,eventName:"",eventType:xu,eventLevel:void 0,surfaceCategory:void 0,category:void 0,gender:void 0,startDate:void 0,endDate:void 0,entries:[],ballType:void 0,discipline:void 0},{startDate:n,endDate:i},t);return r.eventId||(r.eventId=Pn()),e.events.reduce(((e,t)=>e||t.eventId===r.eventId),void 0)?{error:G}:(e.events.push(r),Object.assign({},{event:r},ho))},deleteEvents:function({tournamentRecord:e,eventIds:t}){if(!e)return{error:m};if(!e.events)return{error:V};const n=[],i=[];if(e.events=(e.events||[]).filter((e=>{if(t.includes(e.eventId)){const t={action:vl,payload:{events:[e]}};n.push(t),i.push({eventName:e.eventName,eventType:e.eventType,category:e.category,eventId:e.eventId,gender:e.gender})}return!t.includes(e.eventId)})),hu({tournamentRecord:e}),n.length){mn({topic:Vs,payload:n});Ls({tournamentRecord:e,timeItem:{itemType:vl,itemValue:i}})}return ho},setEventDates:function({tournamentRecord:e,event:t,startDate:n,endDate:i}){if(!e)return{error:m};if(!t)return{error:B};if(!n&&!i)return{error:ye};if(n&&!l.test(n))return{error:Se};if(i&&!l.test(i))return{error:Se};if(n&&i){if(new Date(Bt(n))>new Date(Bt(i)))return{error:It}}if(n){const{error:i}=mf({tournamentRecord:e,event:t,startDate:n});if(i)return{error:i}}if(i){const{error:n}=hf({tournamentRecord:e,event:t,endDate:i});if(n)return{error:n}}return ho},setEventStartDate:mf,setEventEndDate:hf,autoSeeding:function({tournamentRecord:e,drawDefinition:t,policyDefinition:n,scaleAttributes:i,scaleName:r,drawSize:a,drawId:o,event:s,stage:c,sortDescending:u,scaleSortMethod:d}){const{error:l,entries:p,seedsCount:f,stageEntries:m}=ml({drawDefinition:t,drawId:o,event:s,policyDefinition:n,drawSize:a,stage:c});if(l)return{error:l};const{scaledEntries:h}=ip({scaleAttributes:i,tournamentRecord:e,scaleSortMethod:d,sortDescending:u,entries:p,stage:c}),{scaleItemsWithParticipantIds:v}=df({scaledEntries:h,seedsCount:f,scaleAttributes:i,scaleName:r,stageEntries:m});return{scaleItemsWithParticipantIds:v}},removeSeeding:function({tournamentRecord:e,drawDefinition:t,scaleName:n,drawId:i,event:r,stage:a}){var o,s;return e?r?(n=n||(null===(o=r.category)||void 0===o?void 0:o.categoryName)||(null===(s=r.category)||void 0===s?void 0:s.ageCategoryCode),lf({tournamentRecord:e,scaleAttributes:{eventType:r.eventType,scaleType:Jd,scaleName:n},drawDefinition:t,drawId:i,event:r,stage:a})):{error:B}:{error:m}},removeScaleValues:lf,addDrawEntries:wl,checkValidEntries:El,modifyDrawName:function({event:e,drawId:t,drawDefinition:n,drawName:i}){var r;if(!i||"string"!=typeof i)return{error:It,drawName:i};const{flightProfile:a}=Tu({event:e}),o=null==a||null===(r=a.flights)||void 0===r?void 0:r.find((e=>e.drawId===t));if(o){o.drawName=i;bo({event:e,extension:{name:Ha,value:{...a,flights:a.flights}}})}return n&&(n.drawName=i),o||n?ho:{error:g}},addDrawDefinition:Cu,addPlayoffStructures:function({tournamentRecord:e,drawDefinition:t,playoffStructureNameBase:n,playoffAttributes:i,playoffPositions:r,exitProfileLimit:a,roundNumbers:o,roundProfiles:s,structureId:c,uuids:u}){if(!e)return{error:m};const d=Pp({drawDefinition:t,structureId:c,roundNumbers:o,roundProfiles:s,playoffPositions:r,playoffAttributes:i,playoffStructureNameBase:n,exitProfileLimit:a,uuids:u});return Ls({tournamentRecord:e,timeItem:{itemType:"addPlayoffStructures",itemValue:{structureId:c,roundNumbers:o,playoffPositions:r,playoffStructureNameBase:n}}}),d},deleteDrawDefinitions:tp,getAvailablePlayoffRounds:function({drawDefinition:e,structureId:t}){return yp({drawDefinition:e,structureId:t})},generateSeedingScaleItems:df,setSubOrder:jp,addEventEntries:Ul,promoteAlternate:function({tournamentRecord:e,drawDefinition:t,event:n,participantId:i,stage:r=ar,stageSequence:a}){if(!e)return{error:m};if(!n)return{error:B};if(n.entries||(n.entries=[]),n){const e=Cl({element:n,participantId:i,stage:r,stageSequence:a});if(e.error)return e}if(t){const e=Cl({element:t,participantId:i,stage:r,stageSequence:a});if(e.error)return e}return ho},destroyPairEntry:Tl,setEntryPosition:uf,setEntryPositions:function({tournamentRecord:e,entryPositions:t,drawDefinition:n,event:i}){if(!e)return{error:m};if(!Array.isArray(t))return{error:It};const r=[];return t.forEach((t=>{const{participantId:a,entryPosition:o}=t,s=uf({tournamentRecord:e,drawDefinition:n,participantId:a,entryPosition:o,event:i});s.error&&r.push(s.error)})),r.length?{error:r}:ho},addEventEntryPairs:function({event:e,uuids:t,drawDefinition:n,tournamentRecord:i,entryStage:r=ar,entryStatus:a=Ao,participantIdPairs:o=[],allowDuplicateParticipantIdPairs:s}){if(!i)return{error:m};if(!e)return{error:B};if(e.eventType!==fa)return{error:j};const c=i.participants||[],u=c.filter((e=>e.participantType===no)).map((e=>e.participantId)),d=u.filter((e=>!u.includes(e)));if(d.length)return{error:Ee,invalidParticipantIds:d};const l=o.filter((e=>2!==e.length));if(l.length)return{error:Ee,invalidParticipantIdPairs:l};const p=c.filter((e=>e.participantType===ro)).map((e=>e.individualParticipantIds)),f=o.map((e=>({participantId:(null==t?void 0:t.pop())||Pn(),participantType:ro,participantRole:gd,individualParticipantIds:e}))),h=s?f:f.filter((e=>!p.find((t=>2===an(t,e.individualParticipantIds).length))));let v,g=[];if(h){const e=Mu({tournamentRecord:i,participants:h,allowDuplicateParticipantIdPairs:s});if(e.error)return{error:e.error};g=e.participants||[],v=e.message}const y=o.map((e=>{const t=g.find((t=>2===an(t.individualParticipantIds,e).length));if(t)return t;const{participant:n}=Gd({tournamentRecord:i,participantIds:e});return n})).map((e=>e.participantId)),I=Ul({event:e,entryStage:r,entryStatus:a,drawDefinition:n,tournamentRecord:i,participantIds:y});return h.length&&mn({topic:js,participants:h}),Object.assign({},I,{message:v})},removeEventEntries:Pl,removeDrawEntries:Nl,modifyEventEntries:function({event:e,tournamentRecord:t,entryStage:n=ar,participantIdPairs:i=[],unpairedParticipantIds:r=[],entryStatus:a=Oo}){if(!t)return{error:m};if(!e)return{error:B};const o=t.participants||[],s=o.filter((e=>e.participantType===no)).map((e=>e.participantId)),c=r.concat(...i).flat(1/0).filter((e=>!s.includes(e)));if(c.length)return{error:Ee,invalidParticipantIds:c};const u=i.filter((e=>2!==e.length));if(u.length)return{error:Ee,invalidParticipantIdPairs:u};const d=o.filter((e=>e.participantType===ro)).map((e=>e.individualParticipantIds)),l=i.filter((e=>!d.find((t=>2===an(t,e).length)))).map((e=>({participantType:ro,participantRole:gd,individualParticipantIds:e}))),p=Mu({tournamentRecord:t,participants:l});if(p.error)return{error:p.error};const f=i.map((e=>{const{participant:n}=Gd({tournamentRecord:t,participantIds:e});return n})).map((e=>({participantId:e,entryStatus:a,entryStage:n}))),h=r.map((e=>({entryStatus:_o,participantId:e,entryStage:n})));return e.entries=e.entries.filter((e=>e.entryStage===n)),e.entries=e.entries.concat(...f,...h),ho},modifyEntriesStatus:Dl,modifySeedAssignment:function({drawDefinition:e,participantId:t,structureId:n,seedValue:i}){return ef({drawDefinition:e,participantId:t,structureId:n,seedValue:i})},addFlight:function({event:e,stage:t,drawId:n,drawName:i,drawSize:r,drawEntries:a=[],qualifyingPositions:o}){var s,c;if(!e)return{error:B};if(!i)return{error:ye};if(null!=a&&a.length){var u;const t=(null===(u=e.entries)||void 0===u?void 0:u.map((({participantId:e})=>e)).filter((e=>e)))||[],n=a.map((({participantId:e})=>e)).filter((e=>e));if(an(n,t).length!==n.length)return{error:It}}const{flightProfile:d}=Tu({event:e}),l=(null==d||null===(s=d.flights)||void 0===s||null===(c=s.map((({flightNumber:e})=>!isNaN(e)&&parseInt(e))))||void 0===c?void 0:c.filter((e=>e)))||[],p={drawName:i,drawEntries:a,flightNumber:Math.max(0,...l)+1,drawId:n||Pn()};if(t&&(p.drawSize=t),r&&(p.drawSize=r),o&&(p.qualifyingPositions=o),((null==d?void 0:d.flights)||[]).find((({drawId:e})=>e===p.drawId)))return{error:Ut};const f=((null==d?void 0:d.flights)||[]).concat(p);return bo({event:e,extension:{name:Ha,value:{...d||{},flights:f}}})},getFlightProfile:Tu,getScaledEntries:ip,updateDrawIdsOrder:function({event:e,orderedDrawIdsMap:t}){var n,i;if("object"!=typeof e)return{error:B};if(!t)return{error:ye,message:"Missing drawIdsOrderMap"};if("object"!=typeof t)return{error:It,message:"orderedDrawIdsMap must be an object"};const r=Object.values(t);if(!r.every((e=>!isNaN(e))))return{error:It,message:"drawOrder must be numeric"};if($t(r).length!==r.length)return{error:It,message:"drawOrder values must be unique"};if(null!==(n=e.drawDefinitions)&&void 0!==n&&n.length){const n=(e.drawDefinitions||[]).map((({drawId:e})=>e));if(an(n,Object.keys(t)).length!==n.length)return{error:It,message:"Missing drawIds"};e.drawDefinitions.forEach((e=>{e.drawOrder=t[e.drawId]}))}const{flightProfile:a}=Tu({event:e});return null==a||null===(i=a.flights)||void 0===i||i.forEach((e=>{e.flightNumber=t[e.drawId]})),ho},generateFlightProfile:function({tournamentRecord:e,event:t,stage:n,deleteExisting:i,scaleAttributes:r,scaleSortMethod:a,sortDescending:o,splitMethod:s,flightsCount:c,drawNameRoot:u="Flight",drawNames:d=[],uuids:l=[]}){if(!t)return{error:B};const p=t.entries||[],{flightProfile:f}=Tu({event:t});if(f&&!i)return{error:Dt};const{scaledEntries:m}=ip({tournamentRecord:e,event:t,stage:n,scaleAttributes:r,scaleSortMethod:a,sortDescending:o}),h=m.map((({participantId:e})=>e)),v=p.filter((({participantId:e})=>!h.includes(e))).filter((e=>(!n||!e.entryStage||e.entryStage===n)&&jo.includes(e.entryStatus))),g=m.concat(...v),y=g.length;let I=on(g,Math.ceil(y/c));s===pf?I=sn(g,c):s===ff&&(I=sn(g,c,!0));const b=nn(0,c).map((e=>{var t;return{flightNumber:e+1,drawId:(null==l?void 0:l.pop())||Pn(),drawEntries:(t=I[e],(t||[]).map((({participantId:e})=>p.find((t=>t.participantId===e))))),drawName:(null==d?void 0:d.length)&&d[e]||`${u} ${e+1}`}}));return bo({event:t,extension:{name:Ha,value:{splitMethod:s,scaleAttributes:r,flights:b}}}),Object.assign({},ho,{flightProfile:Sn({flights:b,scaleAttributes:r,splitMethod:s}),splitEntries:ln()&&I||void 0})},deleteFlightAndFlightDraw:function({tournamentRecord:e,event:t,drawId:n}){if(!e)return{error:m};if(!n)return{error:C};if(!t)return{error:B};const{flightProfile:i}=Tu({event:t});var r;if(i&&(null===(r=i.flights)||void 0===r?void 0:r.find((e=>e.drawId===n)))){const e=i.flights.filter((e=>e.drawId!==n));bo({event:t,extension:{name:Ha,value:{...i,flights:e}}})}return tp({tournamentRecord:e,eventId:t.eventId,drawIds:[n]}),ho},deleteFlightProfileAndFlightDraws:function({tournamentRecord:e,event:t}){if(!e)return{error:m};if(!t)return{error:B};const{flightProfile:n}=Tu({event:t});if(n){var i;const r=null===(i=n.flights)||void 0===i?void 0:i.map((({drawId:e})=>e)).filter((e=>e)),a=tp({tournamentRecord:e,eventId:t.eventId,drawIds:r});return a.error?a:So({event:t,name:Ha})}return ho},setDelegatedOutcome:function(e){return Gp(e)},removeDelegatedOutcome:function(e){return Vp(e)},addVoluntaryConsolationStage:function({drawDefinition:e,drawSize:t}){return pp({drawDefinition:e,drawSize:t})},generateVoluntaryConsolationStructure:function(e){const{tournamentRecord:t}=e;return t?dp({participants:t.participants,...e}):{error:m}},setMatchUpStatus:cu,bulkMatchUpStatusUpdate:uu,setDrawDefaultMatchUpFormat:function({tournamentRecord:e,drawDefinition:t,matchUpFormat:n}){return e?t?n?hc({drawDefinition:t,matchUpFormat:n}):{error:ee}:{error:g}:{error:m}},setEventDefaultMatchUpFormat:function({tournamentRecord:e,event:t,matchUpFormat:n}){return e?n?t?mc(n)?(t.matchUpFormat=n,ho):{error:Q}:{error:B}:{error:ee}:{error:m}},setStructureDefaultMatchUpFormat:function({tournamentRecord:e,drawDefinition:t,matchUpFormat:n,structureId:i}){return e?t?n?i?hc({drawDefinition:t,matchUpFormat:n,structureId:i}):{error:F}:{error:ee}:{error:g}:{error:m}},setCollectionDefaultMatchUpFormat:function({tournamentRecord:e,drawDefinition:t,matchUpFormat:n}){return e?t?n?mc(n)?{error:Pt}:{error:Q}:{error:ee}:{error:g}:{error:m}},assignDrawPosition:function({drawDefinition:e,drawPosition:t,structureId:n,participantId:i,qualifier:r,bye:a}){if(!e)return{error:g};if(!t)return{error:U};if(!n)return{error:F};const o=[];if(a){const i=kc({drawDefinition:e,drawPosition:t,structureId:n});i.error&&o.push(i.error)}else if(r)console.log("assign qualifier");else{const r=eu({drawDefinition:e,structureId:n,drawPosition:t,participantId:i});r.error&&o.push(r.error)}return o&&o.length?{errors:o}:ho},assignSeedPositions:function(e){const{tournamentRecord:t,drawDefinition:n,drawId:i,structureId:r,assignments:a,useExistingSeedLimit:o}=e;let s=0;if(null==a||!a.length)return{error:z};if(!t)return{error:m};if(!i)return{error:C};const{seedAssignments:c,seedLimit:u,error:d}=Qo({drawDefinition:n,structureId:r}),l=[];d&&l.push(d);const p=Object.assign({},...c.filter((e=>e.seedNumber)).map((e=>({[e.seedNumber]:e}))));a.forEach((e=>{const{seedNumber:t}=e;t<=u&&(!o||p[t])&&(p[t]=e)}));const f=Object.values(p),h=f.map((e=>null==e?void 0:e.participantId)).filter((e=>e));return h.length!==(v=h,v.filter(Xt)).length?{error:"participantId cannot be assigned to multiple seedNumbers"}:(f.forEach((e=>{const t=Al({...e,drawDefinition:n,structureId:r});null!=t&&t.error?(s=0,l.push(null==t?void 0:t.error)):!l.length&&null!=t&&t.success&&s++})),s?ho:l.length?{error:vt,errors:l}:{error:vt});var v},assignDrawPositionBye:function({drawDefinition:e,structureId:t,drawPosition:n}){return kc({drawDefinition:e,structureId:t,drawPosition:n})},swapDrawPositionAssignments:function(e){return Zp(e)},removeDrawPositionAssignment:Lp,alternateDrawPositionAssignment:function(e){return Fp(e)},withdrawParticipantAtDrawPosition:function(e){return Object.assign(e,{entryStatus:Zo}),Lp(e)},setDrawParticipantRepresentativeIds:function({representativeParticipantIds:e,drawDefinition:t}){var n;if(!t)return{error:y};if(!Array.isArray(e))return{error:It};const i=null===(n=(null==t?void 0:t.entries)||[])||void 0===n?void 0:n.map((({participantId:e})=>e)).filter((e=>e));return e.length&&an(e,i).length<e.length?{error:It}:Io({drawDefinition:t,extension:{name:Ka,value:e}})},getDrawParticipantRepresentativeIds:function({drawDefinition:e}){const{extension:t,error:n}=To({drawDefinition:e,name:"participantRepresentatives"});return n?{error:n}:{representativeParticipantIds:(null==t?void 0:t.value)||[]}},luckyLoserDrawPositionAssignment:function(e){return function({luckyLoserParticipantId:e,drawDefinition:t,drawPosition:n,structureId:i}){return kp({participantId:e,drawDefinition:t,drawPosition:n,structureId:i,positionActionName:"luckyLoserDrawPositionAssignment"})}(e)},automatedPositioning:function({tournamentRecord:e,drawDefinition:t,structureId:n,seedsOnly:i,event:r}){var a;if(!r)return{error:V};if(!t)return{error:y};const o=ep({drawDefinition:t,participants:null==e?void 0:e.participants,structureId:n,seedsOnly:i});return null!=o&&null!==(a=o.errors)&&void 0!==a&&a.length?{error:o.errors}:ho},automatedPlayoffPositioning:function({candidatesCount:e=1,tournamentRecord:t,drawDefinition:n,structureId:i,seedsOnly:r,event:a}){if(!a)return{error:V};if(!n)return{error:y};const o=null==t?void 0:t.participants,{playoffStructures:s}=Gc({drawDefinition:n,structureId:i}),c=[];return s&&s.forEach((t=>{var i;const{structureId:a}=t;null===(i=ep({structureId:a,candidatesCount:e,drawDefinition:n,participants:o,seedsOnly:r}).errors)||void 0===i||i.forEach((e=>c.push(e)))})),c.length?{error:c}:ho},checkInParticipant:function({tournamentRecord:e,participantId:t,matchUpId:n,matchUp:i,drawId:r}){i&&!r&&({drawId:r}=i),i&&!n&&({matchUpId:n}=i);const{event:a,drawDefinition:o}=Ms({tournamentRecord:e,drawId:r});if(!a)return{error:V};{const i=ud({tournamentParticipants:e.participants,drawDefinition:o,participantId:t,matchUpId:n});if(i.error&&i.error!==Be)return i}return ho},checkOutParticipant:function({tournamentRecord:e,drawId:t,matchUpId:n,participantId:i,matchUp:r}){r&&!t&&({drawId:t}=r),r&&!n&&({matchUpId:n}=r);const{event:a,drawDefinition:o}=Ms({tournamentRecord:e,drawId:t});if(!a)return{error:V};{const t=dd({drawDefinition:o,tournamentParticipants:e.participants,matchUpId:n,participantId:i});if(t.error)return t}return ho},toggleParticipantCheckInState:ld,generateDrawDefinition:function(e){const{tournamentRecord:t,event:n}=e;let{drawName:i,structureOptions:r}=e;const{uuids:a,drawId:o,drawEntries:s,matchUpType:c,stage:u=ar,seedingProfile:d,qualifyingRound:l,automated:p=!0,policyDefinitions:f,qualifyingPositions:m,enforcePolicyLimits:h=!0,drawType:v=Tr,finishingPositionNaming:g,ignoreAllowedDrawTypes:y,playoffMatchUpFormat:I,feedPolicy:b,seededParticipants:w,seedByRanking:S=!0,seedingScaleName:N}=e,P=null==t?void 0:t.participants,U=n&&P&&El({event:n,participants:P});if(null!=U&&U.error)return U;const D=!y&&t&&ll({tournamentRecord:t});if(null!=D&&D.length&&!D.includes(v))return{error:"Invalid drawType"};let{seedsCount:T,drawSize:C=32,tieFormat:E,matchUpFormat:A}=e;"number"!=typeof C&&(C=parseInt(C)),"number"!=typeof T&&(T=parseInt(T||0)),c===ma?(E=E||(({uuids:e}={})=>({winCriteria:{valueGoal:5},collectionDefinitions:[{collectionId:(null==e?void 0:e.pop())||Pn(),collectionName:"Doubles",matchUpType:"DOUBLES",matchUpCount:3,matchUpFormat:"SET3-S:6/TB7-F:TB10",matchUpValue:1},{collectionId:(null==e?void 0:e.pop())||Pn(),collectionName:"Singles",matchUpType:pa,matchUpCount:6,matchUpFormat:"SET3-S:6/TB7",matchUpValue:1}]}))(),A=void 0):A||(E=void 0,A="SET3-S:6/TB7");const M=s||(null==n?void 0:n.entries)||[],R=null==n?void 0:n.eventType,x=M.filter((e=>(!e.entryStage||e.entryStage===u)&&jo.includes(e.entryStatus)));[Br].includes(v)&&(C=x.length),cf.reset(),cf.newDrawDefinition({drawType:v,drawId:o}),cf.setStageDrawSize({stage:u,drawSize:C});const{error:O}=cf.setMatchUpFormat({matchUpFormat:A,tieFormat:E,matchUpType:c});if(O)return{error:O,message:"matchUpFormat error"};const{matchUpsMap:k,inContextDrawMatchUps:F,errors:L}=cf.generateDrawType({stage:u,drawType:v,seedingProfile:d,structureOptions:r,qualifyingRound:l,qualifyingPositions:m,uuids:a,matchUpFormat:A,playoffMatchUpFormat:I,finishingPositionNaming:g,feedPolicy:b,goesTo:e.goesTo});if(L)return{error:L,message:"generated draw type error"};const{structures:Z}=cf.getDrawStructures({stage:u,stageSequence:1}),[_]=Z,{structureId:j}=_||{};Array.isArray(f)&&f.forEach((e=>{cf.attachPolicy({policyDefinition:e})}));const{policyDefinition:B}=yc({event:n,tournamentRecord:t,policyType:fi})||{},{policyDefinition:V}=yc({event:n,tournamentRecord:t,policyType:mi})||{};null!=f&&f.seeding||V||cf.attachPolicy({policyDefinition:ha}),null!=f&&f.avoidance||!B||cf.attachPolicy({policyDefinition:B}),M.forEach((e=>{const t=Object.assign({},e,{entryStage:e.entryStage||ar});cf.addDrawEntry(t)}));const G=M.map((({participantId:e})=>e));T>C&&(T=C),T>x.length&&(T=x.length);const{seedLimit:H}=cf.initializeStructureSeedAssignments({participantCount:x.length,enforcePolicyLimits:h,structureId:j,seedsCount:T});if(H&&H<T&&(T=H),w)w.filter((({participantId:e})=>G.includes(e))).filter((e=>!e.seedNumber||e.seedNumber>w.length)).sort(((e,t)=>e.seedValue<t.seedValue?-1:e.seedValue<t.seedValue?1:0)).forEach((e=>{const{participantId:t,seedNumber:n,seedValue:i}=e,r=cf.assignSeed({structureId:j,seedNumber:n,seedValue:i,participantId:t});r.success||(console.log("generateDrawDefinition seededParticipants"),console.log(`%c ${r.error}`,"color: red"))}));else if(null!=n&&n.category||N){const{categoryName:e,ageCategoryCode:i}=(null==n?void 0:n.category)||{},r={scaleType:Jd,scaleName:N||e||i,eventType:R},a={scaleType:$d,scaleName:e||i,eventType:R},{scaledEntries:o}=ip({scaleAttributes:r,tournamentRecord:t,entries:M,stage:u}),{scaledEntries:s}=ip({scaleAttributes:a,tournamentRecord:t,entries:M,stage:u}),c=null!=o&&o.length?o:S&&s||[],d=(null==c?void 0:c.length)||0;d<T&&(T=d),c&&c.filter((({participantId:e})=>G.includes(e))).slice(0,T).forEach(((e,t)=>{const n=t+1,i=n,{participantId:r}=e,a=cf.assignSeed({participantId:r,structureId:j,seedNumber:n,seedValue:i});a.success||(console.log("generateDrawDefinition scaledEntries"),console.log(`%c ${a.error} ${n}`,"color: red"))}))}let W=[];if(!1!==p){const e="object"==typeof p&&p.seedsOnly;({conflicts:W}=cf.automatedPositioning({participants:P,structureId:j,seedsOnly:e,inContextDrawMatchUps:F,matchUpsMap:k}))}const{drawDefinition:z}=cf.getState();i=i||v,z&&Object.assign(z,{drawName:i});const K={drawSize:C,drawType:v,automated:p,drawName:i,seedsCount:T,tieFormat:E,matchUpType:c,seedingScaleName:N,drawId:z.drawId,category:null==n?void 0:n.category,eventId:null==n?void 0:n.eventId};return mn({topic:Vs,payload:{action:"generateDrawDefinition",payload:K}}),Object.assign({},ho,{structureId:j,drawDefinition:z,conflicts:W})},addDrawDefinitionTimeItem:function({drawDefinition:e,timeItem:t}){if(!e)return{error:y};if(!t)return{error:dt};const n=t&&Object.keys(t),i=["itemType","itemValue"];if(!(i.filter((e=>n.includes(e))).length===i.length))return{error:ut};e.timeItems||(e.timeItems=[]);const r=(new Date).toISOString();return Object.assign(t,{createdAt:r}),e.timeItems.push(t),ho},assignTieMatchUpParticipantId:function(e){let{individualParticipants:t}=e;const{tournamentRecord:n,drawDefinition:i,drawId:r,event:a}=e,{participantId:o,sideNumber:s,sideMember:c,tieMatchUpId:u}=e;if(!n)return{error:m};if(!a)return{error:V};const{matchUp:d}=us({drawDefinition:i,matchUpId:u});if(!d)return{error:ie};const l=d.sides[s-1];if(d.matchUpType===fa)if(o){(function({side:e,sideMember:i}){e.participant||(e.participant={individualParticipants:[],individualParticipantIds:[]});t=t||e.participant.individualParticipants,t[i-1]={participantId:o};if(2===t.filter((e=>e&&e.participantId)).length){const i=t.map((({participantId:e})=>e)),{participant:r}=Gd({tournamentRecord:n,participantIds:i}),a=null==r?void 0:r.participantId;if(a)e.participantId=a;else{e.participantId=Pn();const i={participantId:e.participantId,participantType:ro,participantRole:gd,participantName:e.participant.individualParticipants.map(p).join("/"),individualParticipants:t};n.participants.push(i)}delete e.participant}else e.participant.individualParticipants[i-1]={participantId:o};return ho})({side:l,sideMember:c}).success&&f()}else{(function({side:e,sideMember:n}){e.participantId=void 0,e.participant||(e.participant={individualParticipants:[]});return e.participant.individualParticipants=t.map(((e,t)=>t+1===n?void 0:e)),ho})({side:l,sideMember:c}).success&&f()}else l.participantId=o,f();return ho;function p(e){const{participantId:t}=e,i=n.participants.reduce(((e,n)=>n.participantId===t?n:e),void 0),r=i&&i.person;return r&&r.standardFamilyName}function f(){a.drawDefinitions=a.drawDefinitions.map((e=>e.drawId===r?i:e))}}};const yf={allTournamentMatchUps:Ps,tournamentMatchUps:Ts,allEventMatchUps:Ds,allDrawMatchUps:Us,eventMatchUps:Cs,drawMatchUps:function({event:e,inContext:t,nextMatchUps:n,participants:i,tournamentId:r,matchUpFilters:a,contextFilters:o,drawDefinition:s,tournamentRecord:c,policyDefinition:u,tournamentAppliedPolicies:d,scheduleVisibilityFilters:l}){if(!e)return{error:B};const{eventId:p,eventName:f,endDate:m}=e,h={eventId:p,eventName:f};return m&&(h.contextEndDate=m),r&&(h.tournamentId=r),Ns({context:h,inContext:t,nextMatchUps:n,drawDefinition:s,matchUpFilters:a,contextFilters:o,tournamentRecord:c,policyDefinition:u,tournamentAppliedPolicies:d,tournamentParticipants:i||c&&Es({tournamentRecord:c}),scheduleVisibilityFilters:l})},credits:Ed,getEvent:function({tournamentRecord:e,drawDefinition:t,event:n,context:i}){var r;if(!e)return{error:m};if(!n)return{error:B};const a=Sn(n);return i&&Object.assign(a,i),{event:a,drawDefinition:t&&(null===(r=a.drawDefinitions)||void 0===r?void 0:r.find((({drawId:e})=>t.drawId===e)))}},getEvents:function({tournamentRecord:e,context:t,inContext:n}){if(!e)return{error:m};const i=(e.events||[]).map((e=>{const n=Sn(e);return t&&Object.assign(n,t),n}));return n&&console.log("TODO: add context"),{events:i}},findEventExtension:Do,findTournamentExtension:Uo,findParticipantExtension:function({tournamentRecord:e,participantId:t,name:n}){if(!e)return{error:m};if(!t)return{error:Oe};const{participant:i}=No({tournamentRecord:e,participantId:t});return Po({element:i,name:n})},findDrawDefinitionExtension:To,getMatchUpFormat:od,getDrawDefinition:function({tournamentRecord:e,drawDefinition:t}){return e?{drawDefinition:Sn(t)}:{error:m}},getEventProperties:function({tournamentRecord:e,event:t}){var n,i;if(!e)return{error:m};if(!t)return{error:B};const r=t.entries||[],a=e.participants||[],o=(null===(n=t.category)||void 0===n?void 0:n.categoryName)||(null===(i=t.category)||void 0===i?void 0:i.ageCategoryCode),{eventType:s}=t,c=r.map((e=>e.participantId));let u,d,l;return{entryScaleAttributes:a.filter((e=>c.includes(e.participantId))).map((e=>{var t,n,i,r,a,c;const{participantId:p,participantName:f,name:m}=e;let h={scaleType:Ea,eventType:s,scaleName:o};const v=null===(t=Qd({participant:e,scaleAttributes:h}))||void 0===t||null===(n=t.scaleItem)||void 0===n?void 0:n.scaleValue;h={scaleType:Ca,eventType:s,scaleName:o};const g=null===(i=Qd({participant:e,scaleAttributes:h}))||void 0===i||null===(r=i.scaleItem)||void 0===r?void 0:r.scaleValue;h={scaleType:Ta,eventType:s,scaleName:o};const y=null===(a=Qd({participant:e,scaleAttributes:h}))||void 0===a||null===(c=a.scaleItem)||void 0===c?void 0:c.scaleValue;return u=!(!u&&!v),d=!(!d&&!g),l=!(!l&&!y),{participantId:p,participantName:f||m,seed:v,ranking:g,rating:y}})),hasSeededParticipants:u,hasRankedParticipants:d,hasRatedParticipants:l}},getPositionAssignments:function({tournamentRecord:e,drawDefinition:t,structureId:n}){return e?t?n?ts({drawDefinition:t,structureId:n}):{error:F}:{error:g}:{error:m}},isValidMatchUpFormat:mc,getMaxEntryPosition:function({entries:e=[],entryStatus:t,stage:n}){return Math.max(...e.filter((e=>!(n&&n!==e.entryStage||t&&e.entryStatus!==t||isNaN(e.entryPosition)))).map((({entryPosition:e})=>parseInt(e||0))),0)},getVenues:Js,findVenue:Qs,getCourts:tc,findCourt:function(e){return Sn(ec(e))},getEventTimeItem:Os,getTournamentTimeItem:function({tournamentRecord:e,itemType:t,itemSubTypes:n,returnPreviousValues:i}){if(!e)return{error:m};if(!e.timeItems)return{message:Nt};const{timeItem:r,previousItems:a,message:o}=xs({element:e,itemType:t,itemSubTypes:n,returnPreviousValues:i});return r&&{timeItem:r,previousItems:a}||{message:o}},getParticipantTimeItem:function({tournamentRecord:e,participantId:t,itemType:n,itemSubTypes:i,returnPreviousValues:r}){if(!e)return{error:m};if(!t)return{error:Oe};const a=No({tournamentRecord:e,participantId:t});if(a.error)return a;const{participant:o}=a;if(null==o||!o.timeItems)return{message:Nt};const{timeItem:s,previousItems:c,message:u}=xs({element:a.participant,itemType:n,itemSubTypes:i,returnPreviousValues:r});return s&&{timeItem:s,previousItems:c}||{message:u}},getDrawDefinitionTimeItem:function({drawDefinition:e,itemType:t,itemSubTypes:n,returnPreviousValues:i}){if(!e)return{error:C};if(!e.timeItems)return{message:Nt};const{timeItem:r,previousItems:a,message:o}=xs({element:e,itemType:t,itemSubTypes:n,returnPreviousValues:i});return r&&{timeItem:r,previousItems:a}||{message:o}},bulkUpdatePublishedEventIds:function({tournamentRecord:e,outcomes:t}){var n;if(!e)return{error:m};if(null==t||!t.length)return{error:ye,message:"Missing outcomes"};const i=t.reduce(((e,t)=>{const{drawId:n,eventId:i}=t;return e[i]?e[i].includes(n)||e[i].push(n):e[i]=[n],e}),{}),r=Object.keys(i);return{publishedEventIds:(null===(n=e.events)||void 0===n?void 0:n.filter((e=>r.includes(e.eventId)))).filter((e=>{const{timeItem:t}=Os({event:e,itemType:"PUBLISH.STATUS"}),n=null==t?void 0:t.itemValue,{eventId:r}=e;return i[r].filter((e=>{var t;return n&&n.PUBLIC&&(null===(t=n.PUBLIC.drawIds)||void 0===t?void 0:t.includes(e))&&n!==Ma})).length})).map((e=>e.eventId)),eventIdPublishedDrawIdsMap:i}},matchUpActions:Fd,positionActions:function({tournamentRecord:e,policyDefinition:t,drawDefinition:n,drawPosition:i,structureId:r,drawId:a,event:o}){const{tournamentParticipants:s}=Vu({tournamentRecord:e,inContext:!0});return Qp({tournamentParticipants:s,tournamentRecord:e,policyDefinition:t,drawDefinition:n,drawPosition:i,structureId:r,drawId:a,event:o})},findMatchUp:function(e){Object.assign(e,{inContext:!0});const{matchUp:t,error:n}=As(e);return{matchUp:Sn(t),error:n}},participantScaleItem:Qd,getParticipantScaleItem:np,getParticipantSignInStatus:function({tournamentRecord:e,participantId:t}){if(!e)return{error:m};if(!t)return{error:Oe};const{participant:n}=No({tournamentRecord:e,participantId:t});if(!n)return{error:ke};const{timeItem:i}=xs({element:n,itemType:ku});return i&&i.itemValue===Zu&&Zu},getPolicyDefinition:yc,getMatchUpScheduleDetails:_a};const If={addVenue:Eu,deleteVenue:Du,deleteVenues:function({tournamentRecord:e,venueIds:t,force:n}){return e?e.venues?(e.venues.forEach((i=>{const{venueId:r}=i;if(t.includes(r)){const{venueId:t}=i;Du({tournamentRecord:e,venueId:t,force:n})}})),ho):{error:it}:{error:m}},modifyVenue:Pu,addCourt:Su,addCourts:Nu,deleteCourt:function({tournamentRecord:e,drawDefinition:t,disableNotice:n,courtId:i,force:r}){const{venue:a,error:o}=ec({tournamentRecord:e,courtId:i});if(o)return{error:o};const{matchUps:s}=vu({tournamentRecord:e,courtId:i});return s.length&&!r?gu({matchUpsCount:s.length}):(s.forEach((n=>{Uu({tournamentRecord:e,drawDefinition:t,matchUpId:n.matchUpId})})),a.courts=(a.courts||[]).filter((e=>e.courtId!==i)),n||mn({topic:qs,payload:{venue:a}}),ho)},modifyCourt:Iu,modifyCourtAvailability:yu,findVenue:function(e){return Sn(Qs(e))}};let bf;const wf=function(){const e={getState:({convertExtensions:e}={})=>_d({convertExtensions:e,tournamentId:bf}),newTournamentRecord:(e={})=>{const t=Ld(e);return t.error?t:(bn(t),bf=t.tournamentId,Object.assign({tournamentId:bf},ho))},setTournamentId:e=>(bf=e,ho)};return e.version=()=>"0.7.4",e.reset=()=>(wn(bf),bf=void 0,ho),e.setState=(t,n)=>{fn(n);return function(t){null!=t&&t.error?(e.error=t.error,e.success=!1):(e.error=void 0,e.success=!0,bf=t.tournamentId);return e}(Zd(t,n))},e.devContext=t=>(pn(t),e),e.executionQueue=(n,i)=>function(e,n,i,r){if(!Array.isArray(i))return{error:It};const a=In(n),o=r&&Sn(a,!1,!0),s=[];for(const c of i){if("object"!=typeof c)return{error:It};const{method:n,params:i}=c;if(!e[n])return{error:Tt};const r=t(a,e[n],i);if(null!=r&&r.error&&o)return Zd(o),r;s.push(r)}return qu(),vn(),s}(e,bf,n,i),[yf,gf,If,hl,dl,cl,ul,il].forEach((t=>{Object.keys(t).forEach((i=>{e[i]=e=>{if(ln())return n(t[i],e);try{return n(t[i],e)}catch(r){console.log("%c ERROR","color: orange",{err:r})}}}))})),e;function t(e,t,n){return t({...jd(e,n),tournamentRecord:e})}function n(e,n){const i=In(bf),r=(null==n?void 0:n.rollBackOnError)&&Sn(i,!1,!0),a=t(i,e,n);null!=a&&a.error&&r&&Zd(r);const o=(null==a?void 0:a.success)&&!0!==(null==n?void 0:n.delayNotify);return o&&qu(),!o&&null!=a&&a.success||vn(),a}}();function Sf({scoreString:e,tiebreakTo:t=7}){return e.split(" ").filter((e=>e)).map(((e,n)=>function({set:e,setNumber:n}){const i=(null==e?void 0:e.startsWith("["))&&e.split("[")[1].split("]")[0].split("-").map((e=>parseInt(e))),r=e.includes("(")?e.split("(")[0]:e.includes("[")?e.split("[")[0]:e,a=!i&&r.split("-").map((e=>parseInt(e))),o=a[0]>a[1]?1:a[0]<a[1]?2:void 0,s=e.includes("(")&&e.split("(")[1].split(")")[0],c=![!1,void 0].includes(s)&&nr({isSide1:2===o,lowValue:s,tiebreakTo:t})||[],[u,d]=a||[],[l,p]=i||c||[];return{side1Score:u,side2Score:d,side1TiebreakScore:l,side2TiebreakScore:p,winningSide:o,setNumber:n}}({set:e,setNumber:n+1})))}function Nf({scoreString:e,winningSide:t,matchUpStatus:n}){if(!e)return{outcome:Object.assign({},bc,{winningSide:t,matchUpStatus:n})};if(t&&![1,2,void 0].includes(t))return{error:It,winningSide:t};const i=e&&Sf({scoreString:e}),r={},a=er({sets:i}),o=er({sets:i,reversed:!0});return 2===t?(r.scoreStringSide1=o,r.scoreStringSide2=a):(r.scoreStringSide1=a,r.scoreStringSide2=o),r.sets=Sf({scoreString:r.scoreStringSide1}),{outcome:{matchUpStatus:n,winningSide:t,score:r}}}function Pf({tournamentEngine:e=wf,randomWinningSide:t,matchUpFormat:n,drawId:i}){const r=[],{drawDefinition:a}=e.getEvent({drawId:i}),o=a.structures.slice().sort(uo);for(const s of o){const{matchUps:o}=cs({drawDefinition:a,structure:s,inContext:!0}),u=o.filter((({winningSide:e})=>!e)).sort(Wp).map((({matchUpId:e})=>e));for(const a of u){const{matchUp:o}=e.findMatchUp({drawId:i,matchUpId:a}),s=t?c(1,2):1;if(null!=o&&o.readyToScore){const t=Uf({tournamentEngine:e,targetMatchUp:o,matchUpStatus:Rn,scoreString:"6-1 6-1",matchUpFormat:n,winningSide:s,drawId:i});if(t.error)return console.log({result:t}),r.push(t.error),t}}}return r.length?{error:r}:ho}function Uf({tournamentEngine:e=wf,targetMatchUp:t,scoreString:n,winningSide:i,matchUpStatus:r,matchUpFormat:a,outcomeDef:o,drawId:s}){const{outcome:c}=Nf({scoreString:n,winningSide:i,matchUpStatus:r});if(!t)return void console.log({outcomeDef:o});if(t.matchUpStatus===An)return void console.log("targeted BYE matchUp",{outcomeDef:o});const{matchUpId:u}=t||{};return e.setMatchUpStatus({drawId:s,matchUpId:u,outcome:c,matchUpFormat:a})}function Df({eventProfile:e,participants:t,completeAllMatchUps:n,randomWinningSide:i}){var r;const{category:a,eventName:o="Generated Event",eventType:s=xu,drawProfiles:c,tieFormat:u}=e,d=c.reduce(((e,t)=>{const n=t.stage||ar,i=(t.drawSize||0)-(t.qualifyingPositions||0);return Object.keys(e).includes(n)||(e[n]=0),e[n]=Math.max(i,e[n]),e}),[]),l=s===xu?no:s===Ou?ro:s,p={QUALIFYING:t.filter((({participantType:e})=>e===l)).slice(0,d[or]),MAIN:t.filter((({participantType:e})=>e===l)).slice(d[or],d[or]+d[ar])},f={eventName:o,eventType:s,category:a,tieFormat:u};let{event:{eventId:m},error:h}=wf.addEvent({event:f});if(h)return{error:h};for(const y of c){const{stage:e,drawName:t,drawSize:n,qualifyingPositions:i}=y,r=(n||0)-(i||0),a=(p[e||ar]||[]).slice(0,r).map((({participantId:e})=>e));a.length&&wf.addEventEntries({eventId:m,stage:e||ar,participantIds:a,autoEntryPositions:!1});const o=a.map((({participantId:t})=>({participantId:t,entryStage:e||ar,entryStatus:Oo})));wf.addFlight({stage:e,eventId:m,drawName:t,drawSize:n,drawEntries:o,qualifyingPositions:i})}const v=[],{flightProfile:g}=wf.getFlightProfile({eventId:m});return(null==g||null===(r=g.flights)||void 0===r?void 0:r.every(((e,t)=>{const{drawId:r,drawSize:a,stage:o,drawName:d,drawEntries:l}=e,p=c[t].drawType,f=c[t].automated,h=c[t].matchUpFormat,g=c[t].tieFormat||u,{drawDefinition:y}=wf.generateDrawDefinition({stage:o,drawId:r,eventId:m,drawSize:a,drawType:p,drawName:d,automated:f,tieFormat:g,drawEntries:l,matchUpFormat:h,matchUpType:s}),I=wf.addDrawDefinition({eventId:m,drawDefinition:y});v.push(e.drawId);if(!(!1===f)&&n&&(Pf({tournamentEngine:wf,randomWinningSide:i,matchUpFormat:h,drawId:r}),c[t].drawType===Vr)){const t=y.structures.find((e=>e.stage===ar));wf.automatedPlayoffPositioning({drawId:e.drawId,structureId:t.structureId}),Pf({tournamentEngine:wf,randomWinningSide:i,matchUpFormat:h,drawId:r})}return!I.error})))?{drawIds:v,eventId:m}:{error:"Draws not generated "}}function Tf({completeAllMatchUps:e,randomWinningSide:t,participants:n,drawProfile:i,startDate:r,goesTo:a}){var o,s;const{category:c,eventType:u=xu,eventName:d="Generated Event",matchUpFormat:l=Jn,drawType:p=Tr,structureOptions:f,drawSize:m=32,tieFormat:h,feedPolicy:v,automated:g,stage:y}=i;let{participantsCount:I,seedsCount:b}=i;(!I||I>m)&&(I=m);const w={eventName:d,eventType:u,category:c,tieFormat:h};let S=wf.addEvent({event:w});if(S.error)return{error:S.error};const{event:N}=S,{eventId:P}=N,U=e=>{const{participantType:t}=e;return u===xu&&t===no||(u===Ou&&t===ro||u===io&&t===io)},D=n.filter(U).slice(0,I).map((e=>e.participantId));if(S=wf.addEventEntries({eventId:P,participantIds:D,entryStage:y,autoEntryPositions:!1}),S.error)return{error:S.error};const T=n.filter(U).slice(I).map((e=>e.participantId));if(T.length&&(S=wf.addEventEntries({eventId:P,entryStatus:Ao,participantIds:T,autoEntryPositions:!1}),S.error))return{error:S.error};const C=(null===(o=w.category)||void 0===o?void 0:o.ageCategoryCode)||(null===(s=w.category)||void 0===s?void 0:s.categoryName)||d;if(b&&b<D.length){nn(1,b+1).forEach(((e,t)=>{let n={scaleValue:e,scaleName:C,scaleType:Ea,eventType:u,scaleDate:r};const i=D[t];wf.setParticipantScaleItem({participantId:i,scaleItem:n})}))}const{drawDefinition:E,error:A}=wf.generateDrawDefinition({seedingScaleName:C,structureOptions:f,matchUpFormat:l,seedsCount:b,feedPolicy:v,tieFormat:h,automated:g,drawType:p,drawSize:m,eventId:P,goesTo:a,stage:y});if(A)return{error:A};S=wf.addDrawDefinition({eventId:P,drawDefinition:E});const{drawId:M}=E,R=!1===g;if(!R&&e){if(Pf({tournamentEngine:wf,drawId:M,matchUpFormat:l,randomWinningSide:t}),p===Vr){const e=E.structures.find((e=>e.stage===ar));wf.automatedPlayoffPositioning({drawId:M,structureId:e.structureId}),Pf({tournamentEngine:wf,drawId:M,matchUpFormat:l,randomWinningSide:t})}}else if(!R&&i.outcomes){const{matchUps:e}=wf.allDrawMatchUps({drawId:M,inContext:!0});for(const t of i.outcomes){const{roundNumber:n,drawPositions:i,roundPosition:r,scoreString:a,winningSide:o,stage:s=ar,matchUpFormat:c,stageSequence:u=1,matchUpStatus:d=Rn,matchUpIndex:l=0,structureOrder:p}=t,f=e.reduce(((e,t)=>{const{structureId:n,matchUpId:i}=t;return e[n]?e[n].push(i):e[n]=[i],e}),{}),m=Object.assign({},...Object.keys(f).map(((e,t)=>({[e]:t+1})))),h=e.filter((e=>!(s&&e.stage!==s||u&&e.stageSequence!==u||n&&e.roundNumber!==n||r&&e.roundPosition!==r||p&&m[e.structureId]!==p||i&&2!==an(i,e.drawPositions).length)))[l];Uf({tournamentEngine:wf,targetMatchUp:h,scoreString:a,winningSide:o,matchUpStatus:d,outcomeDef:t,matchUpFormat:c,drawId:M})}}return S.error?{error:S.error}:{drawId:M,eventId:P}}var Cf=[{AL:"Alabama"},{AK:"Alaska"},{AZ:"Arizona"},{AR:"Arkansas"},{CA:"California"},{CO:"Colorado"},{CT:"Connecticut"},{DE:"Delaware"},{DC:"District of Columbia"},{FL:"Florida"},{GA:"Georgia"},{HI:"Hawaii"},{ID:"Idaho"},{IL:"Illinois"},{IN:"Indiana"},{IA:"Iowa"},{KS:"Kansas"},{KY:"Kentucky"},{LA:"Louisiana"},{ME:"Maine"},{MD:"Maryland"},{MA:"Massachusetts"},{MI:"Michigan"},{MN:"Minnesota"},{MS:"Mississippi"},{MO:"Missouri"},{MT:"Montana"},{NE:"Nebraska"},{NV:"Nevada"},{NH:"New Hampshire"},{NJ:"New Jersey"},{NM:"New Mexico"},{NY:"New York"},{NC:"North Carolina"},{ND:"North Dakota"},{OH:"Ohio"},{OK:"Oklahoma"},{OR:"Oregon"},{PA:"Pennsylvania"},{RI:"Rhode Island"},{SC:"South Carolina"},{SD:"South Dakota"},{TN:"Tennessee"},{TX:"Texas"},{UT:"Utah"},{VT:"Vermont"},{VA:"Virginia"},{WA:"Washington"},{WV:"West Virginia"},{WI:"Wisconsin"},{WY:"Wyoming"},{PR:"Puerto Rico"}],Ef=["Weaverville","Falcon Heights","Cherry Valley","Cohoe","Silver Lake","Mulberry","Highgrove","South Waverly","Harrisonville","Pioneer","Zeeland","Southwest Ranches","Thomson","Burns","Hart","Osceola","Dolgeville","Wyoming","Central Garage","Long Creek","Pacolet","Spring Valley","Wescosville","Hampton Falls","Gardnertown","Martindale","Belle Isle","Kings Grant","Falmouth","Townsend","Hennepin","Flower Hill","Chester Center","Haskins","Centralia","Estero","Porter","Red Oak","Glasgow Village","Mechanicsville","Pine Bluffs","Jewell","Bellmead","Nettleton","Luttrell","Leadville North","Oasis","Bossier City","East Valley","Woodmoor","Emory","Jasper","Windsor","West Clarkston-Highland","Becket","Pearl River","Verona Walk","Potsdam","Hooksett","Edgefield","La Center","Palm Beach Gardens","Terryville","Ridge Wood Heights","Mobile","Union City","Magnolia","Paw Paw Lake","Richfield","Strawberry Point","Pine","Fairmount","Sedona","Williamsport","Port Hadlock-Irondale","Van Buren","Lake Waccamaw","Brent","Brownsville","Emerald Isle","Sayreville Junction","Eliot","Kingston","Dyker Heights","Druid Hills","Bean Station","Jefferson","Aurora","Patton Village","Cuba","Cairo","Canutillo","Franklin","Marana","Rochester","Koloa","Longmeadow","Eagar","Ringwood","LaBelle","Saint Anthony","Rockland","Mazomanie","Munhall","Ashburn","Sauk Rapids","Collinsville","Cibecue","Young America (historical)","Freeport","Kirkland","Ashland","Hebron","Benton","Adairsville","Bolivar","Kaukauna","Southwick","Benld","Kokomo","Northern Cambria","Homerville","Island Lake","Moravian Falls","Fobes Hill","Trinity","Fillmore","Price","Rockwell City","Bremen","Homewood","Warrenton","Bay Minette","Mount Hermon","Mar-Mac","Laughlin","Bayville","Saint Robert","LaVerkin","Issaquah","Morehead","Orlando","Middletown","Audubon Park","Bremen","Inwood","West Orange","Nurillo","Aurora","Malvern","Newton","Goldsboro","Salisbury","Roland","Woodbridge","Columbus","Belville","Mexico Beach","Greenfield","Lake Placid","Paoli","Washington, D.C.","Boaz","Gates Mills","Tonganoxie","Warroad","Caledonia","Corcoran","Leland","Grant-Valkaria","Princess Anne","Otis","Chesterfield","Brentwood","Elmsford","Cambridge","Martinsburg","East Dubuque","Caledonia","Winnsboro","North Highlands","Martin","Northwest Harwinton","Robinwood","North Granby","Spry","Shenandoah","Marble Falls","Shawnee","Fort Valley","Rolling Hills","Princeville","Villa Rica","Ruskin","Texico","Guilford Siding","Spring Green","Elizabeth","Douglas","Gretna"];var Af=["Avengers","Predators","Dynamos","Warriors","Captivators","Dragons","Explosive Win Machine","Pirates","Hawk Eyes","Killer Instinct","Masters of Mayhem","Matter Catchers","Mindspace Invaders","Goal Gurus","Raiders","Seekers","Sparkle Soul Tribe","The Achievers","The Blazers","The Breezers","The Bruisers","The Civil Disobedients","The Eliminators","The Mavericks","The Mean Machines","The Punters","The Sandeaters","The Visual Spectacle","Total Demolition","Touch and Go","Vertically Challenged","Win Machines","Wind Chasers","Worker Bees","Razorbacks","Rebels","Fighting Crusaders","Comets","Commodores","Green Machine","Continentals"];function Mf({count:e=1}={}){return{teams:Jt(Af).slice(0,e)}}var Rf=[{firstName:"Novak",lastName:"Djokovic",sex:"M",nationalityCode:"SRB"},{firstName:"Rafael",lastName:"Nadal",sex:"M",nationalityCode:"ESP"},{firstName:"Dominic",lastName:"Thiem",sex:"M",nationalityCode:"AUT"},{firstName:"Roger",lastName:"Federer",sex:"M",nationalityCode:"SUI"},{firstName:"Stefanos",lastName:"Tsitsipas",sex:"M",nationalityCode:"GRE"},{firstName:"Daniil",lastName:"Medvedev",sex:"M",nationalityCode:"RUS"},{firstName:"Alexander",lastName:"Zverev",sex:"M",nationalityCode:"GER"},{firstName:"Andrey",lastName:"Rublev",sex:"M",nationalityCode:"RUS"},{firstName:"Diego",lastName:"Schwartzman",sex:"M",nationalityCode:"ARG"},{firstName:"Matteo",lastName:"Berrettini",sex:"M",nationalityCode:"ITA"},{firstName:"Gael",lastName:"Monfils",sex:"M",nationalityCode:"FRA"},{firstName:"Denis",lastName:"Shapovalov",sex:"M",nationalityCode:"CAN"},{firstName:"Roberto",lastName:"Bautista Agut",sex:"M",nationalityCode:"ESP"},{firstName:"David",lastName:"Goffin",sex:"M",nationalityCode:"BEL"},{firstName:"Pablo",lastName:"Carreno Busta",sex:"M",nationalityCode:"ESP"},{firstName:"Fabio",lastName:"Fognini",sex:"M",nationalityCode:"ITA"},{firstName:"Milos",lastName:"Raonic",sex:"M",nationalityCode:"CAN"},{firstName:"Karen",lastName:"Khachanov",sex:"M",nationalityCode:"RUS"},{firstName:"Stan",lastName:"Wawrinka",sex:"M",nationalityCode:"SUI"},{firstName:"Grigor",lastName:"Dimitrov",sex:"M",nationalityCode:"BUL"},{firstName:"Felix",lastName:"Auger-Aliassime",sex:"M",nationalityCode:"CAN"},{firstName:"Cristian",lastName:"Garin",sex:"M",nationalityCode:"CHI"},{firstName:"John",lastName:"Isner",sex:"M",nationalityCode:"USA"},{firstName:"Borna",lastName:"Coric",sex:"M",nationalityCode:"CRO"},{firstName:"Alex",lastName:"de Minaur",sex:"M",nationalityCode:"AUS"},{firstName:"Dusan",lastName:"Lajovic",sex:"M",nationalityCode:"SRB"},{firstName:"Casper",lastName:"Ruud",sex:"M",nationalityCode:"NOR"},{firstName:"Benoit",lastName:"Paire",sex:"M",nationalityCode:"FRA"},{firstName:"Taylor",lastName:"Fritz",sex:"M",nationalityCode:"USA"},{firstName:"Filip",lastName:"Krajinovic",sex:"M",nationalityCode:"SRB"},{firstName:"Hubert",lastName:"Hurkacz",sex:"M",nationalityCode:"POL"},{firstName:"Ugo",lastName:"Humbert",sex:"M",nationalityCode:"FRA"},{firstName:"Daniel",lastName:"Evans",sex:"M",nationalityCode:"GBR"},{firstName:"Jan-Lennard",lastName:"Struff",sex:"M",nationalityCode:"GER"},{firstName:"Reilly",lastName:"Opelka",sex:"M",nationalityCode:"USA"},{firstName:"Nikoloz",lastName:"Basilashvili",sex:"M",nationalityCode:"GEO"},{firstName:"Kei",lastName:"Nishikori",sex:"M",nationalityCode:"JPN"},{firstName:"Guido",lastName:"Pella",sex:"M",nationalityCode:"ARG"},{firstName:"Adrian",lastName:"Mannarino",sex:"M",nationalityCode:"FRA"},{firstName:"Miomir",lastName:"Kecmanovic",sex:"M",nationalityCode:"SRB"},{firstName:"Marin",lastName:"Cilic",sex:"M",nationalityCode:"CRO"},{firstName:"Lorenzo",lastName:"Sonego",sex:"M",nationalityCode:"ITA"},{firstName:"Jannik",lastName:"Sinner",sex:"M",nationalityCode:"ITA"},{firstName:"Nick",lastName:"Kyrgios",sex:"M",nationalityCode:"AUS"},{firstName:"John",lastName:"Millman",sex:"M",nationalityCode:"AUS"},{firstName:"Albert",lastName:"Ramos-Vinolas",sex:"M",nationalityCode:"ESP"},{firstName:"Kyle",lastName:"Edmund",sex:"M",nationalityCode:"GBR"},{firstName:"Tennys",lastName:"Sandgren",sex:"M",nationalityCode:"USA"},{firstName:"Alexander",lastName:"Bublik",sex:"M",nationalityCode:"KAZ"},{firstName:"Sam",lastName:"Querrey",sex:"M",nationalityCode:"USA"},{firstName:"Yoshihito",lastName:"Nishioka",sex:"M",nationalityCode:"JPN"},{firstName:"Marton",lastName:"Fucsovics",sex:"M",nationalityCode:"HUN"},{firstName:"Aljaz",lastName:"Bedene",sex:"M",nationalityCode:"SLO"},{firstName:"Laslo",lastName:"Djere",sex:"M",nationalityCode:"SRB"},{firstName:"Richard",lastName:"Gasquet",sex:"M",nationalityCode:"FRA"},{firstName:"Pablo",lastName:"Andujar",sex:"M",nationalityCode:"ESP"},{firstName:"Jo-Wilfried",lastName:"Tsonga",sex:"M",nationalityCode:"FRA"},{firstName:"Gilles",lastName:"Simon",sex:"M",nationalityCode:"FRA"},{firstName:"Tommy",lastName:"Paul",sex:"M",nationalityCode:"USA"},{firstName:"Jordan",lastName:"Thompson",sex:"M",nationalityCode:"AUS"},{firstName:"Fernando",lastName:"Verdasco",sex:"M",nationalityCode:"ESP"},{firstName:"Alejandro",lastName:"Davidovich Fokina",sex:"M",nationalityCode:"ESP"},{firstName:"Feliciano",lastName:"Lopez",sex:"M",nationalityCode:"ESP"},{firstName:"Frances",lastName:"Tiafoe",sex:"M",nationalityCode:"USA"},{firstName:"Dominik",lastName:"Koepfer",sex:"M",nationalityCode:"GER"},{firstName:"Jiri",lastName:"Vesely",sex:"M",nationalityCode:"CZE"},{firstName:"Pablo",lastName:"Cuevas",sex:"M",nationalityCode:"URU"},{firstName:"Ricardas",lastName:"Berankis",sex:"M",nationalityCode:"LTU"},{firstName:"Lucas",lastName:"Pouille",sex:"M",nationalityCode:"FRA"},{firstName:"Cameron",lastName:"Norrie",sex:"M",nationalityCode:"GBR"},{firstName:"Steve",lastName:"Johnson",sex:"M",nationalityCode:"USA"},{firstName:"Jeremy",lastName:"Chardy",sex:"M",nationalityCode:"FRA"},{firstName:"Stefano",lastName:"Travaglia",sex:"M",nationalityCode:"ITA"},{firstName:"Corentin",lastName:"Moutet",sex:"M",nationalityCode:"FRA"},{firstName:"Juan",lastName:"Ignacio Londero",sex:"M",nationalityCode:"ARG"},{firstName:"Federico",lastName:"Delbonis",sex:"M",nationalityCode:"ARG"},{firstName:"Marco",lastName:"Cecchinato",sex:"M",nationalityCode:"ITA"},{firstName:"Thiago",lastName:"Monteiro",sex:"M",nationalityCode:"BRA"},{firstName:"Salvatore",lastName:"Caruso",sex:"M",nationalityCode:"ITA"},{firstName:"Lloyd",lastName:"Harris",sex:"M",nationalityCode:"RSA"},{firstName:"Vasek",lastName:"Pospisil",sex:"M",nationalityCode:"CAN"},{firstName:"Pierre-Hugues",lastName:"Herbert",sex:"M",nationalityCode:"FRA"},{firstName:"Egor",lastName:"Gerasimov",sex:"M",nationalityCode:"BLR"},{firstName:"Joao",lastName:"Sousa",sex:"M",nationalityCode:"POR"},{firstName:"Radu",lastName:"Albot",sex:"M",nationalityCode:"MDA"},{firstName:"Marcos",lastName:"Giron",sex:"M",nationalityCode:"USA"},{firstName:"Mikael",lastName:"Ymer",sex:"M",nationalityCode:"SWE"},{firstName:"Attila",lastName:"Balazs",sex:"M",nationalityCode:"HUN"},{firstName:"Federico",lastName:"Coria",sex:"M",nationalityCode:"ARG"},{firstName:"Soonwoo",lastName:"Kwon",sex:"M",nationalityCode:"KOR"},{firstName:"Mikhail",lastName:"Kukushkin",sex:"M",nationalityCode:"KAZ"},{firstName:"Dennis",lastName:"Novak",sex:"M",nationalityCode:"AUT"},{firstName:"Pedro",lastName:"Martinez",sex:"M",nationalityCode:"ESP"},{firstName:"Philipp",lastName:"Kohlschreiber",sex:"M",nationalityCode:"GER"},{firstName:"Yannick",lastName:"Hanfmann",sex:"M",nationalityCode:"GER"},{firstName:"Gianluca",lastName:"Mager",sex:"M",nationalityCode:"ITA"},{firstName:"James",lastName:"Duckworth",sex:"M",nationalityCode:"AUS"},{firstName:"Emil",lastName:"Ruusuvuori",sex:"M",nationalityCode:"FIN"},{firstName:"Yasutaka",lastName:"Uchiyama",sex:"M",nationalityCode:"JPN"},{firstName:"Roberto",lastName:"Carballes Baena",sex:"M",nationalityCode:"ESP"},{firstName:"Ashleigh",lastName:"Barty",sex:"F",nationalityCode:"AUS"},{firstName:"Simona",lastName:"Halep",sex:"F",nationalityCode:"ROU"},{firstName:"Naomi",lastName:"Osaka",sex:"F",nationalityCode:"JPN"},{firstName:"Sofia",lastName:"Kenin",sex:"F",nationalityCode:"USA"},{firstName:"Elina",lastName:"Svitolina",sex:"F",nationalityCode:"UKR"},{firstName:"Karolina",lastName:"Pliskova",sex:"F",nationalityCode:"CZE"},{firstName:"Bianca",lastName:"Andreescu",sex:"F",nationalityCode:"CAN"},{firstName:"Petra",lastName:"Kvitova",sex:"F",nationalityCode:"CZE"},{firstName:"Kiki",lastName:"Bertens",sex:"F",nationalityCode:"NED"},{firstName:"Serena",lastName:"Williams",sex:"F",nationalityCode:"USA"},{firstName:"Aryna",lastName:"Sabalenka",sex:"F",nationalityCode:"BLR"},{firstName:"Belinda",lastName:"Bencic",sex:"F",nationalityCode:"SUI"},{firstName:"Victoria",lastName:"Azarenka",sex:"F",nationalityCode:"BLR"},{firstName:"Johanna",lastName:"Konta",sex:"F",nationalityCode:"GBR"},{firstName:"Garbine",lastName:"Muguruza",sex:"F",nationalityCode:"ESP"},{firstName:"Madison",lastName:"Keys",sex:"F",nationalityCode:"USA"},{firstName:"Iga",lastName:"Swiatek",sex:"F",nationalityCode:"POL"},{firstName:"Petra",lastName:"Martic",sex:"F",nationalityCode:"CRO"},{firstName:"Elena",lastName:"Rybakina",sex:"F",nationalityCode:"KAZ"},{firstName:"Marketa",lastName:"Vondrousova",sex:"F",nationalityCode:"CZE"},{firstName:"Elise",lastName:"Mertens",sex:"F",nationalityCode:"BEL"},{firstName:"Maria",lastName:"Sakkari",sex:"F",nationalityCode:"GRE"},{firstName:"Anett",lastName:"Kontaveit",sex:"F",nationalityCode:"EST"},{firstName:"Jennifer",lastName:"Brady",sex:"F",nationalityCode:"USA"},{firstName:"Angelique",lastName:"Kerber",sex:"F",nationalityCode:"GER"},{firstName:"Alison",lastName:"Riske",sex:"F",nationalityCode:"USA"},{firstName:"Karolina",lastName:"Muchova",sex:"F",nationalityCode:"CZE"},{firstName:"Yulia",lastName:"Putintseva",sex:"F",nationalityCode:"KAZ"},{firstName:"Dayana",lastName:"Yastremska",sex:"F",nationalityCode:"UKR"},{firstName:"Amanda",lastName:"Anisimova",sex:"F",nationalityCode:"USA"},{firstName:"Ons",lastName:"Jabeur",sex:"F",nationalityCode:"TUN"},{firstName:"Donna",lastName:"Vekic",sex:"F",nationalityCode:"CRO"},{firstName:"Ekaterina",lastName:"Alexandrova",sex:"F",nationalityCode:"RUS"},{firstName:"Qiang",lastName:"Wang",sex:"F",nationalityCode:"CHN"},{firstName:"Shuai",lastName:"Zhang",sex:"F",nationalityCode:"CHN"},{firstName:"Svetlana",lastName:"Kuznetsova",sex:"F",nationalityCode:"RUS"},{firstName:"Barbora",lastName:"Strycova",sex:"F",nationalityCode:"CZE"},{firstName:"Anastasia",lastName:"Pavlyuchenkova",sex:"F",nationalityCode:"RUS"},{firstName:"Sloane",lastName:"Stephens",sex:"F",nationalityCode:"USA"},{firstName:"Magda",lastName:"Linette",sex:"F",nationalityCode:"POL"},{firstName:"Saisai",lastName:"Zheng",sex:"F",nationalityCode:"CHN"},{firstName:"Fiona",lastName:"Ferro",sex:"F",nationalityCode:"FRA"},{firstName:"Caroline",lastName:"Garcia",sex:"F",nationalityCode:"FRA"},{firstName:"Jelena",lastName:"Ostapenko",sex:"F",nationalityCode:"LAT"},{firstName:"Danielle",lastName:"Collins",sex:"F",nationalityCode:"USA"},{firstName:"Veronika",lastName:"Kudermetova",sex:"F",nationalityCode:"RUS"},{firstName:"Cori",lastName:"Gauff",sex:"F",nationalityCode:"USA"},{firstName:"Nadia",lastName:"Podoroska",sex:"F",nationalityCode:"ARG"},{firstName:"Kristina",lastName:"Mladenovic",sex:"F",nationalityCode:"FRA"},{firstName:"Laura",lastName:"Siegemund",sex:"F",nationalityCode:"GER"},{firstName:"Marie",lastName:"Bouzkova",sex:"F",nationalityCode:"CZE"},{firstName:"Polona",lastName:"Hercog",sex:"F",nationalityCode:"SLO"},{firstName:"Alize",lastName:"Cornet",sex:"F",nationalityCode:"FRA"},{firstName:"Anastasija",lastName:"Sevastova",sex:"F",nationalityCode:"LAT"},{firstName:"Rebecca",lastName:"Peterson",sex:"F",nationalityCode:"SWE"},{firstName:"Patricia",lastName:"Maria Tig",sex:"F",nationalityCode:"ROU"},{firstName:"Jil",lastName:"Teichmann",sex:"F",nationalityCode:"SUI"},{firstName:"Shelby",lastName:"Rogers",sex:"F",nationalityCode:"USA"},{firstName:"Heather",lastName:"Watson",sex:"F",nationalityCode:"GBR"},{firstName:"Anna",lastName:"Blinkova",sex:"F",nationalityCode:"RUS"},{firstName:"Bernarda",lastName:"Pera",sex:"F",nationalityCode:"USA"},{firstName:"Jessica",lastName:"Pegula",sex:"F",nationalityCode:"USA"},{firstName:"Alison",lastName:"Van Uytvanck",sex:"F",nationalityCode:"BEL"},{firstName:"Katerina",lastName:"Siniakova",sex:"F",nationalityCode:"CZE"},{firstName:"Sara",lastName:"Sorribes Tormo",sex:"F",nationalityCode:"ESP"},{firstName:"Su-Wei",lastName:"Hsieh",sex:"F",nationalityCode:"TPE"},{firstName:"Ajla",lastName:"Tomljanovic",sex:"F",nationalityCode:"AUS"},{firstName:"Kristyna",lastName:"Pliskova",sex:"F",nationalityCode:"CZE"},{firstName:"Paula",lastName:"Badosa",sex:"F",nationalityCode:"ESP"},{firstName:"Daria",lastName:"Kasatkina",sex:"F",nationalityCode:"RUS"},{firstName:"Nao",lastName:"Hibino",sex:"F",nationalityCode:"JPN"},{firstName:"Arantxa",lastName:"Rus",sex:"F",nationalityCode:"NED"},{firstName:"Lauren",lastName:"Davis",sex:"F",nationalityCode:"USA"},{firstName:"Barbora",lastName:"Krejcikova",sex:"F",nationalityCode:"CZE"},{firstName:"Camila",lastName:"Giorgi",sex:"F",nationalityCode:"ITA"},{firstName:"Irina-Camelia",lastName:"Begu",sex:"F",nationalityCode:"ROU"},{firstName:"Danka",lastName:"Kovinic",sex:"F",nationalityCode:"MNE"},{firstName:"Venus",lastName:"Williams",sex:"F",nationalityCode:"USA"},{firstName:"Zarina",lastName:"Diyas",sex:"F",nationalityCode:"KAZ"},{firstName:"Christina",lastName:"Mchale",sex:"F",nationalityCode:"USA"},{firstName:"Madison",lastName:"Brengle",sex:"F",nationalityCode:"USA"},{firstName:"Carla",lastName:"Suarez Navarro",sex:"F",nationalityCode:"ESP"},{firstName:"Martina",lastName:"Trevisan",sex:"F",nationalityCode:"ITA"},{firstName:"Kirsten",lastName:"Flipkens",sex:"F",nationalityCode:"BEL"},{firstName:"Misaki",lastName:"Doi",sex:"F",nationalityCode:"JPN"},{firstName:"Tamara",lastName:"Zidansek",sex:"F",nationalityCode:"SLO"},{firstName:"Sorana",lastName:"Cirstea",sex:"F",nationalityCode:"ROU"},{firstName:"Leylah",lastName:"Fernandez",sex:"F",nationalityCode:"CAN"},{firstName:"Taylor",lastName:"Townsend",sex:"F",nationalityCode:"USA"},{firstName:"Lin",lastName:"Zhu",sex:"F",nationalityCode:"CHN"},{firstName:"Ana",lastName:"Bogdan",sex:"F",nationalityCode:"ROU"},{firstName:"Aliaksandra",lastName:"Sasnovich",sex:"F",nationalityCode:"BLR"},{firstName:"Yafan",lastName:"Wang",sex:"F",nationalityCode:"CHN"},{firstName:"Jasmine",lastName:"Paolini",sex:"F",nationalityCode:"ITA"},{firstName:"Varvara",lastName:"Gracheva",sex:"F",nationalityCode:"RUS"},{firstName:"Viktoria",lastName:"Kuzmova",sex:"F",nationalityCode:"SVK"},{firstName:"Nina",lastName:"Stojanovic",sex:"F",nationalityCode:"SRB"},{firstName:"Anastasia",lastName:"Potapova",sex:"F",nationalityCode:"RUS"},{firstName:"Andrea",lastName:"Petkovic",sex:"F",nationalityCode:"GER"},{firstName:"Kaja",lastName:"Juvan",sex:"F",nationalityCode:"SLO"},{firstName:"Elsa",lastName:"Jacquemot",sex:"F",nationalityCode:"FRA"},{firstName:"Victoria",lastName:"Jimenez Kasintseva",sex:"F",nationalityCode:"AND"},{firstName:"Alexandra",lastName:"Eala",sex:"F",nationalityCode:"PHI"},{firstName:"Diane",lastName:"Parry",sex:"F",nationalityCode:"FRA"},{firstName:"Daria",lastName:"Snigur",sex:"F",nationalityCode:"UKR"},{firstName:"Polina",lastName:"Kudermetova",sex:"F",nationalityCode:"RUS"},{firstName:"Robin",lastName:"Montgomery",sex:"F",nationalityCode:"USA"},{firstName:"Alexandra",lastName:"Vecic",sex:"F",nationalityCode:"GER"},{firstName:"Kristina",lastName:"Dmitruk",sex:"F",nationalityCode:"BLR"},{firstName:"Alexa",lastName:"Noel",sex:"F",nationalityCode:"USA"},{firstName:"Kamilla",lastName:"Bartone",sex:"F",nationalityCode:"LAT"},{firstName:"Weronika",lastName:"Baszak",sex:"F",nationalityCode:"POL"},{firstName:"Oksana",lastName:"Selekhmeteva",sex:"F",nationalityCode:"RUS"},{firstName:"Alina",lastName:"Charaeva",sex:"F",nationalityCode:"RUS"},{firstName:"Maria",lastName:"Bondarenko",sex:"F",nationalityCode:"RUS"},{firstName:"Priska",lastName:"Madelyn Nugroho",sex:"F",nationalityCode:"INA"},{firstName:"Linda",lastName:"Fruhvirtova",sex:"F",nationalityCode:"CZE"},{firstName:"Dana",lastName:"Guzman",sex:"F",nationalityCode:"PER"},{firstName:"Linda",lastName:"Noskova",sex:"F",nationalityCode:"CZE"},{firstName:"Hong",lastName:"Yi Cody Wong",sex:"F",nationalityCode:"HKG"},{firstName:"Zhuoxuan",lastName:"Bai",sex:"F",nationalityCode:"CHN"},{firstName:"Mell",lastName:"Reasco Gonzalez",sex:"F",nationalityCode:"ECU"},{firstName:"Matilda",lastName:"Mutavdzic",sex:"F",nationalityCode:"GBR"},{firstName:"Diana",lastName:"Shnaider",sex:"F",nationalityCode:"RUS"},{firstName:"Qinwen",lastName:"Zheng",sex:"F",nationalityCode:"CHN"},{firstName:"Alexandra",lastName:"Yepifanova",sex:"F",nationalityCode:"USA"},{firstName:"Matilde",lastName:"Paoletti",sex:"F",nationalityCode:"ITA"},{firstName:"Melania",lastName:"Delai",sex:"F",nationalityCode:"ITA"},{firstName:"Jana",lastName:"Kolodynska",sex:"F",nationalityCode:"BLR"},{firstName:"Guillermina",lastName:"Grant",sex:"F",nationalityCode:"URU"},{firstName:"Darja",lastName:"Vidmanova",sex:"F",nationalityCode:"CZE"},{firstName:"Melodie",lastName:"Collard",sex:"F",nationalityCode:"CAN"},{firstName:"Elvina",lastName:"Kalieva",sex:"F",nationalityCode:"USA"},{firstName:"Sofia",lastName:"Costoulas",sex:"F",nationalityCode:"BEL"},{firstName:"Aliona",lastName:"Falei",sex:"F",nationalityCode:"BLR"},{firstName:"Mai",lastName:"Nirundorn",sex:"F",nationalityCode:"THA"},{firstName:"Elizabeth",lastName:"Coleman",sex:"F",nationalityCode:"USA"},{firstName:"Aubane",lastName:"Droguet",sex:"F",nationalityCode:"FRA"},{firstName:"Madison",lastName:"Sieg",sex:"F",nationalityCode:"USA"},{firstName:"Natsumi",lastName:"Kawaguchi",sex:"F",nationalityCode:"JPN"},{firstName:"Leyre",lastName:"Romero Gormaz",sex:"F",nationalityCode:"ESP"},{firstName:"Elina",lastName:"Avanesyan",sex:"F",nationalityCode:"RUS"},{firstName:"Oceane",lastName:"Babel",sex:"F",nationalityCode:"FRA"},{firstName:"Ziva",lastName:"Falkner",sex:"F",nationalityCode:"SLO"},{firstName:"Julia",lastName:"Garcia",sex:"F",nationalityCode:"MEX"},{firstName:"Natalia",lastName:"Szabanin",sex:"F",nationalityCode:"HUN"},{firstName:"Erika",lastName:"Andreeva",sex:"F",nationalityCode:"RUS"},{firstName:"Celia",lastName:"Belle Mohr",sex:"F",nationalityCode:"FRA"},{firstName:"Ane",lastName:"Mintegi Del Olmo",sex:"F",nationalityCode:"ESP"},{firstName:"Sebastianna",lastName:"Scilipoti",sex:"F",nationalityCode:"SUI"},{firstName:"Ana",lastName:"Geller",sex:"F",nationalityCode:"ARG"},{firstName:"Dayeon",lastName:"Back",sex:"F",nationalityCode:"KOR"},{firstName:"Selena",lastName:"Janicijevic",sex:"F",nationalityCode:"FRA"},{firstName:"Romana",lastName:"Cisovska",sex:"F",nationalityCode:"SVK"},{firstName:"Amarissa",lastName:"Kiara Toth",sex:"F",nationalityCode:"HUN"},{firstName:"Mara",lastName:"Guth",sex:"F",nationalityCode:"GER"},{firstName:"Evialina",lastName:"Laskevich",sex:"F",nationalityCode:"BLR"},{firstName:"Julia",lastName:"Avdeeva",sex:"F",nationalityCode:"RUS"},{firstName:"Beatrice",lastName:"Ricci",sex:"F",nationalityCode:"ITA"},{firstName:"Eleonora",lastName:"Alvisi",sex:"F",nationalityCode:"ITA"},{firstName:"Jessica",lastName:"Bouzas Maneiro",sex:"F",nationalityCode:"ESP"},{firstName:"Julie",lastName:"Belgraver",sex:"F",nationalityCode:"NED"},{firstName:"Lisa",lastName:"Pigato",sex:"F",nationalityCode:"ITA"},{firstName:"Ya",lastName:"Yi Yang",sex:"F",nationalityCode:"TPE"},{firstName:"Eva",lastName:"Lys",sex:"F",nationalityCode:"GER"},{firstName:"Talia",lastName:"Gibson",sex:"F",nationalityCode:"AUS"},{firstName:"Yeon",lastName:"Ku",sex:"F",nationalityCode:"KOR"},{firstName:"Katrina",lastName:"Scott",sex:"F",nationalityCode:"USA"},{firstName:"Barbora",lastName:"Palicova",sex:"F",nationalityCode:"CZE"},{firstName:"Alina",lastName:"Shcherbinina",sex:"F",nationalityCode:"RUS"},{firstName:"Giulia",lastName:"Morlet",sex:"F",nationalityCode:"FRA"},{firstName:"Tina",lastName:"Nadine Smith",sex:"F",nationalityCode:"AUS"},{firstName:"Sohyun",lastName:"Park",sex:"F",nationalityCode:"KOR"},{firstName:"Tara",lastName:"Wurth",sex:"F",nationalityCode:"CRO"},{firstName:"Polina",lastName:"Iatcenko",sex:"F",nationalityCode:"RUS"},{firstName:"Lauren",lastName:"Anzalotta Kynoch",sex:"F",nationalityCode:"PUR"},{firstName:"Savannah",lastName:"Broadus",sex:"F",nationalityCode:"USA"},{firstName:"Angelina",lastName:"Wirges",sex:"F",nationalityCode:"GER"},{firstName:"Amarni",lastName:"Banks",sex:"F",nationalityCode:"GBR"},{firstName:"Hanne",lastName:"Vandewinkel",sex:"F",nationalityCode:"BEL"},{firstName:"Jada",lastName:"Bui",sex:"F",nationalityCode:"CAN"},{firstName:"Sabina",lastName:"Zeynalova",sex:"F",nationalityCode:"UKR"},{firstName:"Pia",lastName:"Lovric",sex:"F",nationalityCode:"SLO"},{firstName:"Erika",lastName:"Matsuda",sex:"F",nationalityCode:"JPN"},{firstName:"Lyubov",lastName:"Kostenko",sex:"F",nationalityCode:"UKR"},{firstName:"Anaelle",lastName:"Leclercq",sex:"F",nationalityCode:"FRA"},{firstName:"Alessandra",lastName:"Simone",sex:"F",nationalityCode:"ITA"},{firstName:"Darja",lastName:"Semenistaja",sex:"F",nationalityCode:"LAT"},{firstName:"Daria",lastName:"Frayman",sex:"F",nationalityCode:"RUS"},{firstName:"Nastasja",lastName:"Schunk",sex:"F",nationalityCode:"GER"},{firstName:"Olivia",lastName:"Gadecki",sex:"F",nationalityCode:"AUS"},{firstName:"India",lastName:"Houghton",sex:"F",nationalityCode:"USA"},{firstName:"Maria",lastName:"Sholokhova",sex:"F",nationalityCode:"RUS"},{firstName:"Julia",lastName:"Middendorf",sex:"F",nationalityCode:"GER"},{firstName:"Petra",lastName:"Marcinko",sex:"F",nationalityCode:"CRO"},{firstName:"Radka",lastName:"Zelnickova",sex:"F",nationalityCode:"SVK"},{firstName:"Lucie",lastName:"Nguyen Tan",sex:"F",nationalityCode:"FRA"},{firstName:"Tatiana",lastName:"Barkova",sex:"F",nationalityCode:"RUS"},{firstName:"Annabelle",lastName:"Xu",sex:"F",nationalityCode:"CAN"},{firstName:"Harold",lastName:"Mayot",sex:"M",nationalityCode:"FRA"},{firstName:"Holger",lastName:"Vitus Nodskov Rune",sex:"M",nationalityCode:"DEN"},{firstName:"Dominic",lastName:"Stephan Stricker",sex:"M",nationalityCode:"SUI"},{firstName:"Shintaro",lastName:"Mochizuki",sex:"M",nationalityCode:"JPN"},{firstName:"Arthur",lastName:"Cazaux",sex:"M",nationalityCode:"FRA"},{firstName:"Leandro",lastName:"Riedi",sex:"M",nationalityCode:"SUI"},{firstName:"Martin",lastName:"Damm",sex:"M",nationalityCode:"USA"},{firstName:"Natan",lastName:"Rodrigues",sex:"M",nationalityCode:"BRA"},{firstName:"Karlis",lastName:"Ozolins",sex:"M",nationalityCode:"LAT"},{firstName:"Luciano",lastName:"Darderi",sex:"M",nationalityCode:"ITA"},{firstName:"Hanwen",lastName:"Li",sex:"M",nationalityCode:"CHN"},{firstName:"Arthur",lastName:"Fery",sex:"M",nationalityCode:"GBR"},{firstName:"Juan",lastName:"Bautista Torres",sex:"M",nationalityCode:"ARG"},{firstName:"Khololwam",lastName:"Montsi",sex:"M",nationalityCode:"RSA"},{firstName:"Jeffrey",lastName:"Von Der Schulenburg",sex:"M",nationalityCode:"SUI"},{firstName:"Timo",lastName:"Legout",sex:"M",nationalityCode:"FRA"},{firstName:"Gustavo",lastName:"Heide",sex:"M",nationalityCode:"BRA"},{firstName:"Flavio",lastName:"Cobolli",sex:"M",nationalityCode:"ITA"},{firstName:"Guy",lastName:"Den Ouden",sex:"M",nationalityCode:"NED"},{firstName:"Martin",lastName:"Breysach",sex:"M",nationalityCode:"FRA"},{firstName:"Toby",lastName:"Kodat",sex:"M",nationalityCode:"USA"},{firstName:"Lilian",lastName:"Marmousez",sex:"M",nationalityCode:"FRA"},{firstName:"Roman",lastName:"Andres Burruchaga",sex:"M",nationalityCode:"ARG"},{firstName:"Alex",lastName:"Barrena",sex:"M",nationalityCode:"ARG"},{firstName:"Dalibor",lastName:"Svrcina",sex:"M",nationalityCode:"CZE"},{firstName:"Martin",lastName:"Krumich",sex:"M",nationalityCode:"CZE"},{firstName:"Peter",lastName:"Fajta",sex:"M",nationalityCode:"HUN"},{firstName:"Lukas",lastName:"Neumayer",sex:"M",nationalityCode:"AUT"},{firstName:"Raphael",lastName:"Collignon",sex:"M",nationalityCode:"BEL"},{firstName:"Dali",lastName:"Blanch",sex:"M",nationalityCode:"USA"},{firstName:"Terence",lastName:"Atmane",sex:"M",nationalityCode:"FRA"},{firstName:"Felix",lastName:"Gill",sex:"M",nationalityCode:"GBR"},{firstName:"Eliakim",lastName:"Coulibaly",sex:"M",nationalityCode:"CIV"},{firstName:"Hamad",lastName:"Medjedovic",sex:"M",nationalityCode:"SRB"},{firstName:"Jerome",lastName:"Kym",sex:"M",nationalityCode:"SUI"},{firstName:"Nicholas",lastName:"David Ionel",sex:"M",nationalityCode:"ROU"},{firstName:"Shunsuke",lastName:"Mitsui",sex:"M",nationalityCode:"JPN"},{firstName:"Giovanni",lastName:"Mpetshi Perricard",sex:"M",nationalityCode:"FRA"},{firstName:"Bu",lastName:"Yunchaokete",sex:"M",nationalityCode:"CHN"},{firstName:"Jack",lastName:"Pinnington Jones",sex:"M",nationalityCode:"GBR"},{firstName:"Alexander",lastName:"Hoogmartens",sex:"M",nationalityCode:"BEL"},{firstName:"Bruno",lastName:"Oliveira",sex:"M",nationalityCode:"BRA"},{firstName:"Maks",lastName:"Kasnikowski",sex:"M",nationalityCode:"POL"},{firstName:"Mikolaj",lastName:"Lorens",sex:"M",nationalityCode:"POL"},{firstName:"Chak",lastName:"Lam Coleman Wong",sex:"M",nationalityCode:"HKG"},{firstName:"Egor",lastName:"Agafonov",sex:"M",nationalityCode:"RUS"},{firstName:"Mans",lastName:"Dahlberg",sex:"M",nationalityCode:"SWE"},{firstName:"Marat",lastName:"Sharipov",sex:"M",nationalityCode:"RUS"},{firstName:"Luca",lastName:"Nardi",sex:"M",nationalityCode:"ITA"},{firstName:"Sean",lastName:"Cuenin",sex:"M",nationalityCode:"FRA"},{firstName:"Pedro",lastName:"Boscardin Dias",sex:"M",nationalityCode:"BRA"},{firstName:"Samuel",lastName:"Vincent Ruggeri",sex:"M",nationalityCode:"ITA"},{firstName:"Bruno",lastName:"Kuzuhara",sex:"M",nationalityCode:"USA"},{firstName:"Romain",lastName:"Faucon",sex:"M",nationalityCode:"BEL"},{firstName:"Elmer",lastName:"Moller",sex:"M",nationalityCode:"DEN"},{firstName:"Mario",lastName:"Mansilla Diez",sex:"M",nationalityCode:"ESP"},{firstName:"Leonardo",lastName:"Malgaroli",sex:"M",nationalityCode:"ITA"},{firstName:"Pierre",lastName:"Yves Bailly",sex:"M",nationalityCode:"BEL"},{firstName:"Sebastian",lastName:"Gima",sex:"M",nationalityCode:"ROU"},{firstName:"Ilya",lastName:"Snitari",sex:"M",nationalityCode:"MDA"},{firstName:"Diego",lastName:"Augusto Barreto Sanchez",sex:"M",nationalityCode:"ESP"},{firstName:"Alexander",lastName:"Bernard",sex:"M",nationalityCode:"USA"},{firstName:"Pengyu",lastName:"Lu",sex:"M",nationalityCode:"CHN"},{firstName:"Max",lastName:"Wiskandt",sex:"M",nationalityCode:"GER"},{firstName:"Max",lastName:"Westphal",sex:"M",nationalityCode:"FRA"},{firstName:"Lorenzo",lastName:"Claverie",sex:"M",nationalityCode:"VEN"},{firstName:"Axel",lastName:"Garcian",sex:"M",nationalityCode:"FRA"},{firstName:"Aleksander",lastName:"Orlikowski",sex:"M",nationalityCode:"POL"},{firstName:"Maxwell",lastName:"Mckennon",sex:"M",nationalityCode:"USA"},{firstName:"Rafael",lastName:"Alfonso De Alba Valdes",sex:"M",nationalityCode:"MEX"},{firstName:"Dev",lastName:"Javia",sex:"M",nationalityCode:"IND"},{firstName:"Kokoro",lastName:"Isomura",sex:"M",nationalityCode:"JPN"},{firstName:"Matteo",lastName:"Gigante",sex:"M",nationalityCode:"ITA"},{firstName:"Jack",lastName:"Anthrop",sex:"M",nationalityCode:"USA"},{firstName:"Pablo",lastName:"Llamas Ruiz",sex:"M",nationalityCode:"ESP"},{firstName:"Biagio",lastName:"Gramaticopolo",sex:"M",nationalityCode:"ITA"},{firstName:"Patorn",lastName:"Hanchaikul",sex:"M",nationalityCode:"THA"},{firstName:"Marko",lastName:"Topo",sex:"M",nationalityCode:"SRB"},{firstName:"Carlos",lastName:"Alcaraz",sex:"M",nationalityCode:"ESP"},{firstName:"Juncheng",lastName:"Shang",sex:"M",nationalityCode:"CHN"},{firstName:"Toby",lastName:"Samuel",sex:"M",nationalityCode:"GBR"},{firstName:"Petr",lastName:"Nesterov",sex:"M",nationalityCode:"BUL"},{firstName:"Mehdi",lastName:"Sadaoui",sex:"M",nationalityCode:"FRA"},{firstName:"Max",lastName:"Alcala Gurri",sex:"M",nationalityCode:"ESP"},{firstName:"Nikita",lastName:"Kashirin",sex:"M",nationalityCode:"RUS"},{firstName:"Aidan",lastName:"Mayo",sex:"M",nationalityCode:"USA"},{firstName:"Yu",lastName:"Zhang",sex:"M",nationalityCode:"CHN"},{firstName:"Philip",lastName:"Sekulic",sex:"M",nationalityCode:"AUS"},{firstName:"Lorenzo",lastName:"Rottoli",sex:"M",nationalityCode:"ITA"},{firstName:"Michal",lastName:"Novansky",sex:"M",nationalityCode:"SVK"},{firstName:"Maikel",lastName:"De Boes",sex:"M",nationalityCode:"BEL"},{firstName:"Chen",lastName:"Dong",sex:"M",nationalityCode:"AUS"},{firstName:"Evgeny",lastName:"Philippov",sex:"M",nationalityCode:"RUS"},{firstName:"Damien",lastName:"Salvestre",sex:"M",nationalityCode:"FRA"},{firstName:"Francesco",lastName:"Maestrelli",sex:"M",nationalityCode:"ITA"},{firstName:"Viacheslav",lastName:"Bielinskyi",sex:"M",nationalityCode:"UKR"},{firstName:"Jean",lastName:"Marc Malkowski",sex:"M",nationalityCode:"SUI"},{firstName:"Santiago",lastName:"De La Fuente",sex:"M",nationalityCode:"ARG"},{firstName:"Simeon",lastName:"Terziev",sex:"M",nationalityCode:"BUL"},{firstName:"Benjamin",lastName:"Kittay",sex:"M",nationalityCode:"USA"}];function xf({nationalityCodes:e,nationalityCodesCount:t,participantsCount:n=32,valuesInstanceLimit:i,participantType:r,addressProps:a,matchUpType:o,sex:s,inContext:u}){const d=r===ro||o===fa,l=r===io||o===io,p=n*(d?2:l?8:1),{persons:f}=function({count:e=1,sex:t}={}){const n=Jt(Rf),i=n.filter((e=>!t||e.sex===t[0].toUpperCase())).slice(0,e).map(((e,t)=>Object.assign(e,{extensions:[{name:"regionCode",value:t+1}]})));return{persons:i.length&&i||n[0]}}({sex:s,count:p}),m=rr.filter((e=>e.iso)),{citiesCount:h,statesCount:v,postalCodesCount:g}=a||{};const{cities:y}=function({count:e=1}={}){return{cities:Jt(Ef).slice(0,e)}}({count:h}),{states:I}=function({count:e=1}={}){return{states:Jt(Cf).slice(0,e).map((e=>Object.keys(e))).flat()}}({count:v}),{postalCodes:b}=function({count:e=1}={}){return{postalCodes:nn(0,e).map((()=>nn(0,5).map((()=>c(0,9))).join("")))}}({count:g}),w={cities:y,states:I,postalCodes:b},S=function(e){const t=Math.ceil(p/e);return i&&t>i?Math.ceil(p/i):e}(t),N=S?Jt(m).slice(0,t):e?m.filter((t=>e.includes(t.key))):m,P=Jt(nn(0,Math.ceil(p/(S||1))).map((()=>N)).flat(1/0));return{participants:nn(0,n).map((e=>{const t=d?2:l?8:1,n=nn(0,t).map((n=>function(e){const t=f[e],{firstName:n,lastName:i,extensions:r,nationalityCode:a}=t||{},o=n||"GivenName",c=i||"FamilyName",u=`${o} ${c}`,d=P[e],l=d&&(d.ioc||d.iso)||a;null==P||!P.length||l||a||console.log("%c Invalid Nationality Code",{participantIndex:e,country:d});const p=function(e){const{cities:t,states:n,postalCodes:i,nationalityCode:r,participantIndex:a}=e;return{city:t&&t[a],state:n&&n[a],postalCode:i&&i[a],countryCode:r}}({...w,participantIndex:e,nationalityCode:l});return{participantId:Pn(),participantType:no,participantRole:gd,participantName:u,person:{addresses:[p],personId:Pn(),standardFamilyName:c,standardGivenName:o,nationalityCode:l,extensions:r,sex:s}}}(e*t+n))),i=n.map((e=>e.participantId)),r=n.map((e=>e.person.standardFamilyName)).join("/"),a={participantId:Pn(),participantType:d?ro:io,participantRole:gd,participantName:d?r:Mf().teams[0],individualParticipantIds:i};return u&&(a.individualParticipants=n),d||l?[a,...n]:n})).flat()}}const Of={generateParticipants:xf,generateTournamentRecord:function({endDate:e,startDate:t,tournamentName:n,participantsProfile:i,drawProfiles:r,eventProfiles:a,venueProfiles:o,completeAllMatchUps:s,randomWinningSide:c,inContext:u,goesTo:d}={}){let{participantsCount:l=32,participantType:p=no}=i||{};const{addressProps:f,nationalityCodes:m,nationalityCodesCount:h,valuesInstanceLimit:v,sex:g}=i||{};if(t&&!At(t)||e&&!At(e))return{error:Se};if(!t){const n=new Date;t=Rt(n),e=Rt(n.setDate(n.getDate()+7))}if(!e){const n=new Date(t);e=Rt(n.setDate(n.getDate()+7))}const y=wf.newTournamentRecord({startDate:t,endDate:e,tournamentName:n});if(y.error)return y;const I=Math.max(...(r||[]).map((e=>e.drawSize)),...(a||[]).map((e=>(null==e?void 0:e.drawProfiles.reduce(((e,{drawSize:t,drawEntries:n})=>e+Math.max(t||0,(null==n?void 0:n.length)||0)),0))||0)))||32,b=null==r?void 0:r.find((e=>e.eventType===Ou)),w=I*(b?2:1);b&&(p=ro),l<w&&(l=w),p===ro&&(l/=2);const{participants:S}=xf({nationalityCodesCount:h,nationalityCodes:m,addressProps:f,participantsCount:l,participantType:p,inContext:u,sex:g,valuesInstanceLimit:v});wf.addParticipants({participants:S});const N=[],P=[],U=[];if(r)for(const T of r){const{drawId:e,eventId:n}=Tf({completeAllMatchUps:s,randomWinningSide:c,participants:S,drawProfile:T,startDate:t,goesTo:d});N.push(e),P.push(n)}if(a)for(const T of a){const{eventId:e,drawIds:t}=Df({completeAllMatchUps:s,randomWinningSide:c,eventProfile:T,participants:S});t&&N.push(...t),P.push(e)}if(o)for(const[T,C]of o.entries()){let{venueName:n,courtsCount:i,dateAvailability:r,startTime:a="07:00",endTime:o="19:00"}=C;const s={venueName:n||`Venue ${T+1}`},{venue:{venueId:c}}=wf.devContext(!0).addVenue({venue:s});U.push(c);const u=kt(t,e);r=!Array.isArray(r)&&u.map((e=>({date:Rt(e),startTime:a,endTime:o})))||r,wf.addCourts({venueId:c,courtsCount:i,dateAvailability:r})}const{tournamentRecord:D}=wf.getState();return{tournamentRecord:D,drawIds:N,eventIds:P,venueIds:U}},generateOutcomeFromScoreString:Nf,parseScoreString:Sf,credits:Ed},kf=function(){const e={version:()=>"0.7.4",devContext:t=>(pn(t),e)};return[Of].forEach((t=>{Object.keys(t).forEach((n=>{e[n]=e=>{try{return function(e,t){return e({...t})}(t[n],e)}catch(i){console.log("%c ERROR","color: orange",{err:i})}}}))})),e}(),Ff={UUID:Pn,UUIDS:function(e=1){return nn(0,e).map(Pn)},JSON2CSV:function(e){if(!Array.isArray(e))return{error:It};const t=(e,t)=>null===t?"":t,n=Object.keys(e[0]);return[n.join(","),...e.map((e=>n.map((n=>JSON.stringify(e[n],t))).join(",")))].join("\r\n")},isNumeric:o,dateTime:Yt,dateRange:kt,intersection:an,numericSort:Nn,makeDeepCopy:Sn,nearestPowerOf2:a,powerOf2:r,countValues:function(e){return t=Qt(e),Object.keys(t).reduce(((e,n)=>{const i=t[n];return e[i]?e[i].push(n):e[i]=[n],e}),{});var t},chunkArray:on,generateRange:nn,instanceCount:Qt,randomPop:en,randomMember:tn,shuffleArray:Jt,unique:$t}},6196:function(e,t,n){"use strict";e.exports=n(1444)},1444:function(e,t){"use strict";const n={S:"normal",F:"final"};t.matchUpFormatCode=function(){const e={};function t(e){return"T"+e.minutes}function i(e){if(e&&"object"==typeof e){if(e.timed)return t(e);if(e.tiebreakSet)return r(e.tiebreakSet);const n=u(e.setTo);if(n){const t=e.NoAD?"NOAD":"",i=r(e.tiebreakFormat),a=i&&!i.invalid&&"/"+i||"",o=u(e.tiebreakAt),s=o&&o!==n&&"@"+o||"";return i&&i.invalid?{invalid:!0}:`${n}${t}${a}${s}`}return{invalid:!0}}}function r(e){if(e)return"object"!=typeof e||e.tiebreakTo?"object"==typeof e&&u(e.tiebreakTo)?`TB${e.tiebreakTo}${e.NoAD?"NOAD":""}`:{invalid:!0}:""}function a(e){if(e&&":"===e[1]){const t=e.split(":"),i=t[1];if(n[t[0]]&&i){if(0===i.indexOf("TB"))return{tiebreakSet:o(i)};if(0===i.indexOf("T"))return s(i);const t=e.match(/^[FS]{1}:(\d+)([A-Za-z]*)/),n=t&&c(t[2])||!1,r=!t||!t[2]||n,a=t&&u(t[1]),d=function(e){const t=e&&e.indexOf("@")>0&&e.split("@");if(t)return u(t[1])||{invalid:!0}}(i),l=!d||d&&!d.invalid,p=l&&d||a,f=o(i.split("/")[1]),m=!f||!f.invalid,h={setTo:a};return n&&(h.NoAD=!0),f?(h.tiebreakFormat=f,h.tiebreakAt=p):h.noTiebreak=!0,a&&r&&m&&l&&h||{invalid:!0}}}}function o(e){if(e){if(0===e.indexOf("TB")){const t=e.match(/^TB(\d+)([A-Za-z]*)/),n=t&&t[1],i=t&&c(t[2]),r=!t||!t[2]||i,a=u(n);if(a&&r){const e={tiebreakTo:a};return i&&(e.NoAD=!0),e}return{invalid:!0}}return{invalid:!0}}}function s(e){const t=u(e.slice(1));if(t)return{timed:!0,minutes:t}}function c(e){return e&&e.indexOf("NOAD")>=0}function u(e){return!isNaN(Number(e))&&Number(e)}return e.stringify=e=>{if(e&&"object"==typeof e){if(e.timed&&!isNaN(e.minutes))return t(e);if(e.bestOf&&e.setFormat)return function(e){const t=u(e.bestOf),n=t&&"SET"+t||"",r=i(e.setFormat),a=r&&"S:"+r||"",o=i(e.finalSetFormat);if(n&&r&&!r.invalid&&(!o||!o.invalid))return[n,a,t>1&&o&&!o.invalid&&"F:"+o||""].filter((e=>e)).join("-")}(e)}},e.parse=e=>{if(e&&"string"==typeof e){const t=0===e.indexOf("T")?"timed":0===e.indexOf("SET")?"SET":"";if("timed"===t){const t={bestOf:1,setFormat:s(e)};if(t.setFormat)return t}if("SET"===t)return function(e){const t=e.split("-"),n=u(t[0].slice(3)),i=t&&a(t[1]),r=t&&a(t[2]),o=n&&n<6,s=!t[2]||r&&!r.invalid,c=i&&!i.invalid,d={bestOf:n,setFormat:i};if(r&&(d.finalSetFormat=r),o&&c&&s)return d}(e)}},e.isValidMatchUpFormat=t=>e.stringify(e.parse(t))===t,e}()},4048:function(e,t,n){"use strict";n.d(t,{F:function(){return Va}});var i=n(7294),r=n(1253),a=n(2122),o=(n(5697),n(6010)),s=n(2543),c=n(3871),u=n(5160);var d=i.createContext();var l=i.createContext(),p=i.forwardRef((function(e,t){var n,s,u=e.align,p=void 0===u?"inherit":u,f=e.classes,m=e.className,h=e.component,v=e.padding,g=e.scope,y=e.size,I=e.sortDirection,b=e.variant,w=(0,r.Z)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),S=i.useContext(d),N=i.useContext(l),P=N&&"head"===N.variant;h?(s=h,n=P?"columnheader":"cell"):s=P?"th":"td";var U=g;!U&&P&&(U="col");var D=v||(S&&S.padding?S.padding:"default"),T=y||(S&&S.size?S.size:"medium"),C=b||N&&N.variant,E=null;return I&&(E="asc"===I?"ascending":"descending"),i.createElement(s,(0,a.Z)({ref:t,className:(0,o.Z)(f.root,f[C],m,"inherit"!==p&&f["align".concat((0,c.Z)(p))],"default"!==D&&f["padding".concat((0,c.Z)(D))],"medium"!==T&&f["size".concat((0,c.Z)(T))],"head"===C&&S&&S.stickyHeader&&f.stickyHeader),"aria-sort":E,role:n,scope:U},w))})),f=(0,s.Z)((function(e){return{root:(0,a.Z)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?(0,u.$n)((0,u.U1)(e.palette.divider,1),.88):(0,u._j)((0,u.U1)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(p),m=i.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.component,u=void 0===c?"div":c,d=(0,r.Z)(e,["classes","className","component"]);return i.createElement(u,(0,a.Z)({ref:t,className:(0,o.Z)(n.root,s)},d))})),h=(0,s.Z)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(m),v="table",g=i.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.component,u=void 0===c?v:c,l=e.padding,p=void 0===l?"default":l,f=e.size,m=void 0===f?"medium":f,h=e.stickyHeader,g=void 0!==h&&h,y=(0,r.Z)(e,["classes","className","component","padding","size","stickyHeader"]),I=i.useMemo((function(){return{padding:p,size:m,stickyHeader:g}}),[p,m,g]);return i.createElement(d.Provider,{value:I},i.createElement(u,(0,a.Z)({role:u===v?null:"table",ref:t,className:(0,o.Z)(n.root,s,g&&n.stickyHeader)},y)))})),y=(0,s.Z)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,a.Z)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(g),I={variant:"head"},b="thead",w=i.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.component,u=void 0===c?b:c,d=(0,r.Z)(e,["classes","className","component"]);return i.createElement(l.Provider,{value:I},i.createElement(u,(0,a.Z)({className:(0,o.Z)(n.root,s),ref:t,role:u===b?null:"rowgroup"},d)))})),S=(0,s.Z)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(w),N=i.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.component,u=void 0===c?"tr":c,d=e.hover,p=void 0!==d&&d,f=e.selected,m=void 0!==f&&f,h=(0,r.Z)(e,["classes","className","component","hover","selected"]),v=i.useContext(l);return i.createElement(u,(0,a.Z)({ref:t,className:(0,o.Z)(n.root,s,v&&{head:n.head,footer:n.footer}[v.variant],p&&n.hover,m&&n.selected),role:"tr"===u?null:"row"},h))})),P=(0,s.Z)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:(0,u.U1)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(N),U={variant:"body"},D="tbody",T=i.forwardRef((function(e,t){var n=e.classes,s=e.className,c=e.component,u=void 0===c?D:c,d=(0,r.Z)(e,["classes","className","component"]);return i.createElement(l.Provider,{value:U},i.createElement(u,(0,a.Z)({className:(0,o.Z)(n.root,s),ref:t,role:u===D?null:"rowgroup"},d)))})),C=(0,s.Z)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(T),E=n(1120),A=n(1749),M=n(7342),R=n(4184),x=n.n(R),O=n(9895);n(6749);const k="records must be an object with tournamentId keys",F="Missing tournamentRecords",L="Missing tournamentRecord",Z="Missing tournamentId",_="Invalid drawDefinition",j="Missing drawDefinition",B="drawDefinition not found",V="Invalid drawPosition for seedAssignment",G="drawPosition already assigned",H="drawPosition not cleared",W="Unrecognized drawType",z="drawPosition is active",K="Invlid drawPosition",q="Missing drawPosition",Y="Invalid drawSize",$="Missing drawSize",J="Missing drawId",Q="drawId exists",X="seedsCount greater than drawSize",ee="Missing seedCountThresholds",te="Missing seedAssignments",ne="Missing seedBlocks",ie="Invalid seedNumber",re="Invalid seedPosition",ae="Missing targetLink",oe="Missing structureId",se="structure not found",ce="Missing structures",ue="Missing structure",de="Invalie eventType",le="Missing event / eventId",pe="Event not found",fe="Event exists",me="Invalid entries",he="Missing assignments",ve="Missing stage",ge="Invalid stage",ye="stageSequence limit",Ie="Missing positionAssignments",be="Unrecognized matchUpStatus",we="Unrecognized matchUpFormat",Se="Invalid matchUpStatus",Ne="Missing matchUpFormat",Pe="Missing matchUpId",Ue="Missing matchUpIds",De="matchUp not found",Te="Missing matchUps",Ce="Missing matchUp",Ee="Invalid matchUp",Ae="Missing policyType",Me="Missing policyDefinition",Re="Missing seeding policy",xe="Missing avoidance policy",Oe="Missing policy attributes",ke="Invalid policyDefinition",Fe="existing policyType",Le="Policy not attached",Ze="Policy not found",_e="Missing setObject",je="Missing courtId",Be="Missing value",Ve="Invalid bookings",Ge="Invalid dateAvailability",He="Missing dateAvailability",We="Invalid Date",ze="Invalid time",Ke="Invalid game scores",qe="Invalid winningSide",Ye="Cannot remove participants",$e="Invalid participantId",Je="Invalid participantIds",Qe="Invalid participantType",Xe="Missing participantRole",et="Missing participant",tt="Missing participants",nt="Missing participantId",it="Participant Not Found",rt="participantId exists",at="No participant removed",ot="Missing participantIds",st="Missing participantCount",ct="Participant not checked in",ut="Participant already checked in",dt="Participant has assigned drawPosition",lt="Missing person details",pt="Existing participant drawPosition assignment",ft="Existing participant",mt="participantCount exceeds drawSize",ht="More Participants than Draw Positions",vt="Missing penaltyType",gt="Missing penaltyId",yt="Penalty not found",It="Missing courtsCount/courtNames",bt="Court not found",wt="Court exists",St="Venue exists",Nt="Missing venueId",Pt="Invalid endTime",Ut="Existing endTime",Dt="Existing stopTime",Tt="Invalid startTime",Ct="Invalid timeItem",Et="Missing timeItem",At="Missing timeItems",Mt="Missing schedule",Rt="Invalid scaleItem",xt="No scaleItem found",Ot="Modifications failed",kt="No modifications applied",Ft="Invalid configuration",Lt="Invalid object",Zt="Invalid values",_t="No valid actions",jt="No valid attributes",Bt="Value unchanged",Vt="Not found",Gt="Not implemented",Ht="Existing Profile",Wt={CANNOT_REMOVE_PARTICIPANTS:Ye,COURT_EXISTS:wt,COURT_NOT_FOUND:bt,DRAW_DEFINITION_NOT_FOUND:B,DRAW_ID_EXISTS:Q,DRAW_POSITION_ACTIVE:z,DRAW_POSITION_ASSIGNED:G,DRAW_POSITION_NOT_CLEARED:H,DRAW_POSITION_NOT_FOUND:"drawPosition not found",EVENT_EXISTS:fe,EVENT_NOT_FOUND:pe,EXISTING_END_TIME:Ut,EXISTING_PARTICIPANT_DRAW_POSITION_ASSIGNMENT:pt,EXISTING_PARTICIPANT:ft,EXISTING_POLICY_TYPE:Fe,EXISTING_PROFILE:Ht,INCOMPATIBLE_MATCHUP_STATUS:"Incompatible matchUpStatus",INVALID_BOOKINGS:Ve,INVALID_CONFIGURATION:Ft,INVALID_DATE_AVAILABILITY:Ge,INVALID_DATE:We,INVALID_DRAW_DEFINITION:_,INVALID_DRAW_POSITION_FOR_SEEDING:V,INVALID_DRAW_POSITION:K,INVALID_DRAW_SIZE:Y,INVALID_END_TIME:Pt,INVALID_ENTRIES:me,INVALID_EVENT_TYPE:de,INVALID_GAME_SCORES:Ke,INVALID_MATCHUP_STATUS:Se,INVALID_MATCHUP:Ee,INVALID_OBJECT:Lt,INVALID_PARTICIPANT_ID:$e,INVALID_PARTICIPANT_IDS:Je,INVALID_PARTICIPANT_TYPE:Qe,INVALID_PARTICIPANT:"Invalid participant",INVALID_POLICY_DEFINITION:ke,INVALID_RECORDS:k,INVALID_SCALE_ITEM:Rt,INVALID_SEED_NUMBER:ie,INVALID_SEED_POSITION:re,INVALID_SET_NUMBER:"Invalid setNumber",INVALID_SIDE_NUMBER:"Invalid sideNumber",INVALID_STAGE:ge,INVALID_START_TIME:Tt,INVALID_STOP_TIME:Dt,INVALID_TIME:ze,INVALID_TIME_ITEM:Ct,INVALID_VALUES:Zt,INVALID_WINNING_SIDE:qe,MATCHUP_NOT_FOUND:De,MISSING_ASSIGNMENTS:he,MISSING_AVOIDANCE_POLICY:xe,MISSING_COURT_ID:je,MISSING_COURTS_INFO:It,MISSING_DATE_AVAILABILITY:He,MISSING_DATE:"Missing date",MISSING_DRAW_DEFINITION:j,MISSING_DRAW_ID:J,MISSING_DRAW_POSITION:q,MISSING_DRAW_POSITIONS:"Missing drawPositions",MISSING_DRAW_SIZE:$,MISSING_ENTRIES:"Missing entries",MISSING_EVENT:le,MISSING_MATCHUP_FORMAT:Ne,MISSING_MATCHUP_ID:Pe,MISSING_MATCHUP_IDS:Ue,MISSING_MATCHUP:Ce,MISSING_MATCHUPS:Te,MISSING_PARTICIPANT_COUNT:st,MISSING_PARTICIPANT_ID:nt,MISSING_PARTICIPANT_IDS:ot,MISSING_PARTICIPANT_ROLE:Xe,MISSING_PARTICIPANT:et,MISSING_PARTICIPANTS:tt,MISSING_PENALTY_ID:gt,MISSING_PENALTY_TYPE:vt,MISSING_PERSON_DETAILS:lt,MISSING_POLICY_ATTRIBUTES:Oe,MISSING_POLICY_DEFINITION:Me,MISSING_POLICY_TYPE:Ae,MISSING_POSITION_ASSIGNMENTS:Ie,MISSING_ROUND_NUMBER:"Missing roundNumber",MISSING_SCHEDULE:Mt,MISSING_SEED_ASSIGNMENTS:te,MISSING_SEED_BLOCKS:ne,MISSING_SEEDCOUNT_THRESHOLDS:ee,MISSING_SEEDING_POLICY:Re,MISSING_SET_NUMBER:"Missing setNumber",MISSING_SET_OBJECT:_e,MISSING_SIDE_NUMBER:"Missing sideNumber",MISSING_STAGE:ve,MISSING_STRUCTURE_ID:oe,MISSING_STRUCTURE:ue,MISSING_STRUCTURES:ce,MISSING_TARGET_LINK:ae,MISSING_TIME_ITEM:Et,MISSING_TIME_ITEMS:At,MISSING_TOURNAMENT_ID:Z,MISSING_TOURNAMENT_RECORD:L,MISSING_TOURNAMENT_RECORDS:F,MISSING_VALUE:Be,MISSING_VENUE_ID:Nt,MODIFICATIONS_FAILED:Ot,MORE_PARTICIPANTS_THAN_DRAW_POSITIONS:ht,NO_MODIFICATIONS_APPLIED:kt,NO_PARTICIPANT_REMOVED:at,NO_VALID_ACTIONS:_t,NO_VALID_ATTRIBUTES:jt,NOT_FOUND:Vt,NOT_IMPLEMENTED:Gt,PARTICIPANT_ASSIGNED_DRAW_POSITION:dt,PARTICIPANT_ALREADY_CHECKED_IN:ut,PARTICIPANT_COUNT_EXCEEDS_DRAW_SIZE:mt,PARTICIPANT_ID_EXISTS:rt,PARTICIPANT_NOT_CHECKED_IN:ct,PARTICIPANT_NOT_FOUND:it,PARTICIPANT_PAIR_EXISTS:"participant pair exists",PENALTY_NOT_FOUND:yt,POLICY_NOT_ATTACHED:Le,POLICY_NOT_FOUND:Ze,SCALE_ITEM_NOT_FOUND:xt,SEEDSCOUNT_GREATER_THAN_DRAW_SIZE:X,STAGE_SEQUENCE_LIMIT:ye,STRUCTURE_NOT_FOUND:se,TEAM_NOT_FOUND:"Team not found",UNRECOGNIZED_DRAW_TYPE:W,UNRECOGNIZED_MATCHUP_FORMAT:we,UNRECOGNIZED_MATCHUP_STATUS:be,VALUE_UNCHANGED:Bt,VENUE_EXISTS:St};const zt="ABANDONED",Kt="AWAITING_RESULT",qt="BYE",Yt="CANCELLED",$t="COMPLETED",Jt="DEAD_RUBBER",Qt="DEFAULTED",Xt="DOUBLE_WALKOVER",en="IN_PROGRESS",tn="INCOMPLETE",nn="NOT_PLAYED",rn="RETIRED",an="SUSPENDED",on="TO_BE_PLAYED",sn="WALKOVER",cn={ABANDONED:zt,AWAITING_RESULT:Kt,BYE:qt,CANCELLED:Yt,COMPLETED:$t,DEAD_RUBBER:Jt,DEFAULTED:Qt,DOUBLE_WALKOVER:Xt,IN_PROGRESS:en,INCOMPLETE:tn,NOT_PLAYED:nn,RETIRED:rn,SUSPENDED:an,TO_BE_PLAYED:on,WALKOVER:sn};const un=["up","left","shift+tab"],dn=["enter","down","tab","right"],ln="space";const pn="roundRobinTally",fn="positionActions",mn="roundNaming",hn="participant",vn="scheduling",gn="avoidance",yn="seeding",In="scoring",bn="draws",wn={POLICY_TYPE_ROUND_ROBIN_TALLY:pn,POLICY_TYPE_POSITION_ACTIONS:fn,POLICY_TYPE_ROUND_NAMING:mn,POLICY_TYPE_PARTICIPANT:hn,POLICY_TYPE_SCHEDULING:vn,POLICY_TYPE_AVOIDANCE:gn,POLICY_TYPE_SEEDING:yn,POLICY_TYPE_SCORING:In,POLICY_TYPE_DRAWS:bn},Sn="MAIN",Nn="QUALIFYING",Pn="CONSOLATION",Un="PLAY_OFF",Dn="ITEM",Tn="CONTAINER",Cn="DRAW",En="RANDOM",An="TOP_DOWN",Mn="BOTTOM_UP",Rn="WATERFALL",xn="WINNER",On="LOSER",kn="FIRST_MATCHUP",Fn="FEED IN",Ln="COMPASS",Zn="OLYMPIC",_n="SINGLE_ELIMINATION",jn="DOUBLE_ELIMINATION",Bn="FIRST_MATCH_LOSER_CONSOLATION",Vn="FIRST_ROUND_LOSER_CONSOLATION",Gn="CURTIS_CONSOLATION",Hn="FEED_IN_CHAMPIONSHIP_TO_SF",Wn="FEED_IN_CHAMPIONSHIP_TO_SF",zn="FEED_IN_CHAMPIONSHIP_TO_QF",Kn="FEED_IN_CHAMPIONSHIP_TO_QF",qn="FEED_IN_CHAMPIONSHIP_TO_R16",Yn="FEED_IN_CHAMPIONSHIP_TO_R16",$n="MODIFIED_FEED_IN_CHAMPIONSHIP",Jn="MODIFIED_FEED_IN_CHAMPIONSHIP",Qn="FEED_IN_CHAMPIONSHIP",Xn="ROUND_ROBIN",ei="ROUND_ROBIN_WITH_PLAYOFF",ti="DECIDER",ni="BACKDRAW",ii={0:{name:"EAST",abbreviation:"E"},"0-1":{name:"WEST",abbreviation:"W"},"0-2":{name:"NORTH",abbreviation:"N"},"0-3":{name:"NORTHEAST",abbreviation:"NE"},"0-1-1":{name:"SOUTH",abbreviation:"S"},"0-1-2":{name:"SOUTHWEST",abbreviation:"SW"},"0-2-1":{name:"NORTHWEST",abbreviation:"NW"},"0-1-1-1":{name:"SOUTHEAST",abbreviation:"SE"}},ri={0:{name:"EAST",abbreviation:"E"},"0-1":{name:"WEST",abbreviation:"W"},"0-2":{name:"NORTH",abbreviation:"N"},"0-1-1":{name:"SOUTH",abbreviation:"S"}},ai="WIN_RATIO",oi="ROUND_OUTCOME",si=[Fn,Ln,Un,Zn,Gn,Hn,zn,qn,Bn,Vn,Jn,Yn,Kn,Wn,Qn,ei],ci={MAIN:Sn,QUALIFYING:Nn,CONSOLATION:Pn,ITEM:Dn,CONTAINER:Tn,FIRST_MATCHUP:kn,WINNER:xn,LOSER:On,FEED_IN:Fn,COMPASS:Ln,PLAY_OFF:Un,OLYMPIC:Zn,KNOCKOUT:"SINGLE_ELIMINATION",SINGLE_ELIMINATION:_n,DOUBLE_ELIMINATION:jn,CURTIS:Gn,FICSF:Hn,FICQF:zn,FICR16:qn,MFIC:$n,FIRST_MATCH_LOSER_CONSOLATION:Bn,FIRST_ROUND_LOSER_CONSOLATION:Vn,MODIFIED_FEED_IN_CHAMPIONSHIP:Jn,FEED_IN_CHAMPIONSHIP_TO_R16:Yn,FEED_IN_CHAMPIONSHIP_TO_QF:Kn,FEED_IN_CHAMPIONSHIP_TO_SF:Wn,FEED_IN_CHAMPIONSHIP:Qn,ROUND_ROBIN_WITH_PLAYOFF:ei,ROUND_ROBIN:Xn,DECIDER:ti,BACKDRAW:ni,COMPASS_ATTRIBUTES:ii,OLYMPIC_ATTRIBUTES:ri,DRAW:Cn,RANDOM:En,TOP_DOWN:An,BOTTOM_UP:Mn,WATERFALL:Rn,WIN_RATIO:ai,ROUND_OUTCOME:oi,MULTI_STRUCTURE_DRAWS:si,generatedDrawTypes:[Ln,Gn,jn,Kn,Yn,Wn,Qn,Fn,Bn,Vn,Jn,Zn,Un,ei,_n]},ui="ALTERNATE",di="WITHDRAW",li="ASSIGN",pi="REMOVE",fi="LUCKY",mi="SWAP",hi="NICKNAME",vi="SEED_VALUE",gi="PENALTY",yi="BYE",Ii={ALTERNATE_PARTICIPANT:ui,WITHDRAW_PARTICIPANT:di,ASSIGN_PARTICIPANT:li,LUCKY_PARTICIPANT:fi,REMOVE_ASSIGNMENT:pi,SWAP_PARTICIPANTS:mi,ADD_NICKNAME:hi,ADD_PENALTY:gi,ASSIGN_BYE:yi,SEED_VALUE:vi},bi="SINGLES",wi="DOUBLES",Si="TEAM",Ni={SINGLES:bi,DOUBLES:wi,TEAM:Si};const Pi={success:!0},Ui={SUCCESS:Pi,ERROR:"error"};const Di="CHECK_IN",Ti="CHECK_OUT",Ci="SCHEDULE.ASSIGNMENT.COURT",Ei="SCHEDULE.ASSIGNMENT.VENUE",Ai="SCHEDULE.DATE",Mi="SCHEDULE.TIME.SCHEDULED",Ri="SCHEDULE.TIME.START",xi="SCHEDULE.TIME.STOP",Oi="SCHEDULE.TIME.RESUME",ki="SCHEDULE.TIME.END",Fi="SCALE",Li="RATING",Zi="RANKING",_i="SEEDING",ji="PUBLISH",Bi="PUBLIC",Vi="HIDDEN",Gi="STATUS",Hi={ASSIGN_COURT:Ci,ASSIGN_OFFICIAL:"SCHEDULE.ASSIGN.OFFICIAL",ASSIGN_VENUE:Ei,CHECK_IN:Di,CHECK_OUT:Ti,END_TIME:ki,HIDDEN:Vi,MEDICAL:"MEDICAL",OTHER:"other",PENALTY:"PENALTY",PUBLIC:Bi,PUBLISH:ji,RANKING:Zi,RATING:Li,RESUME_TIME:Oi,RETRIEVAL:"RETRIEVAL",SCALE:Fi,SCHEDULED_DATE:Ai,SCHEDULED_TIME:Mi,SEEDING:_i,START_TIME:Ri,STATUS:Gi,STOP_TIME:xi,SUSPENSION:"SUSPENSION"};const Wi="disableLinks",zi="drawProfile",Ki="delegatedOutcome",qi="flightProfile",Yi="groupingAttribute",$i="participantRepresentatives",Ji="scheduleTiming",Qi="subOrder",Xi={DISABLE_LINKS:Wi,DRAW_PROFILE:zi,DELEGATED_OUTCOME:Ki,FLIGHT_PROFILE:qi,GROUPING_ATTRIBUTE:Yi,PARTICIPANT_REPRESENTATIVES:$i,SCHEDULE_TIMING:Ji,SUB_ORDER:Qi};const er="INDIVIDUAL",tr="TEAM",nr="PAIR",ir="GROUP",rr={INDIVIDUAL:er,TEAM:tr,PAIR:nr,GROUP:ir};var ar;!function(e){e.CONFIRMED="CONFIRMED",e.DIRECT_ACCEPTANCE="DIRECT_ACCEPTANCE",e.ORGANISER_ACCEPTANCE="ORGANISER_ACCEPTANCE",e.ALTERNATE="ALTERNATE",e.WITHDRAWN="WITHDRAWN",e.UNPAIRED="UNPAIRED",e.LUCKY_LOSER="LUCKY_LOSER",e.FEED_IN="FEED_IN",e.QUALIFIER="QUALIFIER",e.WILDCARD="WILDCARD"}(ar||(ar={}));const or=ar.ALTERNATE,sr=ar.FEED_IN,cr=ar.QUALIFIER,ur=ar.WILDCARD,dr=ar.DIRECT_ACCEPTANCE,lr=ar.CONFIRMED,pr=ar.LUCKY_LOSER,fr=ar.ORGANISER_ACCEPTANCE,mr=ar.WITHDRAWN,hr=ar.UNPAIRED,vr=[sr,cr,ur,dr,lr,fr],gr=[or,mr,sr,hr,cr,ur,dr,lr,pr,fr],yr={FEED_IN:sr,WILDCARD:ur,UNPAIRED:hr,ALTERNATE:or,CONFIRMED:lr,QUALIFIER:cr,WITHDRAWN:mr,LUCKY_LOSER:pr,DIRECT_ACCEPTANCE:dr,ORGANISER_ACCEPTANCE:fr,VALID_ENTERED_TYPES:gr,STRUCTURE_ENTERED_TYPES:vr};const Ir="addMatchUps",br="addParticipants",wr="addVenue",Sr="audit",Nr="deletedMatchUpIds",Pr="deleteParticipants",Ur="deleteVenue",Dr="modifyMatchUp",Tr="modifyParticipants",Cr="modifyVenue",Er="publishEvent",Ar=[Ir,br,wr,Sr,Nr,Pr,Ur,Dr,Tr,Cr,Er];const Mr="SINGLES",Rr="DOUBLES",xr={SINGLES:Mr,DOUBLES:Rr,TEAM:"TEAM",AGE:"AGE",RATING:"RATING",BOTH:"BOTH"},Or="SIGN_IN_STATUS";var kr;!function(e){e.INDIVIDUAL="INDIVIDUAL",e.PAIR="PAIR",e.TEAM="TEAM"}(kr||(kr={}));const Fr=kr.INDIVIDUAL,Lr=kr.PAIR,Zr=kr.TEAM;var _r;!function(e){e.SIGNED_IN="SIGNED_IN",e.SIGNED_OUT="SIGNED_OUT"}(_r||(_r={}));const jr=_r.SIGNED_IN,Br=_r.SIGNED_OUT,Vr={INDIVIDUAL:Fr,PAIR:Lr,TEAM:Zr,SIGNED_IN:jr,SIGNED_OUT:Br,SIGN_IN_STATUS:Or};const Gr="OTHER",Hr="OFFICIAL",Wr="COMPETITOR",zr={OTHER:Gr,COACH:"COACH",MEDIA:"MEDIA",CAPTAIN:"CAPTAIN",MEDICAL:"MEDICAL",OFFICIAL:Hr,SECURITY:"SECURITY",COMPETITOR:Wr,ADMINISTRATION:"ADMINISTRATION"};const Kr="SCALE",qr="RATING",Yr="RANKING",$r="SEEDING",Jr={SCALE:Kr,RATING:qr,RANKING:Yr,SEEDING:$r};const Qr="MALE",Xr="FEMALE",ea={ANY:"ANY",MALE:Qr,FEMALE:Xr,MIXED:"MIXED",OTHER:"OTHER"};const ta="deleteEvents",na="deleteDrawDefinitions",ia=[ta,na];const ra="REFEREE",aa="SCHEDULE",oa="SCORE",sa="START",ca="STATUS",ua={END:"END",NICKNAME:"NICKNAME",PENALTY:"PENALTY",REFEREE:ra,SCHEDULE:aa,SCORE:oa,START:sa,STATUS:ca};const da="splitWaterfall",la="splitShuttle",pa={SPLIT_LEVEL_BASED:"splitLevelBased",SPLIT_WATERFALL:da,SPLIT_SHUTTLE:la};const fa={auditConstants:ia,drawDefinitionConstants:ci,entryStatusConstants:yr,errorConditionConstants:Wt,eventConstants:xr,extensionConstants:Xi,flightConstants:pa,genderConstants:ea,matchUpActionConstants:ua,matchUpStatusConstants:cn,matchUpTypes:Ni,participantConstants:Vr,participantRoles:zr,participantTypes:rr,penaltyConstants:{COACHING:"Coaching",BALL_ABUSE:"Ball Abuse",RACKET_ABUSE:"Racket Abuse",VERBAL_ABUSE:"Verbal Abuse",PHYSICAL_ABUSE:"Physical Abuse",INELIGIBILITY:"INELIGIBILITY",UNSPORTSMANLIKE_CONDUCT:"Unsportmanlike Conduct",PROHIBITED_SUBSTANCE:"PROHIBITED_SUBSTANCE",DRESS_CODE_VIOLATION:"Dress Code Violation",EQUIMENT_VIOLATION:"Equipment Violation",LEAVING_THE_COURT:"Leaving the court",REFUSAL_TO_PLAY:"REFUSAL_TO_PLAY",FAILURE_TO_COMPLETE:"Failure to complete",NO_SHOW:"No Show",OTHER:"Other",PUNCTUALITY:"Puncuality",FAILUIRE_TO_SIGN_IN:"Failure to sign in"},policyConstants:wn,positionActionConstants:Ii,resultConstants:Ui,scaleConstants:Jr,scheduleConstants:[],timeItemConstants:Hi,topicConstants:Ar};var ma=(0,E.Z)((function(e){return{paper:{padding:e.spacing(2),marginBottom:e.spacing(3)},drawRoot:{width:"100%",flexWrap:"nowrap"},connectorColumn:{minWidth:15,maxWidth:20},initialColumn:{},roundColumn:{},participant:{flexGrow:1,paddingLeft:3,paddingRight:3,whiteSpace:"nowrap","&:hover":{cursor:"pointer",backgroundColor:"#f5f5f5"}},detailsColumn:{flexWrap:"nowrap",whiteSpace:"nowrap"},positionDetails:{fontSize:"smaller",marginBottom:"1px"},sourceDrawPositionRange:{fontSize:"smaller",marginRight:".5em",whiteSpace:"nowrap"},seededParticipant:{color:"#3e424e",fontWeight:900},hoveredPrticipant:{"&:hover":{cursor:"pointer",backgroundColor:"#f5f5f5"}},readyToScore:{height:17,backgroundColor:"#edf4fc",cursor:"pointer"},score:{paddingLeft:3},roundName:{height:"1.5em"},roundScheduleIcon:{fontSize:"small",marginRight:"1em"},noBoderBottom:{paddingBottom:"2px"},thickBorderBottom:{borderBottom:"2px solid black"},verticalDivider:{width:1,marginTop:"4em",borderRight:"1px solid black"},borderRight:{borderRight:"1px solid black"},borderBottom:{borderBottom:"1px solid black"},bracketTop:{borderBottom:"1px solid black"},bracketBottom:{borderBottom:"1px solid black"},bracketContent:{}}}));function ha(e){var t=e.height,n=e.roundsDefinition,i=e.nameFilter,r=0,a=n.find((function(e){return e.feedTop}))&&t/2;return n.map((function(e,n){var o;return function(e){var n=e.round,o=n.columnMultiplier,s=n.feedTop,c=n.feedBottom,u=i?t:function(e){var t=e.height,n=e.columnMultiplier;return n?t*Math.pow(2,n-1)+Math.pow(2,n-1)-1:0}({height:t,columnMultiplier:o}),d=r+u*((s?-.5:c&&.5)||0);r=d;var l=i?t:function(e){var t=e.height,n=e.columnMultiplier;if(!n)return 0;var i=n>1?Math.pow(2,n-2)-1:0;return t+t*i+(n>1?.5*t:0)+(i||1)}({height:t,columnMultiplier:o})+(a||0)+d,p=n.finalMatchUp,f=n.matchUps||[],m=p?(v={matchUp:n.finalMatchUp},y=v.matchUp,I=y||{},b=I.sides,w=I.winningSide,S=null==y||null==(g=y.score)?void 0:g.scoreStringSide1,[[{side:w&&b.find((function(e){return e.sideNumber===w})),matchUp:y,readyToScore:y.readyToScore}],[{scoreString:S,sourceMatchUp:y}]]):f.map((function(e){return function(e){var t=e.matchUp,n=e.feedBottom,i=t||{},r=i.sides,a=i.schedule,o=[0,1].map((function(e){var i,a,o,s=null==t?void 0:t.sides[e],c=(null==s?void 0:s.displaySideNumber)!==(null==s?void 0:s.sideNumber)?(null==s?void 0:s.displaySideNumber)-1:e,u=n?1-c:c,d=r[u],l=null==d||null==(i=d.sourceMatchUp)||null==(a=i.score)?void 0:a.scoreStringSide1;return[{side:d,matchUp:t,sideIndex:u,readyToScore:null==d||null==(o=d.sourceMatchUp)?void 0:o.readyToScore},{sideIndex:u,scoreString:l,sourceMatchUp:null==d?void 0:d.sourceMatchUp}]}));return[o[0],a,o[1]].flat()}({matchUp:e,feedBottom:c})})).flat(),h=p?m:function(e){var t=[e.shift()],n=va(e,[3,2]);return n.unshift(t),n}(m);var v,g,y,I,b,w,S;return{round:n,matchUpHeight:u,firstMatchUpHeight:l,frames:h}}({matchUpsCount:(null==(o=e.matchUps)?void 0:o.length)||e.matchUpsCount,round:e,index:n})}))}function va(e,t){var n=t[0],i=t.slice(1);return e.length?[e.slice(0,n)].concat(va(e.slice(n),[].concat(i,[n]))):[]}function ga(e){var t,n=e.roundMatchUps,i=void 0===n?{}:n,r=e.nameFilter,a=!0,o=Object.assign.apply(Object,[{}].concat(Object.keys(i).map((function(e){var t,n;return(n={})[e]={matchUpsCount:null==(t=i[e])?void 0:t.length},n})))),s=Object.keys(i).map((function(e){return parseInt(e)}));s.forEach((function(e){o[e+1]&&o[e+1].matchUpsCount===o[e].matchUpsCount&&(o[e+1].feedRound=!0)}));var c=(null==s?void 0:s.length)&&o[s[0]].matchUpsCount||0,u=s.map((function(e){var t=i[e],n=t.filter((function(e){var t=e.sides,n=null==t?void 0:t.map((function(e){var t,n=e.participant;return null==n||null==(t=n.participantName)?void 0:t.toLowerCase()})).filter((function(e){return e}));return!r||n.find((function(e){return e.indexOf(r)>=0}))})),s=n.length,u=Math.log2(c/s)+1,d=(null==t?void 0:t.length)&&t[0].roundName||"Round "+e,l={matchUpsCount:n.length,columnType:"classic",columnMultiplier:u,roundNumber:e,roundName:d,matchUps:n};o[e].feedRound&&(a?(l.feedTop=!0,a=!1):(l.feedBottom=!0,n.forEach((function(e){return Object.assign(e,{feedBottom:!0})})),a=!0));var p=e>1&&i[e-1];return n.forEach((function(t){var n=t.roundPosition;return t.sides.forEach((function(i,r){var a=r+1;if(p)if(t.feedRound)1!==a&&(i.sourceMatchUp=p.find((function(e){return e.roundPosition===n})));else{var s=function(e){var t=e.roundNumber,n=e.roundPosition,i=e.sideNumber;return o[t].feedRound?n:2*(n-1)+i}({roundNumber:e,roundPosition:n,sideNumber:a}),c=p.find((function(e){return e.roundPosition===s}));i.sourceMatchUp=c}})),t})),l})),d=i[s[0]],l=[{columnType:"details",details:["drawPosition"],columnMultiplier:1,matchUps:d,matchUpsCount:(null==d?void 0:d.length)||0}].concat(u),p=u[u.length-1];if(1===(null==p||null==(t=p.matchUps)?void 0:t.length)){var f={matchUpsCount:0,finalMatchUp:p.matchUps[0],columnMultiplier:p.columnMultiplier+1,columnType:"classic",roundName:"Winner"};l.push(f)}return{roundsDefinition:l}}function ya(){return(ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Ia=function(e){var t,n,r,a=e.round,o=e.nameFilter,s=e.sideDetails,c=e.displayOnly,u=e.onClick,d=ma(),l=a.finalMatchUp,p="classic"===(null==a?void 0:a.columnType),f="details"===(null==a?void 0:a.columnType),m=s||{},h=m.side,v=m.matchUp,g=m.sideIndex,y=m.feedBottom,I=h||{},b=I.bye,w=I.drawPosition,S=I.participant,N=I.sourceDrawPositionRange,P=v||{},U=P.feedRound,D=P.roundNumber,T=!o&&(N||w||""),C=l?null==v?void 0:v.readyToScore:null==h||null==(t=h.sourceMatchUp)?void 0:t.readyToScore,E=b?"BYE":(null==S?void 0:S.participantName)||"",M=null==h?void 0:h.seedValue;M&&(E+=" ("+M+")");var R=!E&&p&&(1===D||U&&0===g),O=c?{className:x()(d.participant,(r={},r[d.seededParticipant]=M,r))}:{className:x()(d.participant,(n={},n[d.seededParticipant]=M,n[d.readyToScore]=C&&!c||R,n[d.hoveredPrticipant]=!c,n)),width:"100%"},k={onClick:function(e){u({feedBottom:y,sideIndex:g,matchUp:v,e:e})},width:"100%",direction:"row",justify:"space-between"},F=U&&N;return i.createElement(A.Z,ya({container:!0},k,{wrap:"nowrap"}),i.createElement(A.Z,{container:!0,wrap:"nowrap"},i.createElement(A.Z,{item:!0,className:F&&d.sourceDrawPositionRange},F||""),i.createElement(A.Z,ya({item:!0},O),p&&E||f&&T)),i.createElement(A.Z,{item:!0},(null==S?void 0:S.displayInfo)||""))},ba=function(e){var t=e.column,n=e.nameFilter,r=e.contextData,a=e.displayOnly,o=e.eventHandlers,s=ma(),c=t.frames,u=t.round,d=t.matchUpHeight,l=t.firstMatchUpHeight,p=function(e){var t=e.e,n=e.feedBottom,i=e.matchUp,r=e.sideIndex;if("function"==typeof(null==o?void 0:o.onParticipantClick)){var a=(null==i?void 0:i.sides)&&(null==i?void 0:i.sides[r])||{},s=a.participant,c=a.drawPosition;o.onParticipantClick({e:t,feedBottom:n,matchUp:i,participant:s,drawPosition:c,sideIndex:r})}},f=function(e){var t=e.round,n=e.onRoundNameClick,a=e.onScheduleClick,o=t.finalMatchUp,c="connectors"!==t.columnType,u=c&&t.roundName,d=c&&t.roundNumber,l=u&&s.thickBorderBottom||s.noBoderBottom,p=function(e){e.stopPropagation(),"function"==typeof n&&n(ya({e:e,roundNumber:d},r,{isFinal:o}))},f={width:"100%",wrap:"nowrap",direction:"row",justify:"space-between",onClick:!o&&a?function(e){"function"==typeof a&&a(ya({e:e,roundNumber:d},r,{isFinal:o}))}:p,className:s.roundName+" "+l};return i.createElement(A.Z,ya({container:!0},f),i.createElement(A.Z,{item:!0,onClick:p},u||" "),i.createElement(A.Z,{item:!0},d&&a&&i.createElement(M.Z,{className:s.roundScheduleIcon})))},m=function(e){var t=e.round,n=e.scoreDetails,r=e.displayOnly,a=e.onClick,o=n||{},c=o.scoreString,u=o.sourceMatchUp,d=o.sideIndex,l=o.feedBottom,p="classic"===(null==t?void 0:t.columnType),f={onClick:function(e){!r&&a({matchUp:u,e:e,feedBottom:l,sideIndex:d})},className:s.score};return i.createElement("div",f,p&&c)},h=function(e){var t=e.frame,r=e.index,c=u.finalMatchUp,f="details"===(null==u?void 0:u.columnType),h=r&&t[0]||[],v=t[t.length-1],g=r&&1===t.length,y=r%2,I={style:{height:g?void 0:r?d:l},direction:"column",justify:f?"flex-end":"space-between",className:f&&s.detailsColumn||y&&!c&&s.borderRight||void 0},b=f?s.positionDetails:g?"":y?s.bracketBottom:s.bracketTop;return i.createElement(A.Z,{key:r,item:!0,className:b},i.createElement(A.Z,ya({container:!0},I),i.createElement(m,{round:u,onClick:null==o?void 0:o.onScoreClick,scoreDetails:h,displayOnly:a}),!g&&i.createElement(i.Fragment,null,i.createElement(Ia,{round:u,nameFilter:n,sideDetails:v,displayOnly:a,onClick:p}),f&&i.createElement("div",{style:{marginBlock:"1px"}}))))},v=function(e){var t=e.frames;return i.createElement(i.Fragment,null,t.map((function(e,t){return i.createElement(h,{frame:e,key:t,index:t})})))};return i.createElement("div",{style:{marginLeft:"4px"}},i.createElement(f,{onScheduleClick:null==o?void 0:o.onScheduleClick,onRoundNameClick:null==o?void 0:o.onRoundNameClick,round:u}),i.createElement(v,{frames:c}))};function wa(e){var t,n=ma(),r=e.eventData,a=e.eventHandlers,o=e.nameFilter,s=r.drawsData,c=r.eventInfo.eventId,u=e.drawId,d=e.structureId,l=null==s?void 0:s.find((function(e){return e.drawId===u})),p=ha({height:70,roundsDefinition:ga({roundMatchUps:((d?null==l||null==(t=l.structures)?void 0:t.find((function(e){return e.structureId===d})):(null==l?void 0:l.structures)&&l.structures[0])||{}).roundMatchUps,nameFilter:o}).roundsDefinition,nameFilter:o}),f={eventId:c,drawId:u,structureId:d},m=function(e){var t=e.column,r=e.columnIndex,s=t.round,c={details:"detailsColumn",divider:"verticalDivider",connectors:"connectorColumn",classic:1===s.roundNumber?"initialColumn":"roundColumn"},u="divider"===s.columnType,d=c[s.columnType],l=n[d],p="details"===(null==s?void 0:s.columnType)?"auto":void 0;return i.createElement(A.Z,{container:!0,direction:"column",key:r,className:l,style:{width:p}},!u&&i.createElement(ba,{column:t,nameFilter:o,contextData:f,eventHandlers:a}))};return i.createElement(A.Z,{container:!0,direction:"row",className:n.drawRoot},p.map((function(e,t){return i.createElement(m,{column:e,columnIndex:t,key:t})})))}var Sa,Na=(0,E.Z)((function(e){return{paper:{padding:e.spacing(2),marginBottom:e.spacing(3)},table:{minWidth:400},root:{padding:"0 16px 0 16px",fontFamily:"inherit"},body:{padding:"0 16px 0 16px"},head:{padding:"0 16px 0 16px"},groupName:{borderBottom:"2px solid #040E2C",fontWeight:"bold",maxWidth:30,fontSize:12,lineHeight:1.5,letterSpacing:.25,textTransform:"uppercase",whiteSpace:"nowrap"},drawPositions:{maxWidth:30},positions:{border:"solid 1px #e1e3e6",borderBottom:"2px solid #040E2C",minWidth:100,textTransform:"uppercase",fontSize:12,lineHeight:1.5,letterSpacing:.35},cellContent:{border:"solid 1px #e1e3e6",fontSize:12,lineHeight:1.5,letterSpacing:.35},loserContent:{border:"solid 1px #e1e3e6",fontSize:12,color:"red",lineHeight:1.5,letterSpacing:.35},byeContent:{border:"solid 1px #e1e3e6",background:"#FFFCE9 "},reflexiveContent:{border:"solid 1px #e1e3e6",background:"#e1e3e6"},contentContainer:{minWidth:"max-content"},centerContent:{justifyContent:"center"},valueHeader:{border:"solid 1px #e1e3e6",borderBottom:"2px solid #040E2C",textTransform:"uppercase",width:30,fontSize:12,lineHeight:1.5},centerValue:{justifyContent:"center",width:30},participantHeader:{borderBottom:"2px solid #040E2C",minWidth:100,fontWeight:"bold"},participantContainer:{"&:hover":{backgroundColor:"#edf4fc",cursor:"pointer"}},participantContent:{minWidth:100},tableContainer:{margin:"20px 0 30px 0"}}})),Pa=function(e){var t,n=e.component,r=e.row,a=e.colspan,o=void 0===a?1:a,s=Na(),c=(null==n.getHeader?void 0:n.getHeader(r))||{},u=c.cellClassName,d=c.contentClassName;return i.createElement(f,{colSpan:o,key:n.key,onClick:function(e){null==n.headerClick||n.headerClick(e,r)},className:u,classes:{root:s.root,head:s.head}},i.createElement(A.Z,{container:!0,className:d},i.createElement(A.Z,{item:!0},(null==n.getHeader||null==(t=n.getHeader(r))?void 0:t.children)||"")))},Ua=function(e){var t,n=e.component,r=e.row,a=Na(),o=(null==n.getValue?void 0:n.getValue(r))||{},s=o.cellClassName,c=o.contentClassName;return i.createElement(f,{key:n.key,onClick:function(e){null==n.onClick||n.onClick(e,r)},className:s,classes:{root:a.root,head:a.head}},i.createElement(A.Z,{container:!0,className:c},i.createElement(A.Z,{item:!0},(null==n.getValue||null==(t=n.getValue(r))?void 0:t.children)||"")))};function Da(e){var t=Na(),n=e.columnComponents,r=e.rowData;return i.createElement(h,{component:O.Z,className:t.tableContainer},i.createElement(y,{className:t.table,"aria-label":"groupTable"},i.createElement(S,null,i.createElement(P,null,n.map((function(e,t){var n=r.slice(0,1);return 1!==t&&i.createElement(Pa,{colspan:t?1:2,key:""+e.key+t,index:t,row:n&&n[0],component:e})})))),i.createElement(C,null,r.map((function(e,t){return i.createElement(P,{key:""+e.drawPosition+t},n.map((function(t,n){return i.createElement(Ua,{key:""+n+t.key,row:e,index:n,component:t})})))})))))}var Ta=null==fa?void 0:fa.matchUpStatusConstants,Ca=Ta.RETIRED,Ea=Ta.WALKOVER,Aa=Ta.DOUBLE_WALKOVER,Ma=Ta.SUSPENDED,Ra=Ta.ABANDONED,xa=Ta.DEFAULTED,Oa=Ta.CANCELLED,ka=Ta.INCOMPLETE,Fa=Ta.NOT_PLAYED,La=Ta.DEAD_RUBBER,Za=((Sa={})[Ca]="RET",Sa[Ea]="WO",Sa[Aa]="WO/WO",Sa[Ma]="SUS",Sa[Ra]="Abandoned",Sa[xa]="Def",Sa[Oa]="Cancelled",Sa[ka]="Inc",Sa[Fa]="Not played",Sa[La]="Dead rubber",Sa);function _a(e){var t,n,r=e.contextData,a=e.dictionary,o=e.eventHandlers,s=e.rowData,c=Na(),u=[{key:"drawPosition",getHeader:function(e){return{children:i.createElement(i.Fragment,null,(null==e?void 0:e.structureName)||""),cellClassName:c.groupName,contentClassName:""}},headerClick:function(e,t){if("function"==typeof(null==o?void 0:o.onHeaderClick)){var n=t.groupStructureId,i=t.structureName;o.onHeaderClick(ya({e:e},r,{groupStructureId:n,columnName:"structureName",structureName:i}))}},getValue:function(e){return{children:i.createElement(i.Fragment,null,null==e?void 0:e.drawPosition),cellClassName:c.drawPositions}},onClick:function(e,t){if("function"==typeof(null==o?void 0:o.onStatsClick)){var n=t||{},i=n.drawPosition,a=n.participant,s=n.participantResult;o.onStatsClick(ya({e:e,drawPosition:i,participant:a},r,{participantResult:s,columnName:"drawPosition"}))}}},{key:"participant",getHeader:function(){return{node:"",cellClassName:c.participantHeader}},getValue:function(e){var t,n=(null==e||null==(t=e.participant)?void 0:t.participantName)||(null==e?void 0:e.bye)&&"BYE"||"";return{children:i.createElement(A.Z,{container:!0,justify:"space-between"},i.createElement(A.Z,{item:!0},n)),cellClassName:!n&&c.participantContainer||"",contentClassName:c.participantContent}},onClick:function(e,t){var n=t||{},i=n.drawPosition,a=n.participant;"function"==typeof(null==o?void 0:o.onParticipantClick)&&o.onParticipantClick(ya({e:e,participant:a,drawPosition:i},r))}}],d=null==(t=s[0])||null==(n=t.positionColumns)?void 0:n.map((function(e,t){var n,i=null==e?void 0:e.bye,s=(null==e||null==(n=e.participant)?void 0:n.participantName)||i&&"BYE"||"",u=function(e,t){var n,i;return null==e||null==(n=e.sides)||null==(i=n.find((function(e){return e.drawPosition&&e.drawPosition===(null==t?void 0:t.drawPosition)})))?void 0:i.sideNumber};return{key:"drawPosition"+t.toString(),getHeader:function(){return{children:s,cellClassName:c.positions,contentClassName:c.centerContent}},headerClick:function(t){if("function"==typeof(null==o?void 0:o.onParticipantClick)){var n=e.participant,i=e.drawPosition;o.onParticipantClick(ya({e:t,drawPosition:i,participant:n},r))}},onClick:function(e,n){var i=(null==n?void 0:n.matchUps)&&(null==n?void 0:n.matchUps[t]),a=u(i,n);"function"==typeof(null==o?void 0:o.onScoreClick)&&o.onScoreClick(ya({e:e,matchUp:i,sideNumber:a},r))},getValue:function(n){var r=(null==n?void 0:n.matchUps)&&(null==n?void 0:n.matchUps[t]),o=function(e){var t,n,i=e.dictionary,r=e.matchUp,a=e.sideNumber,o=1===a?null==r||null==(t=r.score)?void 0:t.scoreStringSide1:2===a?null==r||null==(n=r.score)?void 0:n.scoreStringSide2:"",s=null==r?void 0:r.matchUpStatus,c=i&&i[s]||Za[s]||"",u=s===Ea,d=a&&(null==r?void 0:r.winningSide)&&r.winningSide!==a;return{contextScoreString:(o||"")+(c&&" "+c)+(u&&(d?" (-)":" (+)")||""),highlightLosingSide:d&&u}}({matchUp:r,sideNumber:u(r,n),dictionary:a}),s=o.contextScoreString,d=o.highlightLosingSide,l=(null==n?void 0:n.rowIndex)===e.rowIndex,p=i||n.bye,f=l?c.reflexiveContent:p?c.byeContent:d?c.loserContent:c.cellContent;return{matchUp:r,byeColumn:i,children:s||"",cellClassName:f,positionIndex:e.rowIndex,contentClassName:c.centerContent}}}}));return{columnComponents:[].concat(u,d,[{key:"winLoss",getHeader:function(){return{children:(null==a?void 0:a.winLoss)||"W/L",cellClassName:c.valueHeader,contentClassName:c.centerValue}},headerClick:function(e){console.log("winLossColumnClick"),"function"==typeof(null==o?void 0:o.onHeaderClick)&&o.onHeaderClick(ya({e:e,columnName:"winLoss"},r))},getValue:function(e){var t;return{children:i.createElement(A.Z,{container:!0,justify:"space-between"},i.createElement(A.Z,{item:!0},null==e||null==(t=e.participantResult)?void 0:t.result)),cellClassName:c.cellContent,contentClassName:c.centerValue}},onClick:function(e,t){if("function"==typeof(null==o?void 0:o.onStatsClick)){var n=t||{},i=n.drawPosition,a=n.participant,s=n.participantResult;o.onStatsClick(ya({e:e},r,{drawPosition:i,participant:a,participantResult:s,columnName:"winLoss"}))}}},{key:"finishingPosition",getHeader:function(){return{children:(null==a?void 0:a.finishingPosition)||"Pos",cellClassName:c.valueHeader,contentClassName:c.centerValue}},headerClick:function(e){console.log("finishingPositionColumnClick"),"function"==typeof(null==o?void 0:o.onHeaderClick)&&o.onHeaderClick(ya({e:e},r,{columnName:"finishingPosition"}))},getValue:function(e){var t;return{children:(null==e||null==(t=e.participantResult)?void 0:t.groupOrder)||"",cellClassName:c.cellContent,contentClassName:c.centerValue}},onClick:function(e,t){if("function"==typeof(null==o?void 0:o.onStatsClick)){var n=t||{},i=n.drawPosition,a=n.participant,s=n.participantResult;o.onStatsClick(ya({e:e,drawPosition:i,participant:a},r,{participantResult:s,columnName:"finishingPosition"}))}}}])}}function ja(e){var t=Na(),n=e.contextData,r=e.dictionary,a=e.rowData,o=_a({rowData:a,dictionary:r,contextData:n,eventHandlers:e.eventHandlers}).columnComponents;return i.createElement("div",{className:t.tableContainer},i.createElement(Da,{columnData:[],rowData:a,columnComponents:o,data:a}))}function Ba(e){var t,n=e.eventData,r=e.dictionary,a=e.eventHandlers,o=n.eventInfo.eventId,s=n.drawsData,c=e.drawId,u=e.structureId,d=null==s?void 0:s.find((function(e){return e.drawId===c})),l=(null==d||null==(t=d.structures)?void 0:t.find((function(e){return e.structureId===u})))||{},p=function(e){var t=e.roundMatchUps,n=e.participantResults,i=Object.values(t).flat().reduce((function(e,t){var n=(t||{}).structureId;return e[n]||(e[n]=[]),e[n].push(t),e}),{}),r=function(e){return e.reduce((function(e,t){return e+t}))},a=function(e,t){return r(e.drawPositions)-r(t.drawPositions)},o=function(e,t){return e-t};return{rows:Object.keys(i).map((function(e){var t,r=i[e],s=r&&(null==(t=r.find((function(e){return e.structureName})))?void 0:t.structureName),c=r.map((function(e){return e.sides})).flat(),u=r.reduce((function(e,t){var n;return null==(n=t.drawPositions)||n.forEach((function(t){e.includes(t)||e.push(t)})),e}),[]).sort(o).map((function(e,t){var i,o=c.find((function(t){return t.drawPosition===e}))||{},s=o.participant,u=o.bye,d=o.qualifier,l=null==(i=n.find((function(t){return t.drawPosition===e})))?void 0:i.participantResult,p=r.filter((function(t){return t.drawPositions.includes(e)})).sort(a);return p.splice(t,0,{reflexive:!0}),{drawPosition:e,matchUps:p,participant:s,participantResult:l,qualifier:d,bye:u,rowIndex:t}}));return[{groupStructureId:e,structureName:s,positionColumns:u.map((function(e,t){var n=e.drawPosition,i=e.participant,r=e.bye;return{drawPosition:n,participant:i,qualifier:e.qualifier,bye:r,rowIndex:t}}))}].concat(u)}))}}({roundMatchUps:l.roundMatchUps,participantResults:l.participantResults}).rows,f={drawId:c,eventId:o,structureId:u};return i.createElement(i.Fragment,null,p.map((function(e,t){return i.createElement(ja,{rowData:e,key:"CHRRG-"+t,dictionary:r,contextData:f,eventHandlers:a})})))}function Va(e){var t,n,r=e.dictionary,a=e.eventData,o=e.eventHandlers,s=e.nameFilter,c=null==a?void 0:a.drawsData,u=e.drawId,d=e.structureId;u||(u=(null==c?void 0:c.length)&&c[0].drawId);var l=null==c?void 0:c.find((function(e){return(null==e?void 0:e.drawId)===u}));d||(d=(null==l||null==(t=l.structures)?void 0:t.length)&&l.structures[0].structureId);var p=null==l||null==(n=l.structures)?void 0:n.find((function(e){return e.structureId===d})),f="CONTAINER"===(null==p?void 0:p.structureType),m={drawId:u,eventData:a,structureId:d,dictionary:r,eventHandlers:o,nameFilter:s};return i.createElement(i.Fragment,null,f?i.createElement(Ba,m):i.createElement(wa,m))}},6749:function(e,t,n){"use strict";e.exports=n(412)},412:function(e,t){"use strict";const n={S:"normal",F:"final"};t.matchUpFormatCode=function(){const e={};function t(e){return"T"+e.minutes}function i(e){if(e&&"object"==typeof e){if(e.timed)return t(e);if(e.tiebreakSet)return r(e.tiebreakSet);const n=u(e.setTo);if(n){const t=e.NoAD?"NOAD":"",i=r(e.tiebreakFormat),a=i&&!i.invalid&&"/"+i||"",o=u(e.tiebreakAt),s=o&&o!==n&&"@"+o||"";return i&&i.invalid?{invalid:!0}:`${n}${t}${a}${s}`}return{invalid:!0}}}function r(e){if(e)return"object"!=typeof e||e.tiebreakTo?"object"==typeof e&&u(e.tiebreakTo)?`TB${e.tiebreakTo}${e.NoAD?"NOAD":""}`:{invalid:!0}:""}function a(e){if(e&&":"===e[1]){const t=e.split(":"),i=t[1];if(n[t[0]]&&i){if(0===i.indexOf("TB"))return{tiebreakSet:o(i)};if(0===i.indexOf("T"))return s(i);const t=e.match(/^[FS]{1}:(\d+)([A-Za-z]*)/),n=t&&c(t[2])||!1,r=!t||!t[2]||n,a=t&&u(t[1]),d=function(e){const t=e&&e.indexOf("@")>0&&e.split("@");if(t)return u(t[1])||{invalid:!0}}(i),l=!d||d&&!d.invalid,p=l&&d||a,f=o(i.split("/")[1]),m=!f||!f.invalid,h={setTo:a};return n&&(h.NoAD=!0),f?(h.tiebreakFormat=f,h.tiebreakAt=p):h.noTiebreak=!0,a&&r&&m&&l&&h||{invalid:!0}}}}function o(e){if(e){if(0===e.indexOf("TB")){const t=e.match(/^TB(\d+)([A-Za-z]*)/),n=t&&t[1],i=t&&c(t[2]),r=!t||!t[2]||i,a=u(n);if(a&&r){const e={tiebreakTo:a};return i&&(e.NoAD=!0),e}return{invalid:!0}}return{invalid:!0}}}function s(e){const t=u(e.slice(1));if(t)return{timed:!0,minutes:t}}function c(e){return e&&e.indexOf("NOAD")>=0}function u(e){return!isNaN(Number(e))&&Number(e)}return e.stringify=e=>{if(e&&"object"==typeof e){if(e.timed&&!isNaN(e.minutes))return t(e);if(e.bestOf&&e.setFormat)return function(e){const t=u(e.bestOf),n=t&&"SET"+t||"",r=i(e.setFormat),a=r&&"S:"+r||"",o=i(e.finalSetFormat);if(n&&r&&!r.invalid&&(!o||!o.invalid))return[n,a,t>1&&o&&!o.invalid&&"F:"+o||""].filter((e=>e)).join("-")}(e)}},e.parse=e=>{if(e&&"string"==typeof e){const t=0===e.indexOf("T")?"timed":0===e.indexOf("SET")?"SET":"";if("timed"===t){const t={bestOf:1,setFormat:s(e)};if(t.setFormat)return t}if("SET"===t)return function(e){const t=e.split("-"),n=u(t[0].slice(3)),i=t&&a(t[1]),r=t&&a(t[2]),o=n&&n<6,s=!t[2]||r&&!r.invalid,c=i&&!i.invalid,d={bestOf:n,setFormat:i};if(r&&(d.finalSetFormat=r),o&&c&&s)return d}(e)}},e.isValidMatchUpFormat=t=>e.stringify(e.parse(t))===t,e}()}}]);